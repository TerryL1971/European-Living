import{j as e}from"./vendor-query-pEaCC0W1.js";import{r as u,h as E,u as P}from"./vendor-react-DsIc-_p2.js";import{T as $,b as A}from"./TableOfContents-Bjvfi-45.js";import{M as N,a as y,b as k,r as C}from"./vendor-markdown-CZdI6Vjl.js";import{s as L,N as M,u as D,o as R}from"./vendor-ui-CujC0nkv.js";import"./index-DdjCtJff.js";function B({content:x}){const[h,r]=u.useState(new Set),f=(()=>{const t=[],a=x.split(`
`);let s=null,n=[];const o=new Set,i=()=>{s&&(s.content=n.join(`
`).trim(),t.push(s),n=[])},m=l=>{const d=l.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");let c=d,g=1;for(;o.has(c);)c=`${d}-${g}`,g++;return o.add(c),c};return a.forEach(l=>{const d=l.match(/^##\s+(.+)$/),c=l.match(/^###\s+(.+)$/);if(d||c){i();const g=d?d[1]:c[1],S=d?2:3;s={id:m(g),title:g,content:"",level:S}}else s&&n.push(l)}),i(),t})(),b=t=>{r(a=>{const s=new Set(a);return s.has(t)?s.delete(t):s.add(t),s})},v=(t,a=200)=>t.length<=a?t:t.substring(0,a).trim()+"...",p=()=>{r(new Set(f.map(t=>t.id)))},j=()=>{r(new Set)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:p,className:"text-sm px-3 py-1 bg-[var(--brand-primary)] text-white rounded hover:bg-[var(--brand-dark)] transition",children:"Expand All"}),e.jsx("button",{onClick:j,className:"text-sm px-3 py-1 bg-gray-200 text-[var(--brand-dark)] rounded hover:bg-gray-300 transition",children:"Collapse All"})]}),f.map(t=>{const a=h.has(t.id),s=v(t.content),n=t.content.length>200;return e.jsxs("div",{className:`border border-gray-200 rounded-lg overflow-hidden ${t.level===3?"ml-4":""}`,children:[e.jsxs("button",{onClick:()=>b(t.id),className:"w-full text-left p-4 bg-white hover:bg-gray-50 transition flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold text-[var(--brand-dark)] ${t.level===2?"text-lg":"text-base"}`,children:t.title}),e.jsx("svg",{className:`w-5 h-5 text-[var(--brand-primary)] transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:"px-4 pb-4 bg-white",children:a?e.jsx("div",{className:"prose prose-sm max-w-none text-[var(--brand-dark)]",children:e.jsx(N,{remarkPlugins:[C],rehypePlugins:[y,k],children:t.content})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-[var(--brand-dark)] opacity-70 text-sm mb-2",children:s}),n&&e.jsx("button",{onClick:()=>b(t.id),className:"text-[var(--brand-primary)] hover:underline text-sm font-medium",children:"Read more →"})]})})]},t.id)})]})}function q(){const{id:x}=E(),h=P(),[r,w]=u.useState(null),[f,b]=u.useState(!0),[v,p]=u.useState(null);if(u.useEffect(()=>{(async()=>{if(x){b(!0),p(null);try{const m=(await A({published:!0})).find(l=>l.slug===x);m?w(m):p("Destination not found.")}catch(i){console.error("Error loading content:",i),p("Failed to load destination content.")}finally{b(!1)}}})()},[x]),f)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-[var(--brand-dark)]",children:"Loading destination..."})]})});if(v||!r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-[var(--brand-dark)] mb-4",children:v||"Destination not found"}),e.jsx("button",{onClick:()=>h("/"),className:"bg-[var(--brand-primary)] text-white px-5 py-2 rounded-lg shadow hover:bg-[var(--brand-dark)] transition",children:"Back Home"})]})});const j=r.tags&&r.tags[1]?r.tags[1]:"",t=r.destination_name||r.title,a=`https://www.google.com/maps/search/${encodeURIComponent(t)}`,s=`https://www.booking.com/searchresults.html?ss=${encodeURIComponent(t)}`,n=r.content||"";return e.jsx("div",{className:"min-h-screen bg-[var(--brand-bg)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 pt-16",children:[e.jsxs("button",{type:"button",onClick:()=>h("/",{state:{scrollTo:"destinations"}}),className:"text-[var(--brand-primary)] hover:text-[var(--brand-dark)] hover:underline py-3 block font-medium",children:[e.jsx(L,{className:"w-4 h-4"}),"← Back to Destinations"]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("img",{src:r.featured_image_url||"/placeholder-city.jpg",alt:t,className:"w-full h-64 object-cover",onError:o=>{o.target.src="/placeholder-city.jpg"}}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[var(--brand-dark)] mb-2",children:t}),j&&e.jsx("p",{className:"text-[var(--brand-dark)] opacity-70",children:j})]}),e.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-amber-50 border border-sky-200 rounded-lg p-4 mb-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-[var(--brand-dark)] mb-3",children:"Plan Your Visit"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[var(--brand-primary)] text-white px-4 py-3 rounded-lg hover:bg-[var(--brand-primary-dark)] transition font-semibold text-center flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(M,{className:"w-5 h-5"}),"Get Directions"]}),e.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[var(--brand-gold)] text-white px-4 py-3 rounded-lg hover:bg-[var(--brand-amber)] transition font-semibold text-center flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(D,{className:"w-5 h-5"}),"Find Hotels"]}),e.jsxs("a",{href:"mailto:info@european-living.live.com?subject=Help with Trip Planning",className:"flex-1 bg-white border-2 border-[var(--brand-primary)] text-[var(--brand-primary)] px-4 py-3 rounded-lg hover:bg-[var(--brand-primary)] hover:text-white transition font-semibold text-center flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(R,{className:"w-5 h-5"}),"Contact for Questions"]})]})]}),n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden mb-6",children:e.jsx(B,{content:n})}),e.jsx("div",{className:"hidden lg:block prose prose-lg max-w-none text-[var(--brand-dark)] mb-6",children:e.jsx(N,{remarkPlugins:[C],rehypePlugins:[y,k],components:{h2:({children:o,...i})=>{const l=String(o).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");return e.jsx("h2",{id:l,className:"text-2xl font-bold text-[var(--brand-dark)] mt-8 mb-4",...i,children:o})},h3:({children:o,...i})=>{const l=String(o).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");return e.jsx("h3",{id:l,className:"text-xl font-semibold text-[var(--brand-dark)] mt-6 mb-3",...i,children:o})}},children:n})})]}):e.jsx("p",{className:"text-[var(--brand-dark)] opacity-80 mb-6",children:r.excerpt||r.subtitle||"Discover everything this wonderful destination has to offer."}),e.jsx("div",{className:"flex gap-4",children:e.jsx("button",{onClick:()=>h("/"),className:"bg-[var(--brand-primary)] text-white px-5 py-2 rounded-lg shadow hover:bg-[var(--brand-dark)] transition",children:"Back Home"})})]})]}),n&&e.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:e.jsx($,{content:n})})]})]})})}export{q as default};
