const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ArticlePage-BQRDBXT1.js","assets/vendor-markdown-BC8sZGMk.js","assets/vendor-react-BDu5rya1.js","assets/TableOfContents-Bfoal8iW.js","assets/vendor-ui-Vsc3AOGk.js","assets/vendor-query-DenH8THg.js","assets/DestinationPage-DpRUtVEj.js","assets/BusinessDetailPage-B89ohNCn.js","assets/MapView-C7LNufRJ.js","assets/vendor-maps-Bnz1BGCy.js","assets/MapView-CIGW-MKW.css","assets/ServiceCategoryPage-CcOXB8T8.js","assets/ErrorMessage-D4guxji0.js","assets/ServicesDirectory-DrC0-ZyJ.js","assets/BusinessSubmissionForm-BSBOBY1f.js","assets/BusinessDataEntry-BrOB1yFt.js","assets/PrivacyPolicy-Bpx0blaS.js","assets/DayTripsPage-C_7MyUSE.js","assets/SEO-C0mUeiKB.js","assets/AboutPage-CD0ET3yU.js","assets/FeaturedContentAdmin-C7Aflwyl.js"])))=>i.map(i=>d[i]);
import{j as b}from"./vendor-markdown-BC8sZGMk.js";import{b as Gk,c as Vk,r as ie,u as NS,d as jS,e as MS,g as Yk,L as $n,f as Kk,h as fn,B as Wk}from"./vendor-react-BDu5rya1.js";import{u as Xk,Q as Jk,a as Qk}from"./vendor-query-DenH8THg.js";import{X as Jp,M as Zk,E as i_,C as eA,a as a_,b as IS,c as tA,B as nA,H as rA,d as sA,L as iA,P as aA,e as oA,m as Er,f as lA,S as cA,U as uA,g as dA,W as fA,h as hA,i as pA,G as mA,j as gA,k as yA,l as bA,A as mu,n as vA,o as DS,p as _A,q as SA,r as wA,T as EA}from"./vendor-ui-Vsc3AOGk.js";function xA(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var yh={exports:{}},jo={},bh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function TA(){return o_||(o_=1,(function(t){function e(M,$){var C=M.length;M.push($);e:for(;0<C;){var re=C-1>>>1,V=M[re];if(0<o(V,$))M[re]=$,M[C]=V,C=re;else break e}}function r(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var $=M[0],C=M.pop();if(C!==$){M[0]=C;e:for(var re=0,V=M.length,ve=V>>>1;re<ve;){var ue=2*(re+1)-1,X=M[ue],ge=ue+1,$e=M[ge];if(0>o(X,C))ge<V&&0>o($e,X)?(M[re]=$e,M[ge]=C,re=ge):(M[re]=X,M[ue]=C,re=ue);else if(ge<V&&0>o($e,C))M[re]=$e,M[ge]=C,re=ge;else break e}}return $}function o(M,$){var C=M.sortIndex-$.sortIndex;return C!==0?C:M.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],y=1,v=null,_=3,S=!1,E=!1,T=!1,A=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function F(M){for(var $=r(m);$!==null;){if($.callback===null)i(m);else if($.startTime<=M)i(m),$.sortIndex=$.expirationTime,e(h,$);else break;$=r(m)}}function K(M){if(T=!1,F(M),!E)if(r(h)!==null)E=!0,G||(G=!0,le());else{var $=r(m);$!==null&&ke(K,$.startTime-M)}}var G=!1,L=-1,P=5,ce=-1;function W(){return A?!0:!(t.unstable_now()-ce<P)}function ee(){if(A=!1,G){var M=t.unstable_now();ce=M;var $=!0;try{e:{E=!1,T&&(T=!1,B(L),L=-1),S=!0;var C=_;try{t:{for(F(M),v=r(h);v!==null&&!(v.expirationTime>M&&W());){var re=v.callback;if(typeof re=="function"){v.callback=null,_=v.priorityLevel;var V=re(v.expirationTime<=M);if(M=t.unstable_now(),typeof V=="function"){v.callback=V,F(M),$=!0;break t}v===r(h)&&i(h),F(M)}else i(h);v=r(h)}if(v!==null)$=!0;else{var ve=r(m);ve!==null&&ke(K,ve.startTime-M),$=!1}}break e}finally{v=null,_=C,S=!1}$=void 0}}finally{$?le():G=!1}}}var le;if(typeof R=="function")le=function(){R(ee)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Te=he.port2;he.port1.onmessage=ee,le=function(){Te.postMessage(null)}}else le=function(){U(ee,0)};function ke(M,$){L=U(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(M){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var C=_;_=$;try{return M()}finally{_=C}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var C=_;_=M;try{return $()}finally{_=C}},t.unstable_scheduleCallback=function(M,$,C){var re=t.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?re+C:re):C=re,M){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=C+V,M={id:y++,callback:$,priorityLevel:M,startTime:C,expirationTime:V,sortIndex:-1},C>re?(M.sortIndex=C,e(m,M),r(h)===null&&M===r(m)&&(T?(B(L),L=-1):T=!0,ke(K,C-re))):(M.sortIndex=V,e(h,M),E||S||(E=!0,G||(G=!0,le()))),M},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(M){var $=_;return function(){var C=_;_=$;try{return M.apply(this,arguments)}finally{_=C}}}})(vh)),vh}var l_;function kA(){return l_||(l_=1,bh.exports=TA()),bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function AA(){if(c_)return jo;c_=1;var t=kA(),e=Gk(),r=Vk();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(i(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return h(d),n;if(p===c)return h(d),s;p=p.sibling}throw Error(i(188))}if(a.return!==c.return)a=d,c=p;else{for(var g=!1,w=d.child;w;){if(w===a){g=!0,a=d,c=p;break}if(w===c){g=!0,c=d,a=p;break}w=w.sibling}if(!g){for(w=p.child;w;){if(w===a){g=!0,a=p,c=d;break}if(w===c){g=!0,c=p,a=d;break}w=w.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var he=Symbol.for("react.client.reference");function Te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===he?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case U:return"Profiler";case A:return"StrictMode";case K:return"Suspense";case G:return"SuspenseList";case ce:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case R:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case L:return s=n.displayName||null,s!==null?s:Te(n.type)||"Memo";case P:s=n._payload,n=n._init;try{return Te(n(s))}catch{}}return null}var ke=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C={pending:!1,data:null,method:null,action:null},re=[],V=-1;function ve(n){return{current:n}}function ue(n){0>V||(n.current=re[V],re[V]=null,V--)}function X(n,s){V++,re[V]=n.current,n.current=s}var ge=ve(null),$e=ve(null),xt=ve(null),Ue=ve(null);function $t(n,s){switch(X(xt,s),X($e,n),X(ge,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Ov(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Ov(s),n=Cv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ge),X(ge,n)}function Mt(){ue(ge),ue($e),ue(xt)}function Ft(n){n.memoizedState!==null&&X(Ue,n);var s=ge.current,a=Cv(s,n.type);s!==a&&(X($e,n),X(ge,a))}function Nn(n){$e.current===n&&(ue(ge),ue($e)),Ue.current===n&&(ue(Ue),Oo._currentValue=C)}var Vn,bl;function Lt(n){if(Vn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Vn=s&&s[1]||"",bl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+n+bl}var jn=!1;function vs(n,s){if(!n||jn)return"";jn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(D){var I=D}Reflect.construct(n,[],q)}else{try{q.call()}catch(D){I=D}n.call(q.prototype)}}else{try{throw Error()}catch(D){I=D}(q=n())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(D){if(D&&I&&typeof D.stack=="string")return[D.stack,I.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),g=p[0],w=p[1];if(g&&w){var x=g.split(`
`),j=w.split(`
`);for(d=c=0;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(c===x.length||d===j.length)for(c=x.length-1,d=j.length-1;1<=c&&0<=d&&x[c]!==j[d];)d--;for(;1<=c&&0<=d;c--,d--)if(x[c]!==j[d]){if(c!==1||d!==1)do if(c--,d--,0>d||x[c]!==j[d]){var z=`
`+x[c].replace(" at new "," at ");return n.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",n.displayName)),z}while(1<=c&&0<=d);break}}}finally{jn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Lt(a):""}function za(n,s){switch(n.tag){case 26:case 27:case 5:return Lt(n.type);case 16:return Lt("Lazy");case 13:return n.child!==s&&s!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return vs(n.type,!1);case 11:return vs(n.type.render,!1);case 1:return vs(n.type,!0);case 31:return Lt("Activity");default:return""}}function _s(n){try{var s="",a=null;do s+=za(n,a),a=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ss=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Ut=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,yt=t.unstable_requestPaint,ye=t.unstable_now,ws=t.unstable_getCurrentPriorityLevel,ag=t.unstable_ImmediatePriority,og=t.unstable_UserBlockingPriority,vl=t.unstable_NormalPriority,kT=t.unstable_LowPriority,lg=t.unstable_IdlePriority,AT=t.log,OT=t.unstable_setDisableYieldValue,Ba=null,nn=null;function Mr(n){if(typeof AT=="function"&&OT(n),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Ba,n)}catch{}}var rn=Math.clz32?Math.clz32:NT,CT=Math.log,RT=Math.LN2;function NT(n){return n>>>=0,n===0?32:31-(CT(n)/RT|0)|0}var _l=256,Sl=262144,wl=4194304;function Es(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function El(n,s,a){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,g=n.pingedLanes;n=n.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?d=Es(c):(g&=w,g!==0?d=Es(g):a||(a=w&~n,a!==0&&(d=Es(a))))):(w=c&~p,w!==0?d=Es(w):g!==0?d=Es(g):a||(a=c&~n,a!==0&&(d=Es(a)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:d}function Ha(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function jT(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cg(){var n=wl;return wl<<=1,(wl&62914560)===0&&(wl=4194304),n}function sd(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Pa(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function MT(n,s,a,c,d,p){var g=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,x=n.expirationTimes,j=n.hiddenUpdates;for(a=g&~a;0<a;){var z=31-rn(a),q=1<<z;w[z]=0,x[z]=-1;var I=j[z];if(I!==null)for(j[z]=null,z=0;z<I.length;z++){var D=I[z];D!==null&&(D.lane&=-536870913)}a&=~q}c!==0&&ug(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(g&~s))}function ug(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-rn(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function dg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-rn(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}function fg(n,s){var a=s&-s;return a=(a&42)!==0?1:id(a),(a&(n.suspendedLanes|s))!==0?0:a}function id(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ad(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hg(){var n=$.p;return n!==0?n:(n=window.event,n===void 0?32:Qv(n.type))}function pg(n,s){var a=$.p;try{return $.p=n,s()}finally{$.p=a}}var Ir=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Ir,Gt="__reactProps$"+Ir,ui="__reactContainer$"+Ir,od="__reactEvents$"+Ir,IT="__reactListeners$"+Ir,DT="__reactHandles$"+Ir,mg="__reactResources$"+Ir,qa="__reactMarker$"+Ir;function ld(n){delete n[Ot],delete n[Gt],delete n[od],delete n[IT],delete n[DT]}function di(n){var s=n[Ot];if(s)return s;for(var a=n.parentNode;a;){if(s=a[ui]||a[Ot]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Lv(n);n!==null;){if(a=n[Ot])return a;n=Lv(n)}return s}n=a,a=n.parentNode}return null}function fi(n){if(n=n[Ot]||n[ui]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function $a(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function hi(n){var s=n[mg];return s||(s=n[mg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(n){n[qa]=!0}var gg=new Set,yg={};function xs(n,s){pi(n,s),pi(n+"Capture",s)}function pi(n,s){for(yg[n]=s,n=0;n<s.length;n++)gg.add(s[n])}var LT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bg={},vg={};function UT(n){return Ss.call(vg,n)?!0:Ss.call(bg,n)?!1:LT.test(n)?vg[n]=!0:(bg[n]=!0,!1)}function xl(n,s,a){if(UT(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Tl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function nr(n,s,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+c)}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _g(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zT(n,s,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,p.call(this,g)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function cd(n){if(!n._valueTracker){var s=_g(n)?"checked":"value";n._valueTracker=zT(n,s,""+n[s])}}function Sg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=_g(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function kl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var BT=/[\n"\\]/g;function vn(n){return n.replace(BT,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ud(n,s,a,c,d,p,g,w){n.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?n.type=g:n.removeAttribute("type"),s!=null?g==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+bn(s)):n.value!==""+bn(s)&&(n.value=""+bn(s)):g!=="submit"&&g!=="reset"||n.removeAttribute("value"),s!=null?dd(n,g,bn(s)):a!=null?dd(n,g,bn(a)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+bn(w):n.removeAttribute("name")}function wg(n,s,a,c,d,p,g,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){cd(n);return}a=a!=null?""+bn(a):"",s=s!=null?""+bn(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=w?n.checked:!!c,n.defaultChecked=!!c,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.name=g),cd(n)}function dd(n,s,a){s==="number"&&kl(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function mi(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+bn(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Eg(n,s,a){if(s!=null&&(s=""+bn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+bn(a):""}function xg(n,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(ke(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=bn(s),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),cd(n)}function gi(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var HT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tg(n,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,a):typeof a!="number"||a===0||HT.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function kg(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&a[d]!==c&&Tg(n,d,c)}else for(var p in s)s.hasOwnProperty(p)&&Tg(n,p,s[p])}function fd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(n){return qT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function rr(){}var hd=null;function pd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yi=null,bi=null;function Ag(n){var s=fi(n);if(s&&(n=s.stateNode)){var a=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(ud(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=c[Gt]||null;if(!d)throw Error(i(90));ud(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===n.form&&Sg(c)}break e;case"textarea":Eg(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&mi(n,!!a.multiple,s,!1)}}}var md=!1;function Og(n,s,a){if(md)return n(s,a);md=!0;try{var c=n(s);return c}finally{if(md=!1,(yi!==null||bi!==null)&&(pc(),yi&&(s=yi,n=bi,bi=yi=null,Ag(s),n)))for(s=0;s<n.length;s++)Ag(n[s])}}function Fa(n,s){var a=n.stateNode;if(a===null)return null;var c=a[Gt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=!1;if(sr)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){gd=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{gd=!1}var Dr=null,yd=null,Ol=null;function Cg(){if(Ol)return Ol;var n,s=yd,a=s.length,c,d="value"in Dr?Dr.value:Dr.textContent,p=d.length;for(n=0;n<a&&s[n]===d[n];n++);var g=a-n;for(c=1;c<=g&&s[a-c]===d[p-c];c++);return Ol=d.slice(n,1<c?1-c:void 0)}function Cl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Rl(){return!0}function Rg(){return!1}function Vt(n){function s(a,c,d,p,g){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=g,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Rl:Rg,this.isPropagationStopped=Rg,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),s}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Vt(Ts),Va=v({},Ts,{view:0,detail:0}),$T=Vt(Va),bd,vd,Ya,jl=v({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ya&&(Ya&&n.type==="mousemove"?(bd=n.screenX-Ya.screenX,vd=n.screenY-Ya.screenY):vd=bd=0,Ya=n),bd)},movementY:function(n){return"movementY"in n?n.movementY:vd}}),Ng=Vt(jl),FT=v({},jl,{dataTransfer:0}),GT=Vt(FT),VT=v({},Va,{relatedTarget:0}),_d=Vt(VT),YT=v({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),KT=Vt(YT),WT=v({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),XT=Vt(WT),JT=v({},Ts,{data:0}),jg=Vt(JT),QT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t1(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=e1[n])?!!s[n]:!1}function Sd(){return t1}var n1=v({},Va,{key:function(n){if(n.key){var s=QT[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Cl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ZT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sd,charCode:function(n){return n.type==="keypress"?Cl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),r1=Vt(n1),s1=v({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mg=Vt(s1),i1=v({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sd}),a1=Vt(i1),o1=v({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=Vt(o1),c1=v({},jl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=Vt(c1),d1=v({},Ts,{newState:0,oldState:0}),f1=Vt(d1),h1=[9,13,27,32],wd=sr&&"CompositionEvent"in window,Ka=null;sr&&"documentMode"in document&&(Ka=document.documentMode);var p1=sr&&"TextEvent"in window&&!Ka,Ig=sr&&(!wd||Ka&&8<Ka&&11>=Ka),Dg=" ",Lg=!1;function Ug(n,s){switch(n){case"keyup":return h1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vi=!1;function m1(n,s){switch(n){case"compositionend":return zg(s);case"keypress":return s.which!==32?null:(Lg=!0,Dg);case"textInput":return n=s.data,n===Dg&&Lg?null:n;default:return null}}function g1(n,s){if(vi)return n==="compositionend"||!wd&&Ug(n,s)?(n=Cg(),Ol=yd=Dr=null,vi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ig&&s.locale!=="ko"?null:s.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!y1[n.type]:s==="textarea"}function Hg(n,s,a,c){yi?bi?bi.push(c):bi=[c]:yi=c,s=Sc(s,"onChange"),0<s.length&&(a=new Nl("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Wa=null,Xa=null;function b1(n){wv(n,0)}function Ml(n){var s=$a(n);if(Sg(s))return n}function Pg(n,s){if(n==="change")return s}var qg=!1;if(sr){var Ed;if(sr){var xd="oninput"in document;if(!xd){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),xd=typeof $g.oninput=="function"}Ed=xd}else Ed=!1;qg=Ed&&(!document.documentMode||9<document.documentMode)}function Fg(){Wa&&(Wa.detachEvent("onpropertychange",Gg),Xa=Wa=null)}function Gg(n){if(n.propertyName==="value"&&Ml(Xa)){var s=[];Hg(s,Xa,n,pd(n)),Og(b1,s)}}function v1(n,s,a){n==="focusin"?(Fg(),Wa=s,Xa=a,Wa.attachEvent("onpropertychange",Gg)):n==="focusout"&&Fg()}function _1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ml(Xa)}function S1(n,s){if(n==="click")return Ml(s)}function w1(n,s){if(n==="input"||n==="change")return Ml(s)}function E1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var sn=typeof Object.is=="function"?Object.is:E1;function Ja(n,s){if(sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!Ss.call(s,d)||!sn(n[d],s[d]))return!1}return!0}function Vg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yg(n,s){var a=Vg(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vg(a)}}function Kg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Kg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Wg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=kl(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=kl(n.document)}return s}function Td(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var x1=sr&&"documentMode"in document&&11>=document.documentMode,_i=null,kd=null,Qa=null,Ad=!1;function Xg(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ad||_i==null||_i!==kl(c)||(c=_i,"selectionStart"in c&&Td(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qa&&Ja(Qa,c)||(Qa=c,c=Sc(kd,"onSelect"),0<c.length&&(s=new Nl("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=_i)))}function ks(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Si={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Od={},Jg={};sr&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function As(n){if(Od[n])return Od[n];if(!Si[n])return n;var s=Si[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jg)return Od[n]=s[a];return n}var Qg=As("animationend"),Zg=As("animationiteration"),ey=As("animationstart"),T1=As("transitionrun"),k1=As("transitionstart"),A1=As("transitioncancel"),ty=As("transitionend"),ny=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function Mn(n,s){ny.set(n,s),xs(s,[n])}var Il=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},_n=[],wi=0,Rd=0;function Dl(){for(var n=wi,s=Rd=wi=0;s<n;){var a=_n[s];_n[s++]=null;var c=_n[s];_n[s++]=null;var d=_n[s];_n[s++]=null;var p=_n[s];if(_n[s++]=null,c!==null&&d!==null){var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}p!==0&&ry(a,d,p)}}function Ll(n,s,a,c){_n[wi++]=n,_n[wi++]=s,_n[wi++]=a,_n[wi++]=c,Rd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Nd(n,s,a,c){return Ll(n,s,a,c),Ul(n)}function Os(n,s){return Ll(n,null,null,s),Ul(n)}function ry(n,s,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var d=!1,p=n.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&s!==null&&(d=31-rn(a),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[s]:c.push(s),s.lane=a|536870912),p):null}function Ul(n){if(50<So)throw So=0,Pf=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ei={};function O1(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(n,s,a,c){return new O1(n,s,a,c)}function jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ir(n,s){var a=n.alternate;return a===null?(a=an(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function sy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function zl(n,s,a,c,d,p){var g=0;if(c=n,typeof n=="function")jd(n)&&(g=1);else if(typeof n=="string")g=Mk(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ce:return n=an(31,a,s,d),n.elementType=ce,n.lanes=p,n;case T:return Cs(a.children,d,p,s);case A:g=8,d|=24;break;case U:return n=an(12,a,s,d|2),n.elementType=U,n.lanes=p,n;case K:return n=an(13,a,s,d),n.elementType=K,n.lanes=p,n;case G:return n=an(19,a,s,d),n.elementType=G,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:g=10;break e;case B:g=9;break e;case F:g=11;break e;case L:g=14;break e;case P:g=16,c=null;break e}g=29,a=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=an(g,a,s,d),s.elementType=n,s.type=c,s.lanes=p,s}function Cs(n,s,a,c){return n=an(7,n,c,s),n.lanes=a,n}function Md(n,s,a){return n=an(6,n,null,s),n.lanes=a,n}function iy(n){var s=an(18,null,null,0);return s.stateNode=n,s}function Id(n,s,a){return s=an(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ay=new WeakMap;function Sn(n,s){if(typeof n=="object"&&n!==null){var a=ay.get(n);return a!==void 0?a:(s={value:n,source:s,stack:_s(s)},ay.set(n,s),s)}return{value:n,source:s,stack:_s(s)}}var xi=[],Ti=0,Bl=null,Za=0,wn=[],En=0,Lr=null,Yn=1,Kn="";function ar(n,s){xi[Ti++]=Za,xi[Ti++]=Bl,Bl=n,Za=s}function oy(n,s,a){wn[En++]=Yn,wn[En++]=Kn,wn[En++]=Lr,Lr=n;var c=Yn;n=Kn;var d=32-rn(c)-1;c&=~(1<<d),a+=1;var p=32-rn(s)+d;if(30<p){var g=d-d%5;p=(c&(1<<g)-1).toString(32),c>>=g,d-=g,Yn=1<<32-rn(s)+d|a<<d|c,Kn=p+n}else Yn=1<<p|a<<d|c,Kn=n}function Dd(n){n.return!==null&&(ar(n,1),oy(n,1,0))}function Ld(n){for(;n===Bl;)Bl=xi[--Ti],xi[Ti]=null,Za=xi[--Ti],xi[Ti]=null;for(;n===Lr;)Lr=wn[--En],wn[En]=null,Kn=wn[--En],wn[En]=null,Yn=wn[--En],wn[En]=null}function ly(n,s){wn[En++]=Yn,wn[En++]=Kn,wn[En++]=Lr,Yn=s.id,Kn=s.overflow,Lr=n}var Ct=null,et=null,Me=!1,Ur=null,xn=!1,Ud=Error(i(519));function zr(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eo(Sn(s,n)),Ud}function cy(n){var s=n.stateNode,a=n.type,c=n.memoizedProps;switch(s[Ot]=n,s[Gt]=c,a){case"dialog":Ce("cancel",s),Ce("close",s);break;case"iframe":case"object":case"embed":Ce("load",s);break;case"video":case"audio":for(a=0;a<Eo.length;a++)Ce(Eo[a],s);break;case"source":Ce("error",s);break;case"img":case"image":case"link":Ce("error",s),Ce("load",s);break;case"details":Ce("toggle",s);break;case"input":Ce("invalid",s),wg(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ce("invalid",s);break;case"textarea":Ce("invalid",s),xg(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||kv(s.textContent,a)?(c.popover!=null&&(Ce("beforetoggle",s),Ce("toggle",s)),c.onScroll!=null&&Ce("scroll",s),c.onScrollEnd!=null&&Ce("scrollend",s),c.onClick!=null&&(s.onclick=rr),s=!0):s=!1,s||zr(n,!0)}function uy(n){for(Ct=n.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Ct=Ct.return}}function ki(n){if(n!==Ct)return!1;if(!Me)return uy(n),Me=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||nh(n.type,n.memoizedProps)),a=!a),a&&et&&zr(n),uy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=Dv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=Dv(n)}else s===27?(s=et,Qr(n.type)?(n=oh,oh=null,et=n):et=s):et=Ct?kn(n.stateNode.nextSibling):null;return!0}function Rs(){et=Ct=null,Me=!1}function zd(){var n=Ur;return n!==null&&(Xt===null?Xt=n:Xt.push.apply(Xt,n),Ur=null),n}function eo(n){Ur===null?Ur=[n]:Ur.push(n)}var Bd=ve(null),Ns=null,or=null;function Br(n,s,a){X(Bd,s._currentValue),s._currentValue=a}function lr(n){n._currentValue=Bd.current,ue(Bd)}function Hd(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Pd(n,s,a,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var g=d.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=d;for(var x=0;x<s.length;x++)if(w.context===s[x]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),Hd(p.return,a,n),c||(g=null);break e}p=w.next}}else if(d.tag===18){if(g=d.return,g===null)throw Error(i(341));g.lanes|=a,p=g.alternate,p!==null&&(p.lanes|=a),Hd(g,a,n),g=null}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===n){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}}function Ai(n,s,a,c){n=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var g=d.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var w=d.type;sn(d.pendingProps.value,g.value)||(n!==null?n.push(w):n=[w])}}else if(d===Ue.current){if(g=d.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Oo):n=[Oo])}d=d.return}n!==null&&Pd(s,n,a,c),s.flags|=262144}function Hl(n){for(n=n.firstContext;n!==null;){if(!sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function js(n){Ns=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Rt(n){return dy(Ns,n)}function Pl(n,s){return Ns===null&&js(n),dy(n,s)}function dy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},or===null){if(n===null)throw Error(i(308));or=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else or=or.next=s;return a}var C1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},R1=t.unstable_scheduleCallback,N1=t.unstable_NormalPriority,dt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new C1,data:new Map,refCount:0}}function to(n){n.refCount--,n.refCount===0&&R1(N1,function(){n.controller.abort()})}var no=null,$d=0,Oi=0,Ci=null;function j1(n,s){if(no===null){var a=no=[];$d=0,Oi=Yf(),Ci={status:"pending",value:void 0,then:function(c){a.push(c)}}}return $d++,s.then(fy,fy),s}function fy(){if(--$d===0&&no!==null){Ci!==null&&(Ci.status="fulfilled");var n=no;no=null,Oi=0,Ci=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function M1(n,s){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var hy=M.S;M.S=function(n,s){Xb=ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&j1(n,s),hy!==null&&hy(n,s)};var Ms=ve(null);function Fd(){var n=Ms.current;return n!==null?n:Xe.pooledCache}function ql(n,s){s===null?X(Ms,Ms.current):X(Ms,s.pool)}function py(){var n=Fd();return n===null?null:{parent:dt._currentValue,pool:n}}var Ri=Error(i(460)),Gd=Error(i(474)),$l=Error(i(542)),Fl={then:function(){}};function my(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(rr,rr),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,by(n),n;default:if(typeof s.status=="string")s.then(rr,rr);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,by(n),n}throw Ds=s,Ri}}function Is(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,Ri):a}}var Ds=null;function yy(){if(Ds===null)throw Error(i(459));var n=Ds;return Ds=null,n}function by(n){if(n===Ri||n===$l)throw Error(i(483))}var Ni=null,ro=0;function Gl(n){var s=ro;return ro+=1,Ni===null&&(Ni=[]),gy(Ni,n,s)}function so(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Vl(n,s){throw s.$$typeof===_?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function vy(n){function s(O,k){if(n){var N=O.deletions;N===null?(O.deletions=[k],O.flags|=16):N.push(k)}}function a(O,k){if(!n)return null;for(;k!==null;)s(O,k),k=k.sibling;return null}function c(O){for(var k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function d(O,k){return O=ir(O,k),O.index=0,O.sibling=null,O}function p(O,k,N){return O.index=N,n?(N=O.alternate,N!==null?(N=N.index,N<k?(O.flags|=67108866,k):N):(O.flags|=67108866,k)):(O.flags|=1048576,k)}function g(O){return n&&O.alternate===null&&(O.flags|=67108866),O}function w(O,k,N,H){return k===null||k.tag!==6?(k=Md(N,O.mode,H),k.return=O,k):(k=d(k,N),k.return=O,k)}function x(O,k,N,H){var oe=N.type;return oe===T?z(O,k,N.props.children,H,N.key):k!==null&&(k.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&Is(oe)===k.type)?(k=d(k,N.props),so(k,N),k.return=O,k):(k=zl(N.type,N.key,N.props,null,O.mode,H),so(k,N),k.return=O,k)}function j(O,k,N,H){return k===null||k.tag!==4||k.stateNode.containerInfo!==N.containerInfo||k.stateNode.implementation!==N.implementation?(k=Id(N,O.mode,H),k.return=O,k):(k=d(k,N.children||[]),k.return=O,k)}function z(O,k,N,H,oe){return k===null||k.tag!==7?(k=Cs(N,O.mode,H,oe),k.return=O,k):(k=d(k,N),k.return=O,k)}function q(O,k,N){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Md(""+k,O.mode,N),k.return=O,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return N=zl(k.type,k.key,k.props,null,O.mode,N),so(N,k),N.return=O,N;case E:return k=Id(k,O.mode,N),k.return=O,k;case P:return k=Is(k),q(O,k,N)}if(ke(k)||le(k))return k=Cs(k,O.mode,N,null),k.return=O,k;if(typeof k.then=="function")return q(O,Gl(k),N);if(k.$$typeof===R)return q(O,Pl(O,k),N);Vl(O,k)}return null}function I(O,k,N,H){var oe=k!==null?k.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return oe!==null?null:w(O,k,""+N,H);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return N.key===oe?x(O,k,N,H):null;case E:return N.key===oe?j(O,k,N,H):null;case P:return N=Is(N),I(O,k,N,H)}if(ke(N)||le(N))return oe!==null?null:z(O,k,N,H,null);if(typeof N.then=="function")return I(O,k,Gl(N),H);if(N.$$typeof===R)return I(O,k,Pl(O,N),H);Vl(O,N)}return null}function D(O,k,N,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return O=O.get(N)||null,w(k,O,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return O=O.get(H.key===null?N:H.key)||null,x(k,O,H,oe);case E:return O=O.get(H.key===null?N:H.key)||null,j(k,O,H,oe);case P:return H=Is(H),D(O,k,N,H,oe)}if(ke(H)||le(H))return O=O.get(N)||null,z(k,O,H,oe,null);if(typeof H.then=="function")return D(O,k,N,Gl(H),oe);if(H.$$typeof===R)return D(O,k,N,Pl(k,H),oe);Vl(k,H)}return null}function J(O,k,N,H){for(var oe=null,He=null,te=k,we=k=0,Ne=null;te!==null&&we<N.length;we++){te.index>we?(Ne=te,te=null):Ne=te.sibling;var Pe=I(O,te,N[we],H);if(Pe===null){te===null&&(te=Ne);break}n&&te&&Pe.alternate===null&&s(O,te),k=p(Pe,k,we),He===null?oe=Pe:He.sibling=Pe,He=Pe,te=Ne}if(we===N.length)return a(O,te),Me&&ar(O,we),oe;if(te===null){for(;we<N.length;we++)te=q(O,N[we],H),te!==null&&(k=p(te,k,we),He===null?oe=te:He.sibling=te,He=te);return Me&&ar(O,we),oe}for(te=c(te);we<N.length;we++)Ne=D(te,O,we,N[we],H),Ne!==null&&(n&&Ne.alternate!==null&&te.delete(Ne.key===null?we:Ne.key),k=p(Ne,k,we),He===null?oe=Ne:He.sibling=Ne,He=Ne);return n&&te.forEach(function(rs){return s(O,rs)}),Me&&ar(O,we),oe}function de(O,k,N,H){if(N==null)throw Error(i(151));for(var oe=null,He=null,te=k,we=k=0,Ne=null,Pe=N.next();te!==null&&!Pe.done;we++,Pe=N.next()){te.index>we?(Ne=te,te=null):Ne=te.sibling;var rs=I(O,te,Pe.value,H);if(rs===null){te===null&&(te=Ne);break}n&&te&&rs.alternate===null&&s(O,te),k=p(rs,k,we),He===null?oe=rs:He.sibling=rs,He=rs,te=Ne}if(Pe.done)return a(O,te),Me&&ar(O,we),oe;if(te===null){for(;!Pe.done;we++,Pe=N.next())Pe=q(O,Pe.value,H),Pe!==null&&(k=p(Pe,k,we),He===null?oe=Pe:He.sibling=Pe,He=Pe);return Me&&ar(O,we),oe}for(te=c(te);!Pe.done;we++,Pe=N.next())Pe=D(te,O,we,Pe.value,H),Pe!==null&&(n&&Pe.alternate!==null&&te.delete(Pe.key===null?we:Pe.key),k=p(Pe,k,we),He===null?oe=Pe:He.sibling=Pe,He=Pe);return n&&te.forEach(function(Fk){return s(O,Fk)}),Me&&ar(O,we),oe}function We(O,k,N,H){if(typeof N=="object"&&N!==null&&N.type===T&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case S:e:{for(var oe=N.key;k!==null;){if(k.key===oe){if(oe=N.type,oe===T){if(k.tag===7){a(O,k.sibling),H=d(k,N.props.children),H.return=O,O=H;break e}}else if(k.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&Is(oe)===k.type){a(O,k.sibling),H=d(k,N.props),so(H,N),H.return=O,O=H;break e}a(O,k);break}else s(O,k);k=k.sibling}N.type===T?(H=Cs(N.props.children,O.mode,H,N.key),H.return=O,O=H):(H=zl(N.type,N.key,N.props,null,O.mode,H),so(H,N),H.return=O,O=H)}return g(O);case E:e:{for(oe=N.key;k!==null;){if(k.key===oe)if(k.tag===4&&k.stateNode.containerInfo===N.containerInfo&&k.stateNode.implementation===N.implementation){a(O,k.sibling),H=d(k,N.children||[]),H.return=O,O=H;break e}else{a(O,k);break}else s(O,k);k=k.sibling}H=Id(N,O.mode,H),H.return=O,O=H}return g(O);case P:return N=Is(N),We(O,k,N,H)}if(ke(N))return J(O,k,N,H);if(le(N)){if(oe=le(N),typeof oe!="function")throw Error(i(150));return N=oe.call(N),de(O,k,N,H)}if(typeof N.then=="function")return We(O,k,Gl(N),H);if(N.$$typeof===R)return We(O,k,Pl(O,N),H);Vl(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,k!==null&&k.tag===6?(a(O,k.sibling),H=d(k,N),H.return=O,O=H):(a(O,k),H=Md(N,O.mode,H),H.return=O,O=H),g(O)):a(O,k)}return function(O,k,N,H){try{ro=0;var oe=We(O,k,N,H);return Ni=null,oe}catch(te){if(te===Ri||te===$l)throw te;var He=an(29,te,null,O.mode);return He.lanes=H,He.return=O,He}finally{}}}var Ls=vy(!0),_y=vy(!1),Hr=!1;function Vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qr(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(qe&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Ul(n),ry(n,null,a),s}return Ll(n,c,s,a),Ul(n)}function io(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,dg(n,a)}}function Kd(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=g:p=p.next=g,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Wd=!1;function ao(){if(Wd){var n=Ci;if(n!==null)throw n}}function oo(n,s,a,c){Wd=!1;var d=n.updateQueue;Hr=!1;var p=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var x=w,j=x.next;x.next=null,g===null?p=j:g.next=j,g=x;var z=n.alternate;z!==null&&(z=z.updateQueue,w=z.lastBaseUpdate,w!==g&&(w===null?z.firstBaseUpdate=j:w.next=j,z.lastBaseUpdate=x))}if(p!==null){var q=d.baseState;g=0,z=j=x=null,w=p;do{var I=w.lane&-536870913,D=I!==w.lane;if(D?(Re&I)===I:(c&I)===I){I!==0&&I===Oi&&(Wd=!0),z!==null&&(z=z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var J=n,de=w;I=s;var We=a;switch(de.tag){case 1:if(J=de.payload,typeof J=="function"){q=J.call(We,q,I);break e}q=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=de.payload,I=typeof J=="function"?J.call(We,q,I):J,I==null)break e;q=v({},q,I);break e;case 2:Hr=!0}}I=w.callback,I!==null&&(n.flags|=64,D&&(n.flags|=8192),D=d.callbacks,D===null?d.callbacks=[I]:D.push(I))}else D={lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},z===null?(j=z=D,x=q):z=z.next=D,g|=I;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;D=w,w=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);z===null&&(x=q),d.baseState=x,d.firstBaseUpdate=j,d.lastBaseUpdate=z,p===null&&(d.shared.lanes=0),Yr|=g,n.lanes=g,n.memoizedState=q}}function Sy(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function wy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Sy(a[n],s)}var ji=ve(null),Yl=ve(0);function Ey(n,s){n=yr,X(Yl,n),X(ji,s),yr=n|s.baseLanes}function Xd(){X(Yl,yr),X(ji,ji.current)}function Jd(){yr=Yl.current,ue(ji),ue(Yl)}var on=ve(null),Tn=null;function $r(n){var s=n.alternate;X(ct,ct.current&1),X(on,n),Tn===null&&(s===null||ji.current!==null||s.memoizedState!==null)&&(Tn=n)}function Qd(n){X(ct,ct.current),X(on,n),Tn===null&&(Tn=n)}function xy(n){n.tag===22?(X(ct,ct.current),X(on,n),Tn===null&&(Tn=n)):Fr()}function Fr(){X(ct,ct.current),X(on,on.current)}function ln(n){ue(on),Tn===n&&(Tn=null),ue(ct)}var ct=ve(0);function Kl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ih(a)||ah(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cr=0,Se=null,Ye=null,ft=null,Wl=!1,Mi=!1,Us=!1,Xl=0,lo=0,Ii=null,I1=0;function it(){throw Error(i(321))}function Zd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!sn(n[a],s[a]))return!1;return!0}function ef(n,s,a,c,d,p){return cr=p,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=n===null||n.memoizedState===null?ob:gf,Us=!1,p=a(c,d),Us=!1,Mi&&(p=ky(s,a,c,d)),Ty(n),p}function Ty(n){M.H=fo;var s=Ye!==null&&Ye.next!==null;if(cr=0,ft=Ye=Se=null,Wl=!1,lo=0,Ii=null,s)throw Error(i(300));n===null||ht||(n=n.dependencies,n!==null&&Hl(n)&&(ht=!0))}function ky(n,s,a,c){Se=n;var d=0;do{if(Mi&&(Ii=null),lo=0,Mi=!1,25<=d)throw Error(i(301));if(d+=1,ft=Ye=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}M.H=lb,p=s(a,c)}while(Mi);return p}function D1(){var n=M.H,s=n.useState()[0];return s=typeof s.then=="function"?co(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Se.flags|=1024),s}function tf(){var n=Xl!==0;return Xl=0,n}function nf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function rf(n){if(Wl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wl=!1}cr=0,ft=Ye=Se=null,Mi=!1,lo=Xl=0,Ii=null}function zt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Se.memoizedState=ft=n:ft=ft.next=n,ft}function ut(){if(Ye===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=ft===null?Se.memoizedState:ft.next;if(s!==null)ft=s,Ye=n;else{if(n===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ft===null?Se.memoizedState=ft=n:ft=ft.next=n}return ft}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(n){var s=lo;return lo+=1,Ii===null&&(Ii=[]),n=gy(Ii,n,s),s=Se,(ft===null?s.memoizedState:ft.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?ob:gf),n}function Ql(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return co(n);if(n.$$typeof===R)return Rt(n)}throw Error(i(438,String(n)))}function sf(n){var s=null,a=Se.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Se.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Jl(),Se.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),c=0;c<n;c++)a[c]=W;return s.index++,a}function ur(n,s){return typeof s=="function"?s(n):s}function Zl(n){var s=ut();return af(s,Ye,n)}function af(n,s,a){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var g=d.next;d.next=p.next,p.next=g}s.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{s=d.next;var w=g=null,x=null,j=s,z=!1;do{var q=j.lane&-536870913;if(q!==j.lane?(Re&q)===q:(cr&q)===q){var I=j.revertLane;if(I===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),q===Oi&&(z=!0);else if((cr&I)===I){j=j.next,I===Oi&&(z=!0);continue}else q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(w=x=q,g=p):x=x.next=q,Se.lanes|=I,Yr|=I;q=j.action,Us&&a(p,q),p=j.hasEagerState?j.eagerState:a(p,q)}else I={lane:q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(w=x=I,g=p):x=x.next=I,Se.lanes|=q,Yr|=q;j=j.next}while(j!==null&&j!==s);if(x===null?g=p:x.next=w,!sn(p,n.memoizedState)&&(ht=!0,z&&(a=Ci,a!==null)))throw a;n.memoizedState=p,n.baseState=g,n.baseQueue=x,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function of(n){var s=ut(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var g=d=d.next;do p=n(p,g.action),g=g.next;while(g!==d);sn(p,s.memoizedState)||(ht=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function Ay(n,s,a){var c=Se,d=ut(),p=Me;if(p){if(a===void 0)throw Error(i(407));a=a()}else a=s();var g=!sn((Ye||d).memoizedState,a);if(g&&(d.memoizedState=a,ht=!0),d=d.queue,uf(Ry.bind(null,c,d,n),[n]),d.getSnapshot!==s||g||ft!==null&&ft.memoizedState.tag&1){if(c.flags|=2048,Di(9,{destroy:void 0},Cy.bind(null,c,d,a,s),null),Xe===null)throw Error(i(349));p||(cr&127)!==0||Oy(c,s,a)}return a}function Oy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Se.updateQueue,s===null?(s=Jl(),Se.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Cy(n,s,a,c){s.value=a,s.getSnapshot=c,Ny(s)&&jy(n)}function Ry(n,s,a){return a(function(){Ny(s)&&jy(n)})}function Ny(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!sn(n,a)}catch{return!0}}function jy(n){var s=Os(n,2);s!==null&&Jt(s,n,2)}function lf(n){var s=zt();if(typeof n=="function"){var a=n;if(n=a(),Us){Mr(!0);try{a()}finally{Mr(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:n},s}function My(n,s,a,c){return n.baseState=a,af(n,Ye,typeof c=="function"?c:ur)}function L1(n,s,a,c,d){if(nc(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){p.listeners.push(g)}};M.T!==null?a(!0):p.isTransition=!1,c(p),a=s.pending,a===null?(p.next=s.pending=p,Iy(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Iy(n,s){var a=s.action,c=s.payload,d=n.state;if(s.isTransition){var p=M.T,g={};M.T=g;try{var w=a(d,c),x=M.S;x!==null&&x(g,w),Dy(n,s,w)}catch(j){cf(n,s,j)}finally{p!==null&&g.types!==null&&(p.types=g.types),M.T=p}}else try{p=a(d,c),Dy(n,s,p)}catch(j){cf(n,s,j)}}function Dy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Ly(n,s,c)},function(c){return cf(n,s,c)}):Ly(n,s,a)}function Ly(n,s,a){s.status="fulfilled",s.value=a,Uy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Iy(n,a)))}function cf(n,s,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,Uy(s),s=s.next;while(s!==c)}n.action=null}function Uy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function zy(n,s){return s}function By(n,s){if(Me){var a=Xe.formState;if(a!==null){e:{var c=Se;if(Me){if(et){t:{for(var d=et,p=xn;d.nodeType!==8;){if(!p){d=null;break t}if(d=kn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){et=kn(d.nextSibling),c=d.data==="F!";break e}}zr(c)}c=!1}c&&(s=a[0])}}return a=zt(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:s},a.queue=c,a=sb.bind(null,Se,c),c.dispatch=a,c=lf(!1),p=mf.bind(null,Se,!1,c.queue),c=zt(),d={state:s,dispatch:null,action:n,pending:null},c.queue=d,a=L1.bind(null,Se,d,p,a),d.dispatch=a,c.memoizedState=n,[s,a,!1]}function Hy(n){var s=ut();return Py(s,Ye,n)}function Py(n,s,a){if(s=af(n,s,zy)[0],n=Zl(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=co(s)}catch(g){throw g===Ri?$l:g}else c=s;s=ut();var d=s.queue,p=d.dispatch;return a!==s.memoizedState&&(Se.flags|=2048,Di(9,{destroy:void 0},U1.bind(null,d,a),null)),[c,p,n]}function U1(n,s){n.action=s}function qy(n){var s=ut(),a=Ye;if(a!==null)return Py(s,a,n);ut(),s=s.memoizedState,a=ut();var c=a.queue.dispatch;return a.memoizedState=n,[s,c,!1]}function Di(n,s,a,c){return n={tag:n,create:a,deps:c,inst:s,next:null},s=Se.updateQueue,s===null&&(s=Jl(),Se.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n),n}function $y(){return ut().memoizedState}function ec(n,s,a,c){var d=zt();Se.flags|=n,d.memoizedState=Di(1|s,{destroy:void 0},a,c===void 0?null:c)}function tc(n,s,a,c){var d=ut();c=c===void 0?null:c;var p=d.memoizedState.inst;Ye!==null&&c!==null&&Zd(c,Ye.memoizedState.deps)?d.memoizedState=Di(s,p,a,c):(Se.flags|=n,d.memoizedState=Di(1|s,p,a,c))}function Fy(n,s){ec(8390656,8,n,s)}function uf(n,s){tc(2048,8,n,s)}function z1(n){Se.flags|=4;var s=Se.updateQueue;if(s===null)s=Jl(),Se.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Gy(n){var s=ut().memoizedState;return z1({ref:s,nextImpl:n}),function(){if((qe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Vy(n,s){return tc(4,2,n,s)}function Yy(n,s){return tc(4,4,n,s)}function Ky(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Wy(n,s,a){a=a!=null?a.concat([n]):null,tc(4,4,Ky.bind(null,s,n),a)}function df(){}function Xy(n,s){var a=ut();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&Zd(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Jy(n,s){var a=ut();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&Zd(s,c[1]))return c[0];if(c=n(),Us){Mr(!0);try{n()}finally{Mr(!1)}}return a.memoizedState=[c,s],c}function ff(n,s,a){return a===void 0||(cr&1073741824)!==0&&(Re&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Qb(),Se.lanes|=n,Yr|=n,a)}function Qy(n,s,a,c){return sn(a,s)?a:ji.current!==null?(n=ff(n,a,c),sn(n,s)||(ht=!0),n):(cr&42)===0||(cr&1073741824)!==0&&(Re&261930)===0?(ht=!0,n.memoizedState=a):(n=Qb(),Se.lanes|=n,Yr|=n,s)}function Zy(n,s,a,c,d){var p=$.p;$.p=p!==0&&8>p?p:8;var g=M.T,w={};M.T=w,mf(n,!1,s,a);try{var x=d(),j=M.S;if(j!==null&&j(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var z=M1(x,c);uo(n,s,z,dn(n))}else uo(n,s,c,dn(n))}catch(q){uo(n,s,{then:function(){},status:"rejected",reason:q},dn())}finally{$.p=p,g!==null&&w.types!==null&&(g.types=w.types),M.T=g}}function B1(){}function hf(n,s,a,c){if(n.tag!==5)throw Error(i(476));var d=eb(n).queue;Zy(n,d,s,C,a===null?B1:function(){return tb(n),a(c)})}function eb(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:C},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function tb(n){var s=eb(n);s.next===null&&(s=n.alternate.memoizedState),uo(n,s.next.queue,{},dn())}function pf(){return Rt(Oo)}function nb(){return ut().memoizedState}function rb(){return ut().memoizedState}function H1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=dn();n=Pr(a);var c=qr(s,n,a);c!==null&&(Jt(c,s,a),io(c,s,a)),s={cache:qd()},n.payload=s;return}s=s.return}}function P1(n,s,a){var c=dn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(n)?ib(s,a):(a=Nd(n,s,a,c),a!==null&&(Jt(a,n,c),ab(a,s,c)))}function sb(n,s,a){var c=dn();uo(n,s,a,c)}function uo(n,s,a,c){var d={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(n))ib(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var g=s.lastRenderedState,w=p(g,a);if(d.hasEagerState=!0,d.eagerState=w,sn(w,g))return Ll(n,s,d,0),Xe===null&&Dl(),!1}catch{}finally{}if(a=Nd(n,s,d,c),a!==null)return Jt(a,n,c),ab(a,s,c),!0}return!1}function mf(n,s,a,c){if(c={lane:2,revertLane:Yf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},nc(n)){if(s)throw Error(i(479))}else s=Nd(n,a,c,2),s!==null&&Jt(s,n,2)}function nc(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function ib(n,s){Mi=Wl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function ab(n,s,a){if((a&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,dg(n,a)}}var fo={readContext:Rt,use:Ql,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};fo.useEffectEvent=it;var ob={readContext:Rt,use:Ql,useCallback:function(n,s){return zt().memoizedState=[n,s===void 0?null:s],n},useContext:Rt,useEffect:Fy,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,ec(4194308,4,Ky.bind(null,s,n),a)},useLayoutEffect:function(n,s){return ec(4194308,4,n,s)},useInsertionEffect:function(n,s){ec(4,2,n,s)},useMemo:function(n,s){var a=zt();s=s===void 0?null:s;var c=n();if(Us){Mr(!0);try{n()}finally{Mr(!1)}}return a.memoizedState=[c,s],c},useReducer:function(n,s,a){var c=zt();if(a!==void 0){var d=a(s);if(Us){Mr(!0);try{a(s)}finally{Mr(!1)}}}else d=s;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=P1.bind(null,Se,n),[c.memoizedState,n]},useRef:function(n){var s=zt();return n={current:n},s.memoizedState=n},useState:function(n){n=lf(n);var s=n.queue,a=sb.bind(null,Se,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:df,useDeferredValue:function(n,s){var a=zt();return ff(a,n,s)},useTransition:function(){var n=lf(!1);return n=Zy.bind(null,Se,n.queue,!0,!1),zt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var c=Se,d=zt();if(Me){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Xe===null)throw Error(i(349));(Re&127)!==0||Oy(c,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,Fy(Ry.bind(null,c,p,n),[n]),c.flags|=2048,Di(9,{destroy:void 0},Cy.bind(null,c,p,a,s),null),a},useId:function(){var n=zt(),s=Xe.identifierPrefix;if(Me){var a=Kn,c=Yn;a=(c&~(1<<32-rn(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Xl++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=I1++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:pf,useFormState:By,useActionState:By,useOptimistic:function(n){var s=zt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=mf.bind(null,Se,!0,a),a.dispatch=s,[n,s]},useMemoCache:sf,useCacheRefresh:function(){return zt().memoizedState=H1.bind(null,Se)},useEffectEvent:function(n){var s=zt(),a={impl:n};return s.memoizedState=a,function(){if((qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},gf={readContext:Rt,use:Ql,useCallback:Xy,useContext:Rt,useEffect:uf,useImperativeHandle:Wy,useInsertionEffect:Vy,useLayoutEffect:Yy,useMemo:Jy,useReducer:Zl,useRef:$y,useState:function(){return Zl(ur)},useDebugValue:df,useDeferredValue:function(n,s){var a=ut();return Qy(a,Ye.memoizedState,n,s)},useTransition:function(){var n=Zl(ur)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:co(n),s]},useSyncExternalStore:Ay,useId:nb,useHostTransitionStatus:pf,useFormState:Hy,useActionState:Hy,useOptimistic:function(n,s){var a=ut();return My(a,Ye,n,s)},useMemoCache:sf,useCacheRefresh:rb};gf.useEffectEvent=Gy;var lb={readContext:Rt,use:Ql,useCallback:Xy,useContext:Rt,useEffect:uf,useImperativeHandle:Wy,useInsertionEffect:Vy,useLayoutEffect:Yy,useMemo:Jy,useReducer:of,useRef:$y,useState:function(){return of(ur)},useDebugValue:df,useDeferredValue:function(n,s){var a=ut();return Ye===null?ff(a,n,s):Qy(a,Ye.memoizedState,n,s)},useTransition:function(){var n=of(ur)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:co(n),s]},useSyncExternalStore:Ay,useId:nb,useHostTransitionStatus:pf,useFormState:qy,useActionState:qy,useOptimistic:function(n,s){var a=ut();return Ye!==null?My(a,Ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:sf,useCacheRefresh:rb};lb.useEffectEvent=Gy;function yf(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var bf={enqueueSetState:function(n,s,a){n=n._reactInternals;var c=dn(),d=Pr(c);d.payload=s,a!=null&&(d.callback=a),s=qr(n,d,c),s!==null&&(Jt(s,n,c),io(s,n,c))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=dn(),d=Pr(c);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=qr(n,d,c),s!==null&&(Jt(s,n,c),io(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=dn(),c=Pr(a);c.tag=2,s!=null&&(c.callback=s),s=qr(n,c,a),s!==null&&(Jt(s,n,a),io(s,n,a))}};function cb(n,s,a,c,d,p,g){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,g):s.prototype&&s.prototype.isPureReactComponent?!Ja(a,c)||!Ja(d,p):!0}function ub(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&bf.enqueueReplaceState(s,s.state,null)}function zs(n,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function db(n){Il(n)}function fb(n){console.error(n)}function hb(n){Il(n)}function rc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function pb(n,s,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vf(n,s,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(n,s)},a}function mb(n){return n=Pr(n),n.tag=3,n}function gb(n,s,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){pb(s,a,c)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(n.callback=function(){pb(s,a,c),typeof d!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function q1(n,s,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Ai(s,a,d,!0),a=on.current,a!==null){switch(a.tag){case 31:case 13:return Tn===null?mc():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===Fl?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Ff(n,c,d)),!1;case 22:return a.flags|=65536,c===Fl?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Ff(n,c,d)),!1}throw Error(i(435,a.tag))}return Ff(n,c,d),mc(),!1}if(Me)return s=on.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Ud&&(n=Error(i(422),{cause:c}),eo(Sn(n,a)))):(c!==Ud&&(s=Error(i(423),{cause:c}),eo(Sn(s,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Sn(c,a),d=vf(n.stateNode,c,d),Kd(n,d),at!==4&&(at=2)),!1;var p=Error(i(520),{cause:c});if(p=Sn(p,a),_o===null?_o=[p]:_o.push(p),at!==4&&(at=2),s===null)return!0;c=Sn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=vf(a.stateNode,c,n),Kd(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kr===null||!Kr.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=mb(d),gb(d,n,a,c),Kd(a,d),!1}a=a.return}while(a!==null);return!1}var _f=Error(i(461)),ht=!1;function Nt(n,s,a,c){s.child=n===null?_y(s,null,a,c):Ls(s,n.child,a,c)}function yb(n,s,a,c,d){a=a.render;var p=s.ref;if("ref"in c){var g={};for(var w in c)w!=="ref"&&(g[w]=c[w])}else g=c;return js(s),c=ef(n,s,a,g,p,d),w=tf(),n!==null&&!ht?(nf(n,s,d),dr(n,s,d)):(Me&&w&&Dd(s),s.flags|=1,Nt(n,s,c,d),s.child)}function bb(n,s,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!jd(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,vb(n,s,p,c,d)):(n=zl(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Of(n,d)){var g=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ja,a(g,c)&&n.ref===s.ref)return dr(n,s,d)}return s.flags|=1,n=ir(p,c),n.ref=s.ref,n.return=s,s.child=n}function vb(n,s,a,c,d){if(n!==null){var p=n.memoizedProps;if(Ja(p,c)&&n.ref===s.ref)if(ht=!1,s.pendingProps=c=p,Of(n,d))(n.flags&131072)!==0&&(ht=!0);else return s.lanes=n.lanes,dr(n,s,d)}return Sf(n,s,a,c,d)}function _b(n,s,a,c){var d=c.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(c=s.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,s.child=null;return Sb(n,s,p,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ql(s,p!==null?p.cachePool:null),p!==null?Ey(s,p):Xd(),xy(s);else return c=s.lanes=536870912,Sb(n,s,p!==null?p.baseLanes|a:a,a,c)}else p!==null?(ql(s,p.cachePool),Ey(s,p),Fr(),s.memoizedState=null):(n!==null&&ql(s,null),Xd(),Fr());return Nt(n,s,d,a),s.child}function ho(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Sb(n,s,a,c,d){var p=Fd();return p=p===null?null:{parent:dt._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&ql(s,null),Xd(),xy(s),n!==null&&Ai(n,s,c,!0),s.childLanes=d,null}function sc(n,s){return s=ac({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function wb(n,s,a){return Ls(s,n.child,null,a),n=sc(s,s.pendingProps),n.flags|=2,ln(s),s.memoizedState=null,n}function $1(n,s,a){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Me){if(c.mode==="hidden")return n=sc(s,c),s.lanes=536870912,ho(null,n);if(Qd(s),(n=et)?(n=Iv(n,xn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},a=iy(n),a.return=s,s.child=a,Ct=s,et=null)):n=null,n===null)throw zr(s);return s.lanes=536870912,null}return sc(s,c)}var p=n.memoizedState;if(p!==null){var g=p.dehydrated;if(Qd(s),d)if(s.flags&256)s.flags&=-257,s=wb(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(ht||Ai(n,s,a,!1),d=(a&n.childLanes)!==0,ht||d){if(c=Xe,c!==null&&(g=fg(c,a),g!==0&&g!==p.retryLane))throw p.retryLane=g,Os(n,g),Jt(c,n,g),_f;mc(),s=wb(n,s,a)}else n=p.treeContext,et=kn(g.nextSibling),Ct=s,Me=!0,Ur=null,xn=!1,n!==null&&ly(s,n),s=sc(s,c),s.flags|=4096;return s}return n=ir(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ic(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Sf(n,s,a,c,d){return js(s),a=ef(n,s,a,c,void 0,d),c=tf(),n!==null&&!ht?(nf(n,s,d),dr(n,s,d)):(Me&&c&&Dd(s),s.flags|=1,Nt(n,s,a,d),s.child)}function Eb(n,s,a,c,d,p){return js(s),s.updateQueue=null,a=ky(s,c,a,d),Ty(n),c=tf(),n!==null&&!ht?(nf(n,s,p),dr(n,s,p)):(Me&&c&&Dd(s),s.flags|=1,Nt(n,s,a,p),s.child)}function xb(n,s,a,c,d){if(js(s),s.stateNode===null){var p=Ei,g=a.contextType;typeof g=="object"&&g!==null&&(p=Rt(g)),p=new a(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=bf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},Vd(s),g=a.contextType,p.context=typeof g=="object"&&g!==null?Rt(g):Ei,p.state=s.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(yf(s,a,g,c),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(g=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),g!==p.state&&bf.enqueueReplaceState(p,p.state,null),oo(s,c,p,d),ao(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){p=s.stateNode;var w=s.memoizedProps,x=zs(a,w);p.props=x;var j=p.context,z=a.contextType;g=Ei,typeof z=="object"&&z!==null&&(g=Rt(z));var q=a.getDerivedStateFromProps;z=typeof q=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||j!==g)&&ub(s,p,c,g),Hr=!1;var I=s.memoizedState;p.state=I,oo(s,c,p,d),ao(),j=s.memoizedState,w||I!==j||Hr?(typeof q=="function"&&(yf(s,a,q,c),j=s.memoizedState),(x=Hr||cb(s,a,x,c,I,j,g))?(z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=j),p.props=c,p.state=j,p.context=g,c=x):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,Yd(n,s),g=s.memoizedProps,z=zs(a,g),p.props=z,q=s.pendingProps,I=p.context,j=a.contextType,x=Ei,typeof j=="object"&&j!==null&&(x=Rt(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==q||I!==x)&&ub(s,p,c,x),Hr=!1,I=s.memoizedState,p.state=I,oo(s,c,p,d),ao();var D=s.memoizedState;g!==q||I!==D||Hr||n!==null&&n.dependencies!==null&&Hl(n.dependencies)?(typeof w=="function"&&(yf(s,a,w,c),D=s.memoizedState),(z=Hr||cb(s,a,z,c,I,D,x)||n!==null&&n.dependencies!==null&&Hl(n.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,D,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,D,x)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=D),p.props=c,p.state=D,p.context=x,c=z):(typeof p.componentDidUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),c=!1)}return p=c,ic(n,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&c?(s.child=Ls(s,n.child,null,d),s.child=Ls(s,null,a,d)):Nt(n,s,a,d),s.memoizedState=p.state,n=s.child):n=dr(n,s,d),n}function Tb(n,s,a,c){return Rs(),s.flags|=256,Nt(n,s,a,c),s.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(n){return{baseLanes:n,cachePool:py()}}function xf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=un),n}function kb(n,s,a){var c=s.pendingProps,d=!1,p=(s.flags&128)!==0,g;if((g=p)||(g=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),g&&(d=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,n===null){if(Me){if(d?$r(s):Fr(),(n=et)?(n=Iv(n,xn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},a=iy(n),a.return=s,s.child=a,Ct=s,et=null)):n=null,n===null)throw zr(s);return ah(n)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(Fr(),d=s.mode,w=ac({mode:"hidden",children:w},d),c=Cs(c,d,a,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Ef(a),c.childLanes=xf(n,g,a),s.memoizedState=wf,ho(null,c)):($r(s),Tf(s,w))}var x=n.memoizedState;if(x!==null&&(w=x.dehydrated,w!==null)){if(p)s.flags&256?($r(s),s.flags&=-257,s=kf(n,s,a)):s.memoizedState!==null?(Fr(),s.child=n.child,s.flags|=128,s=null):(Fr(),w=c.fallback,d=s.mode,c=ac({mode:"visible",children:c.children},d),w=Cs(w,d,a,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Ls(s,n.child,null,a),c=s.child,c.memoizedState=Ef(a),c.childLanes=xf(n,g,a),s.memoizedState=wf,s=ho(null,c));else if($r(s),ah(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var j=g.dgst;g=j,c=Error(i(419)),c.stack="",c.digest=g,eo({value:c,source:null,stack:null}),s=kf(n,s,a)}else if(ht||Ai(n,s,a,!1),g=(a&n.childLanes)!==0,ht||g){if(g=Xe,g!==null&&(c=fg(g,a),c!==0&&c!==x.retryLane))throw x.retryLane=c,Os(n,c),Jt(g,n,c),_f;ih(w)||mc(),s=kf(n,s,a)}else ih(w)?(s.flags|=192,s.child=n.child,s=null):(n=x.treeContext,et=kn(w.nextSibling),Ct=s,Me=!0,Ur=null,xn=!1,n!==null&&ly(s,n),s=Tf(s,c.children),s.flags|=4096);return s}return d?(Fr(),w=c.fallback,d=s.mode,x=n.child,j=x.sibling,c=ir(x,{mode:"hidden",children:c.children}),c.subtreeFlags=x.subtreeFlags&65011712,j!==null?w=ir(j,w):(w=Cs(w,d,a,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,ho(null,c),c=s.child,w=n.child.memoizedState,w===null?w=Ef(a):(d=w.cachePool,d!==null?(x=dt._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=py(),w={baseLanes:w.baseLanes|a,cachePool:d}),c.memoizedState=w,c.childLanes=xf(n,g,a),s.memoizedState=wf,ho(n.child,c)):($r(s),a=n.child,n=a.sibling,a=ir(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,n!==null&&(g=s.deletions,g===null?(s.deletions=[n],s.flags|=16):g.push(n)),s.child=a,s.memoizedState=null,a)}function Tf(n,s){return s=ac({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ac(n,s){return n=an(22,n,null,s),n.lanes=0,n}function kf(n,s,a){return Ls(s,n.child,null,a),n=Tf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ab(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Hd(n.return,s,a)}function Af(n,s,a,c,d,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d,treeForkCount:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d,g.treeForkCount=p)}function Ob(n,s,a){var c=s.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var g=ct.current,w=(g&2)!==0;if(w?(g=g&1|2,s.flags|=128):g&=1,X(ct,g),Nt(n,s,c,a),c=Me?Za:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ab(n,a,s);else if(n.tag===19)Ab(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Kl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Af(s,!1,d,a,p,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Kl(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Af(s,!0,a,null,p,c);break;case"together":Af(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function dr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Yr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ai(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=ir(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ir(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Of(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Hl(n)))}function F1(n,s,a){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),Br(s,dt,n.memoizedState.cache),Rs();break;case 27:case 5:Ft(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:Br(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Qd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?($r(s),s.flags|=128,null):(a&s.child.childLanes)!==0?kb(n,s,a):($r(s),n=dr(n,s,a),n!==null?n.sibling:null);$r(s);break;case 19:var d=(n.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Ai(n,s,a,!1),c=(a&s.childLanes)!==0),d){if(c)return Ob(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(ct,ct.current),c)break;return null;case 22:return s.lanes=0,_b(n,s,a,s.pendingProps);case 24:Br(s,dt,n.memoizedState.cache)}return dr(n,s,a)}function Cb(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ht=!0;else{if(!Of(n,a)&&(s.flags&128)===0)return ht=!1,F1(n,s,a);ht=(n.flags&131072)!==0}else ht=!1,Me&&(s.flags&1048576)!==0&&oy(s,Za,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Is(s.elementType),s.type=n,typeof n=="function")jd(n)?(c=zs(n,c),s.tag=1,s=xb(null,s,n,c,a)):(s.tag=0,s=Sf(null,s,n,c,a));else{if(n!=null){var d=n.$$typeof;if(d===F){s.tag=11,s=yb(null,s,n,c,a);break e}else if(d===L){s.tag=14,s=bb(null,s,n,c,a);break e}}throw s=Te(n)||n,Error(i(306,s,""))}}return s;case 0:return Sf(n,s,s.type,s.pendingProps,a);case 1:return c=s.type,d=zs(c,s.pendingProps),xb(n,s,c,d,a);case 3:e:{if($t(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;d=p.element,Yd(n,s),oo(s,c,null,a);var g=s.memoizedState;if(c=g.cache,Br(s,dt,c),c!==p.cache&&Pd(s,[dt],a,!0),ao(),c=g.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Tb(n,s,c,a);break e}else if(c!==d){d=Sn(Error(i(424)),s),eo(d),s=Tb(n,s,c,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(et=kn(n.firstChild),Ct=s,Me=!0,Ur=null,xn=!0,a=_y(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rs(),c===d){s=dr(n,s,a);break e}Nt(n,s,c,a)}s=s.child}return s;case 26:return ic(n,s),n===null?(a=Hv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Me||(a=s.type,n=s.pendingProps,c=wc(xt.current).createElement(a),c[Ot]=s,c[Gt]=n,jt(c,a,n),Tt(c),s.stateNode=c):s.memoizedState=Hv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ft(s),n===null&&Me&&(c=s.stateNode=Uv(s.type,s.pendingProps,xt.current),Ct=s,xn=!0,d=et,Qr(s.type)?(oh=d,et=kn(c.firstChild)):et=d),Nt(n,s,s.pendingProps.children,a),ic(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Me&&((d=c=et)&&(c=_k(c,s.type,s.pendingProps,xn),c!==null?(s.stateNode=c,Ct=s,et=kn(c.firstChild),xn=!1,d=!0):d=!1),d||zr(s)),Ft(s),d=s.type,p=s.pendingProps,g=n!==null?n.memoizedProps:null,c=p.children,nh(d,p)?c=null:g!==null&&nh(d,g)&&(s.flags|=32),s.memoizedState!==null&&(d=ef(n,s,D1,null,null,a),Oo._currentValue=d),ic(n,s),Nt(n,s,c,a),s.child;case 6:return n===null&&Me&&((n=a=et)&&(a=Sk(a,s.pendingProps,xn),a!==null?(s.stateNode=a,Ct=s,et=null,n=!0):n=!1),n||zr(s)),null;case 13:return kb(n,s,a);case 4:return $t(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Ls(s,null,c,a):Nt(n,s,c,a),s.child;case 11:return yb(n,s,s.type,s.pendingProps,a);case 7:return Nt(n,s,s.pendingProps,a),s.child;case 8:return Nt(n,s,s.pendingProps.children,a),s.child;case 12:return Nt(n,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Br(s,s.type,c.value),Nt(n,s,c.children,a),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,js(s),d=Rt(d),c=c(d),s.flags|=1,Nt(n,s,c,a),s.child;case 14:return bb(n,s,s.type,s.pendingProps,a);case 15:return vb(n,s,s.type,s.pendingProps,a);case 19:return Ob(n,s,a);case 31:return $1(n,s,a);case 22:return _b(n,s,a,s.pendingProps);case 24:return js(s),c=Rt(dt),n===null?(d=Fd(),d===null&&(d=Xe,p=qd(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),s.memoizedState={parent:c,cache:d},Vd(s),Br(s,dt,d)):((n.lanes&a)!==0&&(Yd(n,s),oo(s,null,null,a),ao()),d=n.memoizedState,p=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Br(s,dt,c)):(c=p.cache,Br(s,dt,c),c!==d.cache&&Pd(s,[dt],a,!0))),Nt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fr(n){n.flags|=4}function Cf(n,s,a,c,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(nv())n.flags|=8192;else throw Ds=Fl,Gd}else n.flags&=-16777217}function Rb(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Gv(s))if(nv())n.flags|=8192;else throw Ds=Fl,Gd}function oc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?cg():536870912,n.lanes|=s,Bi|=s)}function po(n,s){if(!Me)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function tt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function G1(n,s,a){var c=s.pendingProps;switch(Ld(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return a=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),lr(dt),Mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ki(s)?fr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zd())),tt(s),null;case 26:var d=s.type,p=s.memoizedState;return n===null?(fr(s),p!==null?(tt(s),Rb(s,p)):(tt(s),Cf(s,d,null,c,a))):p?p!==n.memoizedState?(fr(s),tt(s),Rb(s,p)):(tt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&fr(s),tt(s),Cf(s,d,n,c,a)),null;case 27:if(Nn(s),a=xt.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&fr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}n=ge.current,ki(s)?cy(s):(n=Uv(d,c,a),s.stateNode=n,fr(s))}return tt(s),null;case 5:if(Nn(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&fr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}if(p=ge.current,ki(s))cy(s);else{var g=wc(xt.current);switch(p){case 1:p=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=g.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?g.createElement(d,{is:c.is}):g.createElement(d)}}p[Ot]=s,p[Gt]=c;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)p.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=p;e:switch(jt(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&fr(s)}}return tt(s),Cf(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&fr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=xt.current,ki(s)){if(n=s.stateNode,a=s.memoizedProps,c=null,d=Ct,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[Ot]=s,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||kv(n.nodeValue,a)),n||zr(s,!0)}else n=wc(n).createTextNode(c),n[Ot]=s,s.stateNode=n}return tt(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(c=ki(s),a!==null){if(n===null){if(!c)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Ot]=s}else Rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),n=!1}else a=zd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(ln(s),s):(ln(s),null);if((s.flags&128)!==0)throw Error(i(558))}return tt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=ki(s),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ot]=s}else Rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),d=!1}else d=zd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ln(s),s):(ln(s),null)}return ln(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),oc(s,s.updateQueue),tt(s),null);case 4:return Mt(),n===null&&Jf(s.stateNode.containerInfo),tt(s),null;case 10:return lr(s.type),tt(s),null;case 19:if(ue(ct),c=s.memoizedState,c===null)return tt(s),null;if(d=(s.flags&128)!==0,p=c.rendering,p===null)if(d)po(c,!1);else{if(at!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Kl(n),p!==null){for(s.flags|=128,po(c,!1),n=p.updateQueue,s.updateQueue=n,oc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)sy(a,n),a=a.sibling;return X(ct,ct.current&1|2),Me&&ar(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&ye()>fc&&(s.flags|=128,d=!0,po(c,!1),s.lanes=4194304)}else{if(!d)if(n=Kl(p),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,oc(s,n),po(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Me)return tt(s),null}else 2*ye()-c.renderingStartTime>fc&&a!==536870912&&(s.flags|=128,d=!0,po(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(n=c.last,n!==null?n.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ye(),n.sibling=null,a=ct.current,X(ct,d?a&1|2:a&1),Me&&ar(s,c.treeForkCount),n):(tt(s),null);case 22:case 23:return ln(s),Jd(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),a=s.updateQueue,a!==null&&oc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),n!==null&&ue(Ms),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),lr(dt),tt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function V1(n,s){switch(Ld(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return lr(dt),Mt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Nn(s),null;case 31:if(s.memoizedState!==null){if(ln(s),s.alternate===null)throw Error(i(340));Rs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(ln(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Rs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(ct),null;case 4:return Mt(),null;case 10:return lr(s.type),null;case 22:case 23:return ln(s),Jd(),n!==null&&ue(Ms),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return lr(dt),null;case 25:return null;default:return null}}function Nb(n,s){switch(Ld(s),s.tag){case 3:lr(dt),Mt();break;case 26:case 27:case 5:Nn(s);break;case 4:Mt();break;case 31:s.memoizedState!==null&&ln(s);break;case 13:ln(s);break;case 19:ue(ct);break;case 10:lr(s.type);break;case 22:case 23:ln(s),Jd(),n!==null&&ue(Ms);break;case 24:lr(dt)}}function mo(n,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&n)===n){c=void 0;var p=a.create,g=a.inst;c=p(),g.destroy=c}a=a.next}while(a!==d)}}catch(w){Ge(s,s.return,w)}}function Gr(n,s,a){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var g=c.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,d=s;var x=a,j=w;try{j()}catch(z){Ge(d,x,z)}}}c=c.next}while(c!==p)}}catch(z){Ge(s,s.return,z)}}function jb(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{wy(s,a)}catch(c){Ge(n,n.return,c)}}}function Mb(n,s,a){a.props=zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Ge(n,s,c)}}function go(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(d){Ge(n,s,d)}}function Wn(n,s){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){Ge(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ge(n,s,d)}else a.current=null}function Ib(n){var s=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){Ge(n,n.return,d)}}function Rf(n,s,a){try{var c=n.stateNode;pk(c,n.type,a,s),c[Gt]=s}catch(d){Ge(n,n.return,d)}}function Db(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qr(n.type)||n.tag===4}function Nf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Db(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jf(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=rr));else if(c!==4&&(c===27&&Qr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(jf(n,s,a),n=n.sibling;n!==null;)jf(n,s,a),n=n.sibling}function lc(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(c===27&&Qr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(lc(n,s,a),n=n.sibling;n!==null;)lc(n,s,a),n=n.sibling}function Lb(n){var s=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);jt(s,c,a),s[Ot]=n,s[Gt]=a}catch(p){Ge(n,n.return,p)}}var hr=!1,pt=!1,Mf=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Y1(n,s){if(n=n.containerInfo,eh=Cc,n=Wg(n),Td(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var g=0,w=-1,x=-1,j=0,z=0,q=n,I=null;t:for(;;){for(var D;q!==a||d!==0&&q.nodeType!==3||(w=g+d),q!==p||c!==0&&q.nodeType!==3||(x=g+c),q.nodeType===3&&(g+=q.nodeValue.length),(D=q.firstChild)!==null;)I=q,q=D;for(;;){if(q===n)break t;if(I===a&&++j===d&&(w=g),I===p&&++z===c&&(x=g),(D=q.nextSibling)!==null)break;q=I,I=q.parentNode}q=D}a=w===-1||x===-1?null:{start:w,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(th={focusedElem:n,selectionRange:a},Cc=!1,kt=s;kt!==null;)if(s=kt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,kt=n;else for(;kt!==null;){switch(s=kt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,d=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var J=zs(a.type,d);n=c.getSnapshotBeforeUpdate(J,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(de){Ge(a,a.return,de)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)sh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,kt=n;break}kt=s.return}}function zb(n,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:mr(n,a),c&4&&mo(5,a);break;case 1:if(mr(n,a),c&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(g){Ge(a,a.return,g)}else{var d=zs(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(g){Ge(a,a.return,g)}}c&64&&jb(a),c&512&&go(a,a.return);break;case 3:if(mr(n,a),c&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{wy(n,s)}catch(g){Ge(a,a.return,g)}}break;case 27:s===null&&c&4&&Lb(a);case 26:case 5:mr(n,a),s===null&&c&4&&Ib(a),c&512&&go(a,a.return);break;case 12:mr(n,a);break;case 31:mr(n,a),c&4&&Pb(n,a);break;case 13:mr(n,a),c&4&&qb(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=nk.bind(null,a),wk(n,a))));break;case 22:if(c=a.memoizedState!==null||hr,!c){s=s!==null&&s.memoizedState!==null||pt,d=hr;var p=pt;hr=c,(pt=s)&&!p?gr(n,a,(a.subtreeFlags&8772)!==0):mr(n,a),hr=d,pt=p}break;case 30:break;default:mr(n,a)}}function Bb(n){var s=n.alternate;s!==null&&(n.alternate=null,Bb(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ld(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,Yt=!1;function pr(n,s,a){for(a=a.child;a!==null;)Hb(n,s,a),a=a.sibling}function Hb(n,s,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ba,a)}catch{}switch(a.tag){case 26:pt||Wn(a,s),pr(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||Wn(a,s);var c=nt,d=Yt;Qr(a.type)&&(nt=a.stateNode,Yt=!1),pr(n,s,a),To(a.stateNode),nt=c,Yt=d;break;case 5:pt||Wn(a,s);case 6:if(c=nt,d=Yt,nt=null,pr(n,s,a),nt=c,Yt=d,nt!==null)if(Yt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(p){Ge(a,s,p)}else try{nt.removeChild(a.stateNode)}catch(p){Ge(a,s,p)}break;case 18:nt!==null&&(Yt?(n=nt,jv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yi(n)):jv(nt,a.stateNode));break;case 4:c=nt,d=Yt,nt=a.stateNode.containerInfo,Yt=!0,pr(n,s,a),nt=c,Yt=d;break;case 0:case 11:case 14:case 15:Gr(2,a,s),pt||Gr(4,a,s),pr(n,s,a);break;case 1:pt||(Wn(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Mb(a,s,c)),pr(n,s,a);break;case 21:pr(n,s,a);break;case 22:pt=(c=pt)||a.memoizedState!==null,pr(n,s,a),pt=c;break;default:pr(n,s,a)}}function Pb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Yi(n)}catch(a){Ge(s,s.return,a)}}}function qb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yi(n)}catch(a){Ge(s,s.return,a)}}function K1(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Ub),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Ub),s;default:throw Error(i(435,n.tag))}}function cc(n,s){var a=K1(n);s.forEach(function(c){if(!a.has(c)){a.add(c);var d=rk.bind(null,n,c);c.then(d,d)}})}function Kt(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],p=n,g=s,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Qr(w.type)){nt=w.stateNode,Yt=!1;break e}break;case 5:nt=w.stateNode,Yt=!1;break e;case 3:case 4:nt=w.stateNode.containerInfo,Yt=!0;break e}w=w.return}if(nt===null)throw Error(i(160));Hb(p,g,d),nt=null,Yt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$b(s,n),s=s.sibling}var In=null;function $b(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kt(s,n),Wt(n),c&4&&(Gr(3,n,n.return),mo(3,n),Gr(5,n,n.return));break;case 1:Kt(s,n),Wt(n),c&512&&(pt||a===null||Wn(a,a.return)),c&64&&hr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=In;if(Kt(s,n),Wt(n),c&512&&(pt||a===null||Wn(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[qa]||p[Ot]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),jt(p,c,a),p[Ot]=n,Tt(p),c=p;break e;case"link":var g=$v("link","href",d).get(c+(a.href||""));if(g){for(var w=0;w<g.length;w++)if(p=g[w],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(w,1);break t}}p=d.createElement(c),jt(p,c,a),d.head.appendChild(p);break;case"meta":if(g=$v("meta","content",d).get(c+(a.content||""))){for(w=0;w<g.length;w++)if(p=g[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(w,1);break t}}p=d.createElement(c),jt(p,c,a),d.head.appendChild(p);break;default:throw Error(i(468,c))}p[Ot]=n,Tt(p),c=p}n.stateNode=c}else Fv(d,n.type,n.stateNode);else n.stateNode=qv(d,c,n.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?Fv(d,n.type,n.stateNode):qv(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Rf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Kt(s,n),Wt(n),c&512&&(pt||a===null||Wn(a,a.return)),a!==null&&c&4&&Rf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Kt(s,n),Wt(n),c&512&&(pt||a===null||Wn(a,a.return)),n.flags&32){d=n.stateNode;try{gi(d,"")}catch(J){Ge(n,n.return,J)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Rf(n,d,a!==null?a.memoizedProps:d)),c&1024&&(Mf=!0);break;case 6:if(Kt(s,n),Wt(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(J){Ge(n,n.return,J)}}break;case 3:if(Tc=null,d=In,In=Ec(s.containerInfo),Kt(s,n),In=d,Wt(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Yi(s.containerInfo)}catch(J){Ge(n,n.return,J)}Mf&&(Mf=!1,Fb(n));break;case 4:c=In,In=Ec(n.stateNode.containerInfo),Kt(s,n),Wt(n),In=c;break;case 12:Kt(s,n),Wt(n);break;case 31:Kt(s,n),Wt(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,cc(n,c)));break;case 13:Kt(s,n),Wt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=ye()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,cc(n,c)));break;case 22:d=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=hr,z=pt;if(hr=j||d,pt=z||x,Kt(s,n),pt=z,hr=j,Wt(n),c&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||x||hr||pt||Bs(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){x=a=s;try{if(p=x.stateNode,d)g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=x.stateNode;var q=x.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null;w.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(J){Ge(x,x.return,J)}}}else if(s.tag===6){if(a===null){x=s;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(J){Ge(x,x.return,J)}}}else if(s.tag===18){if(a===null){x=s;try{var D=x.stateNode;d?Mv(D,!0):Mv(x.stateNode,!1)}catch(J){Ge(x,x.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,cc(n,a))));break;case 19:Kt(s,n),Wt(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,cc(n,c)));break;case 30:break;case 21:break;default:Kt(s,n),Wt(n)}}function Wt(n){var s=n.flags;if(s&2){try{for(var a,c=n.return;c!==null;){if(Db(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,p=Nf(n);lc(n,p,d);break;case 5:var g=a.stateNode;a.flags&32&&(gi(g,""),a.flags&=-33);var w=Nf(n);lc(n,w,g);break;case 3:case 4:var x=a.stateNode.containerInfo,j=Nf(n);jf(n,j,x);break;default:throw Error(i(161))}}catch(z){Ge(n,n.return,z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Fb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Fb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function mr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zb(n,s.alternate,s),s=s.sibling}function Bs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gr(4,s,s.return),Bs(s);break;case 1:Wn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Mb(s,s.return,a),Bs(s);break;case 27:To(s.stateNode);case 26:case 5:Wn(s,s.return),Bs(s);break;case 22:s.memoizedState===null&&Bs(s);break;case 30:Bs(s);break;default:Bs(s)}n=n.sibling}}function gr(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=n,p=s,g=p.flags;switch(p.tag){case 0:case 11:case 15:gr(d,p,a),mo(4,p);break;case 1:if(gr(d,p,a),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){Ge(c,c.return,j)}if(c=p,d=c.updateQueue,d!==null){var w=c.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)Sy(x[d],w)}catch(j){Ge(c,c.return,j)}}a&&g&64&&jb(p),go(p,p.return);break;case 27:Lb(p);case 26:case 5:gr(d,p,a),a&&c===null&&g&4&&Ib(p),go(p,p.return);break;case 12:gr(d,p,a);break;case 31:gr(d,p,a),a&&g&4&&Pb(d,p);break;case 13:gr(d,p,a),a&&g&4&&qb(d,p);break;case 22:p.memoizedState===null&&gr(d,p,a),go(p,p.return);break;case 30:break;default:gr(d,p,a)}s=s.sibling}}function If(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&to(a))}function Df(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&to(n))}function Dn(n,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gb(n,s,a,c),s=s.sibling}function Gb(n,s,a,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Dn(n,s,a,c),d&2048&&mo(9,s);break;case 1:Dn(n,s,a,c);break;case 3:Dn(n,s,a,c),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&to(n)));break;case 12:if(d&2048){Dn(n,s,a,c),n=s.stateNode;try{var p=s.memoizedProps,g=p.id,w=p.onPostCommit;typeof w=="function"&&w(g,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){Ge(s,s.return,x)}}else Dn(n,s,a,c);break;case 31:Dn(n,s,a,c);break;case 13:Dn(n,s,a,c);break;case 23:break;case 22:p=s.stateNode,g=s.alternate,s.memoizedState!==null?p._visibility&2?Dn(n,s,a,c):yo(n,s):p._visibility&2?Dn(n,s,a,c):(p._visibility|=2,Li(n,s,a,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&If(g,s);break;case 24:Dn(n,s,a,c),d&2048&&Df(s.alternate,s);break;default:Dn(n,s,a,c)}}function Li(n,s,a,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,g=s,w=a,x=c,j=g.flags;switch(g.tag){case 0:case 11:case 15:Li(p,g,w,x,d),mo(8,g);break;case 23:break;case 22:var z=g.stateNode;g.memoizedState!==null?z._visibility&2?Li(p,g,w,x,d):yo(p,g):(z._visibility|=2,Li(p,g,w,x,d)),d&&j&2048&&If(g.alternate,g);break;case 24:Li(p,g,w,x,d),d&&j&2048&&Df(g.alternate,g);break;default:Li(p,g,w,x,d)}s=s.sibling}}function yo(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,c=s,d=c.flags;switch(c.tag){case 22:yo(a,c),d&2048&&If(c.alternate,c);break;case 24:yo(a,c),d&2048&&Df(c.alternate,c);break;default:yo(a,c)}s=s.sibling}}var bo=8192;function Ui(n,s,a){if(n.subtreeFlags&bo)for(n=n.child;n!==null;)Vb(n,s,a),n=n.sibling}function Vb(n,s,a){switch(n.tag){case 26:Ui(n,s,a),n.flags&bo&&n.memoizedState!==null&&Ik(a,In,n.memoizedState,n.memoizedProps);break;case 5:Ui(n,s,a);break;case 3:case 4:var c=In;In=Ec(n.stateNode.containerInfo),Ui(n,s,a),In=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=bo,bo=16777216,Ui(n,s,a),bo=c):Ui(n,s,a));break;default:Ui(n,s,a)}}function Yb(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function vo(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];kt=c,Wb(c,n)}Yb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kb(n),n=n.sibling}function Kb(n){switch(n.tag){case 0:case 11:case 15:vo(n),n.flags&2048&&Gr(9,n,n.return);break;case 3:vo(n);break;case 12:vo(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,uc(n)):vo(n);break;default:vo(n)}}function uc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];kt=c,Wb(c,n)}Yb(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gr(8,s,s.return),uc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,uc(s));break;default:uc(s)}n=n.sibling}}function Wb(n,s){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:to(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,kt=c;else e:for(a=n;kt!==null;){c=kt;var d=c.sibling,p=c.return;if(Bb(c),c===a){kt=null;break e}if(d!==null){d.return=p,kt=d;break e}kt=p}}}var W1={getCacheForType:function(n){var s=Rt(dt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Rt(dt).controller.signal}},X1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Xe=null,Oe=null,Re=0,Fe=0,cn=null,Vr=!1,zi=!1,Lf=!1,yr=0,at=0,Yr=0,Hs=0,Uf=0,un=0,Bi=0,_o=null,Xt=null,zf=!1,dc=0,Xb=0,fc=1/0,hc=null,Kr=null,bt=0,Wr=null,Hi=null,br=0,Bf=0,Hf=null,Jb=null,So=0,Pf=null;function dn(){return(qe&2)!==0&&Re!==0?Re&-Re:M.T!==null?Yf():hg()}function Qb(){if(un===0)if((Re&536870912)===0||Me){var n=Sl;Sl<<=1,(Sl&3932160)===0&&(Sl=262144),un=n}else un=536870912;return n=on.current,n!==null&&(n.flags|=32),un}function Jt(n,s,a){(n===Xe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(Pi(n,0),Xr(n,Re,un,!1)),Pa(n,a),((qe&2)===0||n!==Xe)&&(n===Xe&&((qe&2)===0&&(Hs|=a),at===4&&Xr(n,Re,un,!1)),Xn(n))}function Zb(n,s,a){if((qe&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Ha(n,s),d=c?Z1(n,s):$f(n,s,!0),p=c;do{if(d===0){zi&&!c&&Xr(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!J1(a)){d=$f(n,s,!1),p=!1;continue}if(d===2){if(p=s,n.errorRecoveryDisabledLanes&p)var g=0;else g=n.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var w=n;d=_o;var x=w.current.memoizedState.isDehydrated;if(x&&(Pi(w,g).flags|=256),g=$f(w,g,!1),g!==2){if(Lf&&!x){w.errorRecoveryDisabledLanes|=p,Hs|=p,d=4;break e}p=Xt,Xt=d,p!==null&&(Xt===null?Xt=p:Xt.push.apply(Xt,p))}d=g}if(p=!1,d!==2)continue}}if(d===1){Pi(n,0),Xr(n,s,0,!0);break}e:{switch(c=n,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Xr(c,s,un,!Vr);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=dc+300-ye(),10<d)){if(Xr(c,s,un,!Vr),El(c,0,!0)!==0)break e;br=s,c.timeoutHandle=Rv(ev.bind(null,c,a,Xt,hc,zf,s,un,Hs,Bi,Vr,p,"Throttled",-0,0),d);break e}ev(c,a,Xt,hc,zf,s,un,Hs,Bi,Vr,p,null,-0,0)}}break}while(!0);Xn(n)}function ev(n,s,a,c,d,p,g,w,x,j,z,q,I,D){if(n.timeoutHandle=-1,q=s.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rr},Vb(s,p,q);var J=(p&62914560)===p?dc-ye():(p&4194048)===p?Xb-ye():0;if(J=Dk(q,J),J!==null){br=p,n.cancelPendingCommit=J(lv.bind(null,n,s,p,a,c,d,g,w,x,z,q,null,I,D)),Xr(n,p,g,!j);return}}lv(n,s,p,a,c,d,g,w,x)}function J1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!sn(p(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xr(n,s,a,c){s&=~Uf,s&=~Hs,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var d=s;0<d;){var p=31-rn(d),g=1<<p;c[p]=-1,d&=~g}a!==0&&ug(n,a,s)}function pc(){return(qe&6)===0?(wo(0),!1):!0}function qf(){if(Oe!==null){if(Fe===0)var n=Oe.return;else n=Oe,or=Ns=null,rf(n),Ni=null,ro=0,n=Oe;for(;n!==null;)Nb(n.alternate,n),n=n.return;Oe=null}}function Pi(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,yk(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),br=0,qf(),Xe=n,Oe=a=ir(n.current,null),Re=s,Fe=0,cn=null,Vr=!1,zi=Ha(n,s),Lf=!1,Bi=un=Uf=Hs=Yr=at=0,Xt=_o=null,zf=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var d=31-rn(c),p=1<<d;s|=n[d],c&=~p}return yr=s,Dl(),a}function tv(n,s){Se=null,M.H=fo,s===Ri||s===$l?(s=yy(),Fe=3):s===Gd?(s=yy(),Fe=4):Fe=s===_f?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cn=s,Oe===null&&(at=1,rc(n,Sn(s,n.current)))}function nv(){var n=on.current;return n===null?!0:(Re&4194048)===Re?Tn===null:(Re&62914560)===Re||(Re&536870912)!==0?n===Tn:!1}function rv(){var n=M.H;return M.H=fo,n===null?fo:n}function sv(){var n=M.A;return M.A=W1,n}function mc(){at=4,Vr||(Re&4194048)!==Re&&on.current!==null||(zi=!0),(Yr&134217727)===0&&(Hs&134217727)===0||Xe===null||Xr(Xe,Re,un,!1)}function $f(n,s,a){var c=qe;qe|=2;var d=rv(),p=sv();(Xe!==n||Re!==s)&&(hc=null,Pi(n,s)),s=!1;var g=at;e:do try{if(Fe!==0&&Oe!==null){var w=Oe,x=cn;switch(Fe){case 8:qf(),g=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(s=!0);var j=Fe;if(Fe=0,cn=null,qi(n,w,x,j),a&&zi){g=0;break e}break;default:j=Fe,Fe=0,cn=null,qi(n,w,x,j)}}Q1(),g=at;break}catch(z){tv(n,z)}while(!0);return s&&n.shellSuspendCounter++,or=Ns=null,qe=c,M.H=d,M.A=p,Oe===null&&(Xe=null,Re=0,Dl()),g}function Q1(){for(;Oe!==null;)iv(Oe)}function Z1(n,s){var a=qe;qe|=2;var c=rv(),d=sv();Xe!==n||Re!==s?(hc=null,fc=ye()+500,Pi(n,s)):zi=Ha(n,s);e:do try{if(Fe!==0&&Oe!==null){s=Oe;var p=cn;t:switch(Fe){case 1:Fe=0,cn=null,qi(n,s,p,1);break;case 2:case 9:if(my(p)){Fe=0,cn=null,av(s);break}s=function(){Fe!==2&&Fe!==9||Xe!==n||(Fe=7),Xn(n)},p.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:my(p)?(Fe=0,cn=null,av(s)):(Fe=0,cn=null,qi(n,s,p,7));break;case 5:var g=null;switch(Oe.tag){case 26:g=Oe.memoizedState;case 5:case 27:var w=Oe;if(g?Gv(g):w.stateNode.complete){Fe=0,cn=null;var x=w.sibling;if(x!==null)Oe=x;else{var j=w.return;j!==null?(Oe=j,gc(j)):Oe=null}break t}}Fe=0,cn=null,qi(n,s,p,5);break;case 6:Fe=0,cn=null,qi(n,s,p,6);break;case 8:qf(),at=6;break e;default:throw Error(i(462))}}ek();break}catch(z){tv(n,z)}while(!0);return or=Ns=null,M.H=c,M.A=d,qe=a,Oe!==null?0:(Xe=null,Re=0,Dl(),at)}function ek(){for(;Oe!==null&&!Ae();)iv(Oe)}function iv(n){var s=Cb(n.alternate,n,yr);n.memoizedProps=n.pendingProps,s===null?gc(n):Oe=s}function av(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Eb(a,s,s.pendingProps,s.type,void 0,Re);break;case 11:s=Eb(a,s,s.pendingProps,s.type.render,s.ref,Re);break;case 5:rf(s);default:Nb(a,s),s=Oe=sy(s,yr),s=Cb(a,s,yr)}n.memoizedProps=n.pendingProps,s===null?gc(n):Oe=s}function qi(n,s,a,c){or=Ns=null,rf(s),Ni=null,ro=0;var d=s.return;try{if(q1(n,d,s,a,Re)){at=1,rc(n,Sn(a,n.current)),Oe=null;return}}catch(p){if(d!==null)throw Oe=d,p;at=1,rc(n,Sn(a,n.current)),Oe=null;return}s.flags&32768?(Me||c===1?n=!0:zi||(Re&536870912)!==0?n=!1:(Vr=n=!0,(c===2||c===9||c===3||c===6)&&(c=on.current,c!==null&&c.tag===13&&(c.flags|=16384))),ov(s,n)):gc(s)}function gc(n){var s=n;do{if((s.flags&32768)!==0){ov(s,Vr);return}n=s.return;var a=G1(s.alternate,s,yr);if(a!==null){Oe=a;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=n}while(s!==null);at===0&&(at=5)}function ov(n,s){do{var a=V1(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);at=6,Oe=null}function lv(n,s,a,c,d,p,g,w,x){n.cancelPendingCommit=null;do yc();while(bt!==0);if((qe&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Rd,MT(n,a,p,g,w,x),n===Xe&&(Oe=Xe=null,Re=0),Hi=s,Wr=n,br=a,Bf=p,Hf=d,Jb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,sk(vl,function(){return hv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,d=$.p,$.p=2,g=qe,qe|=4;try{Y1(n,s,a)}finally{qe=g,$.p=d,M.T=c}}bt=1,cv(),uv(),dv()}}function cv(){if(bt===1){bt=0;var n=Wr,s=Hi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var c=$.p;$.p=2;var d=qe;qe|=4;try{$b(s,n);var p=th,g=Wg(n.containerInfo),w=p.focusedElem,x=p.selectionRange;if(g!==w&&w&&w.ownerDocument&&Kg(w.ownerDocument.documentElement,w)){if(x!==null&&Td(w)){var j=x.start,z=x.end;if(z===void 0&&(z=j),"selectionStart"in w)w.selectionStart=j,w.selectionEnd=Math.min(z,w.value.length);else{var q=w.ownerDocument||document,I=q&&q.defaultView||window;if(I.getSelection){var D=I.getSelection(),J=w.textContent.length,de=Math.min(x.start,J),We=x.end===void 0?de:Math.min(x.end,J);!D.extend&&de>We&&(g=We,We=de,de=g);var O=Yg(w,de),k=Yg(w,We);if(O&&k&&(D.rangeCount!==1||D.anchorNode!==O.node||D.anchorOffset!==O.offset||D.focusNode!==k.node||D.focusOffset!==k.offset)){var N=q.createRange();N.setStart(O.node,O.offset),D.removeAllRanges(),de>We?(D.addRange(N),D.extend(k.node,k.offset)):(N.setEnd(k.node,k.offset),D.addRange(N))}}}}for(q=[],D=w;D=D.parentNode;)D.nodeType===1&&q.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<q.length;w++){var H=q[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Cc=!!eh,th=eh=null}finally{qe=d,$.p=c,M.T=a}}n.current=s,bt=2}}function uv(){if(bt===2){bt=0;var n=Wr,s=Hi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var c=$.p;$.p=2;var d=qe;qe|=4;try{zb(n,s.alternate,s)}finally{qe=d,$.p=c,M.T=a}}bt=3}}function dv(){if(bt===4||bt===3){bt=0,yt();var n=Wr,s=Hi,a=br,c=Jb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bt=5:(bt=0,Hi=Wr=null,fv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Kr=null),ad(a),s=s.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ba,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=M.T,d=$.p,$.p=2,M.T=null;try{for(var p=n.onRecoverableError,g=0;g<c.length;g++){var w=c[g];p(w.value,{componentStack:w.stack})}}finally{M.T=s,$.p=d}}(br&3)!==0&&yc(),Xn(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===Pf?So++:(So=0,Pf=n):So=0,wo(0)}}function fv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,to(s)))}function yc(){return cv(),uv(),dv(),hv()}function hv(){if(bt!==5)return!1;var n=Wr,s=Bf;Bf=0;var a=ad(br),c=M.T,d=$.p;try{$.p=32>a?32:a,M.T=null,a=Hf,Hf=null;var p=Wr,g=br;if(bt=0,Hi=Wr=null,br=0,(qe&6)!==0)throw Error(i(331));var w=qe;if(qe|=4,Kb(p.current),Gb(p,p.current,g,a),qe=w,wo(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ba,p)}catch{}return!0}finally{$.p=d,M.T=c,fv(n,s)}}function pv(n,s,a){s=Sn(a,s),s=vf(n.stateNode,s,2),n=qr(n,s,2),n!==null&&(Pa(n,2),Xn(n))}function Ge(n,s,a){if(n.tag===3)pv(n,n,a);else for(;s!==null;){if(s.tag===3){pv(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kr===null||!Kr.has(c))){n=Sn(a,n),a=mb(2),c=qr(s,a,2),c!==null&&(gb(a,c,s,n),Pa(c,2),Xn(c));break}}s=s.return}}function Ff(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new X1;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(Lf=!0,d.add(a),n=tk.bind(null,n,s,a),s.then(n,n))}function tk(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Re&a)===a&&(at===4||at===3&&(Re&62914560)===Re&&300>ye()-dc?(qe&2)===0&&Pi(n,0):Uf|=a,Bi===Re&&(Bi=0)),Xn(n)}function mv(n,s){s===0&&(s=cg()),n=Os(n,s),n!==null&&(Pa(n,s),Xn(n))}function nk(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),mv(n,a)}function rk(n,s){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),mv(n,a)}function sk(n,s){return je(n,s)}var bc=null,$i=null,Gf=!1,vc=!1,Vf=!1,Jr=0;function Xn(n){n!==$i&&n.next===null&&($i===null?bc=$i=n:$i=$i.next=n),vc=!0,Gf||(Gf=!0,ak())}function wo(n,s){if(!Vf&&vc){Vf=!0;do for(var a=!1,c=bc;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var g=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-rn(42|n)+1)-1,p&=d&~(g&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,vv(c,p))}else p=Re,p=El(c,c===Xe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Ha(c,p)||(a=!0,vv(c,p));c=c.next}while(a);Vf=!1}}function ik(){gv()}function gv(){vc=Gf=!1;var n=0;Jr!==0&&gk()&&(n=Jr);for(var s=ye(),a=null,c=bc;c!==null;){var d=c.next,p=yv(c,s);p===0?(c.next=null,a===null?bc=d:a.next=d,d===null&&($i=a)):(a=c,(n!==0||(p&3)!==0)&&(vc=!0)),c=d}bt!==0&&bt!==5||wo(n),Jr!==0&&(Jr=0)}function yv(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var g=31-rn(p),w=1<<g,x=d[g];x===-1?((w&a)===0||(w&c)!==0)&&(d[g]=jT(w,s)):x<=s&&(n.expiredLanes|=w),p&=~w}if(s=Xe,a=Re,a=El(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Ut(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ha(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(c!==null&&Ut(c),ad(a)){case 2:case 8:a=og;break;case 32:a=vl;break;case 268435456:a=lg;break;default:a=vl}return c=bv.bind(null,n),a=je(a,c),n.callbackPriority=s,n.callbackNode=a,s}return c!==null&&c!==null&&Ut(c),n.callbackPriority=2,n.callbackNode=null,2}function bv(n,s){if(bt!==0&&bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(yc()&&n.callbackNode!==a)return null;var c=Re;return c=El(n,n===Xe?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Zb(n,c,s),yv(n,ye()),n.callbackNode!=null&&n.callbackNode===a?bv.bind(null,n):null)}function vv(n,s){if(yc())return null;Zb(n,s,!0)}function ak(){bk(function(){(qe&6)!==0?je(ag,ik):gv()})}function Yf(){if(Jr===0){var n=Oi;n===0&&(n=_l,_l<<=1,(_l&261888)===0&&(_l=256)),Jr=n}return Jr}function _v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Al(""+n)}function Sv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function ok(n,s,a,c,d){if(s==="submit"&&a&&a.stateNode===d){var p=_v((d[Gt]||null).action),g=c.submitter;g&&(s=(s=g[Gt]||null)?_v(s.formAction):g.getAttribute("formAction"),s!==null&&(p=s,g=null));var w=new Nl("action","action",null,c,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Jr!==0){var x=g?Sv(d,g):new FormData(d);hf(a,{pending:!0,data:x,method:d.method,action:p},null,x)}}else typeof p=="function"&&(w.preventDefault(),x=g?Sv(d,g):new FormData(d),hf(a,{pending:!0,data:x,method:d.method,action:p},p,x))},currentTarget:d}]})}}for(var Kf=0;Kf<Cd.length;Kf++){var Wf=Cd[Kf],lk=Wf.toLowerCase(),ck=Wf[0].toUpperCase()+Wf.slice(1);Mn(lk,"on"+ck)}Mn(Qg,"onAnimationEnd"),Mn(Zg,"onAnimationIteration"),Mn(ey,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(T1,"onTransitionRun"),Mn(k1,"onTransitionStart"),Mn(A1,"onTransitionCancel"),Mn(ty,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function wv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var g=c.length-1;0<=g;g--){var w=c[g],x=w.instance,j=w.currentTarget;if(w=w.listener,x!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=j;try{p(d)}catch(z){Il(z)}d.currentTarget=null,p=x}else for(g=0;g<c.length;g++){if(w=c[g],x=w.instance,j=w.currentTarget,w=w.listener,x!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=j;try{p(d)}catch(z){Il(z)}d.currentTarget=null,p=x}}}}function Ce(n,s){var a=s[od];a===void 0&&(a=s[od]=new Set);var c=n+"__bubble";a.has(c)||(Ev(s,n,2,!1),a.add(c))}function Xf(n,s,a){var c=0;s&&(c|=4),Ev(a,n,c,s)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Jf(n){if(!n[_c]){n[_c]=!0,gg.forEach(function(a){a!=="selectionchange"&&(uk.has(a)||Xf(a,!1,n),Xf(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[_c]||(s[_c]=!0,Xf("selectionchange",!1,s))}}function Ev(n,s,a,c){switch(Qv(s)){case 2:var d=zk;break;case 8:d=Bk;break;default:d=fh}a=d.bind(null,s,a,n),d=void 0,!gd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Qf(n,s,a,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var w=c.stateNode.containerInfo;if(w===d)break;if(g===4)for(g=c.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===d)return;g=g.return}for(;w!==null;){if(g=di(w),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){c=p=g;continue e}w=w.parentNode}}c=c.return}Og(function(){var j=p,z=pd(a),q=[];e:{var I=ny.get(n);if(I!==void 0){var D=Nl,J=n;switch(n){case"keypress":if(Cl(a)===0)break e;case"keydown":case"keyup":D=r1;break;case"focusin":J="focus",D=_d;break;case"focusout":J="blur",D=_d;break;case"beforeblur":case"afterblur":D=_d;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=GT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=a1;break;case Qg:case Zg:case ey:D=KT;break;case ty:D=l1;break;case"scroll":case"scrollend":D=$T;break;case"wheel":D=u1;break;case"copy":case"cut":case"paste":D=XT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Mg;break;case"toggle":case"beforetoggle":D=f1}var de=(s&4)!==0,We=!de&&(n==="scroll"||n==="scrollend"),O=de?I!==null?I+"Capture":null:I;de=[];for(var k=j,N;k!==null;){var H=k;if(N=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||N===null||O===null||(H=Fa(k,O),H!=null&&de.push(xo(k,H,N))),We)break;k=k.return}0<de.length&&(I=new D(I,J,null,a,z),q.push({event:I,listeners:de}))}}if((s&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",D=n==="mouseout"||n==="pointerout",I&&a!==hd&&(J=a.relatedTarget||a.fromElement)&&(di(J)||J[ui]))break e;if((D||I)&&(I=z.window===z?z:(I=z.ownerDocument)?I.defaultView||I.parentWindow:window,D?(J=a.relatedTarget||a.toElement,D=j,J=J?di(J):null,J!==null&&(We=l(J),de=J.tag,J!==We||de!==5&&de!==27&&de!==6)&&(J=null)):(D=null,J=j),D!==J)){if(de=Ng,H="onMouseLeave",O="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(de=Mg,H="onPointerLeave",O="onPointerEnter",k="pointer"),We=D==null?I:$a(D),N=J==null?I:$a(J),I=new de(H,k+"leave",D,a,z),I.target=We,I.relatedTarget=N,H=null,di(z)===j&&(de=new de(O,k+"enter",J,a,z),de.target=N,de.relatedTarget=We,H=de),We=H,D&&J)t:{for(de=dk,O=D,k=J,N=0,H=O;H;H=de(H))N++;H=0;for(var oe=k;oe;oe=de(oe))H++;for(;0<N-H;)O=de(O),N--;for(;0<H-N;)k=de(k),H--;for(;N--;){if(O===k||k!==null&&O===k.alternate){de=O;break t}O=de(O),k=de(k)}de=null}else de=null;D!==null&&xv(q,I,D,de,!1),J!==null&&We!==null&&xv(q,We,J,de,!0)}}e:{if(I=j?$a(j):window,D=I.nodeName&&I.nodeName.toLowerCase(),D==="select"||D==="input"&&I.type==="file")var He=Pg;else if(Bg(I))if(qg)He=w1;else{He=_1;var te=v1}else D=I.nodeName,!D||D.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?j&&fd(j.elementType)&&(He=Pg):He=S1;if(He&&(He=He(n,j))){Hg(q,He,a,z);break e}te&&te(n,I,j),n==="focusout"&&j&&I.type==="number"&&j.memoizedProps.value!=null&&dd(I,"number",I.value)}switch(te=j?$a(j):window,n){case"focusin":(Bg(te)||te.contentEditable==="true")&&(_i=te,kd=j,Qa=null);break;case"focusout":Qa=kd=_i=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Xg(q,a,z);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":Xg(q,a,z)}var we;if(wd)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else vi?Ug(n,a)&&(Ne="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ig&&a.locale!=="ko"&&(vi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&vi&&(we=Cg()):(Dr=z,yd="value"in Dr?Dr.value:Dr.textContent,vi=!0)),te=Sc(j,Ne),0<te.length&&(Ne=new jg(Ne,n,null,a,z),q.push({event:Ne,listeners:te}),we?Ne.data=we:(we=zg(a),we!==null&&(Ne.data=we)))),(we=p1?m1(n,a):g1(n,a))&&(Ne=Sc(j,"onBeforeInput"),0<Ne.length&&(te=new jg("onBeforeInput","beforeinput",null,a,z),q.push({event:te,listeners:Ne}),te.data=we)),ok(q,n,j,a,z)}wv(q,s)})}function xo(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Sc(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Fa(n,a),d!=null&&c.unshift(xo(n,d,p)),d=Fa(n,s),d!=null&&c.push(xo(n,d,p))),n.tag===3)return c;n=n.return}return[]}function dk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xv(n,s,a,c,d){for(var p=s._reactName,g=[];a!==null&&a!==c;){var w=a,x=w.alternate,j=w.stateNode;if(w=w.tag,x!==null&&x===c)break;w!==5&&w!==26&&w!==27||j===null||(x=j,d?(j=Fa(a,p),j!=null&&g.unshift(xo(a,j,x))):d||(j=Fa(a,p),j!=null&&g.push(xo(a,j,x)))),a=a.return}g.length!==0&&n.push({event:s,listeners:g})}var fk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function Tv(n){return(typeof n=="string"?n:""+n).replace(fk,`
`).replace(hk,"")}function kv(n,s){return s=Tv(s),Tv(n)===s}function Ke(n,s,a,c,d,p){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||gi(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&gi(n,""+c);break;case"className":Tl(n,"class",c);break;case"tabIndex":Tl(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(n,a,c);break;case"style":kg(n,c,p);break;case"data":if(s!=="object"){Tl(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Al(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&Ke(n,s,"name",d.name,d,null),Ke(n,s,"formEncType",d.formEncType,d,null),Ke(n,s,"formMethod",d.formMethod,d,null),Ke(n,s,"formTarget",d.formTarget,d,null)):(Ke(n,s,"encType",d.encType,d,null),Ke(n,s,"method",d.method,d,null),Ke(n,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Al(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=rr);break;case"onScroll":c!=null&&Ce("scroll",n);break;case"onScrollEnd":c!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=Al(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),xl(n,"popover",c);break;case"xlinkActuate":nr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":nr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":nr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":nr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":nr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":nr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":nr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":nr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":nr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xl(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=PT.get(a)||a,xl(n,a,c))}}function Zf(n,s,a,c,d,p){switch(a){case"style":kg(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof c=="string"?gi(n,c):(typeof c=="number"||typeof c=="bigint")&&gi(n,""+c);break;case"onScroll":c!=null&&Ce("scroll",n);break;case"onScrollEnd":c!=null&&Ce("scrollend",n);break;case"onClick":c!=null&&(n.onclick=rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),p=n[Gt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,c,d);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):xl(n,a,c)}}}function jt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var c=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var g=a[p];if(g!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,p,g,a,null)}}d&&Ke(n,s,"srcSet",a.srcSet,a,null),c&&Ke(n,s,"src",a.src,a,null);return;case"input":Ce("invalid",n);var w=p=g=d=null,x=null,j=null;for(c in a)if(a.hasOwnProperty(c)){var z=a[c];if(z!=null)switch(c){case"name":d=z;break;case"type":g=z;break;case"checked":x=z;break;case"defaultChecked":j=z;break;case"value":p=z;break;case"defaultValue":w=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:Ke(n,s,c,z,a,null)}}wg(n,p,w,x,j,g,d,!1);return;case"select":Ce("invalid",n),c=g=p=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":p=w;break;case"defaultValue":g=w;break;case"multiple":c=w;default:Ke(n,s,d,w,a,null)}s=p,a=g,n.multiple=!!c,s!=null?mi(n,!!c,s,!1):a!=null&&mi(n,!!c,a,!0);return;case"textarea":Ce("invalid",n),p=d=c=null;for(g in a)if(a.hasOwnProperty(g)&&(w=a[g],w!=null))switch(g){case"value":c=w;break;case"defaultValue":d=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Ke(n,s,g,w,a,null)}xg(n,c,d,p);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(c=a[x],c!=null))switch(x){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ke(n,s,x,c,a,null)}return;case"dialog":Ce("beforetoggle",n),Ce("toggle",n),Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(c=0;c<Eo.length;c++)Ce(Eo[c],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(c=a[j],c!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,j,c,a,null)}return;default:if(fd(s)){for(z in a)a.hasOwnProperty(z)&&(c=a[z],c!==void 0&&Zf(n,s,z,c,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(c=a[w],c!=null&&Ke(n,s,w,c,a,null))}function pk(n,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,g=null,w=null,x=null,j=null,z=null;for(D in a){var q=a[D];if(a.hasOwnProperty(D)&&q!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":x=q;default:c.hasOwnProperty(D)||Ke(n,s,D,null,c,q)}}for(var I in c){var D=c[I];if(q=a[I],c.hasOwnProperty(I)&&(D!=null||q!=null))switch(I){case"type":p=D;break;case"name":d=D;break;case"checked":j=D;break;case"defaultChecked":z=D;break;case"value":g=D;break;case"defaultValue":w=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,s));break;default:D!==q&&Ke(n,s,I,D,c,q)}}ud(n,g,w,x,j,z,p,d);return;case"select":D=g=w=I=null;for(p in a)if(x=a[p],a.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":D=x;default:c.hasOwnProperty(p)||Ke(n,s,p,null,c,x)}for(d in c)if(p=c[d],x=a[d],c.hasOwnProperty(d)&&(p!=null||x!=null))switch(d){case"value":I=p;break;case"defaultValue":w=p;break;case"multiple":g=p;default:p!==x&&Ke(n,s,d,p,c,x)}s=w,a=g,c=D,I!=null?mi(n,!!a,I,!1):!!c!=!!a&&(s!=null?mi(n,!!a,s,!0):mi(n,!!a,a?[]:"",!1));return;case"textarea":D=I=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ke(n,s,w,null,c,d)}for(g in c)if(d=c[g],p=a[g],c.hasOwnProperty(g)&&(d!=null||p!=null))switch(g){case"value":I=d;break;case"defaultValue":D=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Ke(n,s,g,d,c,p)}Eg(n,I,D);return;case"option":for(var J in a)if(I=a[J],a.hasOwnProperty(J)&&I!=null&&!c.hasOwnProperty(J))switch(J){case"selected":n.selected=!1;break;default:Ke(n,s,J,null,c,I)}for(x in c)if(I=c[x],D=a[x],c.hasOwnProperty(x)&&I!==D&&(I!=null||D!=null))switch(x){case"selected":n.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ke(n,s,x,I,c,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)I=a[de],a.hasOwnProperty(de)&&I!=null&&!c.hasOwnProperty(de)&&Ke(n,s,de,null,c,I);for(j in c)if(I=c[j],D=a[j],c.hasOwnProperty(j)&&I!==D&&(I!=null||D!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,s));break;default:Ke(n,s,j,I,c,D)}return;default:if(fd(s)){for(var We in a)I=a[We],a.hasOwnProperty(We)&&I!==void 0&&!c.hasOwnProperty(We)&&Zf(n,s,We,void 0,c,I);for(z in c)I=c[z],D=a[z],!c.hasOwnProperty(z)||I===D||I===void 0&&D===void 0||Zf(n,s,z,I,c,D);return}}for(var O in a)I=a[O],a.hasOwnProperty(O)&&I!=null&&!c.hasOwnProperty(O)&&Ke(n,s,O,null,c,I);for(q in c)I=c[q],D=a[q],!c.hasOwnProperty(q)||I===D||I==null&&D==null||Ke(n,s,q,I,c,D)}function Av(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var d=a[c],p=d.transferSize,g=d.initiatorType,w=d.duration;if(p&&w&&Av(g)){for(g=0,w=d.responseEnd,c+=1;c<a.length;c++){var x=a[c],j=x.startTime;if(j>w)break;var z=x.transferSize,q=x.initiatorType;z&&Av(q)&&(x=x.responseEnd,g+=z*(x<w?1:(w-j)/(x-j)))}if(--c,s+=8*(p+g)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var eh=null,th=null;function wc(n){return n.nodeType===9?n:n.ownerDocument}function Ov(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function nh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rh=null;function gk(){var n=window.event;return n&&n.type==="popstate"?n===rh?!1:(rh=n,!0):(rh=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,yk=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,bk=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(n){return Nv.resolve(null).then(n).catch(vk)}:Rv;function vk(n){setTimeout(function(){throw n})}function Qr(n){return n==="head"}function jv(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(d),Yi(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")To(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,To(a);for(var p=a.firstChild;p;){var g=p.nextSibling,w=p.nodeName;p[qa]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=g}}else a==="body"&&To(n.ownerDocument.body);a=d}while(a);Yi(s)}function Mv(n,s){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function sh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sh(a),ld(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function _k(n,s,a,c){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[qa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=kn(n.nextSibling),n===null)break}return null}function Sk(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=kn(n.nextSibling),n===null))return null;return n}function Iv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=kn(n.nextSibling),n===null))return null;return n}function ih(n){return n.data==="$?"||n.data==="$~"}function ah(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function wk(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function kn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var oh=null;function Dv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return kn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function Lv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function Uv(n,s,a){switch(s=wc(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function To(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ld(n)}var An=new Map,zv=new Set;function Ec(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vr=$.d;$.d={f:Ek,r:xk,D:Tk,C:kk,L:Ak,m:Ok,X:Rk,S:Ck,M:Nk};function Ek(){var n=vr.f(),s=pc();return n||s}function xk(n){var s=fi(n);s!==null&&s.tag===5&&s.type==="form"?tb(s):vr.r(n)}var Fi=typeof document>"u"?null:document;function Bv(n,s,a){var c=Fi;if(c&&typeof s=="string"&&s){var d=vn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),zv.has(d)||(zv.add(d),n={rel:n,crossOrigin:a,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),jt(s,"link",n),Tt(s),c.head.appendChild(s)))}}function Tk(n){vr.D(n),Bv("dns-prefetch",n,null)}function kk(n,s){vr.C(n,s),Bv("preconnect",n,s)}function Ak(n,s,a){vr.L(n,s,a);var c=Fi;if(c&&n&&s){var d='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+vn(a.imageSizes)+'"]')):d+='[href="'+vn(n)+'"]';var p=d;switch(s){case"style":p=Gi(n);break;case"script":p=Vi(n)}An.has(p)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),An.set(p,n),c.querySelector(d)!==null||s==="style"&&c.querySelector(ko(p))||s==="script"&&c.querySelector(Ao(p))||(s=c.createElement("link"),jt(s,"link",n),Tt(s),c.head.appendChild(s)))}}function Ok(n,s){vr.m(n,s);var a=Fi;if(a&&n){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vi(n)}if(!An.has(p)&&(n=v({rel:"modulepreload",href:n},s),An.set(p,n),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ao(p)))return}c=a.createElement("link"),jt(c,"link",n),Tt(c),a.head.appendChild(c)}}}function Ck(n,s,a){vr.S(n,s,a);var c=Fi;if(c&&n){var d=hi(c).hoistableStyles,p=Gi(n);s=s||"default";var g=d.get(p);if(!g){var w={loading:0,preload:null};if(g=c.querySelector(ko(p)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=An.get(p))&&lh(n,a);var x=g=c.createElement("link");Tt(x),jt(x,"link",n),x._p=new Promise(function(j,z){x.onload=j,x.onerror=z}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,xc(g,s,c)}g={type:"stylesheet",instance:g,count:1,state:w},d.set(p,g)}}}function Rk(n,s){vr.X(n,s);var a=Fi;if(a&&n){var c=hi(a).hoistableScripts,d=Vi(n),p=c.get(d);p||(p=a.querySelector(Ao(d)),p||(n=v({src:n,async:!0},s),(s=An.get(d))&&ch(n,s),p=a.createElement("script"),Tt(p),jt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Nk(n,s){vr.M(n,s);var a=Fi;if(a&&n){var c=hi(a).hoistableScripts,d=Vi(n),p=c.get(d);p||(p=a.querySelector(Ao(d)),p||(n=v({src:n,async:!0,type:"module"},s),(s=An.get(d))&&ch(n,s),p=a.createElement("script"),Tt(p),jt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Hv(n,s,a,c){var d=(d=xt.current)?Ec(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Gi(a.href),a=hi(d).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Gi(a.href);var p=hi(d).hoistableStyles,g=p.get(n);if(g||(d=d.ownerDocument||d,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,g),(p=d.querySelector(ko(n)))&&!p._p&&(g.instance=p,g.state.loading=5),An.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(n,a),p||jk(d,n,a,g.state))),s&&c===null)throw Error(i(528,""));return g}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vi(a),a=hi(d).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Gi(n){return'href="'+vn(n)+'"'}function ko(n){return'link[rel="stylesheet"]['+n+"]"}function Pv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function jk(n,s,a,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),jt(s,"link",a),Tt(s),n.head.appendChild(s))}function Vi(n){return'[src="'+vn(n)+'"]'}function Ao(n){return"script[async]"+n}function qv(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+vn(a.href)+'"]');if(c)return s.instance=c,Tt(c),c;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Tt(c),jt(c,"style",d),xc(c,a.precedence,n),s.instance=c;case"stylesheet":d=Gi(a.href);var p=n.querySelector(ko(d));if(p)return s.state.loading|=4,s.instance=p,Tt(p),p;c=Pv(a),(d=An.get(d))&&lh(c,d),p=(n.ownerDocument||n).createElement("link"),Tt(p);var g=p;return g._p=new Promise(function(w,x){g.onload=w,g.onerror=x}),jt(p,"link",c),s.state.loading|=4,xc(p,a.precedence,n),s.instance=p;case"script":return p=Vi(a.src),(d=n.querySelector(Ao(p)))?(s.instance=d,Tt(d),d):(c=a,(d=An.get(p))&&(c=v({},a),ch(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Tt(d),jt(d,"link",c),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,xc(c,a.precedence,n));return s.instance}function xc(n,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,g=0;g<c.length;g++){var w=c[g];if(w.dataset.precedence===s)p=w;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function lh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function ch(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Tc=null;function $v(n,s,a){if(Tc===null){var c=new Map,d=Tc=new Map;d.set(a,c)}else d=Tc,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var p=a[d];if(!(p[qa]||p[Ot]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var g=p.getAttribute(s)||"";g=n+g;var w=c.get(g);w?w.push(p):c.set(g,[p])}}return c}function Fv(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Mk(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Ik(n,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Gi(c.href),p=s.querySelector(ko(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=kc.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,Tt(p);return}p=s.ownerDocument||s,c=Pv(c),(d=An.get(d))&&lh(c,d),p=p.createElement("link"),Tt(p);var g=p;g._p=new Promise(function(w,x){g.onload=w,g.onerror=x}),jt(p,"link",c),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=kc.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var uh=0;function Dk(n,s){return n.stylesheets&&n.count===0&&Oc(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&Oc(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&uh===0&&(uh=62500*mk());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Oc(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>uh?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ac=null;function Oc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ac=new Map,s.forEach(Lk,n),Ac=null,kc.call(n))}function Lk(n,s){if(!(s.state.loading&4)){var a=Ac.get(n);if(a)var c=a.get(null);else{a=new Map,Ac.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var g=d[p];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),c=g)}c&&a.set(null,c)}d=s.instance,g=d.getAttribute("data-precedence"),p=a.get(g)||c,p===c&&a.set(null,d),a.set(g,d),this.count++,c=kc.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Oo={$$typeof:R,Provider:null,Consumer:null,_currentValue:C,_currentValue2:C,_threadCount:0};function Uk(n,s,a,c,d,p,g,w,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.hiddenUpdates=sd(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Vv(n,s,a,c,d,p,g,w,x,j,z,q){return n=new Uk(n,s,a,g,x,j,z,q,w),s=1,p===!0&&(s|=24),p=an(3,null,null,s),n.current=p,p.stateNode=n,s=qd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:s},Vd(p),n}function Yv(n){return n?(n=Ei,n):Ei}function Kv(n,s,a,c,d,p){d=Yv(d),c.context===null?c.context=d:c.pendingContext=d,c=Pr(s),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=qr(n,c,s),a!==null&&(Jt(a,n,s),io(a,n,s))}function Wv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function dh(n,s){Wv(n,s),(n=n.alternate)&&Wv(n,s)}function Xv(n){if(n.tag===13||n.tag===31){var s=Os(n,67108864);s!==null&&Jt(s,n,67108864),dh(n,67108864)}}function Jv(n){if(n.tag===13||n.tag===31){var s=dn();s=id(s);var a=Os(n,s);a!==null&&Jt(a,n,s),dh(n,s)}}var Cc=!0;function zk(n,s,a,c){var d=M.T;M.T=null;var p=$.p;try{$.p=2,fh(n,s,a,c)}finally{$.p=p,M.T=d}}function Bk(n,s,a,c){var d=M.T;M.T=null;var p=$.p;try{$.p=8,fh(n,s,a,c)}finally{$.p=p,M.T=d}}function fh(n,s,a,c){if(Cc){var d=hh(c);if(d===null)Qf(n,s,c,Rc,a),Zv(n,c);else if(Pk(d,n,s,a,c))c.stopPropagation();else if(Zv(n,c),s&4&&-1<Hk.indexOf(n)){for(;d!==null;){var p=fi(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var g=Es(p.pendingLanes);if(g!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var x=1<<31-rn(g);w.entanglements[1]|=x,g&=~x}Xn(p),(qe&6)===0&&(fc=ye()+500,wo(0))}}break;case 31:case 13:w=Os(p,2),w!==null&&Jt(w,p,2),pc(),dh(p,2)}if(p=hh(c),p===null&&Qf(n,s,c,Rc,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Qf(n,s,c,null,a)}}function hh(n){return n=pd(n),ph(n)}var Rc=null;function ph(n){if(Rc=null,n=di(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=f(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Rc=n,null}function Qv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case ag:return 2;case og:return 8;case vl:case kT:return 32;case lg:return 268435456;default:return 32}default:return 32}}var mh=!1,Zr=null,es=null,ts=null,Co=new Map,Ro=new Map,ns=[],Hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(n,s){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Co.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(s.pointerId)}}function No(n,s,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=fi(s),s!==null&&Xv(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Pk(n,s,a,c,d){switch(s){case"focusin":return Zr=No(Zr,n,s,a,c,d),!0;case"dragenter":return es=No(es,n,s,a,c,d),!0;case"mouseover":return ts=No(ts,n,s,a,c,d),!0;case"pointerover":var p=d.pointerId;return Co.set(p,No(Co.get(p)||null,n,s,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Ro.set(p,No(Ro.get(p)||null,n,s,a,c,d)),!0}return!1}function e_(n){var s=di(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,pg(n.priority,function(){Jv(a)});return}}else if(s===31){if(s=f(a),s!==null){n.blockedOn=s,pg(n.priority,function(){Jv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=hh(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);hd=c,a.target.dispatchEvent(c),hd=null}else return s=fi(a),s!==null&&Xv(s),n.blockedOn=a,!1;s.shift()}return!0}function t_(n,s,a){Nc(n)&&a.delete(s)}function qk(){mh=!1,Zr!==null&&Nc(Zr)&&(Zr=null),es!==null&&Nc(es)&&(es=null),ts!==null&&Nc(ts)&&(ts=null),Co.forEach(t_),Ro.forEach(t_)}function jc(n,s){n.blockedOn===s&&(n.blockedOn=null,mh||(mh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qk)))}var Mc=null;function n_(n){Mc!==n&&(Mc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mc===n&&(Mc=null);for(var s=0;s<n.length;s+=3){var a=n[s],c=n[s+1],d=n[s+2];if(typeof c!="function"){if(ph(c||a)===null)continue;break}var p=fi(a);p!==null&&(n.splice(s,3),s-=3,hf(p,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function Yi(n){function s(x){return jc(x,n)}Zr!==null&&jc(Zr,n),es!==null&&jc(es,n),ts!==null&&jc(ts,n),Co.forEach(s),Ro.forEach(s);for(var a=0;a<ns.length;a++){var c=ns[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&ns.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],p=a[c+1],g=d[Gt]||null;if(typeof p=="function")g||n_(a);else if(g){var w=null;if(p&&p.hasAttribute("formAction")){if(d=p,g=p[Gt]||null)w=g.formAction;else if(ph(d)!==null)continue}else w=g.action;typeof w=="function"?a[c+1]=w:(a.splice(c,3),c-=3),n_(a)}}}function r_(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(g){return d=g})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function gh(n){this._internalRoot=n}Ic.prototype.render=gh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=dn();Kv(a,c,n,s,null,null)},Ic.prototype.unmount=gh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Kv(n.current,2,null,n,null,null),pc(),s[ui]=null}};function Ic(n){this._internalRoot=n}Ic.prototype.unstable_scheduleHydration=function(n){if(n){var s=hg();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ns.length&&s!==0&&s<ns[a].priority;a++);ns.splice(a,0,n),a===0&&e_(n)}};var s_=e.version;if(s_!=="19.2.0")throw Error(i(527,s_,"19.2.0"));$.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var $k={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Ba=Dc.inject($k),nn=Dc}catch{}}return jo.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,c="",d=db,p=fb,g=hb;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=Vv(n,1,!1,null,null,a,c,null,d,p,g,r_),n[ui]=s.current,Jf(n),new gh(s)},jo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var c=!1,d="",p=db,g=fb,w=hb,x=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),s=Vv(n,1,!0,s,a??null,c,d,x,p,g,w,r_),s.context=Yv(null),a=s.current,c=dn(),c=id(c),d=Pr(c),d.callback=null,qr(a,d,c),a=c,s.current.lanes=a,Pa(s,a),Xn(s),n[ui]=s.current,Jf(n),new Ic(s)},jo.version="19.2.0",jo}var u_;function OA(){if(u_)return yh.exports;u_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yh.exports=AA(),yh.exports}var CA=OA();const se=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Le=globalThis,Qs="10.25.0";function ai(){return Pu(Le),Le}function Pu(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Qs,e[Qs]=e[Qs]||{}}function Ea(t,e,r=Le){const i=r.__SENTRY__=r.__SENTRY__||{},o=i[Qs]=i[Qs]||{};return o[t]||(o[t]=e())}const RA=["debug","info","warn","error","log","assert","trace"],NA="Sentry Logger ",gu={};function oi(t){if(!("console"in Le))return t();const e=Le.console,r={},i=Object.keys(gu);i.forEach(o=>{const l=gu[o];r[o]=e[o],e[o]=l});try{return t()}finally{i.forEach(o=>{e[o]=r[o]})}}function jA(){Zp().enabled=!0}function MA(){Zp().enabled=!1}function LS(){return Zp().enabled}function IA(...t){Qp("log",...t)}function DA(...t){Qp("warn",...t)}function LA(...t){Qp("error",...t)}function Qp(t,...e){se&&LS()&&oi(()=>{Le.console[t](`${NA}[${t}]:`,...e)})}function Zp(){return se?Ea("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Y={enable:jA,disable:MA,isEnabled:LS,log:IA,warn:DA,error:LA},US=50,ni="?",d_=/\(error: (.*)\)/,f_=/captureMessage|captureException/;function zS(...t){const e=t.sort((r,i)=>r[0]-i[0]).map(r=>r[1]);return(r,i=0,o=0)=>{const l=[],u=r.split(`
`);for(let f=i;f<u.length;f++){let h=u[f];h.length>1024&&(h=h.slice(0,1024));const m=d_.test(h)?h.replace(d_,"$1"):h;if(!m.match(/\S*Error: /)){for(const y of e){const v=y(m);if(v){l.push(v);break}}if(l.length>=US+o)break}}return zA(l.slice(o))}}function UA(t){return Array.isArray(t)?zS(...t):t}function zA(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Lc(e).function||"")&&e.pop(),e.reverse(),f_.test(Lc(e).function||"")&&(e.pop(),f_.test(Lc(e).function||"")&&e.pop()),e.slice(0,US).map(r=>({...r,filename:r.filename||Lc(e).filename,function:r.function||ni}))}function Lc(t){return t[t.length-1]||{}}const _h="<anonymous>";function Or(t){try{return!t||typeof t!="function"?_h:t.name||_h}catch{return _h}}function h_(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(i=>{i.stacktrace.frames&&r.push(...i.stacktrace.frames)}),r}catch{return}}}const au={},p_={};function ps(t,e){au[t]=au[t]||[],au[t].push(e)}function ms(t,e){if(!p_[t]){p_[t]=!0;try{e()}catch(r){se&&Y.error(`Error while instrumenting ${t}`,r)}}}function Cn(t,e){const r=t&&au[t];if(r)for(const i of r)try{i(e)}catch(o){se&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Or(i)}
Error:`,o)}}let Sh=null;function BS(t){const e="error";ps(e,t),ms(e,BA)}function BA(){Sh=Le.onerror,Le.onerror=function(t,e,r,i,o){return Cn("error",{column:i,error:o,line:r,msg:t,url:e}),Sh?Sh.apply(this,arguments):!1},Le.onerror.__SENTRY_INSTRUMENTED__=!0}let wh=null;function HS(t){const e="unhandledrejection";ps(e,t),ms(e,HA)}function HA(){wh=Le.onunhandledrejection,Le.onunhandledrejection=function(t){return Cn("unhandledrejection",t),wh?wh.apply(this,arguments):!0},Le.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const PS=Object.prototype.toString;function em(t){switch(PS.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Cr(t,Error)}}function xa(t,e){return PS.call(t)===`[object ${e}]`}function qS(t){return xa(t,"ErrorEvent")}function m_(t){return xa(t,"DOMError")}function PA(t){return xa(t,"DOMException")}function xr(t){return xa(t,"String")}function tm(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function fa(t){return t===null||tm(t)||typeof t!="object"&&typeof t!="function"}function Go(t){return xa(t,"Object")}function qu(t){return typeof Event<"u"&&Cr(t,Event)}function qA(t){return typeof Element<"u"&&Cr(t,Element)}function $A(t){return xa(t,"RegExp")}function Ta(t){return!!(t?.then&&typeof t.then=="function")}function FA(t){return Go(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Cr(t,e){try{return t instanceof e}catch{return!1}}function $S(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function FS(t){return typeof Request<"u"&&Cr(t,Request)}const nm=Le,GA=80;function en(t,e={}){if(!t)return"<unknown>";try{let r=t;const i=5,o=[];let l=0,u=0;const f=" > ",h=f.length;let m;const y=Array.isArray(e)?e:e.keyAttrs,v=!Array.isArray(e)&&e.maxStringLength||GA;for(;r&&l++<i&&(m=VA(r,y),!(m==="html"||l>1&&u+o.length*h+m.length>=v));)o.push(m),u+=m.length,r=r.parentNode;return o.reverse().join(f)}catch{return"<unknown>"}}function VA(t,e){const r=t,i=[];if(!r?.tagName)return"";if(nm.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}i.push(r.tagName.toLowerCase());const o=e?.length?e.filter(u=>r.getAttribute(u)).map(u=>[u,r.getAttribute(u)]):null;if(o?.length)o.forEach(u=>{i.push(`[${u[0]}="${u[1]}"]`)});else{r.id&&i.push(`#${r.id}`);const u=r.className;if(u&&xr(u)){const f=u.split(/\s+/);for(const h of f)i.push(`.${h}`)}}const l=["aria-label","type","name","title","alt"];for(const u of l){const f=r.getAttribute(u);f&&i.push(`[${u}="${f}"]`)}return i.join("")}function ka(){try{return nm.document.location.href}catch{return""}}function GS(t){if(!nm.HTMLElement)return null;let e=t;const r=5;for(let i=0;i<r;i++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Zt(t,e,r){if(!(e in t))return;const i=t[e];if(typeof i!="function")return;const o=r(i);typeof o=="function"&&VS(o,i);try{t[e]=o}catch{se&&Y.log(`Failed to replace method "${e}" in object`,t)}}function yn(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{se&&Y.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function VS(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,yn(t,"__sentry_original__",e)}catch{}}function rm(t){return t.__sentry_original__}function YS(t){if(em(t))return{message:t.message,name:t.name,stack:t.stack,...y_(t)};if(qu(t)){const e={type:t.type,target:g_(t.target),currentTarget:g_(t.currentTarget),...y_(t)};return typeof CustomEvent<"u"&&Cr(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function g_(t){try{return qA(t)?en(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function y_(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function YA(t){const e=Object.keys(YS(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}function KS(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function b_(t,e){if(!Array.isArray(t))return"";const r=[];for(let i=0;i<t.length;i++){const o=t[i];try{$S(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function ou(t,e,r=!1){return xr(t)?$A(e)?e.test(t):xr(e)?r?t===e:t.includes(e):!1:!1}function Tr(t,e=[],r=!1){return e.some(i=>ou(t,i,r))}function KA(){const t=Le;return t.crypto||t.msCrypto}let Eh;function WA(){return Math.random()*16}function gn(t=KA()){try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return Eh||(Eh="10000000100040008000"+1e11),Eh.replace(/[018]/g,e=>(e^(WA()&15)>>e/4).toString(16))}function WS(t){return t.exception?.values?.[0]}function Vs(t){const{message:e,event_id:r}=t;if(e)return e;const i=WS(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||r||"<unknown>":r||"<unknown>"}function tp(t,e,r){const i=t.exception=t.exception||{},o=i.values=i.values||[],l=o[0]=o[0]||{};l.value||(l.value=e||""),l.type||(l.type="Error")}function ha(t,e){const r=WS(t);if(!r)return;const i={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...i,...o,...e},e&&"data"in e){const l={...o?.data,...e.data};r.mechanism.data=l}}function v_(t){if(XA(t))return!0;try{yn(t,"__sentry_captured__",!0)}catch{}return!1}function XA(t){try{return t.__sentry_captured__}catch{}}const XS=1e3;function li(){return Date.now()/XS}function JA(){const{performance:t}=Le;if(!t?.now||!t.timeOrigin)return li;const e=t.timeOrigin;return()=>(e+t.now())/XS}let __;function At(){return(__??(__=JA()))()}let xh;function QA(){const{performance:t}=Le;if(!t?.now)return[void 0,"none"];const e=3600*1e3,r=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-i):e,l=o<e,u=t.timing?.navigationStart,h=typeof u=="number"?Math.abs(u+r-i):e,m=h<e;return l||m?o<=h?[t.timeOrigin,"timeOrigin"]:[u,"navigationStart"]:[i,"dateNow"]}function tn(){return xh||(xh=QA()),xh[0]}function ZA(t){const e=At(),r={sid:gn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>tO(r)};return t&&pa(r,t),r}function pa(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||At(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:gn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function eO(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),pa(t,r)}function tO(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function rl(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const i={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=rl(i[o],e[o],r-1));return i}function Rr(){return gn()}function kr(){return gn().substring(16)}const np="_sentrySpan";function ma(t,e){e?yn(t,np,e):delete t[np]}function yu(t){return t[np]}const nO=100;class Qn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Rr(),sampleRand:Math.random()}}clone(){const e=new Qn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ma(e,yu(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&pa(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,i=r instanceof Qn?r.getScopeData():Go(r)?e:void 0,{tags:o,extra:l,user:u,contexts:f,level:h,fingerprint:m=[],propagationContext:y}=i||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...l},this._contexts={...this._contexts,...f},u&&Object.keys(u).length&&(this._user=u),h&&(this._level=h),m.length&&(this._fingerprint=m),y&&(this._propagationContext=y),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ma(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Rr(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const i=typeof r=="number"?r:nO;if(i<=0)return this;const o={timestamp:li(),...e,message:e.message?KS(e.message,2048):e.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:yu(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=rl(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const i=r?.event_id||gn();if(!this._client)return se&&Y.warn("No client configured on scope - will not capture exception!"),i;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:i},this),i}captureMessage(e,r,i){const o=i?.event_id||gn();if(!this._client)return se&&Y.warn("No client configured on scope - will not capture message!"),o;const l=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:l,...i,event_id:o},this),o}captureEvent(e,r){const i=r?.event_id||gn();return this._client?(this._client.captureEvent(e,{...r,event_id:i},this),i):(se&&Y.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function rO(){return Ea("defaultCurrentScope",()=>new Qn)}function sO(){return Ea("defaultIsolationScope",()=>new Qn)}class iO{constructor(e,r){let i;e?i=e:i=new Qn;let o;r?o=r:o=new Qn,this._stack=[{scope:i}],this._isolationScope=o}withScope(e){const r=this._pushScope();let i;try{i=e(r)}catch(o){throw this._popScope(),o}return Ta(i)?i.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ga(){const t=ai(),e=Pu(t);return e.stack=e.stack||new iO(rO(),sO())}function aO(t){return ga().withScope(t)}function oO(t,e){const r=ga();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function S_(t){return ga().withScope(()=>t(ga().getIsolationScope()))}function lO(){return{withIsolationScope:S_,withScope:aO,withSetScope:oO,withSetIsolationScope:(t,e)=>S_(e),getCurrentScope:()=>ga().getScope(),getIsolationScope:()=>ga().getIsolationScope()}}function Aa(t){const e=Pu(t);return e.acs?e.acs:lO()}function Ve(){const t=ai();return Aa(t).getCurrentScope()}function tr(){const t=ai();return Aa(t).getIsolationScope()}function cO(){return Ea("globalScope",()=>new Qn)}function sl(...t){const e=ai(),r=Aa(e);if(t.length===2){const[i,o]=t;return i?r.withSetScope(i,o):r.withScope(o)}return r.withScope(t[0])}function Ie(){return Ve().getClient()}function uO(t){const e=t.getPropagationContext(),{traceId:r,parentSpanId:i,propagationSpanId:o}=e,l={trace_id:r,span_id:o||kr()};return i&&(l.parent_span_id=i),l}const Fn="sentry.source",sm="sentry.sample_rate",JS="sentry.previous_trace_sample_rate",Nr="sentry.op",Et="sentry.origin",Vo="sentry.idle_span_finish_reason",il="sentry.measurement_unit",al="sentry.measurement_value",w_="sentry.custom_span_name",im="sentry.profile_id",Oa="sentry.exclusive_time",dO="sentry.link.type",fO=0,QS=1,St=2;function hO(t){if(t<400&&t>=100)return{code:QS};if(t>=400&&t<500)switch(t){case 401:return{code:St,message:"unauthenticated"};case 403:return{code:St,message:"permission_denied"};case 404:return{code:St,message:"not_found"};case 409:return{code:St,message:"already_exists"};case 413:return{code:St,message:"failed_precondition"};case 429:return{code:St,message:"resource_exhausted"};case 499:return{code:St,message:"cancelled"};default:return{code:St,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:St,message:"unimplemented"};case 503:return{code:St,message:"unavailable"};case 504:return{code:St,message:"deadline_exceeded"};default:return{code:St,message:"internal_error"}}return{code:St,message:"internal_error"}}function ZS(t,e){t.setAttribute("http.response.status_code",e);const r=hO(e);r.message!=="unknown_error"&&t.setStatus(r)}const ew="_sentryScope",tw="_sentryIsolationScope";function pO(t){try{const e=Le.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}function mO(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function gO(t,e,r){t&&(yn(t,tw,pO(r)),yn(t,ew,e))}function bu(t){const e=t;return{scope:e[ew],isolationScope:mO(e[tw])}}const am="sentry-",yO=/^sentry-/,bO=8192;function nw(t){const e=_O(t);if(!e)return;const r=Object.entries(e).reduce((i,[o,l])=>{if(o.match(yO)){const u=o.slice(am.length);i[u]=l}return i},{});if(Object.keys(r).length>0)return r}function vO(t){if(!t)return;const e=Object.entries(t).reduce((r,[i,o])=>(o&&(r[`${am}${i}`]=o),r),{});return SO(e)}function _O(t){if(!(!t||!xr(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{const i=E_(r);return Object.entries(i).forEach(([o,l])=>{e[o]=l}),e},{}):E_(t)}function E_(t){return t.split(",").map(e=>{const r=e.indexOf("=");if(r===-1)return[];const i=e.slice(0,r),o=e.slice(r+1);return[i,o].map(l=>{try{return decodeURIComponent(l.trim())}catch{return}})}).reduce((e,[r,i])=>(r&&i&&(e[r]=i),e),{})}function SO(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,i],o)=>{const l=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`,u=o===0?l:`${e},${l}`;return u.length>bO?(se&&Y.warn(`Not adding key: ${r} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):u},"")}const wO=/^o(\d+)\./,EO=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function xO(t){return t==="http"||t==="https"}function Ca(t,e=!1){const{host:r,path:i,pass:o,port:l,projectId:u,protocol:f,publicKey:h}=t;return`${f}://${h}${e&&o?`:${o}`:""}@${r}${l?`:${l}`:""}/${i&&`${i}/`}${u}`}function TO(t){const e=EO.exec(t);if(!e){oi(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[r,i,o="",l="",u="",f=""]=e.slice(1);let h="",m=f;const y=m.split("/");if(y.length>1&&(h=y.slice(0,-1).join("/"),m=y.pop()),m){const v=m.match(/^\d+/);v&&(m=v[0])}return rw({host:l,pass:o,path:h,projectId:m,port:u,protocol:r,publicKey:i})}function rw(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function kO(t){if(!se)return!0;const{port:e,projectId:r,protocol:i}=t;return["protocol","publicKey","host","projectId"].find(u=>t[u]?!1:(Y.error(`Invalid Sentry Dsn: ${u} missing`),!0))?!1:r.match(/^\d+$/)?xO(i)?e&&isNaN(parseInt(e,10))?(Y.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Y.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(Y.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function AO(t){return t.match(wO)?.[1]}function OO(t){const e=t.getOptions(),{host:r}=t.getDsn()||{};let i;return e.orgId?i=String(e.orgId):r&&(i=AO(r)),i}function CO(t){const e=typeof t=="string"?TO(t):rw(t);if(!(!e||!kO(e)))return e}function ri(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const sw=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function RO(t){if(!t)return;const e=t.match(sw);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function NO(t,e){const r=RO(t),i=nw(e);if(!r?.traceId)return{traceId:Rr(),sampleRand:Math.random()};const o=jO(r,i);i&&(i.sample_rand=o.toString());const{traceId:l,parentSpanId:u,parentSampled:f}=r;return{traceId:l,parentSpanId:u,sampled:f,dsc:i||{},sampleRand:o}}function iw(t=Rr(),e=kr(),r){let i="";return r!==void 0&&(i=r?"-1":"-0"),`${t}-${e}${i}`}function aw(t=Rr(),e=kr(),r){return`00-${t}-${e}-${r?"01":"00"}`}function jO(t,e){const r=ri(e?.sample_rand);if(r!==void 0)return r;const i=ri(e?.sample_rate);return i&&t?.parentSampled!==void 0?t.parentSampled?Math.random()*i:i+Math.random()*(1-i):Math.random()}const ow=0,om=1;let x_=!1;function MO(t){const{spanId:e,traceId:r}=t.spanContext(),{data:i,op:o,parent_span_id:l,status:u,origin:f,links:h}=ze(t);return{parent_span_id:l,span_id:e,trace_id:r,data:i,op:o,status:u,origin:f,links:h}}function IO(t){const{spanId:e,traceId:r,isRemote:i}=t.spanContext(),o=i?e:ze(t).parent_span_id,l=bu(t).scope,u=i?l?.getPropagationContext().propagationSpanId||kr():e;return{parent_span_id:o,span_id:u,trace_id:r}}function DO(t){const{traceId:e,spanId:r}=t.spanContext(),i=gs(t);return iw(e,r,i)}function LO(t){const{traceId:e,spanId:r}=t.spanContext(),i=gs(t);return aw(e,r,i)}function lw(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:r,traceFlags:i,...o},attributes:l})=>({span_id:e,trace_id:r,sampled:i===om,attributes:l,...o}))}function Zs(t){return typeof t=="number"?T_(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?T_(t.getTime()):At()}function T_(t){return t>9999999999?t/1e3:t}function ze(t){if(zO(t))return t.getSpanJSON();const{spanId:e,traceId:r}=t.spanContext();if(UO(t)){const{attributes:i,startTime:o,name:l,endTime:u,status:f,links:h}=t,m="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:r,data:i,description:l,parent_span_id:m,start_timestamp:Zs(o),timestamp:Zs(u)||void 0,status:cw(f),op:i[Nr],origin:i[Et],links:lw(h)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function UO(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function zO(t){return typeof t.getSpanJSON=="function"}function gs(t){const{traceFlags:e}=t.spanContext();return e===om}function cw(t){if(!(!t||t.code===fO))return t.code===QS?"ok":t.message||"internal_error"}const ei="_sentryChildSpans",rp="_sentryRootSpan";function uw(t,e){const r=t[rp]||t;yn(e,rp,r),t[ei]?t[ei].add(e):yn(t,ei,new Set([e]))}function BO(t,e){t[ei]&&t[ei].delete(e)}function lu(t){const e=new Set;function r(i){if(!e.has(i)&&gs(i)){e.add(i);const o=i[ei]?Array.from(i[ei]):[];for(const l of o)r(l)}}return r(t),Array.from(e)}function Dt(t){return t[rp]||t}function qt(){const t=ai(),e=Aa(t);return e.getActiveSpan?e.getActiveSpan():yu(Ve())}function sp(){x_||(oi(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),x_=!0)}let k_=!1;function HO(){if(k_)return;function t(){const e=qt(),r=e&&Dt(e);if(r){const i="internal_error";se&&Y.log(`[Tracing] Root span: ${i} -> Global error occurred`),r.setStatus({code:St,message:i})}}t.tag="sentry_tracingErrorCallback",k_=!0,BS(t),HS(t)}function Gn(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||Ie()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function A_(t){Y.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function vu(t,e){if(!e?.length||!t.description)return!1;for(const r of e){if(qO(r)){if(ou(t.description,r))return se&&A_(t),!0;continue}if(!r.name&&!r.op)continue;const i=r.name?ou(t.description,r.name):!0,o=r.op?t.op&&ou(t.op,r.op):!0;if(i&&o)return se&&A_(t),!0}return!1}function PO(t,e){const r=e.parent_span_id,i=e.span_id;if(r)for(const o of t)o.parent_span_id===i&&(o.parent_span_id=r)}function qO(t){return typeof t=="string"||t instanceof RegExp}const lm="production",dw="_frozenDsc";function cu(t,e){yn(t,dw,e)}function fw(t,e){const r=e.getOptions(),{publicKey:i}=e.getDsn()||{},o={environment:r.environment||lm,release:r.release,public_key:i,trace_id:t,org_id:OO(e)};return e.emit("createDsc",o),o}function hw(t,e){const r=e.getPropagationContext();return r.dsc||fw(r.traceId,t)}function jr(t){const e=Ie();if(!e)return{};const r=Dt(t),i=ze(r),o=i.data,l=r.spanContext().traceState,u=l?.get("sentry.sample_rate")??o[sm]??o[JS];function f(E){return(typeof u=="number"||typeof u=="string")&&(E.sample_rate=`${u}`),E}const h=r[dw];if(h)return f(h);const m=l?.get("sentry.dsc"),y=m&&nw(m);if(y)return f(y);const v=fw(t.spanContext().traceId,e),_=o[Fn],S=i.description;return _!=="url"&&S&&(v.transaction=S),Gn()&&(v.sampled=String(gs(r)),v.sample_rand=l?.get("sentry.sample_rand")??bu(r).scope?.getPropagationContext().sampleRand.toString()),f(v),e.emit("createDsc",v,r),v}class ds{constructor(e={}){this._traceId=e.traceId||Rr(),this._spanId=e.spanId||kr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:ow}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,i){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}}function Hn(t,e=100,r=1/0){try{return ip("",t,e,r)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function pw(t,e=3,r=100*1024){const i=Hn(t,e);return VO(i)>r?pw(t,e-1,r):i}function ip(t,e,r=1/0,i=1/0,o=YO()){const[l,u]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const f=$O(t,e);if(!f.startsWith("[object "))return f;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(h===0)return f.replace("object ","");if(l(e))return"[Circular ~]";const m=e;if(m&&typeof m.toJSON=="function")try{const S=m.toJSON();return ip("",S,h-1,i,o)}catch{}const y=Array.isArray(e)?[]:{};let v=0;const _=YS(e);for(const S in _){if(!Object.prototype.hasOwnProperty.call(_,S))continue;if(v>=i){y[S]="[MaxProperties ~]";break}const E=_[S];y[S]=ip(S,E,h-1,i,o),v++}return u(e),y}function $O(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if($S(e))return"[VueViewModel]";if(FA(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Or(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=FO(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function FO(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function GO(t){return~-encodeURI(t).split(/%..|./).length}function VO(t){return GO(JSON.stringify(t))}function YO(){const t=new WeakSet;function e(i){return t.has(i)?!0:(t.add(i),!1)}function r(i){t.delete(i)}return[e,r]}function ys(t,e=[]){return[t,e]}function KO(t,e){const[r,i]=t;return[r,[...i,e]]}function O_(t,e){const r=t[1];for(const i of r){const o=i[0].type;if(e(i,o))return!0}return!1}function ap(t){const e=Pu(Le);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function WO(t){const[e,r]=t;let i=JSON.stringify(e);function o(l){typeof i=="string"?i=typeof l=="string"?i+l:[ap(i),l]:i.push(typeof l=="string"?ap(l):l)}for(const l of r){const[u,f]=l;if(o(`
${JSON.stringify(u)}
`),typeof f=="string"||f instanceof Uint8Array)o(f);else{let h;try{h=JSON.stringify(f)}catch{h=JSON.stringify(Hn(f))}o(h)}}return typeof i=="string"?i:XO(i)}function XO(t){const e=t.reduce((o,l)=>o+l.length,0),r=new Uint8Array(e);let i=0;for(const o of t)r.set(o,i),i+=o.length;return r}function JO(t){return[{type:"span"},t]}function QO(t){const e=typeof t.data=="string"?ap(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const ZO={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function C_(t){return ZO[t]}function cm(t){if(!t?.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function mw(t,e,r,i){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&i&&{dsn:Ca(i)},...o&&{trace:o}}}function eC(t,e){if(!e)return t;const r=t.sdk||{};return t.sdk={...r,name:r.name||e.name,version:r.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}function tC(t,e,r,i){const o=cm(r),l={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!i&&e&&{dsn:Ca(e)}},u="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return ys(l,[u])}function nC(t,e,r,i){const o=cm(r),l=t.type&&t.type!=="replay_event"?t.type:"event";eC(t,r?.sdk);const u=mw(t,o,i,e);return delete t.sdkProcessingMetadata,ys(u,[[{type:l},t]])}function rC(t,e){function r(S){return!!S.trace_id&&!!S.public_key}const i=jr(t[0]),o=e?.getDsn(),l=e?.getOptions().tunnel,u={sent_at:new Date().toISOString(),...r(i)&&{trace:i},...!!l&&o&&{dsn:Ca(o)}},{beforeSendSpan:f,ignoreSpans:h}=e?.getOptions()||{},m=h?.length?t.filter(S=>!vu(ze(S),h)):t,y=t.length-m.length;y&&e?.recordDroppedEvent("before_send","span",y);const v=f?S=>{const E=ze(S),T=f(E);return T||(sp(),E)}:ze,_=[];for(const S of m){const E=v(S);E&&_.push(JO(E))}return ys(u,_)}function sC(t){if(!se)return;const{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:i}=ze(t),{spanId:o}=t.spanContext(),l=gs(t),u=Dt(t),f=u===t,h=`[Tracing] Starting ${l?"sampled":"unsampled"} ${f?"root ":""}span`,m=[`op: ${r}`,`name: ${e}`,`ID: ${o}`];if(i&&m.push(`parent ID: ${i}`),!f){const{op:y,description:v}=ze(u);m.push(`root ID: ${u.spanContext().spanId}`),y&&m.push(`root op: ${y}`),v&&m.push(`root description: ${v}`)}Y.log(`${h}
  ${m.join(`
  `)}`)}function iC(t){if(!se)return;const{description:e="< unknown name >",op:r="< unknown op >"}=ze(t),{spanId:i}=t.spanContext(),l=Dt(t)===t,u=`[Tracing] Finishing "${r}" ${l?"root ":""}span "${e}" with ID ${i}`;Y.log(u)}function aC(t,e,r,i=qt()){const o=i&&Dt(i);o&&(se&&Y.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),o.addEvent(t,{[al]:e,[il]:r}))}function R_(t){if(!t||t.length===0)return;const e={};return t.forEach(r=>{const i=r.attributes||{},o=i[il],l=i[al];typeof o=="string"&&typeof l=="number"&&(e[r.name]={value:l,unit:o})}),e}const N_=1e3;class $u{constructor(e={}){this._traceId=e.traceId||Rr(),this._spanId=e.spanId||kr(),this._startTime=e.startTimestamp||At(),this._links=e.links,this._attributes={},this.setAttributes({[Et]:"manual",[Nr]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,r){}spanContext(){const{_spanId:e,_traceId:r,_sampled:i}=this;return{spanId:e,traceId:r,traceFlags:i?om:ow}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=Zs(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Fn,"custom"),this}end(e){this._endTime||(this._endTime=Zs(e),iC(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Nr],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:cw(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Et],profile_id:this._attributes[im],exclusive_time:this._attributes[Oa],measurements:R_(this._events),is_segment:this._isStandaloneSpan&&Dt(this)===this||void 0,segment_id:this._isStandaloneSpan?Dt(this).spanContext().spanId:void 0,links:lw(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,i){se&&Y.log("[Tracing] Adding an event to span:",e);const o=j_(r)?r:i||At(),l=j_(r)?{}:r||{},u={name:e,time:Zs(o),attributes:l};return this._events.push(u),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Ie();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Dt(this)))return;if(this._isStandaloneSpan){this._sampled?lC(rC([this],e)):(se&&Y.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const i=this._convertSpanToTransaction();i&&(bu(this).scope||Ve()).captureEvent(i)}_convertSpanToTransaction(){if(!M_(ze(this)))return;this._name||(se&&Y.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:r}=bu(this),i=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const l=lu(this).filter(y=>y!==this&&!oC(y)).map(y=>ze(y)).filter(M_),u=this._attributes[Fn];delete this._attributes[w_],l.forEach(y=>{delete y.data[w_]});const f={contexts:{trace:MO(this)},spans:l.length>N_?l.sort((y,v)=>y.start_timestamp-v.start_timestamp).slice(0,N_):l,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,dynamicSamplingContext:jr(this)},request:i,...u&&{transaction_info:{source:u}}},h=R_(this._events);return h&&Object.keys(h).length&&(se&&Y.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),f.measurements=h),f}}function j_(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function M_(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function oC(t){return t instanceof $u&&t.isStandaloneSpan()}function lC(t){const e=Ie();if(!e)return;const r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function cC(t,e,r=()=>{},i=()=>{}){let o;try{o=t()}catch(l){throw e(l),r(),l}return uC(o,e,r,i)}function uC(t,e,r,i){return Ta(t)?t.then(o=>(r(),i(o),o),o=>{throw e(o),r(),o}):(r(),i(t),t)}function dC(t,e,r){if(!Gn(t))return[!1];let i,o;typeof t.tracesSampler=="function"?(o=t.tracesSampler({...e,inheritOrSampleWith:f=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):f}),i=!0):e.parentSampled!==void 0?o=e.parentSampled:typeof t.tracesSampleRate<"u"&&(o=t.tracesSampleRate,i=!0);const l=ri(o);if(l===void 0)return se&&Y.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!l)return se&&Y.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,l,i];const u=r<l;return u||se&&Y.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[u,l,i]}const gw="__SENTRY_SUPPRESS_TRACING__";function fC(t,e){const r=dm();if(r.startSpan)return r.startSpan(t,e);const i=bw(t),{forceTransaction:o,parentSpan:l,scope:u}=t,f=u?.clone();return sl(f,()=>pC(l)(()=>{const m=Ve(),y=vw(m,l),_=t.onlyIfParent&&!y?new ds:yw({parentSpan:y,spanArguments:i,forceTransaction:o,scope:m});return ma(m,_),cC(()=>e(_),()=>{const{status:S}=ze(_);_.isRecording()&&(!S||S==="ok")&&_.setStatus({code:St,message:"internal_error"})},()=>{_.end()})}))}function Ra(t){const e=dm();if(e.startInactiveSpan)return e.startInactiveSpan(t);const r=bw(t),{forceTransaction:i,parentSpan:o}=t;return(t.scope?u=>sl(t.scope,u):o!==void 0?u=>um(o,u):u=>u())(()=>{const u=Ve(),f=vw(u,o);return t.onlyIfParent&&!f?new ds:yw({parentSpan:f,spanArguments:r,forceTransaction:i,scope:u})})}function um(t,e){const r=dm();return r.withActiveSpan?r.withActiveSpan(t,e):sl(i=>(ma(i,t||void 0),e(i)))}function yw({parentSpan:t,spanArguments:e,forceTransaction:r,scope:i}){if(!Gn()){const u=new ds;if(r||!t){const f={sampled:"false",sample_rate:"0",transaction:e.name,...jr(u)};cu(u,f)}return u}const o=tr();let l;if(t&&!r)l=hC(t,i,e),uw(t,l);else if(t){const u=jr(t),{traceId:f,spanId:h}=t.spanContext(),m=gs(t);l=I_({traceId:f,parentSpanId:h,...e},i,m),cu(l,u)}else{const{traceId:u,dsc:f,parentSpanId:h,sampled:m}={...o.getPropagationContext(),...i.getPropagationContext()};l=I_({traceId:u,parentSpanId:h,...e},i,m),f&&cu(l,f)}return sC(l),gO(l,i,o),l}function bw(t){const r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const i={...r};return i.startTimestamp=Zs(t.startTime),delete i.startTime,i}return r}function dm(){const t=ai();return Aa(t)}function I_(t,e,r){const i=Ie(),o=i?.getOptions()||{},{name:l=""}=t,u={spanAttributes:{...t.attributes},spanName:l,parentSampled:r};i?.emit("beforeSampling",u,{decision:!1});const f=u.parentSampled??r,h=u.spanAttributes,m=e.getPropagationContext(),[y,v,_]=e.getScopeData().sdkProcessingMetadata[gw]?[!1]:dC(o,{name:l,parentSampled:f,attributes:h,parentSampleRate:ri(m.dsc?.sample_rate)},m.sampleRand),S=new $u({...t,attributes:{[Fn]:"custom",[sm]:v!==void 0&&_?v:void 0,...h},sampled:y});return!y&&i&&(se&&Y.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),i.recordDroppedEvent("sample_rate","transaction")),i&&i.emit("spanStart",S),S}function hC(t,e,r){const{spanId:i,traceId:o}=t.spanContext(),l=e.getScopeData().sdkProcessingMetadata[gw]?!1:gs(t),u=l?new $u({...r,parentSpanId:i,traceId:o,sampled:l}):new ds({traceId:o});uw(t,u);const f=Ie();return f&&(f.emit("spanStart",u),r.endTimestamp&&f.emit("spanEnd",u)),u}function vw(t,e){if(e)return e;if(e===null)return;const r=yu(t);if(!r)return;const i=Ie();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?Dt(r):r}function pC(t){return t!==void 0?e=>um(t,e):e=>e()}const uu={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},mC="heartbeatFailed",gC="idleTimeout",yC="finalTimeout",bC="externalFinish";function _w(t,e={}){const r=new Map;let i=!1,o,l=bC,u=!e.disableAutoFinish;const f=[],{idleTimeout:h=uu.idleTimeout,finalTimeout:m=uu.finalTimeout,childSpanTimeout:y=uu.childSpanTimeout,beforeSpanEnd:v,trimIdleSpanEndTimestamp:_=!0}=e,S=Ie();if(!S||!Gn()){const L=new ds,P={sample_rate:"0",sampled:"false",...jr(L)};return cu(L,P),L}const E=Ve(),T=qt(),A=vC(t);A.end=new Proxy(A.end,{apply(L,P,ce){if(v&&v(A),P instanceof ds)return;const[W,...ee]=ce,le=W||At(),he=Zs(le),Te=lu(A).filter(V=>V!==A),ke=ze(A);if(!Te.length||!_)return G(he),Reflect.apply(L,P,[he,...ee]);const M=S.getOptions().ignoreSpans,$=Te?.reduce((V,ve)=>{const ue=ze(ve);return!ue.timestamp||M&&vu(ue,M)?V:V?Math.max(V,ue.timestamp):ue.timestamp},void 0),C=ke.start_timestamp,re=Math.min(C?C+m/1e3:1/0,Math.max(C||-1/0,Math.min(he,$||1/0)));return G(re),Reflect.apply(L,P,[re,...ee])}});function U(){o&&(clearTimeout(o),o=void 0)}function B(L){U(),o=setTimeout(()=>{!i&&r.size===0&&u&&(l=gC,A.end(L))},h)}function R(L){o=setTimeout(()=>{!i&&u&&(l=mC,A.end(L))},y)}function F(L){U(),r.set(L,!0);const P=At();R(P+y/1e3)}function K(L){if(r.has(L)&&r.delete(L),r.size===0){const P=At();B(P+h/1e3)}}function G(L){i=!0,r.clear(),f.forEach(he=>he()),ma(E,T);const P=ze(A),{start_timestamp:ce}=P;if(!ce)return;P.data[Vo]||A.setAttribute(Vo,l),Y.log(`[Tracing] Idle span "${P.op}" finished`);const ee=lu(A).filter(he=>he!==A);let le=0;ee.forEach(he=>{he.isRecording()&&(he.setStatus({code:St,message:"cancelled"}),he.end(L),se&&Y.log("[Tracing] Cancelling span since span ended early",JSON.stringify(he,void 0,2)));const Te=ze(he),{timestamp:ke=0,start_timestamp:M=0}=Te,$=M<=L,C=(m+h)/1e3,re=ke-M<=C;if(se){const V=JSON.stringify(he,void 0,2);$?re||Y.log("[Tracing] Discarding span since it finished after idle span final timeout",V):Y.log("[Tracing] Discarding span since it happened after idle span was finished",V)}(!re||!$)&&(BO(A,he),le++)}),le>0&&A.setAttribute("sentry.idle_span_discarded_spans",le)}return f.push(S.on("spanStart",L=>{if(i||L===A||ze(L).timestamp||L instanceof $u&&L.isStandaloneSpan())return;lu(A).includes(L)&&F(L.spanContext().spanId)})),f.push(S.on("spanEnd",L=>{i||K(L.spanContext().spanId)})),f.push(S.on("idleSpanEnableAutoFinish",L=>{L===A&&(u=!0,B(),r.size&&R())})),e.disableAutoFinish||B(),setTimeout(()=>{i||(A.setStatus({code:St,message:"deadline_exceeded"}),l=yC,A.end())},m),A}function vC(t){const e=Ra(t);return ma(Ve(),e),se&&Y.log("[Tracing] Started span is an idle span"),e}const Th=0,D_=1,L_=2;function Fu(t){return new Yo(e=>{e(t)})}function fm(t){return new Yo((e,r)=>{r(t)})}class Yo{constructor(e){this._state=Th,this._handlers=[],this._runExecutor(e)}then(e,r){return new Yo((i,o)=>{this._handlers.push([!1,l=>{if(!e)i(l);else try{i(e(l))}catch(u){o(u)}},l=>{if(!r)o(l);else try{i(r(l))}catch(u){o(u)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Yo((r,i)=>{let o,l;return this.then(u=>{l=!1,o=u,e&&e()},u=>{l=!0,o=u,e&&e()}).then(()=>{if(l){i(o);return}r(o)})})}_executeHandlers(){if(this._state===Th)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===D_&&r[1](this._value),this._state===L_&&r[2](this._value),r[0]=!0)})}_runExecutor(e){const r=(l,u)=>{if(this._state===Th){if(Ta(u)){u.then(i,o);return}this._state=l,this._value=u,this._executeHandlers()}},i=l=>{r(D_,l)},o=l=>{r(L_,l)};try{e(i,o)}catch(l){o(l)}}}function _C(t,e,r,i=0){try{const o=op(e,r,t,i);return Ta(o)?o:Fu(o)}catch(o){return fm(o)}}function op(t,e,r,i){const o=r[i];if(!t||!o)return t;const l=o({...t},e);return se&&l===null&&Y.log(`Event processor "${o.id||"?"}" dropped event`),Ta(l)?l.then(u=>op(u,e,r,i+1)):op(l,e,r,i+1)}function SC(t,e){const{fingerprint:r,span:i,breadcrumbs:o,sdkProcessingMetadata:l}=e;wC(t,e),i&&TC(t,i),kC(t,r),EC(t,o),xC(t,l)}function U_(t,e){const{extra:r,tags:i,user:o,contexts:l,level:u,sdkProcessingMetadata:f,breadcrumbs:h,fingerprint:m,eventProcessors:y,attachments:v,propagationContext:_,transactionName:S,span:E}=e;Uc(t,"extra",r),Uc(t,"tags",i),Uc(t,"user",o),Uc(t,"contexts",l),t.sdkProcessingMetadata=rl(t.sdkProcessingMetadata,f,2),u&&(t.level=u),S&&(t.transactionName=S),E&&(t.span=E),h.length&&(t.breadcrumbs=[...t.breadcrumbs,...h]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),y.length&&(t.eventProcessors=[...t.eventProcessors,...y]),v.length&&(t.attachments=[...t.attachments,...v]),t.propagationContext={...t.propagationContext,..._}}function Uc(t,e,r){t[e]=rl(t[e],r,1)}function wC(t,e){const{extra:r,tags:i,user:o,contexts:l,level:u,transactionName:f}=e;Object.keys(r).length&&(t.extra={...r,...t.extra}),Object.keys(i).length&&(t.tags={...i,...t.tags}),Object.keys(o).length&&(t.user={...o,...t.user}),Object.keys(l).length&&(t.contexts={...l,...t.contexts}),u&&(t.level=u),f&&t.type!=="transaction"&&(t.transaction=f)}function EC(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function xC(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function TC(t,e){t.contexts={trace:IO(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:jr(e),...t.sdkProcessingMetadata};const r=Dt(e),i=ze(r).description;i&&!t.transaction&&t.type==="transaction"&&(t.transaction=i)}function kC(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let Ps,z_,B_,ss;function AC(t){const e=Le._sentryDebugIds,r=Le._debugIds;if(!e&&!r)return{};const i=e?Object.keys(e):[],o=r?Object.keys(r):[];if(ss&&i.length===z_&&o.length===B_)return ss;z_=i.length,B_=o.length,ss={},Ps||(Ps={});const l=(u,f)=>{for(const h of u){const m=f[h],y=Ps?.[h];if(y&&ss&&m)ss[y[0]]=m,Ps&&(Ps[h]=[y[0],m]);else if(m){const v=t(h);for(let _=v.length-1;_>=0;_--){const E=v[_]?.filename;if(E&&ss&&Ps){ss[E]=m,Ps[h]=[E,m];break}}}}};return e&&l(i,e),r&&l(o,r),ss}function Sw(t,e,r,i,o,l){const{normalizeDepth:u=3,normalizeMaxBreadth:f=1e3}=t,h={...e,event_id:e.event_id||r.event_id||gn(),timestamp:e.timestamp||li()},m=r.integrations||t.integrations.map(A=>A.name);OC(h,t),NC(h,m),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&CC(h,t.stackParser);const y=MC(i,r.captureContext);r.mechanism&&ha(h,r.mechanism);const v=o?o.getEventProcessors():[],_=cO().getScopeData();if(l){const A=l.getScopeData();U_(_,A)}if(y){const A=y.getScopeData();U_(_,A)}const S=[...r.attachments||[],..._.attachments];S.length&&(r.attachments=S),SC(h,_);const E=[...v,..._.eventProcessors];return _C(E,h,r).then(A=>(A&&RC(A),typeof u=="number"&&u>0?jC(A,u,f):A))}function OC(t,e){const{environment:r,release:i,dist:o,maxValueLength:l}=e;t.environment=t.environment||r||lm,!t.release&&i&&(t.release=i),!t.dist&&o&&(t.dist=o);const u=t.request;u?.url&&(u.url=l?KS(u.url,l):u.url)}function CC(t,e){const r=AC(e);t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=r[o.filename])})})}function RC(t){const e={};if(t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?e[o.abs_path]=o.debug_id:o.filename&&(e[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach(([i,o])=>{r.push({type:"sourcemap",code_file:i,debug_id:o})})}function NC(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function jC(t,e,r){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>({...o,...o.data&&{data:Hn(o.data,e,r)}}))},...t.user&&{user:Hn(t.user,e,r)},...t.contexts&&{contexts:Hn(t.contexts,e,r)},...t.extra&&{extra:Hn(t.extra,e,r)}};return t.contexts?.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=Hn(t.contexts.trace.data,e,r))),t.spans&&(i.spans=t.spans.map(o=>({...o,...o.data&&{data:Hn(o.data,e,r)}}))),t.contexts?.flags&&i.contexts&&(i.contexts.flags=Hn(t.contexts.flags,3,r)),i}function MC(t,e){if(!e)return t;const r=t?t.clone():new Qn;return r.update(e),r}function IC(t){if(t)return DC(t)?{captureContext:t}:UC(t)?{captureContext:t}:t}function DC(t){return t instanceof Qn||typeof t=="function"}const LC=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function UC(t){return Object.keys(t).some(e=>LC.includes(e))}function hm(t,e){return Ve().captureException(t,IC(e))}function ww(t,e){return Ve().captureEvent(t,e)}function Ew(t,e){tr().setContext(t,e)}function zC(){const t=Ie();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}function BC(t){tr().addEventProcessor(t)}function H_(t){const e=tr(),r=Ve(),{userAgent:i}=Le.navigator||{},o=ZA({user:r.getUser()||e.getUser(),...i&&{userAgent:i},...t}),l=e.getSession();return l?.status==="ok"&&pa(l,{status:"exited"}),xw(),e.setSession(o),o}function xw(){const t=tr(),r=Ve().getSession()||t.getSession();r&&eO(r),Tw(),t.setSession()}function Tw(){const t=tr(),e=Ie(),r=t.getSession();r&&e&&e.captureSession(r)}function P_(t=!1){if(t){xw();return}Tw()}const HC="7";function PC(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function qC(t){return`${PC(t)}${t.projectId}/envelope/`}function $C(t,e){const r={sentry_version:HC};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function FC(t,e,r){return e||`${qC(t)}?${$C(t,r)}`}const q_=[];function GC(t){const e={};return t.forEach(r=>{const{name:i}=r,o=e[i];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[i]=r)}),Object.values(e)}function VC(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let i;if(Array.isArray(r))i=[...e,...r];else if(typeof r=="function"){const o=r(e);i=Array.isArray(o)?o:[o]}else i=e;return GC(i)}function YC(t,e){const r={};return e.forEach(i=>{i&&kw(t,i,r)}),r}function $_(t,e){for(const r of e)r?.afterAllSetup&&r.afterAllSetup(t)}function kw(t,e,r){if(r[e.name]){se&&Y.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,q_.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),q_.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const i=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,l)=>i(o,l,t))}if(typeof e.processEvent=="function"){const i=e.processEvent.bind(e),o=Object.assign((l,u)=>i(l,u,t),{id:e.name});t.addEventProcessor(o)}se&&Y.log(`Integration installed: ${e.name}`)}function KC(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function WC(t,e,r,i){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&i&&(o.dsn=Ca(i)),ys(o,[KC(t)])}function Aw(t,e){const r=e??XC(t)??[];if(r.length===0)return;const i=t.getOptions(),o=WC(r,i._metadata,i.tunnel,t.getDsn());Ow().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function XC(t){return Ow().get(t)}function Ow(){return Ea("clientToLogBufferMap",()=>new WeakMap)}function JC(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function QC(t,e,r,i){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&i&&(o.dsn=Ca(i)),ys(o,[JC(t)])}function Cw(t,e){const r=e??ZC(t)??[];if(r.length===0)return;const i=t.getOptions(),o=QC(r,i._metadata,i.tunnel,t.getDsn());Rw().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(o)}function ZC(t){return Rw().get(t)}function Rw(){return Ea("clientToMetricBufferMap",()=>new WeakMap)}function eR(t,e,r){const i=[{type:"client_report"},{timestamp:li(),discarded_events:t}];return ys(e?{dsn:e}:{},[i])}function Nw(t){const e=[];t.message&&e.push(t.message);try{const r=t.exception.values[t.exception.values.length-1];r?.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch{}return e}function tR(t){const{trace_id:e,parent_span_id:r,span_id:i,status:o,origin:l,data:u,op:f}=t.contexts?.trace??{};return{data:u??{},description:t.transaction,op:f,parent_span_id:r,span_id:i??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:l,profile_id:u?.[im],exclusive_time:u?.[Oa],measurements:t.measurements,is_segment:!0}}function nR(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[im]:t.profile_id},...t.exclusive_time&&{[Oa]:t.exclusive_time}}}},measurements:t.measurements}}const F_="Not capturing exception because it's already been captured.",G_="Discarded session because of missing or non-string release",jw=Symbol.for("SentryInternalError"),Mw=Symbol.for("SentryDoNotSendEventError"),rR=5e3;function du(t){return{message:t,[jw]:!0}}function kh(t){return{message:t,[Mw]:!0}}function V_(t){return!!t&&typeof t=="object"&&jw in t}function Y_(t){return!!t&&typeof t=="object"&&Mw in t}function K_(t,e,r,i,o){let l=0,u;t.on(r,()=>{l=0,clearTimeout(u)}),t.on(e,f=>{l+=i(f),l>=8e5?o(t):(clearTimeout(u),u=setTimeout(()=>{o(t)},rR))}),t.on("flush",()=>{o(t)})}class sR{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=CO(e.dsn):se&&Y.warn("No DSN provided, client will not send events."),this._dsn){const i=FC(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}this._options.enableLogs&&K_(this,"afterCaptureLog","flushLogs",lR,Aw),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&K_(this,"afterCaptureMetric","flushMetrics",oR,Cw)}captureException(e,r,i){const o=gn();if(v_(e))return se&&Y.log(F_),o;const l={event_id:o,...r};return this._process(this.eventFromException(e,l).then(u=>this._captureEvent(u,l,i))),l.event_id}captureMessage(e,r,i,o){const l={event_id:gn(),...i},u=tm(e)?e:String(e),f=fa(e)?this.eventFromMessage(u,r,l):this.eventFromException(e,l);return this._process(f.then(h=>this._captureEvent(h,l,o))),l.event_id}captureEvent(e,r,i){const o=gn();if(r?.originalException&&v_(r.originalException))return se&&Y.log(F_),o;const l={event_id:o,...r},u=e.sdkProcessingMetadata||{},f=u.capturedSpanScope,h=u.capturedSpanIsolationScope;return this._process(this._captureEvent(e,l,f||i,h)),l.event_id}captureSession(e){this.sendSession(e),pa(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const r=this._transport;if(!r)return!0;this.emit("flush");const i=await this._isClientDoneProcessing(e),o=await r.flush(e);return i&&o}async close(e){const r=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];kw(this,e,this._integrations),r||$_(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let i=nC(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])i=KO(i,QO(o));this.sendEnvelope(i).then(o=>this.emit("afterSendEvent",e,o))}sendSession(e){const{release:r,environment:i=lm}=this._options;if("aggregates"in e){const l=e.attrs||{};if(!l.release&&!r){se&&Y.warn(G_);return}l.release=l.release||r,l.environment=l.environment||i,e.attrs=l}else{if(!e.release&&!r){se&&Y.warn(G_);return}e.release=e.release||r,e.environment=e.environment||i}this.emit("beforeSendSession",e);const o=tC(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(e,r,i=1){if(this._options.sendClientReports){const o=`${e}:${r}`;se&&Y.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){const i=this._hooks[e]=this._hooks[e]||new Set,o=(...l)=>r(...l);return i.add(o),()=>{i.delete(o)}}emit(e,...r){const i=this._hooks[e];i&&i.forEach(o=>o(...r))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(r){return se&&Y.error("Error while sending envelope:",r),{}}return se&&Y.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=YC(this,e),$_(this,e)}_updateSessionFromEvent(e,r){let i=r.level==="fatal",o=!1;const l=r.exception?.values;if(l){o=!0,i=!1;for(const h of l)if(h.mechanism?.handled===!1){i=!0;break}}const u=e.status==="ok";(u&&e.errors===0||u&&i)&&(pa(e,{...i&&{status:"crashed"},errors:e.errors||Number(o||i)}),this.captureSession(e))}async _isClientDoneProcessing(e){let r=0;for(;!e||r<e;){if(await new Promise(i=>setTimeout(i,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,i,o){const l=this.getOptions(),u=Object.keys(this._integrations);return!r.integrations&&u?.length&&(r.integrations=u),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),Sw(l,e,r,i,this,o).then(f=>{if(f===null)return f;this.emit("postprocessEvent",f,r),f.contexts={trace:uO(i),...f.contexts};const h=hw(this,i);return f.sdkProcessingMetadata={dynamicSamplingContext:h,...f.sdkProcessingMetadata},f})}_captureEvent(e,r={},i=Ve(),o=tr()){return se&&lp(e)&&Y.log(`Captured error event \`${Nw(e)[0]||"<unknown>"}\``),this._processEvent(e,r,i,o).then(l=>l.event_id,l=>{se&&(Y_(l)?Y.log(l.message):V_(l)?Y.warn(l.message):Y.warn(l))})}_processEvent(e,r,i,o){const l=this.getOptions(),{sampleRate:u}=l,f=Iw(e),h=lp(e),m=e.type||"error",y=`before send for type \`${m}\``,v=typeof u>"u"?void 0:ri(u);if(h&&typeof v=="number"&&Math.random()>v)return this.recordDroppedEvent("sample_rate","error"),fm(kh(`Discarding event because it's not included in the random sample (sampling rate = ${u})`));const _=m==="replay_event"?"replay":m;return this._prepareEvent(e,r,i,o).then(S=>{if(S===null)throw this.recordDroppedEvent("event_processor",_),kh("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return S;const T=aR(this,l,S,r);return iR(T,y)}).then(S=>{if(S===null){if(this.recordDroppedEvent("before_send",_),f){const U=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",U)}throw kh(`${y} returned \`null\`, will not send event.`)}const E=i.getSession()||o.getSession();if(h&&E&&this._updateSessionFromEvent(E,S),f){const A=S.sdkProcessingMetadata?.spanCountBeforeProcessing||0,U=S.spans?S.spans.length:0,B=A-U;B>0&&this.recordDroppedEvent("before_send","span",B)}const T=S.transaction_info;if(f&&T&&S.transaction!==e.transaction){const A="custom";S.transaction_info={...T,source:A}}return this.sendEvent(S,r),S}).then(null,S=>{throw Y_(S)||V_(S)?S:(this.captureException(S,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:S}),du(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${S}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,i])=>{const[o,l]=r.split(":");return{reason:o,category:l,quantity:i}})}_flushOutcomes(){se&&Y.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){se&&Y.log("No outcomes to send");return}if(!this._dsn){se&&Y.log("No dsn provided, will not send outcomes");return}se&&Y.log("Sending outcomes:",e);const r=eR(e,this._options.tunnel&&Ca(this._dsn));this.sendEnvelope(r)}}function iR(t,e){const r=`${e} must return \`null\` or a valid event.`;if(Ta(t))return t.then(i=>{if(!Go(i)&&i!==null)throw du(r);return i},i=>{throw du(`${e} rejected with ${i}`)});if(!Go(t)&&t!==null)throw du(r);return t}function aR(t,e,r,i){const{beforeSend:o,beforeSendTransaction:l,beforeSendSpan:u,ignoreSpans:f}=e;let h=r;if(lp(h)&&o)return o(h,i);if(Iw(h)){if(u||f){const m=tR(h);if(f?.length&&vu(m,f))return null;if(u){const y=u(m);y?h=rl(r,nR(y)):sp()}if(h.spans){const y=[],v=h.spans;for(const S of v){if(f?.length&&vu(S,f)){PO(v,S);continue}if(u){const E=u(S);E?y.push(E):(sp(),y.push(S))}else y.push(S)}const _=h.spans.length-y.length;_&&t.recordDroppedEvent("before_send","span",_),h.spans=y}}if(l){if(h.spans){const m=h.spans.length;h.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:m}}return l(h,i)}}return h}function lp(t){return t.type===void 0}function Iw(t){return t.type==="transaction"}function oR(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+Dw(t.attributes)}function lR(t){let e=0;return t.message&&(e+=t.message.length*2),e+Dw(t.attributes)}function Dw(t){if(!t)return 0;let e=0;return Object.values(t).forEach(r=>{Array.isArray(r)?e+=r.length*W_(r[0]):fa(r)?e+=W_(r):e+=100}),e}function W_(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function cR(t,e){e.debug===!0&&(se?Y.enable():oi(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ve().update(e.initialScope);const i=new t(e);return uR(i),i.init(),i}function uR(t){Ve().setClient(t)}const Lw=Symbol.for("SentryBufferFullError");function Uw(t=100){const e=new Set;function r(){return e.size<t}function i(u){e.delete(u)}function o(u){if(!r())return fm(Lw);const f=u();return e.add(f),f.then(()=>i(f),()=>i(f)),f}function l(u){if(!e.size)return Fu(!0);const f=Promise.allSettled(Array.from(e)).then(()=>!0);if(!u)return f;const h=[f,new Promise(m=>setTimeout(()=>m(!1),u))];return Promise.race(h)}return{get $(){return Array.from(e)},add:o,drain:l}}const dR=60*1e3;function fR(t,e=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const i=Date.parse(`${t}`);return isNaN(i)?dR:i-e}function hR(t,e){return t[e]||t.all||0}function zw(t,e,r=Date.now()){return hR(t,e)>r}function Bw(t,{statusCode:e,headers:r},i=Date.now()){const o={...t},l=r?.["x-sentry-rate-limits"],u=r?.["retry-after"];if(l)for(const f of l.trim().split(",")){const[h,m,,,y]=f.split(":",5),v=parseInt(h,10),_=(isNaN(v)?60:v)*1e3;if(!m)o.all=i+_;else for(const S of m.split(";"))S==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(o[S]=i+_):o[S]=i+_}else u?o.all=i+fR(u,i):e===429&&(o.all=i+60*1e3);return o}const pR=64;function mR(t,e,r=Uw(t.bufferSize||pR)){let i={};const o=u=>r.drain(u);function l(u){const f=[];if(O_(u,(v,_)=>{const S=C_(_);zw(i,S)?t.recordDroppedEvent("ratelimit_backoff",S):f.push(v)}),f.length===0)return Promise.resolve({});const h=ys(u[0],f),m=v=>{O_(h,(_,S)=>{t.recordDroppedEvent(v,C_(S))})},y=()=>e({body:WO(h)}).then(v=>(v.statusCode!==void 0&&(v.statusCode<200||v.statusCode>=300)&&se&&Y.warn(`Sentry responded with status code ${v.statusCode} to sent event.`),i=Bw(i,v),v),v=>{throw m("network_error"),se&&Y.error("Encountered error running transport request:",v),v});return r.add(y).then(v=>v,v=>{if(v===Lw)return se&&Y.error("Skipped sending event because buffer is full."),m("queue_overflow"),Promise.resolve({});throw v})}return{send:l,flush:o}}const gR="thismessage:/";function pm(t){return"isRelative"in t}function mm(t,e){const r=t.indexOf("://")<=0&&t.indexOf("//")!==0,i=r?gR:void 0;try{if("canParse"in URL&&!URL.canParse(t,i))return;const o=new URL(t,i);return r?{isRelative:r,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function yR(t){if(pm(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function ti(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:i,relative:e[5]+r+i}}function bR(t){return t.split(/[?#]/,1)[0]}function vR(t,e){const r=e?.getDsn(),i=e?.getOptions().tunnel;return SR(t,r)||_R(t,i)}function _R(t,e){return e?X_(t)===X_(e):!1}function SR(t,e){const r=mm(t);return!r||pm(r)?!1:e?r.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(r.search):!1}function X_(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function wR(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function Hw(t,e,r=[e],i="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:r.map(l=>({name:`${i}:@sentry/${l}`,version:Qs})),version:Qs}),t._metadata=o}function Pw(t={}){const e=t.client||Ie();if(!zC()||!e)return{};const r=ai(),i=Aa(r);if(i.getTraceData)return i.getTraceData(t);const o=t.scope||Ve(),l=t.span||qt(),u=l?DO(l):ER(o),f=l?jr(l):hw(e,o),h=vO(f);if(!sw.test(u))return Y.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const y={"sentry-trace":u,baggage:h};if(t.propagateTraceparent){const v=l?LO(l):xR(o);v&&(y.traceparent=v)}return y}function ER(t){const{traceId:e,sampled:r,propagationSpanId:i}=t.getPropagationContext();return iw(e,i,r)}function xR(t){const{traceId:e,sampled:r,propagationSpanId:i}=t.getPropagationContext();return aw(e,i,r)}function TR(t,e,r){let i,o,l;const u=r?.maxWait?Math.max(r.maxWait,e):0,f=r?.setTimeoutImpl||setTimeout;function h(){return m(),i=t(),i}function m(){o!==void 0&&clearTimeout(o),l!==void 0&&clearTimeout(l),o=l=void 0}function y(){return o!==void 0||l!==void 0?h():i}function v(){return o&&clearTimeout(o),o=f(h,e),u&&l===void 0&&(l=f(h,u)),i}return v.cancel=m,v.flush=y,v}const kR=100;function fs(t,e){const r=Ie(),i=tr();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:l=kR}=r.getOptions();if(l<=0)return;const f={timestamp:li(),...t},h=o?oi(()=>o(f,e)):f;h!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",h,e),i.addBreadcrumb(h,l))}let J_;const AR="FunctionToString",Q_=new WeakMap,OR=(()=>({name:AR,setupOnce(){J_=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=rm(this),r=Q_.has(Ie())&&e!==void 0?e:this;return J_.apply(r,t)}}catch{}},setup(t){Q_.set(t,!0)}})),CR=OR,RR=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],NR="EventFilters",jR=(t={})=>{let e;return{name:NR,setup(r){const i=r.getOptions();e=Z_(t,i)},processEvent(r,i,o){if(!e){const l=o.getOptions();e=Z_(t,l)}return IR(r,e)?null:r}}},MR=((t={})=>({...jR(t),name:"InboundFilters"}));function Z_(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:RR],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function IR(t,e){if(t.type){if(t.type==="transaction"&&LR(t,e.ignoreTransactions))return se&&Y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Vs(t)}`),!0}else{if(DR(t,e.ignoreErrors))return se&&Y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Vs(t)}`),!0;if(HR(t))return se&&Y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Vs(t)}`),!0;if(UR(t,e.denyUrls))return se&&Y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Vs(t)}.
Url: ${_u(t)}`),!0;if(!zR(t,e.allowUrls))return se&&Y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Vs(t)}.
Url: ${_u(t)}`),!0}return!1}function DR(t,e){return e?.length?Nw(t).some(r=>Tr(r,e)):!1}function LR(t,e){if(!e?.length)return!1;const r=t.transaction;return r?Tr(r,e):!1}function UR(t,e){if(!e?.length)return!1;const r=_u(t);return r?Tr(r,e):!1}function zR(t,e){if(!e?.length)return!0;const r=_u(t);return r?Tr(r,e):!0}function BR(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function _u(t){try{const r=[...t.exception?.values??[]].reverse().find(i=>i.mechanism?.parent_id===void 0&&i.stacktrace?.frames?.length)?.stacktrace?.frames;return r?BR(r):null}catch{return se&&Y.error(`Cannot extract url for event ${Vs(t)}`),null}}function HR(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function PR(t,e,r,i,o,l){if(!o.exception?.values||!l||!Cr(l.originalException,Error))return;const u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=cp(t,e,i,l.originalException,r,o.exception.values,u,0))}function cp(t,e,r,i,o,l,u,f){if(l.length>=r+1)return l;let h=[...l];if(Cr(i[o],Error)){e0(u,f);const m=t(e,i[o]),y=h.length;t0(m,o,y,f),h=cp(t,e,r,i[o],o,[m,...h],m,y)}return Array.isArray(i.errors)&&i.errors.forEach((m,y)=>{if(Cr(m,Error)){e0(u,f);const v=t(e,m),_=h.length;t0(v,`errors[${y}]`,_,f),h=cp(t,e,r,m,o,[v,...h],v,_)}}),h}function e0(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function t0(t,e,r,i){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:i}}function qR(t){const e="console";ps(e,t),ms(e,$R)}function $R(){"console"in Le&&RA.forEach(function(t){t in Le.console&&Zt(Le.console,t,function(e){return gu[t]=e,function(...r){Cn("console",{args:r,level:t}),gu[t]?.apply(Le.console,r)}})})}function qw(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const FR="Dedupe",GR=(()=>{let t;return{name:FR,processEvent(e){if(e.type)return e;try{if(YR(e,t))return se&&Y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),VR=GR;function YR(t,e){return e?!!(KR(t,e)||WR(t,e)):!1}function KR(t,e){const r=t.message,i=e.message;return!(!r&&!i||r&&!i||!r&&i||r!==i||!Fw(t,e)||!$w(t,e))}function WR(t,e){const r=n0(e),i=n0(t);return!(!r||!i||r.type!==i.type||r.value!==i.value||!Fw(t,e)||!$w(t,e))}function $w(t,e){let r=h_(t),i=h_(e);if(!r&&!i)return!0;if(r&&!i||!r&&i||(r=r,i=i,i.length!==r.length))return!1;for(let o=0;o<i.length;o++){const l=i[o],u=r[o];if(l.filename!==u.filename||l.lineno!==u.lineno||l.colno!==u.colno||l.function!==u.function)return!1}return!0}function Fw(t,e){let r=t.fingerprint,i=e.fingerprint;if(!r&&!i)return!0;if(r&&!i||!r&&i)return!1;r=r,i=i;try{return r.join("")===i.join("")}catch{return!1}}function n0(t){return t.exception?.values?.[0]}function XR(t,e,r,i,o){if(!t.fetchData)return;const{method:l,url:u}=t.fetchData,f=Gn()&&e(u);if(t.endTimestamp&&f){const S=t.fetchData.__span;if(!S)return;const E=i[S];E&&(ZR(E,t),JR(E,t,o),delete i[S]);return}const{spanOrigin:h="auto.http.browser",propagateTraceparent:m=!1}=typeof o=="object"?o:{spanOrigin:o},y=!!qt(),v=f&&y?Ra(tN(u,l,h)):new ds;if(t.fetchData.__span=v.spanContext().spanId,i[v.spanContext().spanId]=v,r(t.fetchData.url)){const S=t.args[0],E=t.args[1]||{},T=QR(S,E,Gn()&&y?v:void 0,m);T&&(t.args[1]=E,E.headers=T)}const _=Ie();if(_){const S={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};_.emit("beforeOutgoingRequestSpan",v,S)}return v}function JR(t,e,r){(typeof r=="object"&&r!==null?r.onRequestSpanEnd:void 0)?.(t,{headers:e.response?.headers,error:e.error})}function QR(t,e,r,i){const o=Pw({span:r,propagateTraceparent:i}),l=o["sentry-trace"],u=o.baggage,f=o.traceparent;if(!l)return;const h=e.headers||(FS(t)?t.headers:void 0);if(h)if(eN(h)){const m=new Headers(h);if(m.get("sentry-trace")||m.set("sentry-trace",l),i&&f&&!m.get("traceparent")&&m.set("traceparent",f),u){const y=m.get("baggage");y?zc(y)||m.set("baggage",`${y},${u}`):m.set("baggage",u)}return m}else if(Array.isArray(h)){const m=[...h];h.find(v=>v[0]==="sentry-trace")||m.push(["sentry-trace",l]),i&&f&&!h.find(v=>v[0]==="traceparent")&&m.push(["traceparent",f]);const y=h.find(v=>v[0]==="baggage"&&zc(v[1]));return u&&!y&&m.push(["baggage",u]),m}else{const m="sentry-trace"in h?h["sentry-trace"]:void 0,y="traceparent"in h?h.traceparent:void 0,v="baggage"in h?h.baggage:void 0,_=v?Array.isArray(v)?[...v]:[v]:[],S=v&&(Array.isArray(v)?v.find(T=>zc(T)):zc(v));u&&!S&&_.push(u);const E={...h,"sentry-trace":m??l,baggage:_.length>0?_.join(","):void 0};return i&&f&&!y&&(E.traceparent=f),E}else return{...o}}function ZR(t,e){if(e.response){ZS(t,e.response.status);const r=e.response?.headers?.get("content-length");if(r){const i=parseInt(r);i>0&&t.setAttribute("http.response_content_length",i)}}else e.error&&t.setStatus({code:St,message:"internal_error"});t.end()}function zc(t){return t.split(",").some(e=>e.trim().startsWith(am))}function eN(t){return typeof Headers<"u"&&Cr(t,Headers)}function tN(t,e,r){const i=mm(t);return{name:i?`${e} ${yR(i)}`:e,attributes:nN(t,i,e,r)}}function nN(t,e,r,i){const o={url:t,type:"fetch","http.method":r,[Et]:i,[Nr]:"http.client"};return e&&(pm(e)||(o["http.url"]=e.href,o["server.address"]=e.host),e.search&&(o["http.query"]=e.search),e.hash&&(o["http.fragment"]=e.hash)),o}function Gw(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const Ko=Le;function rN(){return"history"in Ko&&!!Ko.history}function sN(){if(!("fetch"in Ko))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function up(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function iN(){if(typeof EdgeRuntime=="string")return!0;if(!sN())return!1;if(up(Ko.fetch))return!0;let t=!1;const e=Ko.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow?.fetch&&(t=up(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){se&&Y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Vw(t,e){const r="fetch";ps(r,t),ms(r,()=>Yw(void 0,e))}function aN(t){const e="fetch-body-resolved";ps(e,t),ms(e,()=>Yw(lN))}function Yw(t,e=!1){e&&!iN()||Zt(Le,"fetch",function(r){return function(...i){const o=new Error,{method:l,url:u}=cN(i),f={args:i,fetchData:{method:l,url:u},startTimestamp:At()*1e3,virtualError:o,headers:uN(i)};return t||Cn("fetch",{...f}),r.apply(Le,i).then(async h=>(t?t(h):Cn("fetch",{...f,endTimestamp:At()*1e3,response:h}),h),h=>{if(Cn("fetch",{...f,endTimestamp:At()*1e3,error:h}),em(h)&&h.stack===void 0&&(h.stack=o.stack,yn(h,"framesToPop",1)),h instanceof TypeError&&(h.message==="Failed to fetch"||h.message==="Load failed"||h.message==="NetworkError when attempting to fetch resource."))try{const m=new URL(f.fetchData.url);h.message=`${h.message} (${m.host})`}catch{}throw h})}})}async function oN(t,e){if(t?.body){const r=t.body,i=r.getReader(),o=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3);let l=!0;for(;l;){let u;try{u=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);const{done:f}=await i.read();clearTimeout(u),f&&(e(),l=!1)}catch{l=!1}finally{clearTimeout(u)}}clearTimeout(o),i.releaseLock(),r.cancel().then(null,()=>{})}}function lN(t){let e;try{e=t.clone()}catch{return}oN(e,()=>{Cn("fetch-body-resolved",{endTimestamp:At()*1e3,response:t})})}function dp(t,e){return!!t&&typeof t=="object"&&!!t[e]}function r0(t){return typeof t=="string"?t:t?dp(t,"url")?t.url:t.toString?t.toString():"":""}function cN(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,i]=t;return{url:r0(r),method:dp(i,"method")?String(i.method).toUpperCase():"GET"}}const e=t[0];return{url:r0(e),method:dp(e,"method")?String(e.method).toUpperCase():"GET"}}function uN(t){const[e,r]=t;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(FS(e))return new Headers(e.headers)}catch{}}function dN(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function fN(){return"npm"}function hN(){return!dN()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function fp(){return typeof window<"u"&&(!hN()||pN())}function pN(){return Le.process?.type==="renderer"}const Be=Le;let hp=0;function Kw(){return hp>0}function mN(){hp++,setTimeout(()=>{hp--})}function ya(t,e={}){function r(o){return typeof o=="function"}if(!r(t))return t;try{const o=t.__sentry_wrapped__;if(o)return typeof o=="function"?o:t;if(rm(t))return t}catch{return t}const i=function(...o){try{const l=o.map(u=>ya(u,e));return t.apply(this,l)}catch(l){throw mN(),sl(u=>{u.addEventProcessor(f=>(e.mechanism&&(tp(f,void 0),ha(f,e.mechanism)),f.extra={...f.extra,arguments:o},f)),hm(l)}),l}};try{for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch{}VS(i,t),yn(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return t.name}})}catch{}return i}function gm(){const t=ka(),{referrer:e}=Be.document||{},{userAgent:r}=Be.navigator||{},i={...e&&{Referer:e},...r&&{"User-Agent":r}};return{url:t,headers:i}}function ym(t,e){const r=bm(t,e),i={type:_N(e),value:SN(e)};return r.length&&(i.stacktrace={frames:r}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function gN(t,e,r,i){const l=Ie()?.getOptions().normalizeDepth,u=kN(e),f={__serialized__:pw(e,l)};if(u)return{exception:{values:[ym(t,u)]},extra:f};const h={exception:{values:[{type:qu(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:xN(e,{isUnhandledRejection:i})}]},extra:f};if(r){const m=bm(t,r);m.length&&(h.exception.values[0].stacktrace={frames:m})}return h}function Ah(t,e){return{exception:{values:[ym(t,e)]}}}function bm(t,e){const r=e.stacktrace||e.stack||"",i=bN(e),o=vN(e);try{return t(r,i,o)}catch{}return[]}const yN=/Minified React error #\d+;/i;function bN(t){return t&&yN.test(t.message)?1:0}function vN(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function Ww(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function _N(t){const e=t?.name;return!e&&Ww(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function SN(t){const e=t?.message;return Ww(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function wN(t,e,r,i){const o=r?.syntheticException||void 0,l=vm(t,e,o,i);return ha(l),l.level="error",r?.event_id&&(l.event_id=r.event_id),Fu(l)}function EN(t,e,r="info",i,o){const l=i?.syntheticException||void 0,u=pp(t,e,l,o);return u.level=r,i?.event_id&&(u.event_id=i.event_id),Fu(u)}function vm(t,e,r,i,o){let l;if(qS(e)&&e.error)return Ah(t,e.error);if(m_(e)||PA(e)){const u=e;if("stack"in e)l=Ah(t,e);else{const f=u.name||(m_(u)?"DOMError":"DOMException"),h=u.message?`${f}: ${u.message}`:f;l=pp(t,h,r,i),tp(l,h)}return"code"in u&&(l.tags={...l.tags,"DOMException.code":`${u.code}`}),l}return em(e)?Ah(t,e):Go(e)||qu(e)?(l=gN(t,e,r,o),ha(l,{synthetic:!0}),l):(l=pp(t,e,r,i),tp(l,`${e}`),ha(l,{synthetic:!0}),l)}function pp(t,e,r,i){const o={};if(i&&r){const l=bm(t,r);l.length&&(o.exception={values:[{value:e,stacktrace:{frames:l}}]}),ha(o,{synthetic:!0})}if(tm(e)){const{__sentry_template_string__:l,__sentry_template_values__:u}=e;return o.logentry={message:l,params:u},o}return o.message=e,o}function xN(t,{isUnhandledRejection:e}){const r=YA(t),i=e?"promise rejection":"exception";return qS(t)?`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``:qu(t)?`Event \`${TN(t)}\` (type=${t.type}) captured as ${i}`:`Object captured as ${i} with keys: ${r}`}function TN(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function kN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}}class AN extends sR{constructor(e){const r=ON(e),i=Be.SENTRY_SDK_SOURCE||fN();Hw(r,"browser",["browser"],i),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:l,enableLogs:u,_experiments:f,enableMetrics:h}=this._options,m=h??f?.enableMetrics??!0;Be.document&&(l||u||m)&&Be.document.addEventListener("visibilitychange",()=>{Be.document.visibilityState==="hidden"&&(l&&this._flushOutcomes(),u&&Aw(this),m&&Cw(this))}),o&&this.on("beforeSendSession",wR)}eventFromException(e,r){return wN(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",i){return EN(this._options.stackParser,e,r,i,this._options.attachStacktrace)}_prepareEvent(e,r,i,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,i,o)}}function ON(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Be.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const si=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_e=Le,CN=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",ol=(t,e,r,i)=>{let o,l;return u=>{e.value>=0&&(u||i)&&(l=e.value-(o??0),(l||o===void 0)&&(o=e.value,e.delta=l,e.rating=CN(e.value,r),t(e)))}},RN=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ll=(t=!0)=>{const e=_e.performance?.getEntriesByType?.("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},Na=()=>ll()?.activationStart??0,cl=(t,e=-1)=>{const r=ll();let i="navigate";return r&&(_e.document?.prerendering||Na()>0?i="prerender":_e.document?.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:RN(),navigationType:i}},Oh=new WeakMap;function _m(t,e){return Oh.get(t)||Oh.set(t,new e),Oh.get(t)}class Su{constructor(){Su.prototype.__init.call(this),Su.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const r=this._sessionEntries[0],i=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&r&&i&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const ja=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver(o=>{Promise.resolve().then(()=>{e(o.getEntries())})});return i.observe({type:t,buffered:!0,...r}),i}}catch{}},Sm=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let Uo=-1;const NN=()=>_e.document?.visibilityState==="hidden"&&!_e.document?.prerendering?0:1/0,wu=t=>{_e.document.visibilityState==="hidden"&&Uo>-1&&(Uo=t.type==="visibilitychange"?t.timeStamp:0,MN())},jN=()=>{addEventListener("visibilitychange",wu,!0),addEventListener("prerenderingchange",wu,!0)},MN=()=>{removeEventListener("visibilitychange",wu,!0),removeEventListener("prerenderingchange",wu,!0)},wm=()=>{if(_e.document&&Uo<0){const t=Na();Uo=(_e.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0]?.startTime)??NN(),jN()}return{get firstHiddenTime(){return Uo}}},Gu=t=>{_e.document?.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},IN=[1800,3e3],DN=(t,e={})=>{Gu(()=>{const r=wm(),i=cl("FCP");let o;const u=ja("paint",f=>{for(const h of f)h.name==="first-contentful-paint"&&(u.disconnect(),h.startTime<r.firstHiddenTime&&(i.value=Math.max(h.startTime-Na(),0),i.entries.push(h),o(!0)))});u&&(o=ol(t,i,IN,e.reportAllChanges))})},LN=[.1,.25],UN=(t,e={})=>{DN(Sm(()=>{const r=cl("CLS",0);let i;const o=_m(e,Su),l=f=>{for(const h of f)o._processEntry(h);o._sessionValue>r.value&&(r.value=o._sessionValue,r.entries=o._sessionEntries,i())},u=ja("layout-shift",l);u&&(i=ol(t,r,LN,e.reportAllChanges),_e.document?.addEventListener("visibilitychange",()=>{_e.document?.visibilityState==="hidden"&&(l(u.takeRecords()),i(!0))}),_e?.setTimeout?.(i))}))};let Xw=0,Ch=1/0,Bc=0;const zN=t=>{t.forEach(e=>{e.interactionId&&(Ch=Math.min(Ch,e.interactionId),Bc=Math.max(Bc,e.interactionId),Xw=Bc?(Bc-Ch)/7+1:0)})};let mp;const Jw=()=>mp?Xw:performance.interactionCount||0,BN=()=>{"interactionCount"in performance||mp||(mp=ja("event",zN,{type:"event",buffered:!0,durationThreshold:0}))},Rh=10;let Qw=0;const HN=()=>Jw()-Qw;class Eu{constructor(){Eu.prototype.__init.call(this),Eu.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Qw=Jw(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor(HN()/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||e.entryType==="first-input"))return;const r=this._longestInteractionList.at(-1);let i=this._longestInteractionMap.get(e.interactionId);if(i||this._longestInteractionList.length<Rh||e.duration>r._latency){if(i?e.duration>i._latency?(i.entries=[e],i._latency=e.duration):e.duration===i._latency&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(i.id,i),this._longestInteractionList.push(i)),this._longestInteractionList.sort((o,l)=>l._latency-o._latency),this._longestInteractionList.length>Rh){const o=this._longestInteractionList.splice(Rh);for(const l of o)this._longestInteractionMap.delete(l.id)}this._onAfterProcessingINPCandidate?.(i)}}}const Em=t=>{const e=r=>{(r.type==="pagehide"||_e.document?.visibilityState==="hidden")&&t(r)};_e.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},Zw=t=>{const e=_e.requestIdleCallback||_e.setTimeout;_e.document?.visibilityState==="hidden"?t():(t=Sm(t),e(t),Em(t))},PN=[200,500],qN=40,$N=(t,e={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Gu(()=>{BN();const r=cl("INP");let i;const o=_m(e,Eu),l=f=>{Zw(()=>{for(const m of f)o._processEntry(m);const h=o._estimateP98LongestInteraction();h&&h._latency!==r.value&&(r.value=h._latency,r.entries=h.entries,i())})},u=ja("event",l,{durationThreshold:e.durationThreshold??qN});i=ol(t,r,PN,e.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),Em(()=>{l(u.takeRecords()),i(!0)}))})};class FN{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const GN=[2500,4e3],VN=(t,e={})=>{Gu(()=>{const r=wm(),i=cl("LCP");let o;const l=_m(e,FN),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)l._processEntry(m),m.startTime<r.firstHiddenTime&&(i.value=Math.max(m.startTime-Na(),0),i.entries=[m],o())},f=ja("largest-contentful-paint",u);if(f){o=ol(t,i,GN,e.reportAllChanges);const h=Sm(()=>{u(f.takeRecords()),f.disconnect(),o(!0)});for(const m of["keydown","click","visibilitychange"])_e.document&&addEventListener(m,()=>Zw(h),{capture:!0,once:!0})}})},YN=[800,1800],gp=t=>{_e.document?.prerendering?Gu(()=>gp(t)):_e.document?.readyState!=="complete"?addEventListener("load",()=>gp(t),!0):setTimeout(t)},KN=(t,e={})=>{const r=cl("TTFB"),i=ol(t,r,YN,e.reportAllChanges);gp(()=>{const o=ll();o&&(r.value=Math.max(o.responseStart-Na(),0),r.entries=[o],i(!0))})},zo={},xu={};let eE,tE,nE,rE;function xm(t,e=!1){return Vu("cls",t,XN,eE,e)}function Tm(t,e=!1){return Vu("lcp",t,JN,tE,e)}function WN(t){return Vu("ttfb",t,QN,nE)}function sE(t){return Vu("inp",t,ZN,rE)}function ii(t,e){return iE(t,e),xu[t]||(ej(t),xu[t]=!0),aE(t,e)}function ul(t,e){const r=zo[t];if(r?.length)for(const i of r)try{i(e)}catch(o){si&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Or(i)}
Error:`,o)}}function XN(){return UN(t=>{ul("cls",{metric:t}),eE=t},{reportAllChanges:!0})}function JN(){return VN(t=>{ul("lcp",{metric:t}),tE=t},{reportAllChanges:!0})}function QN(){return KN(t=>{ul("ttfb",{metric:t}),nE=t})}function ZN(){return $N(t=>{ul("inp",{metric:t}),rE=t})}function Vu(t,e,r,i,o=!1){iE(t,e);let l;return xu[t]||(l=r(),xu[t]=!0),i&&e({metric:i}),aE(t,e,o?l:void 0)}function ej(t){const e={};t==="event"&&(e.durationThreshold=0),ja(t,r=>{ul(t,{entries:r})},e)}function iE(t,e){zo[t]=zo[t]||[],zo[t].push(e)}function aE(t,e,r){return()=>{r&&r();const i=zo[t];if(!i)return;const o=i.indexOf(e);o!==-1&&i.splice(o,1)}}function tj(t){return"duration"in t}function Nh(t){return typeof t=="number"&&isFinite(t)}function hs(t,e,r,{...i}){const o=ze(t).start_timestamp;return o&&o>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),um(t,()=>{const l=Ra({startTime:e,...i});return l&&l.end(r),l})}function km(t){const e=Ie();if(!e)return;const{name:r,transaction:i,attributes:o,startTime:l}=t,{release:u,environment:f,sendDefaultPii:h}=e.getOptions(),y=e.getIntegrationByName("Replay")?.getReplayId(),v=Ve(),_=v.getUser(),S=_!==void 0?_.email||_.id||_.ip_address:void 0;let E;try{E=v.getScopeData().contexts.profile.profile_id}catch{}const T={release:u,environment:f,user:S||void 0,profile_id:E||void 0,replay_id:y||void 0,transaction:i,"user_agent.original":_e.navigator?.userAgent,"client.address":h?"{{auto}}":void 0,...o};return Ra({name:r,attributes:T,startTime:l,experimental:{standalone:!0}})}function dl(){return _e.addEventListener&&_e.performance}function lt(t){return t/1e3}function nj(t){let e="unknown",r="unknown",i="";for(const o of t){if(o==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(o))){e=i==="h"?"http":i,r=t.split(i)[1];break}i+=o}return i===t&&(e=i),{name:e,version:r}}function oE(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch{return!1}}function lE(t,e){let r,i=!1;function o(f){!i&&r&&e(f,r),i=!0}Em(()=>{o("pagehide")});const l=t.on("beforeStartNavigationSpan",(f,h)=>{h?.isRedirect||(o("navigation"),l(),u())}),u=t.on("afterStartPageLoadSpan",f=>{r=f.spanContext().spanId,u()})}function rj(t){let e=0,r;if(!oE("layout-shift"))return;const i=xm(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,r=l)},!0);lE(t,(o,l)=>{sj(e,r,l,o),i()})}function sj(t,e,r,i){si&&Y.log(`Sending CLS span (${t})`);const o=e?lt((tn()||0)+e.startTime):At(),l=Ve().getScopeData().transactionName,u=e?en(e.sources[0]?.node):"Layout shift",f={[Et]:"auto.http.browser.cls",[Nr]:"ui.webvital.cls",[Oa]:0,"sentry.pageload.span_id":r,"sentry.report_event":i};e?.sources&&e.sources.forEach((m,y)=>{f[`cls.source.${y+1}`]=en(m.node)});const h=km({name:u,transaction:l,attributes:f,startTime:o});h&&(h.addEvent("cls",{[il]:"",[al]:t}),h.end(o))}function ij(t){let e=0,r;if(!oE("largest-contentful-paint"))return;const i=Tm(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,r=l)},!0);lE(t,(o,l)=>{aj(e,r,l,o),i()})}function aj(t,e,r,i){si&&Y.log(`Sending LCP span (${t})`);const o=lt((tn()||0)+(e?.startTime||0)),l=Ve().getScopeData().transactionName,u=e?en(e.element):"Largest contentful paint",f={[Et]:"auto.http.browser.lcp",[Nr]:"ui.webvital.lcp",[Oa]:0,"sentry.pageload.span_id":r,"sentry.report_event":i};e&&(e.element&&(f["lcp.element"]=en(e.element)),e.id&&(f["lcp.id"]=e.id),e.url&&(f["lcp.url"]=e.url),e.loadTime!=null&&(f["lcp.loadTime"]=e.loadTime),e.renderTime!=null&&(f["lcp.renderTime"]=e.renderTime),e.size!=null&&(f["lcp.size"]=e.size));const h=km({name:u,transaction:l,attributes:f,startTime:o});h&&(h.addEvent("lcp",{[il]:"millisecond",[al]:t}),h.end(o))}function On(t){return t&&((tn()||performance.timeOrigin)+t)/1e3}function cE(t){const e={};if(t.nextHopProtocol!=null){const{name:r,version:i}=nj(t.nextHopProtocol);e["network.protocol.version"]=i,e["network.protocol.name"]=r}return tn()||dl()?.timeOrigin?oj({...e,"http.request.redirect_start":On(t.redirectStart),"http.request.redirect_end":On(t.redirectEnd),"http.request.worker_start":On(t.workerStart),"http.request.fetch_start":On(t.fetchStart),"http.request.domain_lookup_start":On(t.domainLookupStart),"http.request.domain_lookup_end":On(t.domainLookupEnd),"http.request.connect_start":On(t.connectStart),"http.request.secure_connection_start":On(t.secureConnectionStart),"http.request.connection_end":On(t.connectEnd),"http.request.request_start":On(t.requestStart),"http.request.response_start":On(t.responseStart),"http.request.response_end":On(t.responseEnd),"http.request.time_to_first_byte":t.responseStart!=null?t.responseStart/1e3:void 0}):e}function oj(t){return Object.fromEntries(Object.entries(t).filter(([,e])=>e!=null))}const lj=2147483647;let s0=0,Pn={},Qt,Tu;function cj({recordClsStandaloneSpans:t,recordLcpStandaloneSpans:e,client:r}){const i=dl();if(i&&tn()){i.mark&&_e.performance.mark("sentry-tracing-init");const o=e?ij(r):pj(),l=mj(),u=t?rj(r):hj();return()=>{o?.(),l(),u?.()}}return()=>{}}function uj(){ii("longtask",({entries:t})=>{const e=qt();if(!e)return;const{op:r,start_timestamp:i}=ze(e);for(const o of t){const l=lt(tn()+o.startTime),u=lt(o.duration);r==="navigation"&&i&&l<i||hs(e,l,l+u,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Et]:"auto.ui.browser.metrics"}})}})}function dj(){new PerformanceObserver(e=>{const r=qt();if(r)for(const i of e.getEntries()){if(!i.scripts[0])continue;const o=lt(tn()+i.startTime),{start_timestamp:l,op:u}=ze(r);if(u==="navigation"&&l&&o<l)continue;const f=lt(i.duration),h={[Et]:"auto.ui.browser.metrics"},m=i.scripts[0],{invoker:y,invokerType:v,sourceURL:_,sourceFunctionName:S,sourceCharPosition:E}=m;h["browser.script.invoker"]=y,h["browser.script.invoker_type"]=v,_&&(h["code.filepath"]=_),S&&(h["code.function"]=S),E!==-1&&(h["browser.script.source_char_position"]=E),hs(r,o,o+f,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:h})}}).observe({type:"long-animation-frame",buffered:!0})}function fj(){ii("event",({entries:t})=>{const e=qt();if(e){for(const r of t)if(r.name==="click"){const i=lt(tn()+r.startTime),o=lt(r.duration),l={name:en(r.target),op:`ui.interaction.${r.name}`,startTime:i,attributes:{[Et]:"auto.ui.browser.metrics"}},u=GS(r.target);u&&(l.attributes["ui.component_name"]=u),hs(e,i,i+o,l)}}})}function hj(){return xm(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Pn.cls={value:t.value,unit:""},Tu=e)},!0)}function pj(){return Tm(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Pn.lcp={value:t.value,unit:"millisecond"},Qt=e)},!0)}function mj(){return WN(({metric:t})=>{t.entries[t.entries.length-1]&&(Pn.ttfb={value:t.value,unit:"millisecond"})})}function gj(t,e){const r=dl(),i=tn();if(!r?.getEntries||!i)return;const o=lt(i),l=r.getEntries(),{op:u,start_timestamp:f}=ze(t);l.slice(s0).forEach(h=>{const m=lt(h.startTime),y=lt(Math.max(0,h.duration));if(!(u==="navigation"&&f&&o+m<f))switch(h.entryType){case"navigation":{_j(t,h,o);break}case"mark":case"paint":case"measure":{bj(t,h,m,y,o,e.ignorePerformanceApiSpans);const v=wm(),_=h.startTime<v.firstHiddenTime;h.name==="first-paint"&&_&&(Pn.fp={value:h.startTime,unit:"millisecond"}),h.name==="first-contentful-paint"&&_&&(Pn.fcp={value:h.startTime,unit:"millisecond"});break}case"resource":{Ej(t,h,h.name,m,y,o,e.ignoreResourceSpans);break}}}),s0=Math.max(l.length-1,0),xj(t),u==="pageload"&&(Aj(Pn),e.recordClsOnPageloadSpan||delete Pn.cls,e.recordLcpOnPageloadSpan||delete Pn.lcp,Object.entries(Pn).forEach(([h,m])=>{aC(h,m.value,m.unit)}),t.setAttribute("performance.timeOrigin",o),t.setAttribute("performance.activationStart",Na()),Tj(t,e)),Qt=void 0,Tu=void 0,Pn={}}function yj(t){if(t?.entryType==="measure")try{return t.detail.devtools.track==="Components "}catch{return}}function bj(t,e,r,i,o,l){if(yj(e)||["mark","measure"].includes(e.entryType)&&Tr(e.name,l))return;const u=ll(!1),f=lt(u?u.requestStart:0),h=o+Math.max(r,f),m=o+r,y=m+i,v={[Et]:"auto.resource.browser.metrics"};h!==m&&(v["sentry.browser.measure_happened_before_request"]=!0,v["sentry.browser.measure_start_time"]=h),vj(v,e),h<=y&&hs(t,h,y,{name:e.name,op:e.entryType,attributes:v})}function vj(t,e){try{const r=e.detail;if(!r)return;if(typeof r=="object"){for(const[i,o]of Object.entries(r))if(o&&fa(o))t[`sentry.browser.measure.detail.${i}`]=o;else if(o!==void 0)try{t[`sentry.browser.measure.detail.${i}`]=JSON.stringify(o)}catch{}return}if(fa(r)){t["sentry.browser.measure.detail"]=r;return}try{t["sentry.browser.measure.detail"]=JSON.stringify(r)}catch{}}catch{}}function _j(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{Hc(t,e,i,r)}),Hc(t,e,"secureConnection",r,"TLS/SSL"),Hc(t,e,"fetch",r,"cache"),Hc(t,e,"domainLookup",r,"DNS"),wj(t,e,r)}function Hc(t,e,r,i,o=r){const l=Sj(r),u=e[l],f=e[`${r}Start`];!f||!u||hs(t,i+lt(f),i+lt(u),{op:`browser.${o}`,name:e.name,attributes:{[Et]:"auto.ui.browser.metrics",...r==="redirect"&&e.redirectCount!=null?{"http.redirect_count":e.redirectCount}:{}}})}function Sj(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function wj(t,e,r){const i=r+lt(e.requestStart),o=r+lt(e.responseEnd),l=r+lt(e.responseStart);e.responseEnd&&(hs(t,i,o,{op:"browser.request",name:e.name,attributes:{[Et]:"auto.ui.browser.metrics"}}),hs(t,l,o,{op:"browser.response",name:e.name,attributes:{[Et]:"auto.ui.browser.metrics"}}))}function Ej(t,e,r,i,o,l,u){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const f=e.initiatorType?`resource.${e.initiatorType}`:"resource.other";if(u?.includes(f))return;const h={[Et]:"auto.resource.browser.metrics"},m=ti(r);m.protocol&&(h["url.scheme"]=m.protocol.split(":").pop()),m.host&&(h["server.address"]=m.host),h["url.same_origin"]=r.includes(_e.location.origin),kj(e,h,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const y={...h,...cE(e)},v=l+i,_=v+o;hs(t,v,_,{name:r.replace(_e.location.origin,""),op:f,attributes:y})}function xj(t){const e=_e.navigator;if(!e)return;const r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),Nh(r.rtt)&&(Pn["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Nh(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),Nh(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function Tj(t,e){Qt&&e.recordLcpOnPageloadSpan&&(Qt.element&&t.setAttribute("lcp.element",en(Qt.element)),Qt.id&&t.setAttribute("lcp.id",Qt.id),Qt.url&&t.setAttribute("lcp.url",Qt.url.trim().slice(0,200)),Qt.loadTime!=null&&t.setAttribute("lcp.loadTime",Qt.loadTime),Qt.renderTime!=null&&t.setAttribute("lcp.renderTime",Qt.renderTime),t.setAttribute("lcp.size",Qt.size)),Tu?.sources&&e.recordClsOnPageloadSpan&&Tu.sources.forEach((r,i)=>t.setAttribute(`cls.source.${i+1}`,en(r.node)))}function kj(t,e,r){r.forEach(([i,o])=>{const l=t[i];l!=null&&(typeof l=="number"&&l<lj||typeof l=="string")&&(e[o]=l)})}function Aj(t){const e=ll(!1);if(!e)return;const{responseStart:r,requestStart:i}=e;i<=r&&(t["ttfb.requestTime"]={value:r-i,unit:"millisecond"})}function Oj(){return dl()&&tn()?ii("element",Cj):()=>{}}const Cj=({entries:t})=>{const e=qt(),r=e?Dt(e):void 0,i=r?ze(r).description:Ve().getScopeData().transactionName;t.forEach(o=>{const l=o;if(!l.identifier)return;const u=l.name,f=l.renderTime,h=l.loadTime,[m,y]=h?[lt(h),"load-time"]:f?[lt(f),"render-time"]:[At(),"entry-emission"],v=u==="image-paint"?lt(Math.max(0,(f??0)-(h??0))):0,_={[Et]:"auto.ui.browser.elementtiming",[Nr]:"ui.elementtiming",[Fn]:"component","sentry.span_start_time_source":y,"sentry.transaction_name":i,"element.id":l.id,"element.type":l.element?.tagName?.toLowerCase()||"unknown","element.size":l.naturalWidth&&l.naturalHeight?`${l.naturalWidth}x${l.naturalHeight}`:void 0,"element.render_time":f,"element.load_time":h,"element.url":l.url||void 0,"element.identifier":l.identifier,"element.paint_type":u};fC({name:`element[${l.identifier}]`,attributes:_,startTime:m,onlyIfParent:!0},S=>{S.end(m+v)})})},Rj=1e3;let i0,yp,bp;function uE(t){ps("dom",t),ms("dom",Nj)}function Nj(){if(!_e.document)return;const t=Cn.bind(null,"dom"),e=a0(t,!0);_e.document.addEventListener("click",e,!1),_e.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const o=_e[r]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(Zt(o,"addEventListener",function(l){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=m[u]=m[u]||{refCount:0};if(!y.handler){const v=a0(t);y.handler=v,l.call(this,u,v,h)}y.refCount++}catch{}return l.call(this,u,f,h)}}),Zt(o,"removeEventListener",function(l){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__||{},y=m[u];y&&(y.refCount--,y.refCount<=0&&(l.call(this,u,y.handler,h),y.handler=void 0,delete m[u]),Object.keys(m).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return l.call(this,u,f,h)}}))})}function jj(t){if(t.type!==yp)return!1;try{if(!t.target||t.target._sentryId!==bp)return!1}catch{}return!0}function Mj(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function a0(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const i=Ij(r);if(Mj(r.type,i))return;yn(r,"_sentryCaptured",!0),i&&!i._sentryId&&yn(i,"_sentryId",gn());const o=r.type==="keypress"?"input":r.type;jj(r)||(t({event:r,name:o,global:e}),yp=r.type,bp=i?i._sentryId:void 0),clearTimeout(i0),i0=_e.setTimeout(()=>{bp=void 0,yp=void 0},Rj)}}function Ij(t){try{return t.target}catch{return null}}let Pc;function Yu(t){const e="history";ps(e,t),ms(e,Dj)}function Dj(){if(_e.addEventListener("popstate",()=>{const e=_e.location.href,r=Pc;if(Pc=e,r===e)return;Cn("history",{from:r,to:e})}),!rN())return;function t(e){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=Pc,l=Lj(String(i));if(Pc=l,o===l)return e.apply(this,r);Cn("history",{from:o,to:l})}return e.apply(this,r)}}Zt(_e.history,"pushState",t),Zt(_e.history,"replaceState",t)}function Lj(t){try{return new URL(t,_e.location.origin).toString()}catch{return t}}const fu={};function dE(t){const e=fu[t];if(e)return e;let r=_e[t];if(up(r))return fu[t]=r.bind(_e);const i=_e.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l?.[t]&&(r=l[t]),i.head.removeChild(o)}catch(o){si&&Y.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,o)}return r&&(fu[t]=r.bind(_e))}function Uj(t){fu[t]=void 0}function fl(...t){return dE("setTimeout")(...t)}const Ws="__sentry_xhr_v3__";function fE(t){ps("xhr",t),ms("xhr",zj)}function zj(){if(!_e.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,i){const o=new Error,l=At()*1e3,u=xr(i[0])?i[0].toUpperCase():void 0,f=Bj(i[1]);if(!u||!f)return e.apply(r,i);r[Ws]={method:u,url:f,request_headers:{}},u==="POST"&&f.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const h=()=>{const m=r[Ws];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}const y={endTimestamp:At()*1e3,startTimestamp:l,xhr:r,virtualError:o};Cn("xhr",y)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,y,v){return h(),m.apply(y,v)}}):r.addEventListener("readystatechange",h),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,y,v){const[_,S]=v,E=y[Ws];return E&&xr(_)&&xr(S)&&(E.request_headers[_.toLowerCase()]=S),m.apply(y,v)}}),e.apply(r,i)}}),t.send=new Proxy(t.send,{apply(e,r,i){const o=r[Ws];if(!o)return e.apply(r,i);i[0]!==void 0&&(o.body=i[0]);const l={startTimestamp:At()*1e3,xhr:r};return Cn("xhr",l),e.apply(r,i)}})}function Bj(t){if(xr(t))return t;try{return t.toString()}catch{}}function hE(t){return new URLSearchParams(t).toString()}function pE(t,e=Y){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[hE(t)];if(!t)return[void 0]}catch(r){return si&&e.error(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return si&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function mE(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function gE(t){let e;try{e=t.getAllResponseHeaders()}catch(r){return si&&Y.error(r,"Failed to get xhr response headers",t),{}}return e?e.split(`\r
`).reduce((r,i)=>{const[o,l]=i.split(": ");return l&&(r[o.toLowerCase()]=l),r},{}):{}}const jh=[],hu=new Map,Ki=new Map,Hj=60;function Pj(){if(dl()&&tn()){const e=qj();return()=>{e()}}return()=>{}}const vp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function qj(){return sE($j)}const $j=({metric:t})=>{if(t.value==null)return;const e=lt(t.value);if(e>Hj)return;const r=t.entries.find(E=>E.duration===t.value&&vp[E.name]);if(!r)return;const{interactionId:i}=r,o=vp[r.name],l=lt(tn()+r.startTime),u=qt(),f=u?Dt(u):void 0,h=i!=null?hu.get(i):void 0,m=h?.span||f,y=m?ze(m).description:Ve().getScopeData().transactionName,v=h?.elementName||en(r.target),_={[Et]:"auto.http.browser.inp",[Nr]:`ui.interaction.${o}`,[Oa]:r.duration},S=km({name:v,transaction:y,attributes:_,startTime:l});S&&(S.addEvent("inp",{[il]:"millisecond",[al]:t.value}),S.end(l+e))};function Fj(){const t=Object.keys(vp);fp()&&t.forEach(o=>{_e.addEventListener(o,e,{capture:!0,passive:!0})});function e(o){const l=o.target;if(!l)return;const u=en(l),f=Math.round(o.timeStamp);if(Ki.set(f,u),Ki.size>50){const h=Ki.keys().next().value;h!==void 0&&Ki.delete(h)}}function r(o){const l=Math.round(o.startTime);let u=Ki.get(l);if(!u)for(let f=-5;f<=5;f++){const h=Ki.get(l+f);if(h){u=h;break}}return u||"<unknown>"}const i=({entries:o})=>{const l=qt(),u=l&&Dt(l);o.forEach(f=>{if(!tj(f))return;const h=f.interactionId;if(h==null||hu.has(h))return;const m=f.target?en(f.target):r(f);if(jh.length>10){const y=jh.shift();hu.delete(y)}jh.push(h),hu.set(h,{span:u,elementName:m})})};ii("event",i),ii("first-input",i)}const Gj=40;function Vj(t,e=dE("fetch")){let r=0,i=0;async function o(l){const u=l.body.length;r+=u,i++;const f={body:l.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&i<15,...t.fetchOptions};try{const h=await e(t.url,f);return{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}}catch(h){throw Uj("fetch"),h}finally{r-=u,i--}}return mR(t,o,Uw(t.bufferSize||Gj))}const Yj=30,Kj=50;function _p(t,e,r,i){const o={filename:t,function:e==="<anonymous>"?ni:e,in_app:!0};return r!==void 0&&(o.lineno=r),i!==void 0&&(o.colno=i),o}const Wj=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Xj=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Jj=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qj=/at (.+?) ?\(data:(.+?),/,Zj=t=>{const e=t.match(Qj);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const r=Wj.exec(t);if(r){const[,o,l,u]=r;return _p(o,ni,+l,+u)}const i=Xj.exec(t);if(i){if(i[2]&&i[2].indexOf("eval")===0){const f=Jj.exec(i[2]);f&&(i[2]=f[1],i[3]=f[2],i[4]=f[3])}const[l,u]=yE(i[1]||ni,i[2]);return _p(u,l,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},eM=[Yj,Zj],tM=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,nM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rM=t=>{const e=tM.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const l=nM.exec(e[3]);l&&(e[1]=e[1]||"eval",e[3]=l[1],e[4]=l[2],e[5]="")}let i=e[3],o=e[1]||ni;return[o,i]=yE(o,i),_p(i,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},sM=[Kj,rM],iM=[eM,sM],aM=zS(...iM),yE=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return r||i?[t.indexOf("@")!==-1?t.split("@")[0]:ni,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qc=1024,oM="Breadcrumbs",lM=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:oM,setup(r){e.console&&qR(fM(r)),e.dom&&uE(dM(r,e.dom)),e.xhr&&fE(hM(r)),e.fetch&&Vw(pM(r)),e.history&&Yu(mM(r)),e.sentry&&r.on("beforeSendEvent",uM(r))}}}),cM=lM;function uM(t){return function(r){Ie()===t&&fs({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Vs(r)},{event:r})}}function dM(t,e){return function(i){if(Ie()!==t)return;let o,l,u=typeof e=="object"?e.serializeAttribute:void 0,f=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;f&&f>qc&&(Rn&&Y.warn(`\`dom.maxStringLength\` cannot exceed ${qc}, but a value of ${f} was configured. Sentry will use ${qc} instead.`),f=qc),typeof u=="string"&&(u=[u]);try{const m=i.event,y=gM(m)?m.target:m;o=en(y,{keyAttrs:u,maxStringLength:f}),l=GS(y)}catch{o="<unknown>"}if(o.length===0)return;const h={category:`ui.${i.name}`,message:o};l&&(h.data={"ui.component_name":l}),fs(h,{event:i.event,name:i.name,global:i.global})}}function fM(t){return function(r){if(Ie()!==t)return;const i={category:"console",data:{arguments:r.args,logger:"console"},level:qw(r.level),message:b_(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)i.message=`Assertion failed: ${b_(r.args.slice(1)," ")||"console.assert"}`,i.data.arguments=r.args.slice(1);else return;fs(i,{input:r.args,level:r.level})}}function hM(t){return function(r){if(Ie()!==t)return;const{startTimestamp:i,endTimestamp:o}=r,l=r.xhr[Ws];if(!i||!o||!l)return;const{method:u,url:f,status_code:h,body:m}=l,y={method:u,url:f,status_code:h},v={xhr:r.xhr,input:m,startTimestamp:i,endTimestamp:o},_={category:"xhr",data:y,type:"http",level:Gw(h)};t.emit("beforeOutgoingRequestBreadcrumb",_,v),fs(_,v)}}function pM(t){return function(r){if(Ie()!==t)return;const{startTimestamp:i,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const l=r.fetchData,u={data:r.error,input:r.args,startTimestamp:i,endTimestamp:o},f={category:"fetch",data:l,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",f,u),fs(f,u)}else{const l=r.response,u={...r.fetchData,status_code:l?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,l?.status;const f={input:r.args,response:l,startTimestamp:i,endTimestamp:o},h={category:"fetch",data:u,type:"http",level:Gw(u.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",h,f),fs(h,f)}}}function mM(t){return function(r){if(Ie()!==t)return;let i=r.from,o=r.to;const l=ti(Be.location.href);let u=i?ti(i):void 0;const f=ti(o);u?.path||(u=l),l.protocol===f.protocol&&l.host===f.host&&(o=f.relative),l.protocol===u.protocol&&l.host===u.host&&(i=u.relative),fs({category:"navigation",data:{from:i,to:o}})}}function gM(t){return!!t&&!!t.target}const yM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],bM="BrowserApiErrors",vM=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:bM,setupOnce(){e.setTimeout&&Zt(Be,"setTimeout",o0),e.setInterval&&Zt(Be,"setInterval",o0),e.requestAnimationFrame&&Zt(Be,"requestAnimationFrame",SM),e.XMLHttpRequest&&"XMLHttpRequest"in Be&&Zt(XMLHttpRequest.prototype,"send",wM);const r=e.eventTarget;r&&(Array.isArray(r)?r:yM).forEach(o=>EM(o,e))}}}),_M=vM;function o0(t){return function(...e){const r=e[0];return e[0]=ya(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Or(t)}`}}),t.apply(this,e)}}function SM(t){return function(e){return t.apply(this,[ya(e,{mechanism:{data:{handler:Or(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function wM(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&Zt(r,o,function(l){const u={mechanism:{data:{handler:Or(l)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},f=rm(l);return f&&(u.mechanism.data.handler=Or(f)),ya(l,u)})}),t.apply(this,e)}}function EM(t,e){const i=Be[t]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(Zt(i,"addEventListener",function(o){return function(l,u,f){try{xM(u)&&(u.handleEvent=ya(u.handleEvent,{mechanism:{data:{handler:Or(u),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&TM(this,l,u),o.apply(this,[l,ya(u,{mechanism:{data:{handler:Or(u),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),f])}}),Zt(i,"removeEventListener",function(o){return function(l,u,f){try{const h=u.__sentry_wrapped__;h&&o.call(this,l,h,f)}catch{}return o.call(this,l,u,f)}}))}function xM(t){return typeof t.handleEvent=="function"}function TM(t,e,r){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,r)}const kM=()=>({name:"BrowserSession",setupOnce(){if(typeof Be.document>"u"){Rn&&Y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}H_({ignoreDuration:!0}),P_(),Yu(({from:t,to:e})=>{t!==void 0&&t!==e&&(H_({ignoreDuration:!0}),P_())})}}),AM="GlobalHandlers",OM=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:AM,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(RM(r),l0("onerror")),e.onunhandledrejection&&(NM(r),l0("onunhandledrejection"))}}}),CM=OM;function RM(t){BS(e=>{const{stackParser:r,attachStacktrace:i}=bE();if(Ie()!==t||Kw())return;const{msg:o,url:l,line:u,column:f,error:h}=e,m=IM(vm(r,h||o,void 0,i,!1),l,u,f);m.level="error",ww(m,{originalException:h,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function NM(t){HS(e=>{const{stackParser:r,attachStacktrace:i}=bE();if(Ie()!==t||Kw())return;const o=jM(e),l=fa(o)?MM(o):vm(r,o,void 0,i,!0);l.level="error",ww(l,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function jM(t){if(fa(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function MM(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function IM(t,e,r,i){const o=t.exception=t.exception||{},l=o.values=o.values||[],u=l[0]=l[0]||{},f=u.stacktrace=u.stacktrace||{},h=f.frames=f.frames||[],m=i,y=r,v=DM(e)??ka();return h.length===0&&h.push({colno:m,filename:v,function:ni,in_app:!0,lineno:y}),t}function l0(t){Rn&&Y.log(`Global Handler attached: ${t}`)}function bE(){return Ie()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function DM(t){if(!(!xr(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),r=e?e[1]:"text/javascript",i=t.includes("base64,");return`<data:${r}${i?",base64":""}>`}return t}}const LM=()=>({name:"HttpContext",preprocessEvent(t){if(!Be.navigator&&!Be.location&&!Be.document)return;const e=gm(),r={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:r}}}),UM="cause",zM=5,BM="LinkedErrors",HM=((t={})=>{const e=t.limit||zM,r=t.key||UM;return{name:BM,preprocessEvent(i,o,l){const u=l.getOptions();PR(ym,u.stackParser,r,e,i,o)}}}),PM=HM;function qM(){return $M()?(Rn&&oi(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function $M(){if(typeof Be.window>"u")return!1;const t=Be;if(t.nw||!(t.chrome||t.browser)?.runtime?.id)return!1;const r=ka(),i=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Be===Be.top&&i.some(l=>r.startsWith(`${l}://`)))}function FM(t){return[MR(),CR(),_M(),cM(),CM(),PM(),VR(),LM(),kM()]}function GM(t={}){const e=!t.skipBrowserExtensionCheck&&qM();let r=t.defaultIntegrations==null?FM():t.defaultIntegrations;const i={...t,enabled:e?!1:t.enabled,stackParser:UA(t.stackParser||aM),integrations:VC({integrations:t.integrations,defaultIntegrations:r}),transport:t.transport||Vj};return cR(AN,i)}const Ze=Le,Am="sentryReplaySession",VM="replay_event",Om="Unable to send Replay",YM=3e5,KM=9e5,WM=5e3,XM=5500,JM=6e4,QM=5e3,ZM=3,c0=15e4,$c=5e3,eI=3e3,tI=300,Cm=2e7,nI=4999,rI=15e3,u0=36e5;var sI=Object.defineProperty,iI=(t,e,r)=>e in t?sI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,d0=(t,e,r)=>iI(t,typeof e!="symbol"?e+"":e,r),gt=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(gt||{});function aI(t){return t.nodeType===t.ELEMENT_NODE}function Bo(t){return t?.host?.shadowRoot===t}function Ho(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function oI(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function lI(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const r=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}function ku(t){try{const e=t.rules||t.cssRules;return e?oI(Array.from(e,vE).join("")):null}catch{return null}}function cI(t){let e="";for(let r=0;r<t.style.length;r++){const i=t.style,o=i[r],l=i.getPropertyPriority(o);e+=`${o}:${i.getPropertyValue(o)}${l?" !important":""};`}return`${t.selectorText} { ${e} }`}function vE(t){let e;if(dI(t))try{e=ku(t.styleSheet)||lI(t)}catch{}else if(fI(t)){let r=t.cssText;const i=t.selectorText.includes(":"),o=typeof t.style.all=="string"&&t.style.all;if(o&&(r=cI(t)),i&&(r=uI(r)),i||o)return r}return e||t.cssText}function uI(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function dI(t){return"styleSheet"in t}function fI(t){return"selectorText"in t}class _E{constructor(){d0(this,"idNodeMap",new Map),d0(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,r){const i=r.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,r)}replace(e,r){const i=this.getNode(e);if(i){const o=this.nodeMetaMap.get(i);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(e,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function hI(){return new _E}function Ku({maskInputOptions:t,tagName:e,type:r}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||r&&t[r]||r==="password"||e==="INPUT"&&!r&&t.text)}function Wo({isMasked:t,element:e,value:r,maskInputFn:i}){let o=r||"";return t?(i&&(o=i(o,e)),"*".repeat(o.length)):o}function ba(t){return t.toLowerCase()}function Sp(t){return t.toUpperCase()}const f0="__rrweb_original__";function pI(t){const e=t.getContext("2d");if(!e)return!0;const r=50;for(let i=0;i<t.width;i+=r)for(let o=0;o<t.height;o+=r){const l=e.getImageData,u=f0 in l?l[f0]:l;if(new Uint32Array(u.call(e,i,o,Math.min(r,t.width-i),Math.min(r,t.height-o)).data.buffer).some(h=>h!==0))return!1}return!0}function Rm(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?ba(e):null}function Au(t,e,r){return e==="INPUT"&&(r==="radio"||r==="checkbox")?t.getAttribute("value")||"":t.value}function SE(t,e){let r;try{r=new URL(t,e??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i;return r.pathname.match(i)?.[1]??null}const h0={};function wE(t){const e=h0[t];if(e)return e;const r=window.document;let i=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const l=o.contentWindow;l&&l[t]&&(i=l[t]),r.head.removeChild(o)}catch{}return h0[t]=i.bind(window)}function wp(...t){return wE("setTimeout")(...t)}function EE(...t){return wE("clearTimeout")(...t)}function xE(t){try{return t.contentDocument}catch{}}let mI=1;const gI=new RegExp("[^a-z0-9-_:]"),Xo=-2;function Nm(){return mI++}function yI(t){if(t instanceof HTMLFormElement)return"form";const e=ba(t.tagName);return gI.test(e)?"div":e}function bI(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let Wi,p0;const vI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,_I=/^(?:[a-z+]+:)?\/\//i,SI=/^www\..*/i,wI=/^(data:)([^,]*),(.*)/i;function EI(t,e){if(!t||e.size===0)return t;try{const r=t.split(";"),i=[];for(let o of r){if(o=o.trim(),!o)continue;const l=o.indexOf(":");if(l===-1){i.push(o);continue}const u=o.slice(0,l).trim();e.has(u)||i.push(o)}return i.join("; ")+(i.length>0&&t.endsWith(";")?";":"")}catch(r){return console.warn("Error filtering CSS properties:",r),t}}function Ou(t,e){return(t||"").replace(vI,(r,i,o,l,u,f)=>{const h=o||u||f,m=i||l||"";if(!h)return r;if(_I.test(h)||SI.test(h))return`url(${m}${h}${m})`;if(wI.test(h))return`url(${m}${h}${m})`;if(h[0]==="/")return`url(${m}${bI(e)+h}${m})`;const y=e.split("/"),v=h.split("/");y.pop();for(const _ of v)_!=="."&&(_===".."?y.pop():y.push(_));return`url(${m}${y.join("/")}${m})`})}const xI=/^[^ \t\n\r\u000c]+/,TI=/^[, \t\n\r\u000c]+/;function kI(t,e){if(e.trim()==="")return e;let r=0;function i(l){let u;const f=l.exec(e.substring(r));return f?(u=f[0],r+=u.length,u):""}const o=[];for(;i(TI),!(r>=e.length);){let l=i(xI);if(l.slice(-1)===",")l=aa(t,l.substring(0,l.length-1)),o.push(l);else{let u="";l=aa(t,l);let f=!1;for(;;){const h=e.charAt(r);if(h===""){o.push((l+u).trim());break}else if(f)h===")"&&(f=!1);else if(h===","){r+=1,o.push((l+u).trim());break}else h==="("&&(f=!0);u+=h,r+=1}}}return o.join(", ")}const m0=new WeakMap;function aa(t,e){return!e||e.trim()===""?e:Wu(t,e)}function AI(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Wu(t,e){let r=m0.get(t);if(r||(r=t.createElement("a"),m0.set(t,r)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return r.setAttribute("href",e),r.href}function TE(t,e,r,i,o,l,u){if(!i)return i;if(r==="src"||r==="href"&&!(e==="use"&&i[0]==="#"))return aa(t,i);if(r==="xlink:href"&&i[0]!=="#")return aa(t,i);if(r==="background"&&(e==="table"||e==="td"||e==="th"))return aa(t,i);if(r==="srcset")return kI(t,i);if(r==="style"){let f=Ou(i,Wu(t));return u&&u.size>0&&(f=EI(f,u)),f}else if(e==="object"&&r==="data")return aa(t,i);return typeof l=="function"?l(r,i,o):i}function kE(t,e,r){return(t==="video"||t==="audio")&&e==="autoplay"}function OI(t,e,r,i){try{if(i&&t.matches(i))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let o=t.classList.length;o--;){const l=t.classList[o];if(e.test(l))return!0}if(r)return t.matches(r)}catch{}return!1}function CI(t,e){for(let r=t.classList.length;r--;){const i=t.classList[r];if(e.test(i))return!0}return!1}function Xs(t,e,r=1/0,i=0){return!t||t.nodeType!==t.ELEMENT_NODE||i>r?-1:e(t)?i:Xs(t.parentNode,e,r,i+1)}function oa(t,e){return r=>{const i=r;if(i===null)return!1;try{if(t){if(typeof t=="string"){if(i.matches(`.${t}`))return!0}else if(CI(i,t))return!0}return!!(e&&i.matches(e))}catch{return!1}}}function va(t,e,r,i,o,l){try{const u=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(u===null)return!1;if(u.tagName==="INPUT"){const m=u.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(m))return!0}let f=-1,h=-1;if(l){if(h=Xs(u,oa(i,o)),h<0)return!0;f=Xs(u,oa(e,r),h>=0?h:1/0)}else{if(f=Xs(u,oa(e,r)),f<0)return!1;h=Xs(u,oa(i,o),f>=0?f:1/0)}return f>=0?h>=0?f<=h:!0:h>=0?!1:!!l}catch{}return!!l}function RI(t,e,r){const i=t.contentWindow;if(!i)return;let o=!1,l;try{l=i.document.readyState}catch{return}if(l!=="complete"){const f=wp(()=>{o||(e(),o=!0)},r);t.addEventListener("load",()=>{EE(f),o=!0,e()});return}const u="about:blank";if(i.location.href!==u||t.src===u||t.src==="")return wp(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function NI(t,e,r){let i=!1,o;try{o=t.sheet}catch{return}if(o)return;const l=wp(()=>{i||(e(),i=!0)},r);t.addEventListener("load",()=>{EE(l),i=!0,e()})}function jI(t,e){const{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskAttributeFn:h,maskTextClass:m,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:_,inlineStylesheet:S,maskInputOptions:E={},maskTextFn:T,maskInputFn:A,dataURLOptions:U={},inlineImages:B,recordCanvas:R,keepIframeSrcFn:F,newlyAddedElement:K=!1,ignoreCSSAttributes:G}=e,L=MI(r,i);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:gt.Document,childNodes:[],compatMode:t.compatMode}:{type:gt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:gt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:L};case t.ELEMENT_NODE:return DI(t,{doc:r,blockClass:o,blockSelector:l,unblockSelector:u,inlineStylesheet:S,maskAttributeFn:h,maskInputOptions:E,maskInputFn:A,dataURLOptions:U,inlineImages:B,recordCanvas:R,keepIframeSrcFn:F,newlyAddedElement:K,rootId:L,maskTextClass:m,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:_,ignoreCSSAttributes:G});case t.TEXT_NODE:return II(t,{doc:r,maskAllText:f,maskTextClass:m,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:_,maskTextFn:T,maskInputOptions:E,maskInputFn:A,rootId:L});case t.CDATA_SECTION_NODE:return{type:gt.CDATA,textContent:"",rootId:L};case t.COMMENT_NODE:return{type:gt.Comment,textContent:t.textContent||"",rootId:L};default:return!1}}function MI(t,e){if(!e.hasNode(t))return;const r=e.getId(t);return r===1?void 0:r}function II(t,e){const{maskAllText:r,maskTextClass:i,unmaskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,maskTextFn:f,maskInputOptions:h,maskInputFn:m,rootId:y}=e,v=t.parentNode&&t.parentNode.tagName;let _=t.textContent;const S=v==="STYLE"?!0:void 0,E=v==="SCRIPT"?!0:void 0,T=v==="TEXTAREA"?!0:void 0;if(S&&_){try{t.nextSibling||t.previousSibling||t.parentNode.sheet?.cssRules&&(_=ku(t.parentNode.sheet))}catch(U){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${U}`,t)}_=Ou(_,Wu(e.doc))}E&&(_="SCRIPT_PLACEHOLDER");const A=va(t,i,l,o,u,r);if(!S&&!E&&!T&&_&&A&&(_=f?f(_,t.parentElement):_.replace(/[\S]/g,"*")),T&&_&&(h.textarea||A)&&(_=m?m(_,t.parentNode):_.replace(/[\S]/g,"*")),v==="OPTION"&&_){const U=Ku({type:null,tagName:v,maskInputOptions:h});_=Wo({isMasked:va(t,i,l,o,u,U),element:t,value:_,maskInputFn:m})}return{type:gt.Text,textContent:_||"",isStyle:S,rootId:y}}function DI(t,e){const{doc:r,blockClass:i,blockSelector:o,unblockSelector:l,inlineStylesheet:u,maskInputOptions:f={},maskAttributeFn:h,maskInputFn:m,dataURLOptions:y={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:S,newlyAddedElement:E=!1,rootId:T,maskTextClass:A,unmaskTextClass:U,maskTextSelector:B,unmaskTextSelector:R,ignoreCSSAttributes:F}=e,K=OI(t,i,o,l),G=yI(t);let L={};const P=t.attributes.length;for(let W=0;W<P;W++){const ee=t.attributes[W];ee.name&&!kE(G,ee.name,ee.value)&&(L[ee.name]=TE(r,G,ba(ee.name),ee.value,t,h,F))}if(G==="link"&&u){const W=Array.from(r.styleSheets).find(le=>le.href===t.href);let ee=null;W&&(ee=ku(W)),ee&&(L.rel=null,L.href=null,L.crossorigin=null,L._cssText=Ou(ee,W.href))}if(G==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const W=ku(t.sheet);W&&(L._cssText=Ou(W,Wu(r)))}if(G==="input"||G==="textarea"||G==="select"||G==="option"){const W=t,ee=Rm(W),le=Au(W,Sp(G),ee),he=W.checked;if(ee!=="submit"&&ee!=="button"&&le){const Te=va(W,A,B,U,R,Ku({type:ee,tagName:Sp(G),maskInputOptions:f}));L.value=Wo({isMasked:Te,element:W,value:le,maskInputFn:m})}he&&(L.checked=he)}if(G==="option"&&(t.selected&&!f.select?L.selected=!0:delete L.selected),G==="canvas"&&_){if(t.__context==="2d")pI(t)||(L.rr_dataURL=t.toDataURL(y.type,y.quality));else if(!("__context"in t)){const W=t.toDataURL(y.type,y.quality),ee=r.createElement("canvas");ee.width=t.width,ee.height=t.height;const le=ee.toDataURL(y.type,y.quality);W!==le&&(L.rr_dataURL=W)}}if(G==="img"&&v){Wi||(Wi=r.createElement("canvas"),p0=Wi.getContext("2d"));const W=t,ee=W.currentSrc||W.getAttribute("src")||"<unknown-src>",le=W.crossOrigin,he=()=>{W.removeEventListener("load",he);try{Wi.width=W.naturalWidth,Wi.height=W.naturalHeight,p0.drawImage(W,0,0),L.rr_dataURL=Wi.toDataURL(y.type,y.quality)}catch(Te){if(W.crossOrigin!=="anonymous"){W.crossOrigin="anonymous",W.complete&&W.naturalWidth!==0?he():W.addEventListener("load",he);return}else console.warn(`Cannot inline img src=${ee}! Error: ${Te}`)}W.crossOrigin==="anonymous"&&(le?L.crossOrigin=le:W.removeAttribute("crossorigin"))};W.complete&&W.naturalWidth!==0?he():W.addEventListener("load",he)}if((G==="audio"||G==="video")&&(L.rr_mediaState=t.paused?"paused":"played",L.rr_mediaCurrentTime=t.currentTime),E||(t.scrollLeft&&(L.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(L.rr_scrollTop=t.scrollTop)),K){const{width:W,height:ee}=t.getBoundingClientRect();L={class:L.class,rr_width:`${W}px`,rr_height:`${ee}px`}}G==="iframe"&&!S(L.src)&&(!K&&!xE(t)&&(L.rr_src=L.src),delete L.src);let ce;try{customElements.get(G)&&(ce=!0)}catch{}return{type:gt.Element,tagName:G,attributes:L,childNodes:[],isSVG:AI(t)||void 0,needBlock:K,rootId:T,isCustom:ce}}function Je(t){return t==null?"":t.toLowerCase()}function LI(t,e){if(e.comment&&t.type===gt.Comment)return!0;if(t.type===gt.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&SE(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Je(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Je(t.attributes.name)==="application-name"||Je(t.attributes.rel)==="icon"||Je(t.attributes.rel)==="apple-touch-icon"||Je(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&Je(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Je(t.attributes.property).match(/^(og|twitter|fb):/)||Je(t.attributes.name).match(/^(og|twitter):/)||Je(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Je(t.attributes.name)==="robots"||Je(t.attributes.name)==="googlebot"||Je(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Je(t.attributes.name)==="author"||Je(t.attributes.name)==="generator"||Je(t.attributes.name)==="framework"||Je(t.attributes.name)==="publisher"||Je(t.attributes.name)==="progid"||Je(t.attributes.property).match(/^article:/)||Je(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Je(t.attributes.name)==="google-site-verification"||Je(t.attributes.name)==="yandex-verification"||Je(t.attributes.name)==="csrf-token"||Je(t.attributes.name)==="p:domain_verify"||Je(t.attributes.name)==="verify-v1"||Je(t.attributes.name)==="verification"||Je(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function la(t,e){const{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:_=!1,inlineStylesheet:S=!0,maskInputOptions:E={},maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:B,dataURLOptions:R={},inlineImages:F=!1,recordCanvas:K=!1,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P=5e3,onBlockedImageLoad:ce,onStylesheetLoad:W,stylesheetLoadTimeout:ee=5e3,keepIframeSrcFn:le=()=>!1,newlyAddedElement:he=!1,ignoreCSSAttributes:Te}=e;let{preserveWhiteSpace:ke=!0}=e;const M=jI(t,{doc:r,mirror:i,blockClass:o,blockSelector:l,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,dataURLOptions:R,inlineImages:F,recordCanvas:K,keepIframeSrcFn:le,newlyAddedElement:he,ignoreCSSAttributes:Te});if(!M)return console.warn(t,"not serialized"),null;let $;i.hasNode(t)?$=i.getId(t):LI(M,B)||!ke&&M.type===gt.Text&&!M.isStyle&&!M.textContent.replace(/^\s+|\s+$/gm,"").length?$=Xo:$=Nm();const C=Object.assign(M,{id:$});if(i.add(t,C),$===Xo)return null;G&&G(t);let re=!_;if(C.type===gt.Element){re=re&&!C.needBlock;const V=t.shadowRoot;V&&Ho(V)&&(C.isShadowHost=!0)}if((C.type===gt.Document||C.type===gt.Element)&&re){B.headWhitespace&&C.type===gt.Element&&C.tagName==="head"&&(ke=!1);const V={doc:r,mirror:i,blockClass:o,blockSelector:l,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:_,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:B,dataURLOptions:R,inlineImages:F,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P,onBlockedImageLoad:ce,onStylesheetLoad:W,stylesheetLoadTimeout:ee,keepIframeSrcFn:le,ignoreCSSAttributes:Te},ve=t.childNodes?Array.from(t.childNodes):[];for(const ue of ve){const X=la(ue,V);X&&C.childNodes.push(X)}if(aI(t)&&t.shadowRoot)for(const ue of Array.from(t.shadowRoot.childNodes)){const X=la(ue,V);X&&(Ho(t.shadowRoot)&&(X.isShadow=!0),C.childNodes.push(X))}}if(t.parentNode&&Bo(t.parentNode)&&Ho(t.parentNode)&&(C.isShadow=!0),C.type===gt.Element&&C.tagName==="iframe"&&!C.needBlock&&RI(t,()=>{const V=xE(t);if(V&&L){const ve=la(V,{doc:V,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:B,dataURLOptions:R,inlineImages:F,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P,onStylesheetLoad:W,stylesheetLoadTimeout:ee,keepIframeSrcFn:le,ignoreCSSAttributes:Te});ve&&L(t,ve)}},P),C.type===gt.Element&&C.tagName==="img"&&!t.complete&&C.needBlock){const V=t,ve=()=>{if(V.isConnected&&!V.complete&&ce)try{const ue=V.getBoundingClientRect();ue.width>0&&ue.height>0&&ce(V,C,ue)}catch{}V.removeEventListener("load",ve)};V.isConnected&&V.addEventListener("load",ve)}return C.type===gt.Element&&C.tagName==="link"&&typeof C.attributes.rel=="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href=="string"&&SE(C.attributes.href)==="css")&&NI(t,()=>{if(W){const V=la(t,{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:B,dataURLOptions:R,inlineImages:F,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P,onStylesheetLoad:W,stylesheetLoadTimeout:ee,keepIframeSrcFn:le,ignoreCSSAttributes:Te});V&&W(t,V)}},ee),C.type===gt.Element&&delete C.needBlock,C}function UI(t,e){const{mirror:r=new _E,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:l=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:h=null,maskTextSelector:m=null,unmaskTextSelector:y=null,inlineStylesheet:v=!0,inlineImages:_=!1,recordCanvas:S=!1,maskAllInputs:E=!1,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOM:B=!1,dataURLOptions:R,preserveWhiteSpace:F,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:L,onBlockedImageLoad:P,onStylesheetLoad:ce,stylesheetLoadTimeout:W,keepIframeSrcFn:ee=()=>!1,ignoreCSSAttributes:le=new Set([])}=e||{};return la(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,maskAllText:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:y,skipChild:!1,inlineStylesheet:v,maskInputOptions:E===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:E===!1?{}:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:B===!0||B==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:B==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:B===!1?{}:B,dataURLOptions:R,inlineImages:_,recordCanvas:S,preserveWhiteSpace:F,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:L,onBlockedImageLoad:P,onStylesheetLoad:ce,stylesheetLoadTimeout:W,keepIframeSrcFn:ee,newlyAddedElement:!1,ignoreCSSAttributes:le})}function Pt(t,e,r=document){const i={capture:!0,passive:!0};return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e,i)}const na=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let g0={map:{},getId(){return console.error(na),-1},getNode(){return console.error(na),null},removeNodeFromMap(){console.error(na)},has(){return console.error(na),!1},reset(){console.error(na)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(g0=new Proxy(g0,{get(t,e,r){return e==="map"&&console.error(na),Reflect.get(t,e,r)}}));function Jo(t,e,r={}){let i=null,o=0;return function(...l){const u=Date.now();!o&&r.leading===!1&&(o=u);const f=e-(u-o),h=this;f<=0||f>e?(i&&(FI(i),i=null),o=u,t.apply(h,l)):!i&&r.trailing!==!1&&(i=Xu(()=>{o=r.leading===!1?0:Date.now(),i=null,t.apply(h,l)},f))}}function AE(t,e,r,i,o=window){const l=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,i?r:{set(u){Xu(()=>{r.set.call(this,u)},0),l&&l.set&&l.set.call(this,u)}}),()=>AE(t,e,l||{},!0)}function jm(t,e,r){try{if(!(e in t))return()=>{};const i=t[e],o=r(i);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:i}})),t[e]=o,()=>{t[e]=i}}catch{return()=>{}}}let Cu=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Cu=()=>new Date().getTime());function OE(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:e?.documentElement.scrollLeft||e?.body?.parentElement?.scrollLeft||e?.body?.scrollLeft||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:e?.documentElement.scrollTop||e?.body?.parentElement?.scrollTop||e?.body?.scrollTop||0}}function CE(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function RE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function NE(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function hn(t,e,r,i,o){if(!t)return!1;const l=NE(t);if(!l)return!1;const u=oa(e,r);if(!o){const m=i&&l.matches(i);return u(l)&&!m}const f=Xs(l,u);let h=-1;return f<0?!1:(i&&(h=Xs(l,oa(null,i))),f>-1&&h<0?!0:f<h)}function zI(t,e){return e.getId(t)!==-1}function Mh(t,e){return e.getId(t)===Xo}function jE(t,e){if(Bo(t))return!1;const r=e.getId(t);return e.has(r)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?jE(t.parentNode,e):!0:!0}function Ep(t){return!!t.changedTouches}function BI(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let r=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function ME(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function IE(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function xp(t){return!!t?.shadowRoot}class HI{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,r){if(this.has(e))return this.getId(e);let i;return r===void 0?i=this.id++:i=r,this.styleIDMap.set(e,i),this.idStyleMap.set(i,e),i}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function DE(t){let e=null;return t.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function PI(t){let e=t,r;for(;r=DE(e);)e=r;return e}function qI(t){const e=t.ownerDocument;if(!e)return!1;const r=PI(t);return e.contains(r)}function LE(t){const e=t.ownerDocument;return e?e.contains(t)||qI(t):!1}const y0={};function Mm(t){const e=y0[t];if(e)return e;const r=window.document;let i=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const l=o.contentWindow;l&&l[t]&&(i=l[t]),r.head.removeChild(o)}catch{}return y0[t]=i.bind(window)}function $I(...t){return Mm("requestAnimationFrame")(...t)}function Xu(...t){return Mm("setTimeout")(...t)}function FI(...t){return Mm("clearTimeout")(...t)}var xe=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(xe||{}),be=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(be||{}),Bt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Bt||{}),Sr=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Sr||{}),ra=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(ra||{});function Im(t){try{return t.contentDocument}catch{}}function GI(t){try{return t.contentWindow}catch{}}function b0(t){return"__ln"in t}class VI{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let i=0;i<e;i++)r=r?.next||null;return r}addNode(e){const r={value:e,previous:null,next:null};if(e.__ln=r,e.previousSibling&&b0(e.previousSibling)){const i=e.previousSibling.__ln.next;r.next=i,r.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=r,i&&(i.previous=r)}else if(e.nextSibling&&b0(e.nextSibling)&&e.nextSibling.__ln.previous){const i=e.nextSibling.__ln.previous;r.previous=i,r.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=r,i&&(i.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(e){const r=e.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const v0=(t,e)=>`${t}@${e}`;class YI{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],r=new Set,i=new VI,o=h=>{let m=h,y=Xo;for(;y===Xo;)m=m&&m.nextSibling,y=m&&this.mirror.getId(m);return y},l=h=>{if(!h.parentNode||!LE(h))return;const m=Bo(h.parentNode)?this.mirror.getId(DE(h)):this.mirror.getId(h.parentNode),y=o(h);if(m===-1||y===-1)return i.addNode(h);const v=la(h,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:_=>{ME(_,this.mirror)&&!hn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(_),IE(_,this.mirror)&&this.stylesheetManager.trackLinkElement(_),xp(h)&&this.shadowDomManager.addShadowRoot(h.shadowRoot,this.doc)},onIframeLoad:(_,S)=>{hn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(_,S),_.contentWindow&&this.canvasManager.addWindow(_.contentWindow),this.shadowDomManager.observeAttachShadow(_))},onStylesheetLoad:(_,S)=>{this.stylesheetManager.attachLinkElement(_,S)},onBlockedImageLoad:(_,S,{width:E,height:T})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:S.id,attributes:{style:{width:`${E}px`,height:`${T}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});v&&(e.push({parentId:m,nextId:y,node:v}),r.add(v.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const h of this.movedSet)_0(this.removes,h,this.mirror)&&!this.movedSet.has(h.parentNode)||l(h);for(const h of this.addedSet)!S0(this.droppedSet,h)&&!_0(this.removes,h,this.mirror)||S0(this.movedSet,h)?l(h):this.droppedSet.add(h);let u=null;for(;i.length;){let h=null;if(u){const m=this.mirror.getId(u.value.parentNode),y=o(u.value);m!==-1&&y!==-1&&(h=u)}if(!h){let m=i.tail;for(;m;){const y=m;if(m=m.previous,y){const v=this.mirror.getId(y.value.parentNode);if(o(y.value)===-1)continue;if(v!==-1){h=y;break}else{const S=y.value;if(S.parentNode&&S.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const E=S.parentNode.host;if(this.mirror.getId(E)!==-1){h=y;break}}}}}}if(!h){for(;i.head;)i.removeNode(i.head.value);break}u=h.previous,i.removeNode(h.value),l(h.value)}const f={texts:this.texts.map(h=>({id:this.mirror.getId(h.node),value:h.value})).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),attributes:this.attributes.map(h=>{const{attributes:m}=h;if(typeof m.style=="string"){const y=JSON.stringify(h.styleDiff),v=JSON.stringify(h._unchangedStyles);y.length<m.style.length&&(y+v).split("var(").length===m.style.split("var(").length&&(m.style=h.styleDiff)}return{id:this.mirror.getId(h.node),attributes:m}}).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),removes:this.removes,adds:e};!f.texts.length&&!f.attributes.length&&!f.removes.length&&!f.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(f))},this.processMutation=e=>{if(!Mh(e.target,this.mirror))switch(e.type){case"characterData":{const r=e.target.textContent;!hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==e.oldValue&&this.texts.push({value:va(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,NE(e.target)):r.replace(/[\S]/g,"*"):r,node:e.target});break}case"attributes":{const r=e.target;let i=e.attributeName,o=e.target.getAttribute(i);if(i==="value"){const u=Rm(r),f=r.tagName;o=Au(r,f,u);const h=Ku({maskInputOptions:this.maskInputOptions,tagName:f,type:u}),m=va(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,h);o=Wo({isMasked:m,element:r,value:o,maskInputFn:this.maskInputFn})}if(hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let l=this.attributeMap.get(e.target);if(r.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(o))if(!Im(r))i="rr_src";else return;if(l||(l={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(l),this.attributeMap.set(e.target,l)),i==="type"&&r.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!kE(r.tagName,i)&&(l.attributes[i]=TE(this.doc,ba(r.tagName),ba(i),o,r,this.maskAttributeFn),i==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const u=this.unattachedDoc.createElement("span");e.oldValue&&u.setAttribute("style",e.oldValue);for(const f of Array.from(r.style)){const h=r.style.getPropertyValue(f),m=r.style.getPropertyPriority(f);h!==u.style.getPropertyValue(f)||m!==u.style.getPropertyPriority(f)?m===""?l.styleDiff[f]=h:l.styleDiff[f]=[h,m]:l._unchangedStyles[f]=[h,m]}for(const f of Array.from(u.style))r.style.getPropertyValue(f)===""&&(l.styleDiff[f]=!1)}break}case"childList":{if(hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(r=>this.genAdds(r,e.target)),e.removedNodes.forEach(r=>{const i=this.mirror.getId(r),o=Bo(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Mh(r,this.mirror)||!zI(r,this.mirror)||(this.addedSet.has(r)?(Tp(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(e.target)&&i===-1||jE(e.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[v0(i,o)]?Tp(this.movedSet,r):this.removes.push({parentId:o,id:i,isShadow:Bo(e.target)&&Ho(e.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(e,r)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Mh(e,this.mirror))return;this.movedSet.add(e);let i=null;r&&this.mirror.hasNode(r)&&(i=this.mirror.getId(r)),i&&i!==-1&&(this.movedMap[v0(this.mirror.getId(e),i)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);hn(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(i=>this.genAdds(i)),xp(e)&&e.shadowRoot.childNodes.forEach(i=>{this.processedNodeManager.add(i,this),this.genAdds(i,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(r=>{this[r]=e[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Tp(t,e){t.delete(e),e.childNodes?.forEach(r=>Tp(t,r))}function _0(t,e,r){return t.length===0?!1:KI(t,e,r)}function KI(t,e,r){let i=e.parentNode;for(;i;){const o=r.getId(i);if(t.some(l=>l.id===o))return!0;i=i.parentNode}return!1}function S0(t,e){return t.size===0?!1:UE(t,e)}function UE(t,e){const{parentNode:r}=e;return r?t.has(r)?!0:UE(t,r):!1}let Po;function WI(t){Po=t}function XI(){Po=void 0}const De=t=>Po?(...r)=>{try{return t(...r)}catch(i){if(Po&&Po(i)===!0)return()=>{};throw i}}:t,ca=[];function hl(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function zE(t,e){const r=new YI;ca.push(r),r.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(i=window[o]);const l=new i(De(u=>{t.onMutation&&t.onMutation(u)===!1||r.processMutations.bind(r)(u)}));return l.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),l}function JI({mousemoveCb:t,sampling:e,doc:r,mirror:i}){if(e.mousemove===!1)return()=>{};const o=typeof e.mousemove=="number"?e.mousemove:50,l=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let u=[],f;const h=Jo(De(v=>{const _=Date.now()-f;t(u.map(S=>(S.timeOffset-=_,S)),v),u=[],f=null}),l),m=De(Jo(De(v=>{const _=hl(v),{clientX:S,clientY:E}=Ep(v)?v.changedTouches[0]:v;f||(f=Cu()),u.push({x:S,y:E,id:i.getId(_),timeOffset:Cu()-f}),h(typeof DragEvent<"u"&&v instanceof DragEvent?be.Drag:v instanceof MouseEvent?be.MouseMove:be.TouchMove)}),o,{trailing:!1})),y=[Pt("mousemove",m,r),Pt("touchmove",m,r),Pt("drag",m,r)];return De(()=>{y.forEach(v=>v())})}function QI({mouseInteractionCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,sampling:u}){if(u.mouseInteraction===!1)return()=>{};const f=u.mouseInteraction===!0||u.mouseInteraction===void 0?{}:u.mouseInteraction,h=[];let m=null;const y=v=>_=>{const S=hl(_);if(hn(S,i,o,l,!0))return;let E=null,T=v;if("pointerType"in _){switch(_.pointerType){case"mouse":E=Sr.Mouse;break;case"touch":E=Sr.Touch;break;case"pen":E=Sr.Pen;break}E===Sr.Touch?Bt[v]===Bt.MouseDown?T="TouchStart":Bt[v]===Bt.MouseUp&&(T="TouchEnd"):Sr.Pen}else Ep(_)&&(E=Sr.Touch);E!==null?(m=E,(T.startsWith("Touch")&&E===Sr.Touch||T.startsWith("Mouse")&&E===Sr.Mouse)&&(E=null)):Bt[v]===Bt.Click&&(E=m,m=null);const A=Ep(_)?_.changedTouches[0]:_;if(!A)return;const U=r.getId(S),{clientX:B,clientY:R}=A;De(t)({type:Bt[T],id:U,x:B,y:R,...E!==null&&{pointerType:E}})};return Object.keys(Bt).filter(v=>Number.isNaN(Number(v))&&!v.endsWith("_Departed")&&f[v]!==!1).forEach(v=>{let _=ba(v);const S=y(v);if(window.PointerEvent)switch(Bt[v]){case Bt.MouseDown:case Bt.MouseUp:_=_.replace("mouse","pointer");break;case Bt.TouchStart:case Bt.TouchEnd:return}h.push(Pt(_,S,e))}),De(()=>{h.forEach(v=>v())})}function BE({scrollCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,sampling:u}){const f=De(Jo(De(h=>{const m=hl(h);if(!m||hn(m,i,o,l,!0))return;const y=r.getId(m);if(m===e&&e.defaultView){const v=OE(e.defaultView);t({id:y,x:v.left,y:v.top})}else t({id:y,x:m.scrollLeft,y:m.scrollTop})}),u.scroll||100));return Pt("scroll",f,e)}function ZI({viewportResizeCb:t},{win:e}){let r=-1,i=-1;const o=De(Jo(De(()=>{const l=CE(),u=RE();(r!==l||i!==u)&&(t({width:Number(u),height:Number(l)}),r=l,i=u)}),200));return Pt("resize",o,e)}const eD=["INPUT","TEXTAREA","SELECT"],w0=new WeakMap;function tD({inputCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,ignoreClass:u,ignoreSelector:f,maskInputOptions:h,maskInputFn:m,sampling:y,userTriggeredOnInput:v,maskTextClass:_,unmaskTextClass:S,maskTextSelector:E,unmaskTextSelector:T}){function A(L){let P=hl(L);const ce=L.isTrusted,W=P&&Sp(P.tagName);if(W==="OPTION"&&(P=P.parentElement),!P||!W||eD.indexOf(W)<0||hn(P,i,o,l,!0))return;const ee=P;if(ee.classList.contains(u)||f&&ee.matches(f))return;const le=Rm(P);let he=Au(ee,W,le),Te=!1;const ke=Ku({maskInputOptions:h,tagName:W,type:le}),M=va(P,_,E,S,T,ke);(le==="radio"||le==="checkbox")&&(Te=P.checked),he=Wo({isMasked:M,element:P,value:he,maskInputFn:m}),U(P,v?{text:he,isChecked:Te,userTriggered:ce}:{text:he,isChecked:Te});const $=P.name;le==="radio"&&$&&Te&&e.querySelectorAll(`input[type="radio"][name="${$}"]`).forEach(C=>{if(C!==P){const re=Wo({isMasked:M,element:C,value:Au(C,W,le),maskInputFn:m});U(C,v?{text:re,isChecked:!Te,userTriggered:!1}:{text:re,isChecked:!Te})}})}function U(L,P){const ce=w0.get(L);if(!ce||ce.text!==P.text||ce.isChecked!==P.isChecked){w0.set(L,P);const W=r.getId(L);De(t)({...P,id:W})}}const R=(y.input==="last"?["change"]:["input","change"]).map(L=>Pt(L,De(A),e)),F=e.defaultView;if(!F)return()=>{R.forEach(L=>L())};const K=F.Object.getOwnPropertyDescriptor(F.HTMLInputElement.prototype,"value"),G=[[F.HTMLInputElement.prototype,"value"],[F.HTMLInputElement.prototype,"checked"],[F.HTMLSelectElement.prototype,"value"],[F.HTMLTextAreaElement.prototype,"value"],[F.HTMLSelectElement.prototype,"selectedIndex"],[F.HTMLOptionElement.prototype,"selected"]];return K&&K.set&&R.push(...G.map(L=>AE(L[0],L[1],{set(){De(A)({target:this,isTrusted:!1})}},!1,F))),De(()=>{R.forEach(L=>L())})}function Ru(t){const e=[];function r(i,o){if(Fc("CSSGroupingRule")&&i.parentRule instanceof CSSGroupingRule||Fc("CSSMediaRule")&&i.parentRule instanceof CSSMediaRule||Fc("CSSSupportsRule")&&i.parentRule instanceof CSSSupportsRule||Fc("CSSConditionRule")&&i.parentRule instanceof CSSConditionRule){const u=Array.from(i.parentRule.cssRules).indexOf(i);o.unshift(u)}else if(i.parentStyleSheet){const u=Array.from(i.parentStyleSheet.cssRules).indexOf(i);o.unshift(u)}return o}return r(t,e)}function os(t,e,r){let i,o;return t?(t.ownerNode?i=e.getId(t.ownerNode):o=r.getId(t),{styleId:o,id:i}):{}}function nD({styleSheetRuleCb:t,mirror:e,stylesheetManager:r},{win:i}){if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const o=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:De((y,v,_)=>{const[S,E]=_,{id:T,styleId:A}=os(v,e,r.styleMirror);return(T&&T!==-1||A&&A!==-1)&&t({id:T,styleId:A,adds:[{rule:S,index:E}]}),y.apply(v,_)})});const l=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:De((y,v,_)=>{const[S]=_,{id:E,styleId:T}=os(v,e,r.styleMirror);return(E&&E!==-1||T&&T!==-1)&&t({id:E,styleId:T,removes:[{index:S}]}),y.apply(v,_)})});let u;i.CSSStyleSheet.prototype.replace&&(u=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:De((y,v,_)=>{const[S]=_,{id:E,styleId:T}=os(v,e,r.styleMirror);return(E&&E!==-1||T&&T!==-1)&&t({id:E,styleId:T,replace:S}),y.apply(v,_)})}));let f;i.CSSStyleSheet.prototype.replaceSync&&(f=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(f,{apply:De((y,v,_)=>{const[S]=_,{id:E,styleId:T}=os(v,e,r.styleMirror);return(E&&E!==-1||T&&T!==-1)&&t({id:E,styleId:T,replaceSync:S}),y.apply(v,_)})}));const h={};Gc("CSSGroupingRule")?h.CSSGroupingRule=i.CSSGroupingRule:(Gc("CSSMediaRule")&&(h.CSSMediaRule=i.CSSMediaRule),Gc("CSSConditionRule")&&(h.CSSConditionRule=i.CSSConditionRule),Gc("CSSSupportsRule")&&(h.CSSSupportsRule=i.CSSSupportsRule));const m={};return Object.entries(h).forEach(([y,v])=>{m[y]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(m[y].insertRule,{apply:De((_,S,E)=>{const[T,A]=E,{id:U,styleId:B}=os(S.parentStyleSheet,e,r.styleMirror);return(U&&U!==-1||B&&B!==-1)&&t({id:U,styleId:B,adds:[{rule:T,index:[...Ru(S),A||0]}]}),_.apply(S,E)})}),v.prototype.deleteRule=new Proxy(m[y].deleteRule,{apply:De((_,S,E)=>{const[T]=E,{id:A,styleId:U}=os(S.parentStyleSheet,e,r.styleMirror);return(A&&A!==-1||U&&U!==-1)&&t({id:A,styleId:U,removes:[{index:[...Ru(S),T]}]}),_.apply(S,E)})})}),De(()=>{i.CSSStyleSheet.prototype.insertRule=o,i.CSSStyleSheet.prototype.deleteRule=l,u&&(i.CSSStyleSheet.prototype.replace=u),f&&(i.CSSStyleSheet.prototype.replaceSync=f),Object.entries(h).forEach(([y,v])=>{v.prototype.insertRule=m[y].insertRule,v.prototype.deleteRule=m[y].deleteRule})})}function HE({mirror:t,stylesheetManager:e},r){let i=null;r.nodeName==="#document"?i=t.getId(r):i=t.getId(r.host);const o=r.nodeName==="#document"?r.defaultView?.Document:r.ownerDocument?.defaultView?.ShadowRoot,l=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return i===null||i===-1||!o||!l?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){return l.get?.call(this)},set(u){const f=l.set?.call(this,u);if(i!==null&&i!==-1)try{e.adoptStyleSheets(u,i)}catch{}return f}}),De(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function rD({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:r,stylesheetManager:i},{win:o}){const l=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(l,{apply:De((f,h,m)=>{const[y,v,_]=m;if(r.has(y))return l.apply(h,[y,v,_]);const{id:S,styleId:E}=os(h.parentRule?.parentStyleSheet,e,i.styleMirror);return(S&&S!==-1||E&&E!==-1)&&t({id:S,styleId:E,set:{property:y,value:v,priority:_},index:Ru(h.parentRule)}),f.apply(h,m)})});const u=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:De((f,h,m)=>{const[y]=m;if(r.has(y))return u.apply(h,[y]);const{id:v,styleId:_}=os(h.parentRule?.parentStyleSheet,e,i.styleMirror);return(v&&v!==-1||_&&_!==-1)&&t({id:v,styleId:_,remove:{property:y},index:Ru(h.parentRule)}),f.apply(h,m)})}),De(()=>{o.CSSStyleDeclaration.prototype.setProperty=l,o.CSSStyleDeclaration.prototype.removeProperty=u})}function sD({mediaInteractionCb:t,blockClass:e,blockSelector:r,unblockSelector:i,mirror:o,sampling:l,doc:u}){const f=De(m=>Jo(De(y=>{const v=hl(y);if(!v||hn(v,e,r,i,!0))return;const{currentTime:_,volume:S,muted:E,playbackRate:T}=v;t({type:m,id:o.getId(v),currentTime:_,volume:S,muted:E,playbackRate:T})}),l.media||500)),h=[Pt("play",f(ra.Play),u),Pt("pause",f(ra.Pause),u),Pt("seeked",f(ra.Seeked),u),Pt("volumechange",f(ra.VolumeChange),u),Pt("ratechange",f(ra.RateChange),u)];return De(()=>{h.forEach(m=>m())})}function iD({fontCb:t,doc:e}){const r=e.defaultView;if(!r)return()=>{};const i=[],o=new WeakMap,l=r.FontFace;r.FontFace=function(h,m,y){const v=new l(h,m,y);return o.set(v,{family:h,buffer:typeof m!="string",descriptors:y,fontSource:typeof m=="string"?m:JSON.stringify(Array.from(new Uint8Array(m)))}),v};const u=jm(e.fonts,"add",function(f){return function(h){return Xu(De(()=>{const m=o.get(h);m&&(t(m),o.delete(h))}),0),f.apply(this,[h])}});return i.push(()=>{r.FontFace=l}),i.push(u),De(()=>{i.forEach(f=>f())})}function aD(t){const{doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,selectionCb:u}=t;let f=!0;const h=De(()=>{const m=e.getSelection();if(!m||f&&m?.isCollapsed)return;f=m.isCollapsed||!1;const y=[],v=m.rangeCount||0;for(let _=0;_<v;_++){const S=m.getRangeAt(_),{startContainer:E,startOffset:T,endContainer:A,endOffset:U}=S;hn(E,i,o,l,!0)||hn(A,i,o,l,!0)||y.push({start:r.getId(E),startOffset:T,end:r.getId(A),endOffset:U})}u({ranges:y})});return h(),Pt("selectionchange",h)}function oD({doc:t,customElementCb:e}){const r=t.defaultView;return!r||!r.customElements?()=>{}:jm(r.customElements,"define",function(o){return function(l,u,f){try{e({define:{name:l}})}catch{}return o.apply(this,[l,u,f])}})}function lD(t,e={}){const r=t.doc.defaultView;if(!r)return()=>{};let i;t.recordDOM&&(i=zE(t,t.doc));const o=JI(t),l=QI(t),u=BE(t),f=ZI(t,{win:r}),h=tD(t),m=sD(t);let y=()=>{},v=()=>{},_=()=>{},S=()=>{};t.recordDOM&&(y=nD(t,{win:r}),v=HE(t,t.doc),_=rD(t,{win:r}),t.collectFonts&&(S=iD(t)));const E=aD(t),T=oD(t),A=[];for(const U of t.plugins)A.push(U.observer(U.callback,r,U.options));return De(()=>{ca.forEach(U=>U.reset()),i?.disconnect(),o(),l(),u(),f(),h(),m(),y(),v(),_(),S(),E(),T(),A.forEach(U=>U())})}function Fc(t){return typeof window[t]<"u"}function Gc(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class kp{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,r,i,o){const l=i||this.getIdToRemoteIdMap(e),u=o||this.getRemoteIdToIdMap(e);let f=l.get(r);return f||(f=this.generateIdFn(),l.set(r,f),u.set(f,r)),f}getIds(e,r){const i=this.getIdToRemoteIdMap(e),o=this.getRemoteIdToIdMap(e);return r.map(l=>this.getId(e,l,i,o))}getRemoteId(e,r,i){const o=i||this.getRemoteIdToIdMap(e);if(typeof r!="number")return r;const l=o.get(r);return l||-1}getRemoteIds(e,r){const i=this.getRemoteIdToIdMap(e);return r.map(o=>this.getRemoteId(e,o,i))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let r=this.iframeIdToRemoteIdMap.get(e);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(e,r)),r}getRemoteIdToIdMap(e){let r=this.iframeRemoteIdToIdMap.get(e);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(e,r)),r}}class cD{constructor(){this.crossOriginIframeMirror=new kp(Nm),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class uD{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new kp(Nm),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new kp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,r){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const i=Im(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}handleMessage(e){const r=e;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!e.source)return;const o=this.crossOriginIframeMap.get(e.source);if(!o)return;const l=this.transformCrossOriginEvent(o,r.data.event);l&&this.wrappedEmit(l,r.data.isCheckout)}transformCrossOriginEvent(e,r){switch(r.type){case xe.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(r.data.node,e);const i=r.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(r.data.node,i),{timestamp:r.timestamp,type:xe.IncrementalSnapshot,data:{source:be.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case xe.Meta:case xe.Load:case xe.DomContentLoaded:return!1;case xe.Plugin:return r;case xe.Custom:return this.replaceIds(r.data.payload,e,["id","parentId","previousId","nextId"]),r;case xe.IncrementalSnapshot:switch(r.data.source){case be.Mutation:return r.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);const o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(i.node,o)}),r.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),r.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),r.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case be.Drag:case be.TouchMove:case be.MouseMove:return r.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case be.ViewportResize:return!1;case be.MediaInteraction:case be.MouseInteraction:case be.Scroll:case be.CanvasMutation:case be.Input:return this.replaceIds(r.data,e,["id"]),r;case be.StyleSheetRule:case be.StyleDeclaration:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleId"]),r;case be.Font:return r;case be.Selection:return r.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),r;case be.AdoptedStyleSheet:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleIds"]),r.data.styles?.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),r}}return!1}replace(e,r,i,o){for(const l of o)!Array.isArray(r[l])&&typeof r[l]!="number"||(Array.isArray(r[l])?r[l]=e.getIds(i,r[l]):r[l]=e.getId(i,r[l]));return r}replaceIds(e,r,i){return this.replace(this.crossOriginIframeMirror,e,r,i)}replaceStyleIds(e,r,i){return this.replace(this.crossOriginIframeStyleMirror,e,r,i)}replaceIdOnNode(e,r){this.replaceIds(e,r,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(i=>{this.replaceIdOnNode(i,r)})}patchRootIdOnNode(e,r){e.type!==gt.Document&&!e.rootId&&(e.rootId=r),"childNodes"in e&&e.childNodes.forEach(i=>{this.patchRootIdOnNode(i,r)})}}class dD{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class fD{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,r){if(!Ho(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const i=zE({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>i.disconnect()),this.restoreHandlers.push(BE({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Xu(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(HE({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const r=Im(e),i=GI(e);!r||!i||this.patchAttachShadow(i.Element,r)}patchAttachShadow(e,r){const i=this;this.restoreHandlers.push(jm(e.prototype,"attachShadow",function(o){return function(l){const u=o.call(this,l);return this.shadowRoot&&LE(this)&&i.addShadowRoot(this.shadowRoot,r),u}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vc=0;Vc<E0.length;Vc++)hD[E0.charCodeAt(Vc)]=Vc;class x0{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class pD{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new HI,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,r){if(e.length===0)return;const i={id:r,styleIds:[]},o=[];for(const l of e){let u;this.styleMirror.has(l)?u=this.styleMirror.getId(l):(u=this.styleMirror.add(l),o.push({styleId:u,rules:Array.from(l.rules||CSSRule,(f,h)=>({rule:vE(f),index:h}))})),i.styleIds.push(u)}o.length>0&&(i.styles=o),this.adoptedStyleSheetCb(i)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class mD{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,r){const i=this.nodeMap.get(e);return i&&Array.from(i).some(o=>o!==r)}add(e,r){this.active||(this.active=!0,$I(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(r))}destroy(){}}let ot,Nu;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=t.contentWindow?.Array.from||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const Ln=hI();function Ar(t={}){const{emit:e,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:o="rr-block",blockSelector:l=null,unblockSelector:u=null,ignoreClass:f="rr-ignore",ignoreSelector:h=null,maskAllText:m=!1,maskTextClass:y="rr-mask",unmaskTextClass:v=null,maskTextSelector:_=null,unmaskTextSelector:S=null,inlineStylesheet:E=!0,maskAllInputs:T,maskInputOptions:A,slimDOMOptions:U,maskAttributeFn:B,maskInputFn:R,maskTextFn:F,maxCanvasSize:K=null,packFn:G,sampling:L={},dataURLOptions:P={},mousemoveWait:ce,recordDOM:W=!0,recordCanvas:ee=!1,recordCrossOriginIframes:le=!1,recordAfter:he=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:Te=!1,collectFonts:ke=!1,inlineImages:M=!1,plugins:$,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:re=new Set([]),errorHandler:V,onMutation:ve,getCanvasManager:ue}=t;WI(V);const X=le?window.parent===window:!0;let ge=!1;if(!X)try{window.parent.document&&(ge=!1)}catch{ge=!0}if(X&&!e)throw new Error("emit function is required");if(!X&&!ge)return()=>{};ce!==void 0&&L.mousemove===void 0&&(L.mousemove=ce),Ln.reset();const $e=T===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:A!==void 0?A:{},xt=U===!0||U==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:U==="all",headMetaDescKeywords:U==="all"}:U||{};BI();let Ue,$t=0;const Mt=je=>{for(const Ut of $||[])Ut.eventProcessor&&(je=Ut.eventProcessor(je));return G&&!ge&&(je=G(je)),je};ot=(je,Ut)=>{const Ae=je;if(Ae.timestamp=Cu(),ca[0]?.isFrozen()&&Ae.type!==xe.FullSnapshot&&!(Ae.type===xe.IncrementalSnapshot&&Ae.data.source===be.Mutation)&&ca.forEach(yt=>yt.unfreeze()),X)e?.(Mt(Ae),Ut);else if(ge){const yt={type:"rrweb",event:Mt(Ae),origin:window.location.origin,isCheckout:Ut};window.parent.postMessage(yt,"*")}if(Ae.type===xe.FullSnapshot)Ue=Ae,$t=0;else if(Ae.type===xe.IncrementalSnapshot){if(Ae.data.source===be.Mutation&&Ae.data.isAttachIframe)return;$t++;const yt=i&&$t>=i,ye=r&&Ue&&Ae.timestamp-Ue.timestamp>r;(yt||ye)&&Ss(!0)}};const Ft=je=>{ot({type:xe.IncrementalSnapshot,data:{source:be.Mutation,...je}})},Nn=je=>ot({type:xe.IncrementalSnapshot,data:{source:be.Scroll,...je}}),Vn=je=>ot({type:xe.IncrementalSnapshot,data:{source:be.CanvasMutation,...je}}),bl=je=>ot({type:xe.IncrementalSnapshot,data:{source:be.AdoptedStyleSheet,...je}}),Lt=new pD({mutationCb:Ft,adoptedStyleSheetCb:bl}),jn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new cD:new uD({mirror:Ln,mutationCb:Ft,stylesheetManager:Lt,recordCrossOriginIframes:le,wrappedEmit:ot});for(const je of $||[])je.getMirror&&je.getMirror({nodeMirror:Ln,crossOriginIframeMirror:jn.crossOriginIframeMirror,crossOriginIframeStyleMirror:jn.crossOriginIframeStyleMirror});const vs=new mD,za=yD(ue,{mirror:Ln,win:window,mutationCb:je=>ot({type:xe.IncrementalSnapshot,data:{source:be.CanvasMutation,...je}}),recordCanvas:ee,blockClass:o,blockSelector:l,unblockSelector:u,maxCanvasSize:K,sampling:L.canvas,dataURLOptions:P,errorHandler:V}),_s=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new dD:new fD({mutationCb:Ft,scrollCb:Nn,bypassOptions:{onMutation:ve,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:m,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:E,maskInputOptions:$e,dataURLOptions:P,maskAttributeFn:B,maskTextFn:F,maskInputFn:R,recordCanvas:ee,inlineImages:M,sampling:L,slimDOMOptions:xt,iframeManager:jn,stylesheetManager:Lt,canvasManager:za,keepIframeSrcFn:C,processedNodeManager:vs,ignoreCSSAttributes:re},mirror:Ln}),Ss=(je=!1)=>{if(!W)return;ot({type:xe.Meta,data:{href:window.location.href,width:RE(),height:CE()}},je),Lt.reset(),_s.init(),ca.forEach(Ae=>Ae.lock());const Ut=UI(document,{mirror:Ln,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:m,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:E,maskAllInputs:$e,maskAttributeFn:B,maskInputFn:R,maskTextFn:F,slimDOM:xt,dataURLOptions:P,recordCanvas:ee,inlineImages:M,onSerialize:Ae=>{ME(Ae,Ln)&&jn.addIframe(Ae),IE(Ae,Ln)&&Lt.trackLinkElement(Ae),xp(Ae)&&_s.addShadowRoot(Ae.shadowRoot,document)},onIframeLoad:(Ae,yt)=>{jn.attachIframe(Ae,yt),Ae.contentWindow&&za.addWindow(Ae.contentWindow),_s.observeAttachShadow(Ae)},onStylesheetLoad:(Ae,yt)=>{Lt.attachLinkElement(Ae,yt)},onBlockedImageLoad:(Ae,yt,{width:ye,height:ws})=>{Ft({adds:[],removes:[],texts:[],attributes:[{id:yt.id,attributes:{style:{width:`${ye}px`,height:`${ws}px`}}}]})},keepIframeSrcFn:C,ignoreCSSAttributes:re});if(!Ut)return console.warn("Failed to snapshot the document");ot({type:xe.FullSnapshot,data:{node:Ut,initialOffset:OE(window)}}),ca.forEach(Ae=>Ae.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Lt.adoptStyleSheets(document.adoptedStyleSheets,Ln.getId(document))};Nu=Ss;try{const je=[],Ut=yt=>De(lD)({onMutation:ve,mutationCb:Ft,mousemoveCb:(ye,ws)=>ot({type:xe.IncrementalSnapshot,data:{source:ws,positions:ye}}),mouseInteractionCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.MouseInteraction,...ye}}),scrollCb:Nn,viewportResizeCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.ViewportResize,...ye}}),inputCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.Input,...ye}}),mediaInteractionCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.MediaInteraction,...ye}}),styleSheetRuleCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.StyleSheetRule,...ye}}),styleDeclarationCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.StyleDeclaration,...ye}}),canvasMutationCb:Vn,fontCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.Font,...ye}}),selectionCb:ye=>{ot({type:xe.IncrementalSnapshot,data:{source:be.Selection,...ye}})},customElementCb:ye=>{ot({type:xe.IncrementalSnapshot,data:{source:be.CustomElement,...ye}})},blockClass:o,ignoreClass:f,ignoreSelector:h,maskAllText:m,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,maskInputOptions:$e,inlineStylesheet:E,sampling:L,recordDOM:W,recordCanvas:ee,inlineImages:M,userTriggeredOnInput:Te,collectFonts:ke,doc:yt,maskAttributeFn:B,maskInputFn:R,maskTextFn:F,keepIframeSrcFn:C,blockSelector:l,unblockSelector:u,slimDOMOptions:xt,dataURLOptions:P,mirror:Ln,iframeManager:jn,stylesheetManager:Lt,shadowDomManager:_s,processedNodeManager:vs,canvasManager:za,ignoreCSSAttributes:re,plugins:$?.filter(ye=>ye.observer)?.map(ye=>({observer:ye.observer,options:ye.options,callback:ws=>ot({type:xe.Plugin,data:{plugin:ye.name,payload:ws}})}))||[]},{});jn.addLoadListener(yt=>{try{je.push(Ut(yt.contentDocument))}catch(ye){console.warn(ye)}});const Ae=()=>{Ss(),je.push(Ut(document))};return document.readyState==="interactive"||document.readyState==="complete"?Ae():(je.push(Pt("DOMContentLoaded",()=>{ot({type:xe.DomContentLoaded,data:{}}),he==="DOMContentLoaded"&&Ae()})),je.push(Pt("load",()=>{ot({type:xe.Load,data:{}}),he==="load"&&Ae()},window))),()=>{je.forEach(yt=>yt()),vs.destroy(),Nu=void 0,XI()}}catch(je){console.warn(je)}}function gD(t){if(!Nu)throw new Error("please take full snapshot after start recording");Nu(t)}Ar.mirror=Ln;Ar.takeFullSnapshot=gD;function yD(t,e){try{return t?t(e):new x0}catch{return console.warn("Unable to initialize CanvasManager"),new x0}}var T0;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(T0||(T0={}));const bD=3,vD=5;function Dm(t){return t>9999999999?t:t*1e3}function Ih(t){return t>9999999999?t/1e3:t}function pl(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:xe.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Hn(e,10,1e3)}}),e.category==="console")))}const _D="button,a";function PE(t){return t.closest(_D)||t}function qE(t){const e=$E(t);return!e||!(e instanceof Element)?e:PE(e)}function $E(t){return SD(t)?t.target:t}function SD(t){return typeof t=="object"&&!!t&&"target"in t}let ls;function wD(t){return ls||(ls=[],ED()),ls.push(t),()=>{const e=ls?ls.indexOf(t):-1;e>-1&&ls.splice(e,1)}}function ED(){Zt(Ze,"open",function(t){return function(...e){if(ls)try{ls.forEach(r=>r())}catch{}return t.apply(Ze,e)}})}const xD=new Set([be.Mutation,be.StyleSheetRule,be.StyleDeclaration,be.AdoptedStyleSheet,be.CanvasMutation,be.Selection,be.MediaInteraction]);function TD(t,e,r){t.handleClick(e,r)}class kD{constructor(e,r,i=pl){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scrollTimeout=r.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=i}addListeners(){const e=wD(()=>{this._lastMutation=k0()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,r){if(OD(r,this._ignoreSelector)||!CD(e))return;const i={timestamp:Ih(e.timestamp),clickBreadcrumb:e,clickCount:0,node:r};this._clicks.some(o=>o.node===i.node&&Math.abs(o.timestamp-i.timestamp)<1)||(this._clicks.push(i),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Ih(e)}registerScroll(e=Date.now()){this._lastScroll=Ih(e)}registerClick(e){const r=PE(e);this._handleMultiClick(r)}_handleMultiClick(e){this._getClicks(e).forEach(r=>{r.clickCount++})}_getClicks(e){return this._clicks.filter(r=>r.node===e)}_checkClicks(){const e=[],r=k0();this._clicks.forEach(i=>{!i.mutationAfter&&this._lastMutation&&(i.mutationAfter=i.timestamp<=this._lastMutation?this._lastMutation-i.timestamp:void 0),!i.scrollAfter&&this._lastScroll&&(i.scrollAfter=i.timestamp<=this._lastScroll?this._lastScroll-i.timestamp:void 0),i.timestamp+this._timeout<=r&&e.push(i)});for(const i of e){const o=this._clicks.indexOf(i);o>-1&&(this._generateBreadcrumbs(i),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const r=this._replay,i=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,o=e.mutationAfter&&e.mutationAfter<=this._threshold,l=!i&&!o,{clickCount:u,clickBreadcrumb:f}=e;if(l){const h=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,m=h<this._timeout*1e3?"mutation":"timeout",y={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.slowClickDetected",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),timeAfterClickMs:h,endReason:m,clickCount:u||1}};this._addBreadcrumbEvent(r,y);return}if(u>1){const h={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.multiClick",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),clickCount:u,metric:!0}};this._addBreadcrumbEvent(r,h)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=fl(()=>this._checkClicks(),1e3)}}const AD=["A","BUTTON","INPUT"];function OD(t,e){return!!(!AD.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function CD(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function k0(){return Date.now()/1e3}function RD(t,e){try{if(!ND(e))return;const{source:r}=e.data;if(xD.has(r)&&t.registerMutation(e.timestamp),r===be.Scroll&&t.registerScroll(e.timestamp),jD(e)){const{type:i,id:o}=e.data,l=Ar.mirror.getNode(o);l instanceof HTMLElement&&i===Bt.Click&&t.registerClick(l)}}catch{}}function ND(t){return t.type===bD}function jD(t){return t.data.source===be.MouseInteraction}function Jn(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Lm=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Lm||{});const MD=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ID(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const r in t)if(MD.has(r)){let i=r;(r==="data-testid"||r==="data-test-id")&&(i="testId"),e[i]=t[r]}return e}const DD=t=>e=>{if(!t.isEnabled())return;const r=LD(e);if(!r)return;const i=e.name==="click",o=i?e.event:void 0;i&&t.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&TD(t.clickDetector,r,qE(e.event)),pl(t,r)};function FE(t,e){const r=Ar.mirror.getId(t),i=r&&Ar.mirror.getNode(r),o=i&&Ar.mirror.getMeta(i),l=o&&zD(o)?o:null;return{message:e,data:l?{nodeId:r,node:{id:r,tagName:l.tagName,textContent:Array.from(l.childNodes).map(u=>u.type===Lm.Text&&u.textContent).filter(Boolean).map(u=>u.trim()).join(""),attributes:ID(l.attributes)}}:{}}}function LD(t){const{target:e,message:r}=UD(t);return Jn({category:`ui.${t.name}`,...FE(e,r)})}function UD(t){const e=t.name==="click";let r,i=null;try{i=e?qE(t.event):$E(t.event),r=en(i,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:i,message:r}}function zD(t){return t.type===Lm.Element}function BD(t,e){if(!t.isEnabled())return;t.updateUserActivity();const r=HD(e);r&&pl(t,r)}function HD(t){const{metaKey:e,shiftKey:r,ctrlKey:i,altKey:o,key:l,target:u}=t;if(!u||PD(u)||!l)return null;const f=e||i||o,h=l.length===1;if(!f&&h)return null;const m=en(u,{maxStringLength:200})||"<unknown>",y=FE(u,m);return Jn({category:"ui.keyDown",message:m,data:{...y.data,metaKey:e,shiftKey:r,ctrlKey:i,altKey:o,key:l}})}function PD(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const qD={resource:YD,paint:GD,navigation:VD};function Dh(t,e){return({metric:r})=>void e.replayPerformanceEntries.push(t(r))}function $D(t){return t.map(FD).filter(Boolean)}function FD(t){const e=qD[t.entryType];return e?e(t):null}function _a(t){return((tn()||Ze.performance.timeOrigin)+t)/1e3}function GD(t){const{duration:e,entryType:r,name:i,startTime:o}=t,l=_a(o);return{type:r,name:i,start:l,end:l+e,data:void 0}}function VD(t){const{entryType:e,name:r,decodedBodySize:i,duration:o,domComplete:l,encodedBodySize:u,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,domInteractive:m,loadEventStart:y,loadEventEnd:v,redirectCount:_,startTime:S,transferSize:E,type:T}=t;return o===0?null:{type:`${e}.${T}`,start:_a(S),end:_a(l),name:r,data:{size:E,decodedBodySize:i,encodedBodySize:u,duration:o,domInteractive:m,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,loadEventStart:y,loadEventEnd:v,domComplete:l,redirectCount:_}}}function YD(t){const{entryType:e,initiatorType:r,name:i,responseEnd:o,startTime:l,decodedBodySize:u,encodedBodySize:f,responseStatus:h,transferSize:m}=t;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${e}.${r}`,start:_a(l),end:_a(o),name:i,data:{size:m,statusCode:h,decodedBodySize:u,encodedBodySize:f}}}function KD(t){const e=t.entries[t.entries.length-1],r=e?.element?[e.element]:void 0;return Um(t,"largest-contentful-paint",r)}function WD(t){return t.sources!==void 0}function XD(t){const e=[],r=[];for(const i of t.entries)if(WD(i)){const o=[];for(const l of i.sources)if(l.node){r.push(l.node);const u=Ar.mirror.getId(l.node);u&&o.push(u)}e.push({value:i.value,nodeIds:o.length?o:void 0})}return Um(t,"cumulative-layout-shift",r,e)}function JD(t){const e=t.entries[t.entries.length-1],r=e?.target?[e.target]:void 0;return Um(t,"interaction-to-next-paint",r)}function Um(t,e,r,i){const o=t.value,l=t.rating,u=_a(o);return{type:"web-vital",name:e,start:u,end:u,data:{value:o,size:o,rating:l,nodeIds:r?r.map(f=>Ar.mirror.getId(f)):void 0,attributions:i}}}function QD(t){function e(o){t.performanceEntries.includes(o)||t.performanceEntries.push(o)}function r({entries:o}){o.forEach(e)}const i=[];return["navigation","paint","resource"].forEach(o=>{i.push(ii(o,r))}),i.push(Tm(Dh(KD,t)),xm(Dh(XD,t)),sE(Dh(JD,t))),()=>{i.forEach(o=>o())}}const pe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ZD='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function eL(){const t=new Blob([ZD]);return URL.createObjectURL(t)}const A0=["log","warn","error"],pu="[Replay] ";function Lh(t,e="info"){fs({category:"console",data:{logger:"replay"},level:e,message:`${pu}${t}`},{level:e})}function tL(){let t=!1,e=!1;const r={exception:()=>{},infoTick:()=>{},setConfig:i=>{t=!!i.captureExceptions,e=!!i.traceInternals}};return pe?(A0.forEach(i=>{r[i]=(...o)=>{Y[i](pu,...o),e&&Lh(o.join(""),qw(i))}}),r.exception=(i,...o)=>{o.length&&r.error&&r.error(...o),Y.error(pu,i),t?hm(i,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):e&&Lh(i,"error")},r.infoTick=(...i)=>{Y.log(pu,...i),e&&setTimeout(()=>Lh(i[0]),0)}):A0.forEach(i=>{r[i]=()=>{}}),r}const me=tL();class zm extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Cm}.`)}}class GE{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const r=JSON.stringify(e).length;if(this._totalSize+=r,this._totalSize>Cm)throw new zm;this.events.push(e)}finish(){return new Promise(e=>{const r=this.events;this.clear(),e(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(r=>r.timestamp).sort()[0];return e?Dm(e):null}}class nL{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,r)=>{this._worker.addEventListener("message",({data:i})=>{i.success?e():r()},{once:!0}),this._worker.addEventListener("error",i=>{r(i)},{once:!0})}),this._ensureReadyPromise)}destroy(){pe&&me.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,r){const i=this._getAndIncrementId();return new Promise((o,l)=>{const u=({data:f})=>{const h=f;if(h.method===e&&h.id===i){if(this._worker.removeEventListener("message",u),!h.success){pe&&me.error("Error in compression worker: ",h.response),l(new Error("Error in compression worker"));return}o(h.response)}};this._worker.addEventListener("message",u),this._worker.postMessage({id:i,method:e,arg:r})})}_getAndIncrementId(){return this._id++}}class rL{constructor(e){this._worker=new nL(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const r=Dm(e.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);const i=JSON.stringify(e);return this._totalSize+=i.length,this._totalSize>Cm?Promise.reject(new zm):this._sendEventToWorker(i)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{pe&&me.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class sL{constructor(e){this._fallback=new GE,this._compression=new rL(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){pe&&me.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:r,waitForCheckout:i}=this._fallback,o=[];for(const l of e)o.push(this._compression.addEvent(l));this._compression.hasCheckout=r,this._compression.waitForCheckout=i,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(l){pe&&me.exception(l,"Failed to add events when switching buffers.")}}}function iL({useCompression:t,workerUrl:e}){if(t&&window.Worker){const r=aL(e);if(r)return r}return pe&&me.log("Using simple buffer"),new GE}function aL(t){try{const e=t||oL();if(!e)return;pe&&me.log(`Using compression worker${t?` from ${t}`:""}`);const r=new Worker(e);return new sL(r)}catch(e){pe&&me.exception(e,"Failed to create compression worker")}}function oL(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?eL():""}function Bm(){try{return"sessionStorage"in Ze&&!!Ze.sessionStorage}catch{return!1}}function lL(t){cL(),t.session=void 0}function cL(){if(Bm())try{Ze.sessionStorage.removeItem(Am)}catch{}}function VE(t){return t===void 0?!1:Math.random()<t}function Ju(t){if(Bm())try{Ze.sessionStorage.setItem(Am,JSON.stringify(t))}catch{}}function YE(t){const e=Date.now(),r=t.id||gn(),i=t.started||e,o=t.lastActivity||e,l=t.segmentId||0,u=t.sampled,f=t.previousSessionId,h=t.dirty||!1;return{id:r,started:i,lastActivity:o,segmentId:l,sampled:u,previousSessionId:f,dirty:h}}function uL(t,e){return VE(t)?"session":e?"buffer":!1}function O0({sessionSampleRate:t,allowBuffering:e,stickySession:r=!1},{previousSessionId:i}={}){const o=uL(t,e),l=YE({sampled:o,previousSessionId:i});return r&&Ju(l),l}function dL(){if(!Bm())return null;try{const t=Ze.sessionStorage.getItem(Am);if(!t)return null;const e=JSON.parse(t);return pe&&me.infoTick("Loading existing session"),YE(e)}catch{return null}}function Ap(t,e,r=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=r}function KE(t,{maxReplayDuration:e,sessionIdleExpire:r,targetTime:i=Date.now()}){return Ap(t.started,e,i)||Ap(t.lastActivity,r,i)}function WE(t,{sessionIdleExpire:e,maxReplayDuration:r}){return!(!KE(t,{sessionIdleExpire:e,maxReplayDuration:r})||t.sampled==="buffer"&&t.segmentId===0)}function Uh({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:r},i){const o=i.stickySession&&dL();return o?WE(o,{sessionIdleExpire:t,maxReplayDuration:e})?(pe&&me.infoTick("Session in sessionStorage is expired, creating new one..."),O0(i,{previousSessionId:o.id})):o:(pe&&me.infoTick("Creating new session"),O0(i,{previousSessionId:r}))}function fL(t){return t.type===xe.Custom}function Hm(t,e,r){return JE(t,e)?(XE(t,e,r),!0):!1}function hL(t,e,r){return JE(t,e)?XE(t,e,r):Promise.resolve(null)}async function XE(t,e,r){const{eventBuffer:i}=t;if(!i||i.waitForCheckout&&!r)return null;const o=t.recordingMode==="buffer";try{r&&o&&i.clear(),r&&(i.hasCheckout=!0,i.waitForCheckout=!1);const l=t.getOptions(),u=pL(e,l.beforeAddRecordingEvent);return u?await i.addEvent(u):void 0}catch(l){const u=l&&l instanceof zm,f=u?"addEventSizeExceeded":"addEvent",h=Ie();if(h){const m=u?"buffer_overflow":"internal_sdk_error";h.recordDroppedEvent(m,"replay")}if(u&&o)return i.clear(),i.waitForCheckout=!0,null;t.handleException(l),await t.stop({reason:f})}}function JE(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const r=Dm(e.timestamp);return r+t.timeouts.sessionIdlePause<Date.now()?!1:r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(pe&&me.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`),!1):!0}function pL(t,e){try{if(typeof e=="function"&&fL(t))return e(t)}catch(r){return pe&&me.exception(r,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}function Pm(t){return!t.type}function Op(t){return t.type==="transaction"}function mL(t){return t.type==="replay_event"}function C0(t){return t.type==="feedback"}function gL(t){return(e,r)=>{if(!t.isEnabled()||!Pm(e)&&!Op(e))return;const i=r.statusCode;if(!(!i||i<200||i>=300)){if(Op(e)){yL(t,e);return}bL(t,e)}}}function yL(t,e){const r=t.getContext();e.contexts?.trace?.trace_id&&r.traceIds.size<100&&r.traceIds.add(e.contexts.trace.trace_id)}function bL(t,e){const r=t.getContext();if(e.event_id&&r.errorIds.size<100&&r.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:i}=t.getOptions();typeof i=="function"&&!i(e)||fl(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(o){t.handleException(o)}})}function vL(t){return e=>{!t.isEnabled()||!Pm(e)||_L(t,e)}}function _L(t,e){const r=e.exception?.values?.[0]?.value;if(typeof r=="string"&&(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=Jn({category:"replay.hydrate-error",data:{url:ka()}});pl(t,i)}}function SL(t){const e=Ie();e&&e.on("beforeAddBreadcrumb",r=>wL(t,r))}function wL(t,e){if(!t.isEnabled()||!QE(e))return;const r=EL(e);r&&pl(t,r)}function EL(t){return!QE(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?xL(t):Jn(t)}function xL(t){const e=t.data?.arguments;if(!Array.isArray(e)||e.length===0)return Jn(t);let r=!1;const i=e.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>$c?(r=!0,`${o.slice(0,$c)}`):o;if(typeof o=="object")try{const l=Hn(o,7);return JSON.stringify(l).length>$c?(r=!0,`${JSON.stringify(l,null,2).slice(0,$c)}`):l}catch{}return o});return Jn({...t,data:{...t.data,arguments:i,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function QE(t){return!!t.category}function TL(t,e){return t.type||!t.exception?.values?.length?!1:!!e.originalException?.__rrweb__}function ZE(){const t=Ve().getPropagationContext().dsc;t&&delete t.replay_id;const e=qt();if(e){const r=jr(e);delete r.replay_id}}function kL(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:xe.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function AL(t,e){return t.recordingMode!=="buffer"||e.message===Om||!e.exception||e.type?!1:VE(t.getOptions().errorSampleRate)}function OL(t){return Object.assign((e,r)=>{if(!t.isEnabled()||t.isPaused())return e;if(mL(e))return delete e.breadcrumbs,e;if(!Pm(e)&&!Op(e)&&!C0(e))return e;if(!t.checkAndHandleExpiredSession())return ZE(),e;if(C0(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),kL(t,e),e;if(TL(e,r)&&!t.getOptions()._experiments.captureExceptions)return pe&&me.log("Ignoring error from rrweb internals",e),null;const o=AL(t,e);if((o||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),o&&t.recordingMode==="buffer"&&t.session?.sampled==="buffer"){const u=t.session;u.dirty=!0,t.getOptions().stickySession&&Ju(u)}return e},{id:"Replay"})}function Qu(t,e){return e.map(({type:r,start:i,end:o,name:l,data:u})=>{const f=t.throttledAddEvent({type:xe.Custom,timestamp:i,data:{tag:"performanceSpan",payload:{op:r,description:l,startTimestamp:i,endTimestamp:o,data:u}}});return typeof f=="string"?Promise.resolve(null):f})}function CL(t){const{from:e,to:r}=t,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:r,data:{previous:e}}}function RL(t){return e=>{if(!t.isEnabled())return;const r=CL(e);r!==null&&(t.getContext().urls.push(r.name),t.triggerUserActivity(),t.addUpdate(()=>(Qu(t,[r]),!1)))}}function NL(t,e){return pe&&t.getOptions()._experiments.traceInternals?!1:vR(e,Ie())}function ex(t,e){t.isEnabled()&&e!==null&&(NL(t,e.name)||t.addUpdate(()=>(Qu(t,[e]),!0)))}function Zu(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const r=hE(t);return e.encode(r).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function tx(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function ju(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const r={...t._meta},i=r.warnings||[];return r.warnings=[...i,e],t._meta=r,t}function nx(t,e){if(!e)return null;const{startTimestamp:r,endTimestamp:i,url:o,method:l,statusCode:u,request:f,response:h}=e;return{type:t,start:r/1e3,end:i/1e3,name:o,data:{method:l,statusCode:u,request:f,response:h}}}function Qo(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function us(t,e,r){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!r)return{headers:t,size:e};const i={headers:t,size:e},{body:o,warnings:l}=jL(r);return i.body=o,l?.length&&(i._meta={warnings:l}),i}function Cp(t,e){return Object.entries(t).reduce((r,[i,o])=>{const l=i.toLowerCase();return e.includes(l)&&t[i]&&(r[l]=o),r},{})}function jL(t){if(!t||typeof t!="string")return{body:t};const e=t.length>c0,r=ML(t);if(e){const i=t.slice(0,c0);return r?{body:i,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${i}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function ML(t){const e=t[0],r=t[t.length-1];return e==="["&&r==="]"||e==="{"&&r==="}"}function Mu(t,e){const r=IL(t);return Tr(r,e)}function IL(t,e=Ze.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(Ze.location.origin))return t;const r=new URL(t,e);if(r.origin!==new URL(e).origin)return t;const i=r.href;return!t.endsWith("/")&&i.endsWith("/")?i.slice(0,-1):i}async function DL(t,e,r){try{const i=await UL(t,e,r),o=nx("resource.fetch",i);ex(r.replay,o)}catch(i){pe&&me.exception(i,"Failed to capture fetch breadcrumb")}}function LL(t,e){const{input:r,response:i}=e,o=r?mE(r):void 0,l=Zu(o),u=i?tx(i.headers.get("content-length")):void 0;l!==void 0&&(t.data.request_body_size=l),u!==void 0&&(t.data.response_body_size=u)}async function UL(t,e,r){const i=Date.now(),{startTimestamp:o=i,endTimestamp:l=i}=e,{url:u,method:f,status_code:h=0,request_body_size:m,response_body_size:y}=t.data,v=Mu(u,r.networkDetailAllowUrls)&&!Mu(u,r.networkDetailDenyUrls),_=v?zL(r,e.input,m):Qo(m),S=await BL(v,r,e.response,y);return{startTimestamp:o,endTimestamp:l,url:u,method:f,statusCode:h,request:_,response:S}}function zL({networkCaptureBodies:t,networkRequestHeaders:e},r,i){const o=r?qL(r,e):{};if(!t)return us(o,i,void 0);const l=mE(r),[u,f]=pE(l,me),h=us(o,i,u);return f?ju(h,f):h}async function BL(t,{networkCaptureBodies:e,networkResponseHeaders:r},i,o){if(!t&&o!==void 0)return Qo(o);const l=i?rx(i.headers,r):{};if(!i||!e&&o!==void 0)return us(l,o,void 0);const[u,f]=await PL(i),h=HL(u,{networkCaptureBodies:e,responseBodySize:o,captureDetails:t,headers:l});return f?ju(h,f):h}function HL(t,{networkCaptureBodies:e,responseBodySize:r,captureDetails:i,headers:o}){try{const l=t?.length&&r===void 0?Zu(t):r;return i?e?us(o,l,t):us(o,l,void 0):Qo(l)}catch(l){return pe&&me.exception(l,"Failed to serialize response body"),us(o,r,void 0)}}async function PL(t){const e=$L(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await FL(e)]}catch(r){return r instanceof Error&&r.message.indexOf("Timeout")>-1?(pe&&me.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(pe&&me.exception(r,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function rx(t,e){const r={};return e.forEach(i=>{t.get(i)&&(r[i]=t.get(i))}),r}function qL(t,e){return t.length===1&&typeof t[0]!="string"?R0(t[0],e):t.length===2?R0(t[1],e):{}}function R0(t,e){if(!t)return{};const r=t.headers;return r?r instanceof Headers?rx(r,e):Array.isArray(r)?{}:Cp(r,e):{}}function $L(t){try{return t.clone()}catch(e){pe&&me.exception(e,"Failed to clone response body")}}function FL(t){return new Promise((e,r)=>{const i=fl(()=>r(new Error("Timeout while trying to read response body")),500);GL(t).then(o=>e(o),o=>r(o)).finally(()=>clearTimeout(i))})}async function GL(t){return await t.text()}async function VL(t,e,r){try{const i=KL(t,e,r),o=nx("resource.xhr",i);ex(r.replay,o)}catch(i){pe&&me.exception(i,"Failed to capture xhr breadcrumb")}}function YL(t,e){const{xhr:r,input:i}=e;if(!r)return;const o=Zu(i),l=r.getResponseHeader("content-length")?tx(r.getResponseHeader("content-length")):JL(r.response,r.responseType);o!==void 0&&(t.data.request_body_size=o),l!==void 0&&(t.data.response_body_size=l)}function KL(t,e,r){const i=Date.now(),{startTimestamp:o=i,endTimestamp:l=i,input:u,xhr:f}=e,{url:h,method:m,status_code:y=0,request_body_size:v,response_body_size:_}=t.data;if(!h)return null;if(!f||!Mu(h,r.networkDetailAllowUrls)||Mu(h,r.networkDetailDenyUrls)){const G=Qo(v),L=Qo(_);return{startTimestamp:o,endTimestamp:l,url:h,method:m,statusCode:y,request:G,response:L}}const S=f[Ws],E=S?Cp(S.request_headers,r.networkRequestHeaders):{},T=Cp(gE(f),r.networkResponseHeaders),[A,U]=r.networkCaptureBodies?pE(u,me):[void 0],[B,R]=r.networkCaptureBodies?WL(f):[void 0],F=us(E,v,A),K=us(T,_,B);return{startTimestamp:o,endTimestamp:l,url:h,method:m,statusCode:y,request:U?ju(F,U):F,response:R?ju(K,R):K}}function WL(t){const e=[];try{return[t.responseText]}catch(r){e.push(r)}try{return XL(t.response,t.responseType)}catch(r){e.push(r)}return pe&&me.warn("Failed to get xhr response body",...e),[void 0]}function XL(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(r){return pe&&me.exception(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return pe&&me.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function JL(t,e){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return Zu(r)}catch{return}}function QL(t){const e=Ie();try{const{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:l,networkResponseHeaders:u}=t.getOptions(),f={replay:t,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:l,networkResponseHeaders:u};e&&e.on("beforeAddBreadcrumb",(h,m)=>ZL(f,h,m))}catch{}}function ZL(t,e,r){if(e.data)try{e3(e)&&n3(r)&&(YL(e,r),VL(e,r,t)),t3(e)&&r3(r)&&(LL(e,r),DL(e,r,t))}catch(i){pe&&me.exception(i,"Error when enriching network breadcrumb")}}function e3(t){return t.category==="xhr"}function t3(t){return t.category==="fetch"}function n3(t){return t?.xhr}function r3(t){return t?.response}function s3(t){const e=Ie();uE(DD(t)),Yu(RL(t)),SL(t),QL(t);const r=OL(t);BC(r),e&&(e.on("beforeSendEvent",vL(t)),e.on("afterSendEvent",gL(t)),e.on("createDsc",i=>{const o=t.getSessionId();o&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(i.replay_id=o)}),e.on("spanStart",i=>{t.lastActiveSpan=i}),e.on("spanEnd",i=>{t.lastActiveSpan=i}),e.on("beforeSendFeedback",async(i,o)=>{const l=t.getSessionId();o?.includeReplay&&t.isEnabled()&&l&&i.contexts?.feedback&&(i.contexts.feedback.source==="api"&&await t.sendBufferedReplayOrFlush(),i.contexts.feedback.replay_id=l)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}async function i3(t){try{return Promise.all(Qu(t,[a3(Ze.performance.memory)]))}catch{return[]}}function a3(t){const{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:i}=t,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:i}}}}function o3(t,e,r){return TR(t,e,{...r,setTimeoutImpl:fl})}const Yc=Le.navigator;function l3(){return/iPhone|iPad|iPod/i.test(Yc?.userAgent??"")||/Macintosh/i.test(Yc?.userAgent??"")&&Yc?.maxTouchPoints&&Yc?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function c3(t){let e=!1;return(r,i)=>{if(!t.checkAndHandleExpiredSession()){pe&&me.warn("Received replay event after session expired.");return}const o=i||!e;e=!0,t.clickDetector&&RD(t.clickDetector,r),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&o&&t.setInitialState(),!Hm(t,r,o))return!0;if(!o)return!1;const l=t.session;if(d3(t,o),t.recordingMode==="buffer"&&l&&t.eventBuffer&&!l.dirty){const u=t.eventBuffer.getEarliestTimestamp();u&&(pe&&me.log(`Updating session start time to earliest event in buffer to ${new Date(u)}`),l.started=u,t.getOptions().stickySession&&Ju(l))}return l?.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}function u3(t){const e=t.getOptions();return{type:xe.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function d3(t,e){!e||!t.session||t.session.segmentId!==0||Hm(t,u3(t),!1)}function f3(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function h3(t,e,r,i){return ys(mw(t,cm(t),i,r),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function p3({recordingData:t,headers:e}){let r;const i=`${JSON.stringify(e)}
`;if(typeof t=="string")r=`${i}${t}`;else{const l=new TextEncoder().encode(i);r=new Uint8Array(l.length+t.length),r.set(l),r.set(t,l.length)}return r}async function m3({client:t,scope:e,replayId:r,event:i}){const o=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,l={event_id:r,integrations:o};t.emit("preprocessEvent",i,l);const u=await Sw(t.getOptions(),i,l,e,t,tr());if(!u)return null;t.emit("postprocessEvent",u,l),u.platform=u.platform||"javascript";const f=t.getSdkMetadata(),{name:h,version:m,settings:y}=f?.sdk||{};return u.sdk={...u.sdk,name:h||"sentry.javascript.unknown",version:m||"0.0.0",settings:y},u}async function g3({recordingData:t,replayId:e,segmentId:r,eventContext:i,timestamp:o,session:l}){const u=p3({recordingData:t,headers:{segment_id:r}}),{urls:f,errorIds:h,traceIds:m,initialTimestamp:y}=i,v=Ie(),_=Ve(),S=v?.getTransport(),E=v?.getDsn();if(!v||!S||!E||!l.sampled)return Promise.resolve({});const T={type:VM,replay_start_timestamp:y/1e3,timestamp:o/1e3,error_ids:h,trace_ids:m,urls:f,replay_id:e,segment_id:r,replay_type:l.sampled},A=await m3({scope:_,client:v,replayId:e,event:T});if(!A)return v.recordDroppedEvent("event_processor","replay"),pe&&me.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete A.sdkProcessingMetadata;const U=h3(A,u,E,v.getOptions().tunnel);let B;try{B=await S.send(U)}catch(F){const K=new Error(Om);try{K.cause=F}catch{}throw K}if(typeof B.statusCode=="number"&&(B.statusCode<200||B.statusCode>=300))throw new sx(B.statusCode);const R=Bw({},B);if(zw(R,"replay"))throw new qm(R);return B}class sx extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class qm extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function ix(t,e={count:0,interval:QM}){const{recordingData:r,onError:i}=t;if(r.length)try{return await g3(t),!0}catch(o){if(o instanceof sx||o instanceof qm)throw o;if(Ew("Replays",{_retryCount:e.count}),i&&i(o),e.count>=ZM){const l=new Error(`${Om} - max retries exceeded`);try{l.cause=o}catch{}throw l}return e.interval*=++e.count,new Promise((l,u)=>{fl(async()=>{try{await ix(t,e),l(!0)}catch(f){u(f)}},e.interval)})}}const ax="__THROTTLED",y3="__SKIPPED";function b3(t,e,r){const i=new Map,o=f=>{const h=f-r;i.forEach((m,y)=>{y<h&&i.delete(y)})},l=()=>[...i.values()].reduce((f,h)=>f+h,0);let u=!1;return(...f)=>{const h=Math.floor(Date.now()/1e3);if(o(h),l()>=e){const y=u;return u=!0,y?y3:ax}u=!1;const m=i.get(h)||0;return i.set(h,m+1),t(...f)}}class v3{constructor({options:e,recordingOptions:r}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:YM,sessionIdleExpire:KM},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=e,this._debouncedFlush=o3(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=b3((u,f)=>hL(this,u,f),300,5);const{slowClickTimeout:i,slowClickIgnoreSelectors:o}=this.getOptions(),l=i?{threshold:Math.min(eI,i),timeout:i,scrollTimeout:tI,ignoreSelector:o?o.join(","):""}:void 0;if(l&&(this.clickDetector=new kD(this,l)),pe){const u=e._experiments;me.setConfig({captureExceptions:!!u.captureExceptions,traceInternals:!!u.traceInternals})}this._handleVisibilityChange=()=>{Ze.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const u=Jn({category:"ui.blur"});this._doChangeToBackgroundTasks(u)},this._handleWindowFocus=()=>{const u=Jn({category:"ui.focus"});this._doChangeToForegroundTasks(u)},this._handleKeyboardEvent=u=>{BD(this,u)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){pe&&me.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:r,sessionSampleRate:i}=this._options,o=r<=0&&i<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(e),!this.session){pe&&me.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",pe&&me.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){pe&&me.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=Uh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in buffer mode");const e=Uh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Ar({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:JM}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:c3(this),...l3(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{pe&&me.log(`Stopping Replay${r?` triggered by ${r}`:""}`),ZE(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,lL(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pe&&me.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),pe&&me.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const r=Date.now();pe&&me.log("Converting buffer to session"),await this.flushImmediate();const i=this.stopRecording();!e||!i||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const r=e();this.recordingMode==="buffer"||!this._isEnabled||r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){if(!(e&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Ap(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${Ze.location.pathname}${Ze.location.hash}${Ze.location.search}`,r=`${Ze.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(e,r){const i=this._throttledAddEvent(e,r);if(i===ax){const o=Jn({category:"replay.throttled"});this.addUpdate(()=>!Hm(this,{type:vD,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return i}getCurrentRoute(){const e=this.lastActiveSpan||qt(),r=e&&Dt(e),o=(r&&ze(r).data||{})[Fn];if(!(!r||!o||!["route","custom"].includes(o)))return ze(r).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=iL({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const r=this._options.errorSampleRate>0,i=Uh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=i}_checkSession(){if(!this.session)return!1;const e=this.session;return WE(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Ze.document.addEventListener("visibilitychange",this._handleVisibilityChange),Ze.addEventListener("blur",this._handleWindowBlur),Ze.addEventListener("focus",this._handleWindowFocus),Ze.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(s3(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=QD(this)}_removeListeners(){try{Ze.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Ze.removeEventListener("blur",this._handleWindowBlur),Ze.removeEventListener("focus",this._handleWindowFocus),Ze.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||KE(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){pe&&me.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:xe.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=$D(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const r=this._context.initialTimestamp/1e3;e=e.filter(i=>i.start>=r)}return Promise.all(Qu(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:r}=this;if(!e||!r||this._requiresManualStart||e.segmentId)return;const i=r.getEarliestTimestamp();i&&i<this._context.initialTimestamp&&(this._context.initialTimestamp=i)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){pe&&me.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await i3(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const l=await this.eventBuffer.finish();await ix({replayId:e,recordingData:l,segmentId:o,eventContext:i,session:this.session,timestamp:r,onError:u=>this.handleException(u)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const i=Ie();if(i){const o=r instanceof qm?"ratelimit_backoff":"send_error";i.recordDroppedEvent(o,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){pe&&me.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,o=Date.now()-r;this._debouncedFlush.cancel();const l=o<this._options.minReplayDuration,u=o>this._options.maxReplayDuration+5e3;if(l||u){pe&&me.log(`Session duration (${Math.floor(o/1e3)}s) is too ${l?"short":"long"}, not sending replay.`),l&&this._debouncedFlush();return}const f=this.eventBuffer;f&&this.session.segmentId===0&&!f.hasCheckout&&pe&&me.log("Flushing initial segment without checkout.");const h=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(m){this.handleException(m)}finally{this._flushLock=void 0,h&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ju(this.session)}_onMutationHandler(e){const{ignoreMutations:r}=this._options._experiments;if(r?.length&&e.some(f=>{const h=f3(f.target),m=r.join(",");return h?.matches(m)}))return!1;const i=e.length,o=this._options.mutationLimit,l=this._options.mutationBreadcrumbLimit,u=o&&i>o;if(i>l||u){const f=Jn({category:"replay.mutations",data:{count:i,limit:u}});this._createCustomBreadcrumb(f)}return u?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Mo(t,e){return[...t,...e].join(",")}function _3({mask:t,unmask:e,block:r,unblock:i,ignore:o}){const l=["base","iframe[srcdoc]:not([src])"],u=Mo(t,[".sentry-mask","[data-sentry-mask]"]),f=Mo(e,[]);return{maskTextSelector:u,unmaskTextSelector:f,blockSelector:Mo(r,[".sentry-block","[data-sentry-block]",...l]),unblockSelector:Mo(i,[]),ignoreSelector:Mo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function S3({el:t,key:e,maskAttributes:r,maskAllText:i,privacyOptions:o,value:l}){return!i||o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)?l:r.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?l.replace(/[\S]/g,"*"):l}const N0='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',w3=["content-length","content-type","accept"];let j0=!1;const E3=(t=>new x3(t));class x3{constructor({flushMinDelay:e=WM,flushMaxDelay:r=XM,minReplayDuration:i=nI,maxReplayDuration:o=u0,stickySession:l=!0,useCompression:u=!0,workerUrl:f,_experiments:h={},maskAllText:m=!0,maskAllInputs:y=!0,blockAllMedia:v=!0,mutationBreadcrumbLimit:_=750,mutationLimit:S=1e4,slowClickTimeout:E=7e3,slowClickIgnoreSelectors:T=[],networkDetailAllowUrls:A=[],networkDetailDenyUrls:U=[],networkCaptureBodies:B=!0,networkRequestHeaders:R=[],networkResponseHeaders:F=[],mask:K=[],maskAttributes:G=["title","placeholder","aria-label"],unmask:L=[],block:P=[],unblock:ce=[],ignore:W=[],maskFn:ee,beforeAddRecordingEvent:le,beforeErrorSampling:he,onError:Te}={}){this.name="Replay";const ke=_3({mask:K,unmask:L,block:P,unblock:ce,ignore:W});if(this._recordingOptions={maskAllInputs:y,maskAllText:m,maskInputOptions:{password:!0},maskTextFn:ee,maskInputFn:ee,maskAttributeFn:(M,$,C)=>S3({maskAttributes:G,maskAllText:m,privacyOptions:ke,key:M,value:$,el:C}),...ke,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:M=>{try{M.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!h.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:r,minReplayDuration:Math.min(i,rI),maxReplayDuration:Math.min(o,u0),stickySession:l,useCompression:u,workerUrl:f,blockAllMedia:v,maskAllInputs:y,maskAllText:m,mutationBreadcrumbLimit:_,mutationLimit:S,slowClickTimeout:E,slowClickIgnoreSelectors:T,networkDetailAllowUrls:A,networkDetailDenyUrls:U,networkCaptureBodies:B,networkRequestHeaders:M0(R),networkResponseHeaders:M0(F),beforeAddRecordingEvent:le,beforeErrorSampling:he,onError:Te,_experiments:h},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${N0}`:N0,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&fp())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return j0}set _isInitialized(e){j0=e}afterAllSetup(e){!fp()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){if(this._replay?.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const r=T3(this._initialOptions,e);this._replay=new v3({options:r,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const r=e.getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}}function T3(t,e){const r=e.getOptions(),i={sessionSampleRate:0,errorSampleRate:0,...t},o=ri(r.replaysSessionSampleRate),l=ri(r.replaysOnErrorSampleRate);return o==null&&l==null&&oi(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(i.sessionSampleRate=o),l!=null&&(i.errorSampleRate=l),i}function M0(t){return[...w3,...t.map(e=>e.toLowerCase())]}function k3(t){return t.split(",").some(e=>e.trim().startsWith("sentry-"))}function ox(t){try{return new URL(t,Be.location.origin).href}catch{return}}function A3(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function lx(t){try{return new Headers(t)}catch{return}}const I0=new WeakMap,zh=new Map,cx={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function O3(t,e){const{traceFetch:r,traceXHR:i,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:l,enableHTTPTimings:u,tracePropagationTargets:f,onRequestSpanStart:h,onRequestSpanEnd:m}={...cx,...e},y=typeof l=="function"?l:E=>!0,v=E=>C3(E,f),_={},S=t.getOptions().propagateTraceparent;r&&(t.addEventProcessor(E=>(E.type==="transaction"&&E.spans&&E.spans.forEach(T=>{if(T.op==="http.client"){const A=zh.get(T.span_id);A&&(T.timestamp=A/1e3,zh.delete(T.span_id))}}),E)),o&&aN(E=>{if(E.response){const T=I0.get(E.response);T&&E.endTimestamp&&zh.set(T,E.endTimestamp)}}),Vw(E=>{const T=XR(E,y,v,_,{propagateTraceparent:S,onRequestSpanEnd:m});if(E.response&&E.fetchData.__span&&I0.set(E.response,E.fetchData.__span),T){const A=ox(E.fetchData.url),U=A?ti(A).host:void 0;T.setAttributes({"http.url":A,"server.address":U}),u&&D0(T),h?.(T,{headers:E.headers})}})),i&&fE(E=>{const T=R3(E,y,v,_,S,m);T&&(u&&D0(T),h?.(T,{headers:lx(E.xhr.__sentry_xhr_v3__?.request_headers)}))})}function D0(t){const{url:e}=ze(t).data;if(!e||typeof e!="string")return;const r=ii("resource",({entries:i})=>{i.forEach(o=>{A3(o)&&o.name.endsWith(e)&&(t.setAttributes(cE(o)),setTimeout(r))})})}function C3(t,e){const r=ka();if(r){let i,o;try{i=new URL(t,r),o=new URL(r).origin}catch{return!1}const l=i.origin===o;return e?Tr(i.toString(),e)||l&&Tr(i.pathname,e):l}else{const i=!!t.match(/^\/(?!\/)/);return e?Tr(t,e):i}}function R3(t,e,r,i,o,l){const u=t.xhr,f=u?.[Ws];if(!u||u.__sentry_own_request__||!f)return;const{url:h,method:m}=f,y=Gn()&&e(h);if(t.endTimestamp&&y){const U=u.__sentry_xhr_span_id__;if(!U)return;const B=i[U];B&&f.status_code!==void 0&&(ZS(B,f.status_code),B.end(),l?.(B,{headers:lx(gE(u)),error:t.error}),delete i[U]);return}const v=ox(h),_=ti(v||h),S=bR(h),E=!!qt(),T=y&&E?Ra({name:`${m} ${S}`,attributes:{url:h,type:"xhr","http.method":m,"http.url":v,"server.address":_?.host,[Et]:"auto.http.browser",[Nr]:"http.client",..._?.search&&{"http.query":_?.search},..._?.hash&&{"http.fragment":_?.hash}}}):new ds;u.__sentry_xhr_span_id__=T.spanContext().spanId,i[u.__sentry_xhr_span_id__]=T,r(h)&&N3(u,Gn()&&E?T:void 0,o);const A=Ie();return A&&A.emit("beforeOutgoingRequestSpan",T,t),T}function N3(t,e,r){const{"sentry-trace":i,baggage:o,traceparent:l}=Pw({span:e,propagateTraceparent:r});i&&j3(t,i,o,l)}function j3(t,e,r,i){const o=t.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!t.setRequestHeader))try{if(t.setRequestHeader("sentry-trace",e),i&&!o?.traceparent&&t.setRequestHeader("traceparent",i),r){const l=o?.baggage;(!l||!k3(l))&&t.setRequestHeader("baggage",r)}}catch{}}function M3(){Be.document?Be.document.addEventListener("visibilitychange",()=>{const t=qt();if(!t)return;const e=Dt(t);if(Be.document.hidden&&e){const r="cancelled",{op:i,status:o}=ze(e);Rn&&Y.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${i}`),o||e.setStatus({code:St,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Rn&&Y.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const I3=3600,ux="sentry_previous_trace",D3="sentry.previous_trace";function L3(t,{linkPreviousTrace:e,consistentTraceSampling:r}){const i=e==="session-storage";let o=i?B3():void 0;t.on("spanStart",u=>{if(Dt(u)!==u)return;const f=Ve().getPropagationContext();o=U3(o,u,f),i&&z3(o)});let l=!0;r&&t.on("beforeSampling",u=>{if(!o)return;const f=Ve(),h=f.getPropagationContext();if(l&&h.parentSpanId){l=!1;return}f.setPropagationContext({...h,dsc:{...h.dsc,sample_rate:String(o.sampleRate),sampled:String(Rp(o.spanContext))},sampleRand:o.sampleRand}),u.parentSampled=Rp(o.spanContext),u.parentSampleRate=o.sampleRate,u.spanAttributes={...u.spanAttributes,[JS]:o.sampleRate}})}function U3(t,e,r){const i=ze(e);function o(){try{return Number(r.dsc?.sample_rate)??Number(i.data?.[sm])}catch{return 0}}const l={spanContext:e.spanContext(),startTimestamp:i.start_timestamp,sampleRate:o(),sampleRand:r.sampleRand};if(!t)return l;const u=t.spanContext;return u.traceId===i.trace_id?t:(Date.now()/1e3-t.startTimestamp<=I3&&(Rn&&Y.log(`Adding previous_trace ${u} link to span ${{op:i.op,...e.spanContext()}}`),e.addLink({context:u,attributes:{[dO]:"previous_trace"}}),e.setAttribute(D3,`${u.traceId}-${u.spanId}-${Rp(u)?1:0}`)),l)}function z3(t){try{Be.sessionStorage.setItem(ux,JSON.stringify(t))}catch(e){Rn&&Y.warn("Could not store previous trace in sessionStorage",e)}}function B3(){try{const t=Be.sessionStorage?.getItem(ux);return JSON.parse(t)}catch{return}}function Rp(t){return t.traceFlags===1}const H3="BrowserTracing",P3={...uu,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...cx},q3=((t={})=>{const e={name:void 0,source:void 0},r=Be.document,{enableInp:i,enableElementTiming:o,enableLongTask:l,enableLongAnimationFrame:u,_experiments:{enableInteractions:f,enableStandaloneClsSpans:h,enableStandaloneLcpSpans:m},beforeStartSpan:y,idleTimeout:v,finalTimeout:_,childSpanTimeout:S,markBackgroundSpan:E,traceFetch:T,traceXHR:A,trackFetchStreamPerformance:U,shouldCreateSpanForRequest:B,enableHTTPTimings:R,ignoreResourceSpans:F,ignorePerformanceApiSpans:K,instrumentPageLoad:G,instrumentNavigation:L,detectRedirects:P,linkPreviousTrace:ce,consistentTraceSampling:W,enableReportPageLoaded:ee,onRequestSpanStart:le,onRequestSpanEnd:he}={...P3,...t};let Te,ke,M;function $(C,re,V=!0){const ve=re.op==="pageload",ue=re.name,X=y?y(re):re,ge=X.attributes||{};if(ue!==X.name&&(ge[Fn]="custom",X.attributes=ge),!V){const Ue=li();Ra({...X,startTime:Ue}).end(Ue);return}e.name=X.name,e.source=ge[Fn];const $e=_w(X,{idleTimeout:v,finalTimeout:_,childSpanTimeout:S,disableAutoFinish:ve,beforeSpanEnd:Ue=>{Te?.(),gj(Ue,{recordClsOnPageloadSpan:!h,recordLcpOnPageloadSpan:!m,ignoreResourceSpans:F,ignorePerformanceApiSpans:K}),U0(C,void 0);const $t=Ve(),Mt=$t.getPropagationContext();$t.setPropagationContext({...Mt,traceId:$e.spanContext().traceId,sampled:gs($e),dsc:jr(Ue)}),ve&&(M=void 0)},trimIdleSpanEndTimestamp:!ee});ve&&ee&&(M=$e),U0(C,$e);function xt(){r&&["interactive","complete"].includes(r.readyState)&&C.emit("idleSpanEnableAutoFinish",$e)}ve&&!ee&&r&&(r.addEventListener("readystatechange",()=>{xt()}),xt())}return{name:H3,setup(C){if(HO(),Te=cj({recordClsStandaloneSpans:h||!1,recordLcpStandaloneSpans:m||!1,client:C}),i&&Pj(),o&&Oj(),u&&Le.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?dj():l&&uj(),f&&fj(),P&&r){const V=()=>{ke=At()};addEventListener("click",V,{capture:!0}),addEventListener("keydown",V,{capture:!0,passive:!0})}function re(){const V=Zo(C);V&&!ze(V).timestamp&&(Rn&&Y.log(`[Tracing] Finishing current active span with op: ${ze(V).op}`),V.setAttribute(Vo,"cancelled"),V.end())}C.on("startNavigationSpan",(V,ve)=>{if(Ie()!==C)return;if(ve?.isRedirect){Rn&&Y.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),$(C,{op:"navigation.redirect",...V},!1);return}ke=void 0,re(),tr().setPropagationContext({traceId:Rr(),sampleRand:Math.random(),propagationSpanId:Gn()?void 0:kr()});const ue=Ve();ue.setPropagationContext({traceId:Rr(),sampleRand:Math.random(),propagationSpanId:Gn()?void 0:kr()}),ue.setSDKProcessingMetadata({normalizedRequest:void 0}),$(C,{op:"navigation",...V,parentSpan:null,forceTransaction:!0})}),C.on("startPageLoadSpan",(V,ve={})=>{if(Ie()!==C)return;re();const ue=ve.sentryTrace||L0("sentry-trace"),X=ve.baggage||L0("baggage"),ge=NO(ue,X),$e=Ve();$e.setPropagationContext(ge),Gn()||($e.getPropagationContext().propagationSpanId=kr()),$e.setSDKProcessingMetadata({normalizedRequest:gm()}),$(C,{op:"pageload",...V})}),C.on("endPageloadSpan",()=>{ee&&M&&(M.setAttribute(Vo,"reportPageLoaded"),M.end())})},afterAllSetup(C){let re=ka();if(ce!=="off"&&L3(C,{linkPreviousTrace:ce,consistentTraceSampling:W}),Be.location){if(G){const V=tn();$3(C,{name:Be.location.pathname,startTime:V?V/1e3:void 0,attributes:{[Fn]:"url",[Et]:"auto.pageload.browser"}})}L&&Yu(({to:V,from:ve})=>{if(ve===void 0&&re?.indexOf(V)!==-1){re=void 0;return}re=void 0;const ue=mm(V),X=Zo(C),ge=X&&P&&V3(X,ke);F3(C,{name:ue?.pathname||Be.location.pathname,attributes:{[Fn]:"url",[Et]:"auto.navigation.browser"}},{url:V,isRedirect:ge})})}E&&M3(),f&&G3(C,v,_,S,e),i&&Fj(),O3(C,{traceFetch:T,traceXHR:A,trackFetchStreamPerformance:U,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:B,enableHTTPTimings:R,onRequestSpanStart:le,onRequestSpanEnd:he})}}});function $3(t,e,r){t.emit("startPageLoadSpan",e,r),Ve().setTransactionName(e.name);const i=Zo(t);return i&&t.emit("afterStartPageLoadSpan",i),i}function F3(t,e,r){const{url:i,isRedirect:o}=r||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:o}),t.emit("startNavigationSpan",e,{isRedirect:o});const l=Ve();return l.setTransactionName(e.name),i&&!o&&l.setSDKProcessingMetadata({normalizedRequest:{...gm(),url:i}}),Zo(t)}function L0(t){return Be.document?.querySelector(`meta[name=${t}]`)?.getAttribute("content")||void 0}function G3(t,e,r,i,o){const l=Be.document;let u;const f=()=>{const h="ui.action.click",m=Zo(t);if(m){const y=ze(m).op;if(["navigation","pageload"].includes(y)){Rn&&Y.warn(`[Tracing] Did not create ${h} span because a pageload or navigation span is in progress.`);return}}if(u&&(u.setAttribute(Vo,"interactionInterrupted"),u.end(),u=void 0),!o.name){Rn&&Y.warn(`[Tracing] Did not create ${h} transaction because _latestRouteName is missing.`);return}u=_w({name:o.name,op:h,attributes:{[Fn]:o.source||"url"}},{idleTimeout:e,finalTimeout:r,childSpanTimeout:i})};l&&addEventListener("click",f,{capture:!0})}const dx="_sentry_idleSpan";function Zo(t){return t[dx]}function U0(t,e){yn(t,dx,e)}const z0=1.5;function V3(t,e){const r=ze(t),i=li(),o=r.start_timestamp;return!(i-o>z0||e&&i-e<=z0)}function Y3(t){const e={...t};return Hw(e,"react"),Ew("react",{version:ie.version}),GM(e)}const K3="modulepreload",W3=function(t){return"/"+t},B0={},rt=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");o=h(r.map(m=>{if(m=W3(m),m in B0)return;B0[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":K3,y||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),y)return new Promise((S,E)=>{_.addEventListener("load",S),_.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},fx=ie.createContext(null);function X3({children:t}){const[e,r]=ie.useState("all"),[i,o]=ie.useState(!1);ie.useEffect(()=>{if(typeof window<"u"){const u=localStorage.getItem("selectedBase");u&&r(u),o(!0)}},[]);const l=u=>{r(u),typeof window<"u"&&localStorage.setItem("selectedBase",u)};return b.jsx(fx.Provider,{value:{selectedBase:e,setSelectedBase:l,isLoaded:i},children:t})}function $m(){const t=ie.useContext(fx);if(!t)throw new Error("useBase must be used within BaseProvider");return t}const H0="G-6RPDS8PFEB",Np=()=>{const t=localStorage.getItem("cookieConsent");if(!t){console.log("[Analytics] User has not consented to analytics");return}try{if(!JSON.parse(t).analytics){console.log("[Analytics] Analytics not enabled in user preferences");return}}catch{console.log("[Analytics] Invalid consent data");return}if(typeof window.gtag<"u"){console.log("[Analytics] GA already initialized");return}const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${H0}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(...r){window.dataLayer.push(r)},window.gtag("js",new Date),window.gtag("config",H0,{send_page_view:!1,anonymize_ip:!0}),console.log("[Analytics] Google Analytics initialized")},J3=(t,e)=>{if(typeof window.gtag>"u"){console.log("[Analytics] Page view:",t,e);return}window.gtag("event","page_view",{page_path:t,page_title:e||document.title})};function Q3(){const t=()=>{localStorage.removeItem("selectedBase"),localStorage.removeItem("hasVisitedSite"),window.dispatchEvent(new CustomEvent("openBaseSelectionModal"))},[e,r]=ie.useState(!1),[i,o]=ie.useState("home"),l=NS(),u=jS(),f=()=>r(y=>!y),h=[{label:"Home",id:"home"},{label:"Destinations",id:"destinations"},{label:"Day Trips",id:"day-trips",isRoute:!0},{label:"Travel Tips",id:"tips"},{label:"Travel Phrases",id:"phrases"},{label:"English Services",id:"services"}];ie.useEffect(()=>{if(l.pathname==="/"){const y=l.hash.replace("#","")||"home";o(y)}else l.pathname==="/day-trips"?o("day-trips"):o("")},[l]);const m=y=>{const v=y.id;if(y.isRoute){u(`/${v}`),o(v),r(!1);return}if(v==="home"){l.pathname==="/"?window.scrollTo({top:0,behavior:"smooth"}):u("/"),o("home"),r(!1);return}if(v==="contact"){const _=document.getElementById("contact");_?_.scrollIntoView({behavior:"smooth"}):u("/#contact")}else l.pathname==="/"?document.getElementById(v)?.scrollIntoView({behavior:"smooth"}):u(`/#${v}`);o(v),r(!1)};return b.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-[100] shadow-sm",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>m({id:"home"}),children:[b.jsx("img",{src:"/EL_Logo.png",alt:"European Living Logo",className:"w-10 h-10 object-contain"}),b.jsx("span",{className:"text-[var(--brand-dark)] font-semibold text-lg",children:"European Living"})]}),b.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[h.map(y=>b.jsx("button",{onClick:()=>m(y),className:`font-medium px-3 py-2 rounded-md transition-colors cursor-pointer ${i===y.id?"text-[var(--brand-primary)]":"text-[var(--brand-dark)] hover:text-[var(--brand-primary)]"}`,children:y.label},y.id)),b.jsx("button",{onClick:()=>m({id:"contact"}),className:`px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer ${i==="contact"?"bg-[var(--brand-primary)] text-[var(--brand-bg-alt)]":"bg-[var(--brand-dark)] text-[var(--brand-bg)] hover:bg-[var(--brand-primary)] hover:text-[var(--brand-bg-alt)]"}`,children:"Contact Us"}),b.jsx("button",{onClick:t,className:"text-sm text-red-500 hover:text-red-700 underline ml-2",children:"Reset Base"})]}),b.jsx("button",{onClick:f,className:"md:hidden cursor-pointer",children:e?b.jsx(Jp,{className:"h-6 w-6"}):b.jsx(Zk,{className:"h-6 w-6"})})]}),e&&b.jsx("div",{className:"md:hidden py-4 border-t border-gray-100",children:b.jsxs("div",{className:"flex flex-col space-y-3",children:[h.map(y=>b.jsx("button",{onClick:()=>m(y),className:`px-4 py-2 text-left font-medium rounded-md transition-colors cursor-pointer ${i===y.id?"text-[var(--brand-primary)]":"text-[var(--brand-dark)] hover:text-[var(--brand-primary)]"}`,children:y.label},y.id)),b.jsx("button",{onClick:()=>m({id:"contact"}),className:`px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer ${i==="contact"?"bg-[var(--brand-primary)] text-[var(--brand-bg-alt)]":"bg-[var(--brand-dark)] text-[var(--brand-bg)] hover:bg-[var(--brand-primary)] hover:text-[var(--brand-bg-alt)]"}`,children:"Contact Us"}),b.jsx("button",{onClick:()=>{t(),r(!1)},className:"text-sm text-red-500 hover:text-red-700 underline px-4 text-left",children:"Reset Base"})]})})]})})}function Z3(){return b.jsxs("section",{id:"home","aria-label":"Hero",style:{backgroundImage:'url("https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/hero-bg.jpg")',backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center 55%"},className:"relative w-full min-h-screen flex items-center justify-center overflow-hidden bg-[var(--brand-bg, #000)]",children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(90deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.3) 100%)"}}),b.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,0.4) 100%)"}}),b.jsxs("div",{className:"relative z-10 px-6 sm:px-10 text-center text-white max-w-5xl",children:[b.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(0, 0, 0, 0.6)"},children:["Discover Europe"," ",b.jsx("br",{}),b.jsx("span",{className:"text-[var(--brand-gold,#F5C04A)]",children:"Beyond"})," ","the Base"]}),b.jsxs("p",{className:"mt-6 max-w-2xl mx-auto text-lg md:text-xl lg:text-2xl font-medium leading-relaxed",style:{textShadow:"0 2px 8px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.6)"},children:["Your complete guide to traveling across Europe. Find destinations, transportation, accommodations, English-speaking services, and essential German phrases  all in one place.",b.jsx("br",{}),b.jsx("br",{}),"Built by Americans who've lived in Germany for over 10 years and worked with thousands of military families. We understand the hesitation about leaving base  and we're here to make exploring Europe feel accessible, safe, and exciting."]}),b.jsx("br",{}),b.jsx("div",{className:"mt-8",children:b.jsx("button",{onClick:()=>document.getElementById("destinations")?.scrollIntoView({behavior:"smooth"}),className:"bg-[var(--brand-primary,#1E40AF)] hover:bg-[var(--brand-dark,#153A84)] text-white font-bold px-8 py-4 rounded-lg text-lg transition-all shadow-xl hover:shadow-2xl hover:scale-105",children:"Start Exploring"})})]})]})}var jp=function(t,e){return jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},jp(t,e)};function hx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Iu=function(){return Iu=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Iu.apply(this,arguments)};function Ma(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function px(t,e,r,i){var o=arguments.length,l=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,i);else for(var f=t.length-1;f>=0;f--)(u=t[f])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function mx(t,e){return function(r,i){e(r,i,t)}}function gx(t,e,r,i,o,l){function u(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var f=i.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&t?i.static?t:t.prototype:null,y=e||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),v,_=!1,S=r.length-1;S>=0;S--){var E={};for(var T in i)E[T]=T==="access"?{}:i[T];for(var T in i.access)E.access[T]=i.access[T];E.addInitializer=function(U){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(U||null))};var A=(0,r[S])(f==="accessor"?{get:y.get,set:y.set}:y[h],E);if(f==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(v=u(A.get))&&(y.get=v),(v=u(A.set))&&(y.set=v),(v=u(A.init))&&o.unshift(v)}else(v=u(A))&&(f==="field"?o.unshift(v):y[h]=v)}m&&Object.defineProperty(m,i.name,y),_=!0}function yx(t,e,r){for(var i=arguments.length>2,o=0;o<e.length;o++)r=i?e[o].call(t,r):e[o].call(t);return i?r:void 0}function bx(t){return typeof t=="symbol"?t:"".concat(t)}function vx(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function _x(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ne(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(y){try{m(i.next(y))}catch(v){u(v)}}function h(y){try{m(i.throw(y))}catch(v){u(v)}}function m(y){y.done?l(y.value):o(y.value).then(f,h)}m((i=i.apply(t,e||[])).next())})}function Sx(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=f(0),u.throw=f(1),u.return=f(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(m){return function(y){return h([m,y])}}function h(m){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(i=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(y){m=[6,y],o=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var ed=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,o)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function wx(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ed(e,t,r)}function Du(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fm(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return l}function Ex(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fm(arguments[e]));return t}function xx(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,f=l.length;u<f;u++,o++)i[o]=l[u];return i}function Tx(t,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function Sa(t){return this instanceof Sa?(this.v=t,this):new Sa(t)}function kx(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(E){return Promise.resolve(E).then(S,v)}}function f(S,E){i[S]&&(o[S]=function(T){return new Promise(function(A,U){l.push([S,T,A,U])>1||h(S,T)})},E&&(o[S]=E(o[S])))}function h(S,E){try{m(i[S](E))}catch(T){_(l[0][3],T)}}function m(S){S.value instanceof Sa?Promise.resolve(S.value.v).then(y,v):_(l[0][2],S)}function y(S){h("next",S)}function v(S){h("throw",S)}function _(S,E){S(E),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Ax(t){var e,r;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:Sa(t[o](u)),done:!1}:l?l(u):u}:l}}function Ox(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Du=="function"?Du(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(l){r[l]=t[l]&&function(u){return new Promise(function(f,h){u=t[l](u),o(f,h,u.done,u.value)})}}function o(l,u,f,h){Promise.resolve(h).then(function(m){l({value:m,done:f})},u)}}function Cx(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var eU=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Mp=function(t){return Mp=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},Mp(t)};function Rx(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Mp(t),i=0;i<r.length;i++)r[i]!=="default"&&ed(e,t,r[i]);return eU(e,t),e}function Nx(t){return t&&t.__esModule?t:{default:t}}function jx(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function Mx(t,e,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function Ix(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Dx(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var tU=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Lx(t){function e(l){t.error=t.hasError?new tU(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,i=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else i|=1}catch(u){e(u)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Ux(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,o,l,u){return i?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const nU={__extends:hx,__assign:Iu,__rest:Ma,__decorate:px,__param:mx,__esDecorate:gx,__runInitializers:yx,__propKey:bx,__setFunctionName:vx,__metadata:_x,__awaiter:ne,__generator:Sx,__createBinding:ed,__exportStar:wx,__values:Du,__read:Fm,__spread:Ex,__spreadArrays:xx,__spreadArray:Tx,__await:Sa,__asyncGenerator:kx,__asyncDelegator:Ax,__asyncValues:Ox,__makeTemplateObject:Cx,__importStar:Rx,__importDefault:Nx,__classPrivateFieldGet:jx,__classPrivateFieldSet:Mx,__classPrivateFieldIn:Ix,__addDisposableResource:Dx,__disposeResources:Lx,__rewriteRelativeImportExtension:Ux},rU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Dx,get __assign(){return Iu},__asyncDelegator:Ax,__asyncGenerator:kx,__asyncValues:Ox,__await:Sa,__awaiter:ne,__classPrivateFieldGet:jx,__classPrivateFieldIn:Ix,__classPrivateFieldSet:Mx,__createBinding:ed,__decorate:px,__disposeResources:Lx,__esDecorate:gx,__exportStar:wx,__extends:hx,__generator:Sx,__importDefault:Nx,__importStar:Rx,__makeTemplateObject:Cx,__metadata:_x,__param:mx,__propKey:bx,__read:Fm,__rest:Ma,__rewriteRelativeImportExtension:Ux,__runInitializers:yx,__setFunctionName:vx,__spread:Ex,__spreadArray:Tx,__spreadArrays:xx,__values:Du,default:nU},Symbol.toStringTag,{value:"Module"})),sU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)};class Gm extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class P0 extends Gm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class q0 extends Gm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $0 extends Gm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ip;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ip||(Ip={}));class iU{constructor(e,{headers:r={},customFetch:i,region:o=Ip.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=sU(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ne(this,arguments,void 0,function*(r,i={}){var o;try{const{headers:l,method:u,body:f,signal:h}=i;let m={},{region:y}=i;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(m["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let _;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(m["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(m["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;const S=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:_,signal:h}).catch(U=>{throw U.name==="AbortError"?U:new P0(U)}),E=S.headers.get("x-relay-error");if(E&&E==="true")throw new q0(S);if(!S.ok)throw new $0(S);let T=((o=S.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),A;return T==="application/json"?A=yield S.json():T==="application/octet-stream"||T==="application/pdf"?A=yield S.blob():T==="text/event-stream"?A=S:T==="multipart/form-data"?A=yield S.formData():A=yield S.text(),{data:A,error:null,response:S}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new P0(l)}:{data:null,error:l,response:l instanceof $0||l instanceof q0?l.context:void 0}}})}}var It={};const Ia=MS(rU);var Kc={},Wc={},Xc={},Jc={},Qc={},aU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wa=aU();const oU=wa.fetch,zx=wa.fetch.bind(wa),Bx=wa.Headers,lU=wa.Request,cU=wa.Response,ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bx,Request:lU,Response:cU,default:zx,fetch:oU},Symbol.toStringTag,{value:"Module"})),uU=MS(ci);var Zc={},F0;function Hx(){if(F0)return Zc;F0=1,Object.defineProperty(Zc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Zc.default=t,Zc}var G0;function Px(){if(G0)return Qc;G0=1,Object.defineProperty(Qc,"__esModule",{value:!0});const t=Ia,e=t.__importDefault(uU),r=t.__importDefault(Hx());class i{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,v,_,S;let E=null,T=null,A=null,U=m.status,B=m.statusText;if(m.ok){if(this.method!=="HEAD"){const G=await m.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?T=G:T=JSON.parse(G))}const F=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),K=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");F&&K&&K.length>1&&(A=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(E={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,A=null,U=406,B="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const F=await m.text();try{E=JSON.parse(F),Array.isArray(E)&&m.status===404&&(T=[],E=null,U=200,B="OK")}catch{m.status===404&&F===""?(U=204,B="No Content"):E={message:F}}if(E&&this.isMaybeSingle&&(!((S=E?.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,U=200,B="OK"),E&&this.shouldThrowOnError)throw new r.default(E)}return{error:E,data:T,count:A,status:U,statusText:B}});return this.shouldThrowOnError||(h=h.catch(m=>{var y,v,_;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return Qc.default=i,Qc}var V0;function qx(){if(V0)return Jc;V0=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=Ia.__importDefault(Px());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var y;const v=[o?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Jc.default=r,Jc}var Y0;function Vm(){if(Y0)return Xc;Y0=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=Ia.__importDefault(qx()),r=new RegExp("[,()]");class i extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${y}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return Xc.default=i,Xc}var K0;function $x(){if(K0)return Wc;K0=1,Object.defineProperty(Wc,"__esModule",{value:!0});const e=Ia.__importDefault(Vm());class r{constructor(o,{headers:l={},schema:u,fetch:f}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(o,l){const{head:u=!1,count:f}=l??{},h=u?"HEAD":"GET";let m=!1;const y=(o??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(v.length>0){const _=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Wc.default=r,Wc}var W0;function dU(){if(W0)return Kc;W0=1,Object.defineProperty(Kc,"__esModule",{value:!0});const t=Ia,e=t.__importDefault($x()),r=t.__importDefault(Vm());class i{constructor(l,{headers:u={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:h=!1,count:m}={}){var y;let v;const _=new URL(`${this.url}/rpc/${l}`);let S;f||h?(v=f?"HEAD":"GET",Object.entries(u).filter(([T,A])=>A!==void 0).map(([T,A])=>[T,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([T,A])=>{_.searchParams.append(T,A)})):(v="POST",S=u);const E=new Headers(this.headers);return m&&E.set("Prefer",`count=${m}`),new r.default({method:v,url:_,headers:E,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Kc.default=i,Kc}var X0;function fU(){if(X0)return It;X0=1,Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const t=Ia,e=t.__importDefault(dU());It.PostgrestClient=e.default;const r=t.__importDefault($x());It.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Vm());It.PostgrestFilterBuilder=i.default;const o=t.__importDefault(qx());It.PostgrestTransformBuilder=o.default;const l=t.__importDefault(Px());It.PostgrestBuilder=l.default;const u=t.__importDefault(Hx());return It.PostgrestError=u.default,It.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},It}var Fx=fU();const Gx=Yk(Fx),hU=xA({__proto__:null,default:Gx},[Fx]),{PostgrestClient:pU,PostgrestQueryBuilder:l4,PostgrestFilterBuilder:c4,PostgrestTransformBuilder:u4,PostgrestBuilder:d4,PostgrestError:f4}=Gx||hU;class mU{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gU="2.78.0",yU=`realtime-js/${gU}`,bU="1.0.0",Dp=1e4,vU=1e3,_U=100;var qo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qo||(qo={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var qn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qn||(qn={}));var Lp;(function(t){t.websocket="websocket"})(Lp||(Lp={}));var Ys;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ys||(Ys={}));class SU{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(e.slice(u,u+o));u=u+o;const h=i.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class Vx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const J0=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=wU(u,t,e,o),l),{}):{}},wU=(t,e,r,i)=>{const o=e.find(f=>f.name===t),l=o?.type,u=r[t];return l&&!i.includes(l)?Yx(l,u):Up(u)},Yx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return kU(e,r)}switch(t){case Qe.bool:return EU(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return xU(e);case Qe.json:case Qe.jsonb:return TU(e);case Qe.timestamp:return AU(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Up(e);default:return Up(e)}},Up=t=>t,EU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},TU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kU=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Yx(e,f))}return t},AU=t=>typeof t=="string"?t.replace(" ","T"):t,Kx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bh{constructor(e,r,i={},o=Dp){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Q0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Q0||(Q0={}));class $o{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$o.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=$o.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=$o.syncDiff(this.state,o,l,u),f())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const l=this.cloneDeep(e),u=this.transformState(r),f={},h={};return this.map(l,(m,y)=>{u[m]||(h[m]=y)}),this.map(u,(m,y)=>{const v=l[m];if(v){const _=y.map(A=>A.presence_ref),S=v.map(A=>A.presence_ref),E=y.filter(A=>S.indexOf(A.presence_ref)<0),T=v.filter(A=>_.indexOf(A.presence_ref)<0);E.length>0&&(f[m]=E),T.length>0&&(h[m]=T)}else f[m]=y}),this.syncDiff(l,{joins:f,leaves:h},i,o)}static syncDiff(e,r,i,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(f,h)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),y.length>0){const v=e[f].map(S=>S.presence_ref),_=y.filter(S=>v.indexOf(S.presence_ref)<0);e[f].unshift(..._)}i(f,y,h)}),this.map(u,(f,h)=>{let m=e[f];if(!m)return;const y=h.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),e[f]=m,o(f,m,h),m.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Z0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Z0||(Z0={}));var Fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fo||(Fo={}));var wr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class Ym{constructor(e,r={config:{}},i){var o,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,qn.join,this.params,this.timeout),this.rejoinTimer=new Vx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new $o(this),this.broadcastEndpointURL=Kx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Fo.PRESENCE]&&this.bindings[Fo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(wr.CHANNEL_ERROR,S)),this._onClose(()=>e?.(wr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket.setAuth(),S===void 0){e?.(wr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,A=(E=T?.length)!==null&&E!==void 0?E:0,U=[];for(let B=0;B<A;B++){const R=T[B],{filter:{event:F,schema:K,table:G,filter:L}}=R,P=S&&S[B];if(P&&P.event===F&&P.schema===K&&P.table===G&&P.filter===L)U.push(Object.assign(Object.assign({},R),{id:P.id}));else{this.unsubscribe(),this.state=_t.errored,e?.(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,e&&e(wr.SUBSCRIBED);return}}).receive("error",S=>{this.state=_t.errored,e?.(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===_t.joined&&e===Fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Bh(this,qn.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bh(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_U){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,l;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:y}=qn;if(i&&[f,h,m,y].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var E,T,A;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(T=S.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===u}).map(S=>S.callback(_,i)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var E,T,A,U,B,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const F=S.id,K=(E=S.filter)===null||E===void 0?void 0:E.event;return F&&((T=r.ids)===null||T===void 0?void 0:T.includes(F))&&(K==="*"||K?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const F=(B=(U=S?.filter)===null||U===void 0?void 0:U.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return F==="*"||F===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:T,table:A,commit_timestamp:U,type:B,errors:R}=E;_=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:U,eventType:B,new:{},old:{},errors:R}),this._getPayloadRecords(E))}S.callback(_,i)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Ym.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qn.close,{},e)}_onError(e){this._on(qn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=J0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=J0(e.columns,e.old_record)),r}}const Hh=()=>{},eu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OU=[1e3,2e3,5e3,1e4],CU=1e4,RU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NU{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dp,this.transport=null,this.heartbeatIntervalMs=eu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hh,this.ref=0,this.reconnectTimer=null,this.logger=Hh,this.conn=null,this.sendBuffer=[],this.serializer=new SU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>rt(async()=>{const{default:f}=await Promise.resolve().then(()=>ci);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Lp.websocket}`,this.httpEndpoint=Kx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bU}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return Ys.Connecting;case qo.open:return Ys.Open;case qo.closing:return Ys.Closing;default:return Ys.Closed}}isConnected(){return this.connectionState()===Ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new Ym(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},eu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:u}=r,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([RU],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:yU};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(qn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Vx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,l,u,f,h,m,y;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Dp,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:eu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Hh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>OU[v-1]||CU),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((v,_)=>_(JSON.stringify(v))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Km extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jU extends Km{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zp extends Km{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Wm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},MU=()=>ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rt(()=>Promise.resolve().then(()=>ci),void 0)).Response:Response}),Bp=t=>{if(Array.isArray(t))return t.map(r=>Bp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Bp(i)}),e},IU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ph=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},DU=(t,e,r)=>ne(void 0,void 0,void 0,function*(){const i=yield MU();t instanceof i&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new jU(Ph(o),l,u))}).catch(o=>{e(new zp(Ph(o),o))}):e(new zp(Ph(t),t))}),LU=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!i?o:(IU(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function ml(t,e,r,i,o,l){return ne(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(r,LU(e,i,o,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>DU(h,f,i))})})}function el(t,e,r,i){return ne(this,void 0,void 0,function*(){return ml(t,"GET",e,r,i)})}function Bn(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return ml(t,"POST",e,i,o,r)})}function Hp(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return ml(t,"PUT",e,i,o,r)})}function UU(t,e,r,i){return ne(this,void 0,void 0,function*(){return ml(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Xm(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return ml(t,"DELETE",e,i,o,r)})}class zU{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var Wx;class BU{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Wx]="BlobDownloadBuilder",this.promise=null}asStream(){return new zU(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}Wx=Symbol.toStringTag;const HU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PU{constructor(e,r={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Wm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,o){return ne(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},eS),o);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(f=Object.assign(Object.assign({},f),o.headers));const m=this._removeEmptyFolders(r),y=this._getFinalPath(m),v=yield(e=="PUT"?Hp:Bn)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}upload(e,r,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,o){return ne(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:eS.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const v=yield Hp(this.fetch,f.toString(),h,{headers:y});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(st(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return ne(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Bn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new Km("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}update(e,r,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return ne(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}copy(e,r,i){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Bn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,i){return ne(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Bn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,i){return ne(this,void 0,void 0,function*(){try{const o=yield Bn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),h=()=>el(this.fetch,`${this.url}/${o}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new BU(h,this.shouldThrowOnError)}info(e){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield el(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bp(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}exists(e){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield UU(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i)&&i instanceof zp){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(e,r,i){return ne(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},HU),r),{prefix:e||""});return{data:yield Bn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}listV2(e,r){return ne(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Bn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Xx="2.78.0",Jx={"X-Client-Info":`storage-js/${Xx}`};class qU{constructor(e,r={},i,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jx),r),this.fetch=Wm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield el(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(e){return ne(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ne(this,void 0,void 0,function*(){try{return{data:yield Hp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class $U{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jx),r),this.fetch=Wm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(e){return ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield el(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}const Jm={"X-Client-Info":`storage-js/${Xx}`,"Content-Type":"application/json"};class Qx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class qh extends Qx{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class FU extends Qx{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var tS;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tS||(tS={}));const Qm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},GU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VU=(t,e,r)=>ne(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const f=u?.statusCode||u?.code||o+"";e(new qh(nS(u),o,f))}).catch(()=>{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new qh(f,o,u))});else{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new qh(f,o,u))}}else e(new FU(nS(t),t))}),YU=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return i?(GU(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),r)):o};function KU(t,e,r,i,o,l){return ne(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(r,YU(e,i,o,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>VU(h,f,i))})})}function mn(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return KU(t,"POST",e,i,o,r)})}class WU{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jm),r),this.fetch=Qm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}listIndexes(e){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ne(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}}class XU{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jm),r),this.fetch=Qm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}getVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}listVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield mn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}queryVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}}class JU{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jm),r),this.fetch=Qm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}listBuckets(){return ne(this,arguments,void 0,function*(e={}){try{return{data:yield mn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}}class QU extends JU{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ZU(this.url,this.headers,e,this.fetch)}}class ZU extends WU{constructor(e,r,i,o){super(e,r,o),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new e2(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class e2 extends XU{constructor(e,r,i,o,l){super(e,r,l),this.vectorBucketName=i,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class t2 extends qU{constructor(e,r={},i,o){super(e,r,i,o)}from(e){return new PU(this.url,this.headers,e,this.fetch)}get vectors(){return new QU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $U(this.url+"/iceberg",this.headers,this.fetch)}}const n2="2.78.0";let Lo="";typeof Deno<"u"?Lo="deno":typeof document<"u"?Lo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lo="react-native":Lo="node";const r2={"X-Client-Info":`supabase-js-${Lo}/${n2}`},s2={headers:r2},i2={schema:"public"},a2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o2={},l2=t=>{let e;return t?e=t:typeof fetch>"u"?e=zx:e=fetch,(...r)=>e(...r)},c2=()=>typeof Headers>"u"?Bx:Headers,u2=(t,e,r)=>{const i=l2(r),o=c2();return async(l,u)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:t;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},u),{headers:m}))}};function d2(t){return t.endsWith("/")?t:t+"/"}function f2(t,e){var r,i;const{db:o,auth:l,realtime:u,global:f}=t,{db:h,auth:m,realtime:y,global:v}=e,_={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function h2(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(d2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Zx="2.78.0",sa=30*1e3,Pp=3,$h=Pp*sa,p2="http://localhost:9999",m2="supabase.auth.token",g2={"X-Client-Info":`gotrue-js/${Zx}`},qp="X-Supabase-Api-Version",eT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b2=600*1e3;class tl extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class v2 extends tl{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function _2(t){return ae(t)&&t.name==="AuthApiError"}class Ks extends tl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bs extends tl{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class Un extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function S2(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Xi extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tu extends bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nu extends bs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function w2(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class rS extends bs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $p extends bs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Fh(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class sS extends bs{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Fp extends bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iS=` 	
\r=`.split(""),E2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<iS.length;e+=1)t[iS[e].charCodeAt(0)]=-2;for(let e=0;e<Lu.length;e+=1)t[Lu[e].charCodeAt(0)]=e;return t})();function aS(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Lu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Lu[i]),e.queuedBits-=6}}function tT(t,e,r){const i=E2[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function oS(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{k2(u,i,r)};for(let u=0;u<t.length;u+=1)tT(t.charCodeAt(u),o,l);return e.join("")}function x2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function T2(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}x2(i,e)}}function k2(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function da(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)tT(t.charCodeAt(o),r,i);return new Uint8Array(e)}function A2(t){const e=[];return T2(t,r=>e.push(r)),new Uint8Array(e)}function Js(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>aS(o,r,i)),aS(null,r,i),e.join("")}function O2(t){return Math.round(Date.now()/1e3)+t}function C2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",qs={tested:!1,writable:!1},nT=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qs.tested)return qs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qs.tested=!0,qs.writable=!0}catch{qs.tested=!0,qs.writable=!1}return qs.writable};function R2(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const rT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},N2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ia=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},$s=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},is=async(t,e)=>{await t.removeItem(e)};class td{constructor(){this.promise=new td.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}td.promiseConstructor=Promise;function Gh(t){const e=t.split(".");if(e.length!==3)throw new Fp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!y2.test(e[i]))throw new Fp("JWT not in base64url format");return{header:JSON.parse(oS(e[0])),payload:JSON.parse(oS(e[1])),signature:da(e[2]),raw:{header:e[0],payload:e[1]}}}async function j2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function M2(t,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function I2(t){return("0"+t.toString(16)).substr(-2)}function D2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,I2).join("")}async function L2(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function U2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await L2(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ji(t,e,r=!1){const i=D2();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await ia(t,`${e}-code-verifier`,o);const l=await U2(i);return[l,i===l?"plain":"s256"]}const z2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B2(t){const e=t.headers.get(qp);if(!e||!e.match(z2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function P2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qi(t){if(!q2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $2(t,e){return new Proxy(t,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function lS(t){return JSON.parse(JSON.stringify(t))}const Gs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),F2=[502,503,504];async function cS(t){var e;if(!N2(t))throw new $p(Gs(t),0);if(F2.includes(t.status))throw new $p(Gs(t),t.status);let r;try{r=await t.json()}catch(l){throw new Ks(Gs(l),l)}let i;const o=B2(t);if(o&&o.getTime()>=eT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new sS(Gs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new sS(Gs(r),t.status,r.weak_password.reasons);throw new v2(Gs(r),t.status||500,i)}const G2=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function fe(t,e,r,i){var o;const l=Object.assign({},i?.headers);l[qp]||(l[qp]=eT["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await V2(t,e,r+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function V2(t,e,r,i,o,l){const u=G2(e,i,o,l);let f;try{f=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new $p(Gs(h),0)}if(f.ok||await cS(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await cS(h)}}function zn(t){var e;let r=null;W2(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=O2(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function uS(t){const e=zn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Y2(t){return{data:t,error:null}}function K2(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l}=t,u=Ma(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function dS(t){return t}function W2(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yh=["global","local","others"];class X2{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=rT(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Yh[0]){if(Yh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yh.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cs})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Ma(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:K2,redirectTo:r?.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:dS});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);m[`${A}Page`]=T}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Qi(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qi(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cs})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Qi(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cs})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Qi(e.userId);try{const{data:r,error:i}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qi(e.userId),Qi(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:dS});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);m[`${A}Page`]=T}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ae(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function fS(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Zi={debug:!!(globalThis&&nT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class J2 extends sT{}async function Q2(t,e,r){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new J2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Z2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ez(t){return parseInt(t,16)}function tz(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function nz(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:m,scheme:y,uri:v,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=iT(t.address),E=y?`${y}://${i}`:i,T=t.statement?`${t.statement}
`:"",A=`${E} wants you to sign in with your Ethereum account:
${S}

${T}`;let U=`URI: ${v}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(U+=`
Expiration Time: ${o.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),h&&(U+=`
Request ID: ${h}`),m){let B=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);B+=`
- ${R}`}U+=B}return`${A}
${U}`}class mt extends Error{constructor({message:e,code:r,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Uu extends mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function rz({error:t,options:e}){var r,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(aT(u)){if(l.rp.id!==u)return new mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function sz({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(aT(i)){if(r.rpId!==i)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class iz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const az=new iz;function oz(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,o=Ma(t,["challenge","user","excludeCredentials"]),l=da(e).buffer,u=Object.assign(Object.assign({},r),{id:da(r.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:da(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function lz(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Ma(t,["challenge","allowCredentials"]),o=da(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:da(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function cz(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Js(new Uint8Array(t.response.attestationObject)),clientDataJSON:Js(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uz(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Js(new Uint8Array(o.authenticatorData)),clientDataJSON:Js(new Uint8Array(o.clientDataJSON)),signature:Js(new Uint8Array(o.signature)),userHandle:o.userHandle?Js(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function hS(){var t,e;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function dz(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uu("Browser returned unexpected credential type",e)}:{data:null,error:new Uu("Empty credential response",e)}}catch(e){return{data:null,error:rz({error:e,options:t})}}}async function fz(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Uu("Browser returned unexpected credential type",e)}:{data:null,error:new Uu("Empty credential response",e)}}catch(e){return{data:null,error:sz({error:e,options:t})}}}const hz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},pz={userVerification:"preferred",hints:["security-key"]};function zu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(e(u)){const f=i[l];e(f)?i[l]=zu(f,u):i[l]=zu(u)}else i[l]=u}return i}function mz(t,e){return zu(hz,t,e||{})}function gz(t,e){return zu(pz,t,e||{})}class yz{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:f};const h=o??az.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=mz(u.webauthn.credential_options.publicKey,l?.create),{data:y,error:v}=await dz({publicKey:m,signal:h});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=gz(u.webauthn.credential_options.publicKey,l?.request),{data:y,error:v}=await fz(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new tl("rpId is required for WebAuthn authentication")};try{if(!hS())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new tl("rpId is required for WebAuthn registration")};try{if(!hS())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in register",u)}}}}Z2();const bz={url:p2,storageKey:m2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:g2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pS(t,e,r){return await r()}const ea={};class nl{get jwks(){var e,r;return(r=(e=ea[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ea[this.storageKey]=Object.assign(Object.assign({},ea[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ea[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ea[this.storageKey]=Object.assign(Object.assign({},ea[this.storageKey]),{cachedAt:e})}constructor(e){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nl.nextInstanceID,nl.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},bz),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new X2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rT(o.fetch),this.lock=o.lock||pS,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ht()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Q2:this.lock=pS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:nT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fS(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=fS(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=R2(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Ht()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),w2(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new Ks("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:zn}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,i,o;try{let l;if("email"in e){const{email:y,password:v,options:_}=e;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await Ji(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:v,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:E},xform:zn})}else if("phone"in e){const{phone:y,password:v,options:_}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:zn})}else throw new tu("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:f}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:uS})}else if("phone"in e){const{phone:l,password:u,options:f}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:uS})}else throw new tu("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Xi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,l,u,f,h,m,y,v,_;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:T,wallet:A,statement:U,options:B}=e;let R;if(Ht())if(typeof A=="object")R=A;else{const ce=window;if("ethereum"in ce&&typeof ce.ethereum=="object"&&"request"in ce.ethereum&&typeof ce.ethereum.request=="function")R=ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const F=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href),K=await R.request({method:"eth_requestAccounts"}).then(ce=>ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=iT(K[0]);let L=(i=B?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!L){const ce=await R.request({method:"eth_chainId"});L=ez(ce)}const P={domain:F.host,address:G,statement:U,uri:F.href,version:"1",chainId:L,nonce:(o=B?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=B?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=nz(P),E=await R.request({method:"personal_sign",params:[tz(S),G]})}try{const{data:T,error:A}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:zn});if(A)throw A;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Xi}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:A})}catch(T){if(ae(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(e){var r,i,o,l,u,f,h,m,y,v,_,S;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:A,wallet:U,statement:B,options:R}=e;let F;if(Ht())if(typeof U=="object")F=U;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))F=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=U}const K=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const G=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),B?{statement:B}:null));let L;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")L=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)L=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)E=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),T=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${K.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const G=await F.signMessage(new TextEncoder().encode(E),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=G}}try{const{data:A,error:U}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Js(T)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:zn});if(U)throw U;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Xi}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:U})}catch(A){if(ae(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const r=await $s(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:zn});if(await is(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Xi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:l,nonce:u}=e,f=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Xi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,l,u;try{if("email"in e){const{email:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ji(this.storage,this.storageKey));const{error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:y}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new tu("You must provide either an email or phone number.")}catch(f){if(ae(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var r,i;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:zn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Ji(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:Y2})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Un;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:f}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new tu("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<$h:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await $s(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Vh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=$2(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cs}):await this._useSession(async r=>{var i,o,l;const{data:u,error:f}=r;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:cs})})}catch(r){if(ae(r))return S2(r)&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new Un;const u=o.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await Ji(this.storage,this.storageKey));const{data:m,error:y}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:cs});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Un;const r=Date.now()/1e3;let i=r,o=!0,l=null;const{payload:u}=Gh(e.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:f}=r;if(f)throw f;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Un;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new nu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rS("No code detected.");const{data:B,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:m}=e;if(!l||!f||!u||!m)throw new nu("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let _=y+v;h&&(_=parseInt(h));const S=_-y;S*1e3<=sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const E=_-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,y);const{data:T,error:A}=await this._getUser(l);if(A)throw A;const U={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:_,refresh_token:u,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:e.type},error:null}}catch(i){if(ae(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await $s(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{error:l};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(_2(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=C2(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Ji(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async l=>{var u,f,h,m,y;const{data:v,error:_}=l;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ae(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:f,token:h,access_token:m,nonce:y}=e,v=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:zn}),{data:_,error:S}=v;return S?{data:{user:null,session:null},error:S}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new Xi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:S})}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)throw u;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await M2(async o=>(o>0&&await j2(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Fh(l)&&Date.now()+u-i<sa})}catch(i){if(this._debug(r,"error",i),ae(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Ht()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await $s(this.storage,this.storageKey);if(o&&this.userStorage){let u=await $s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ia(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Vh()}else if(o&&!o.user&&!o.user){const u=await $s(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await is(this.storage,this.storageKey+"-user"),await ia(this.storage,this.storageKey,o)):o.user=Vh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$h;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${$h}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Fh(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(o.access_token);!f&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new td;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Un;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return Fh(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ia(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=lS(o);await ia(this.storage,this.storageKey,l)}else{const o=lS(r);await ia(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await is(this.storage,this.storageKey),await is(this.storage,this.storageKey+"-code-verifier"),await is(this.storage,this.storageKey+"-user"),this.userStorage&&await is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${sa}ms, refresh threshold is ${Pp} ticks`),o<=Pp&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Ji(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?{data:null,error:l}:await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cz(e.webauthn.credential_response):uz(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:h})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:oz(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:lz(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gh(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?{data:null,error:o}:i?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new Un}})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return{data:null,error:l};if(!o)return{data:null,error:new Un};const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return{data:null,error:l};if(!o)return{data:null,error:new Un};const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(f=>f.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+b2>o)return i;const{data:l,error:u}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:S,error:E}=await this.getSession();if(E||!S.session)return{data:null,error:E};i=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:f,payload:h}}=Gh(i);r?.allowExpired||H2(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const y=P2(o.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,A2(`${f}.${h}`)))throw new Fp("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}}nl.nextInstanceID=0;const vz=nl;class _z extends vz{constructor(e){super(e)}}class Sz{constructor(e,r,i){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const f=h2(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:i2,realtime:o2,auth:Object.assign(Object.assign({},a2),{storageKey:h}),global:s2},y=f2(i??{},m);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=u2(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new pU(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new t2(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new iU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,storageKey:u,flowType:f,lock:h,debug:m},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _z({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,flowType:f,lock:h,debug:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new NU(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wz=(t,e,r)=>new Sz(t,e,r);function Ez(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ez()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xz="https://pkacbcohrygpyapgtzpq.supabase.co",Tz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBrYWNiY29ocnlncHlhcGd0enBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzc5NzEsImV4cCI6MjA3NTg1Mzk3MX0.BJZulmGejOPa5mv4jLUKqDamBdLyjDEBP2RVTswga8c",wt=wz(xz,Tz);async function kz(t="all"){try{const e=wt.from("featured_content").select("*").eq("active",!0).order("display_order",{ascending:!0}),{data:r,error:i}=await e;if(i)return console.error("Error fetching featured content:",i),[];if(!r)return[];console.log("Raw featured content from DB:",r);const o=r.filter(f=>{console.log("Checking item:",f.title,"bases_served:",f.bases_served);let h=[];if(Array.isArray(f.bases_served))h=f.bases_served;else if(typeof f.bases_served=="string")try{h=JSON.parse(f.bases_served)}catch{h=[f.bases_served]}return console.log("   basesArray:",h),h.includes("all")?(console.log('   Included (has "all")'),!0):t!=="all"&&h.includes(t)?(console.log("   Included (matches base)"),!0):t==="all"?(console.log("   Included (showing all)"),!0):(console.log("   Excluded"),!1)});console.log("Filtered featured content count:",o.length);const l=new Date,u=o.filter(f=>{const h=f.start_date?new Date(f.start_date):null,m=f.end_date?new Date(f.end_date):null;return console.log("Date check for:",f.title,{startDate:h?.toISOString(),endDate:m?.toISOString(),now:l.toISOString()}),h&&h>l?(console.log("   Excluded (not started yet)"),!1):m&&m<l?(console.log("   Excluded (already ended)"),!1):(console.log("   Included (date valid)"),!0)});return console.log("After date filter:",u.length),u.slice(0,3)}catch(e){return console.error("Unexpected error fetching featured content:",e),[]}}async function h4(){try{const{data:t,error:e}=await wt.from("featured_content").select("*").order("display_order",{ascending:!0});return e?(console.error("Error fetching all featured content:",e),[]):t||[]}catch(t){return console.error("Unexpected error:",t),[]}}async function p4(t){try{const{data:e,error:r}=await wt.from("featured_content").insert([t]).select().single();return r?(console.error("Error creating featured content:",r),null):e}catch(e){return console.error("Unexpected error:",e),null}}async function m4(t,e){try{const{data:r,error:i}=await wt.from("featured_content").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return i?(console.error("Error updating featured content:",i),null):r}catch(r){return console.error("Unexpected error:",r),null}}async function g4(t){try{const{error:e}=await wt.from("featured_content").delete().eq("id",t);return e?(console.error("Error deleting featured content:",e),!1):!0}catch(e){return console.error("Unexpected error:",e),!1}}function Az(){const{selectedBase:t}=$m(),[e,r]=ie.useState([]),[i,o]=ie.useState(!0),l=async()=>{o(!0);const u=await kz(t);console.log("Loaded featured items:",u),r(u),o(!1)};return ie.useEffect(()=>{l()},[t]),!i&&e.length===0?null:b.jsx("section",{className:"py-16 bg-gradient-to-b from-[var(--brand-bg)] to-[var(--brand-bg-alt)]",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--brand-dark)] mb-4",children:" Featured This Week"}),b.jsx("p",{className:"text-lg text-[var(--muted-foreground)] max-w-2xl mx-auto",children:"Don't miss these timely recommendations and special content curated for you"})]}),i?b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(u=>b.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg animate-pulse",children:[b.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),b.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),b.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),b.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},u))}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>b.jsxs("a",{href:u.link_url||"#",target:u.link_url?.startsWith("http")?"_blank":"_self",rel:u.link_url?.startsWith("http")?"noopener noreferrer":"",className:"group bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-[var(--border)] hover:border-[var(--brand-primary)] transform hover:-translate-y-1",children:[u.image_url?b.jsx("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)]",children:b.jsx("img",{src:u.image_url,alt:u.title,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-300"})}):b.jsx("div",{className:"h-48 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)] flex items-center justify-center",children:b.jsx(i_,{className:"w-16 h-16 text-[var(--brand-light)] opacity-50"})}),b.jsxs("div",{className:"p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-[var(--brand-dark)] mb-3 group-hover:text-[var(--brand-primary)] transition-colors line-clamp-2",children:u.title}),b.jsx("p",{className:"text-[var(--muted-foreground)] text-sm mb-4 line-clamp-3",children:u.description}),b.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[var(--muted-foreground)] mb-4",children:[(u.start_date||u.end_date)&&b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(eA,{size:14,className:"text-[var(--brand-primary)]"}),b.jsxs("span",{children:[u.start_date&&new Date(u.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),u.start_date&&u.end_date&&" - ",u.end_date&&new Date(u.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),u.type&&b.jsx("div",{className:"px-2 py-1 bg-[var(--muted)] rounded text-xs capitalize",children:u.type}),u.is_sponsored&&u.sponsor_name&&b.jsxs("div",{className:"text-xs text-[var(--muted-foreground)]",children:["Sponsored by ",u.sponsor_name]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-[var(--brand-primary)] font-semibold text-sm group-hover:text-[var(--brand-dark)] transition-colors",children:u.cta_text||"Learn More"}),b.jsx(i_,{size:16,className:"text-[var(--brand-primary)] group-hover:translate-x-1 transition-transform"})]})]})]},u.id))})]})})}function Zm(t){const e=t,r=t;if(typeof r.tags=="string")try{const i=r.tags.trim();i.startsWith("{")&&i.endsWith("}")?e.tags=i.slice(1,-1).split(",").map(o=>o.trim().replace(/^"|"$/g,"")).filter(Boolean):e.tags=JSON.parse(i)}catch{console.warn("Could not parse tags string, defaulting to empty array:",r.tags),e.tags=[]}else Array.isArray(r.tags)||(e.tags=[]);return e}async function Oz(t){let e=wt.from("articles").select("*").order("created_at",{ascending:!1});t?.category&&(e=e.eq("category",t.category)),t?.destination&&(e=e.eq("destination_name",t.destination)),t?.tag&&(e=e.contains("tags",[t.tag])),t?.published!==void 0&&(e=e.eq("published",t.published)),t?.limit&&(e=e.limit(t.limit)),t?.offset&&(e=e.range(t.offset,t.offset+(t.limit||10)-1));const{data:r,error:i}=await e;if(i)throw console.error("Error fetching articles:",i),i;return r.map(Zm)}async function y4(t){const{data:e,error:r}=await wt.from("articles").select("*").eq("slug",t).eq("published",!0).single();if(r){if(r.code==="PGRST116")return null;throw console.error("Error fetching article:",r),r}const i=Zm(e);return Cz(i.id),i}async function Cz(t){try{await wt.rpc("increment_article_views",{article_id:t})}catch(e){console.warn("RPC increment_article_views failed, using fallback:",e.message);const{data:i}=await wt.from("articles").select("view_count").eq("id",t).single();i&&await wt.from("articles").update({view_count:i.view_count+1}).eq("id",t).select()}}async function b4(t,e,r,i=3){let o=wt.from("articles").select("*").eq("published",!0).neq("id",t).limit(i);e&&(o=o.eq("category",e));const{data:l,error:u}=await o;if(u)throw console.error("Error fetching related articles:",u),u;return l.map(Zm)}function oT(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=oT(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function Rz(){for(var t,e,r=0,i="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=oT(t))&&(i&&(i+=" "),i+=e);return i}const eg="-",Nz=t=>{const e=Mz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const f=u.split(eg);return f[0]===""&&f.length!==1&&f.shift(),lT(f,e)||jz(u)},getConflictingClassGroupIds:(u,f)=>{const h=r[u]||[];return f&&i[u]?[...h,...i[u]]:h}}},lT=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),o=i?lT(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(eg);return e.validators.find(({validator:u})=>u(l))?.classGroupId},mS=/^\[(.+)\]$/,jz=t=>{if(mS.test(t)){const e=mS.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Mz=t=>{const{theme:e,classGroups:r}=t,i={nextPart:new Map,validators:[]};for(const o in r)Gp(r[o],i,o,e);return i},Gp=(t,e,r,i)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:gS(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(Iz(o)){Gp(o(i),e,r,i);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,u])=>{Gp(u,gS(e,l),r,i)})})},gS=(t,e)=>{let r=t;return e.split(eg).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},Iz=t=>t.isThemeGetter,Dz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;const o=(l,u)=>{r.set(l,u),e++,e>t&&(e=0,i=r,r=new Map)};return{get(l){let u=r.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return o(l,u),u},set(l,u){r.has(l)?r.set(l,u):o(l,u)}}},Vp="!",Yp=":",Lz=Yp.length,Uz=t=>{const{prefix:e,experimentalParseClassName:r}=t;let i=o=>{const l=[];let u=0,f=0,h=0,m;for(let E=0;E<o.length;E++){let T=o[E];if(u===0&&f===0){if(T===Yp){l.push(o.slice(h,E)),h=E+Lz;continue}if(T==="/"){m=E;continue}}T==="["?u++:T==="]"?u--:T==="("?f++:T===")"&&f--}const y=l.length===0?o:o.substring(h),v=zz(y),_=v!==y,S=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:S}};if(e){const o=e+Yp,l=i;i=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const o=i;i=l=>r({className:l,parseClassName:o})}return i},zz=t=>t.endsWith(Vp)?t.substring(0,t.length-1):t.startsWith(Vp)?t.substring(1):t,Bz=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},Hz=t=>({cache:Dz(t.cacheSize),parseClassName:Uz(t),sortModifiers:Bz(t),...Nz(t)}),Pz=/\s+/,qz=(t,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],f=t.trim().split(Pz);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:v,modifiers:_,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:T}=r(y);if(v){h=y+(h.length>0?" "+h:h);continue}let A=!!T,U=i(A?E.substring(0,T):E);if(!U){if(!A){h=y+(h.length>0?" "+h:h);continue}if(U=i(E),!U){h=y+(h.length>0?" "+h:h);continue}A=!1}const B=l(_).join(":"),R=S?B+Vp:B,F=R+U;if(u.includes(F))continue;u.push(F);const K=o(U,A);for(let G=0;G<K.length;++G){const L=K[G];u.push(R+L)}h=y+(h.length>0?" "+h:h)}return h};function $z(){let t=0,e,r,i="";for(;t<arguments.length;)(e=arguments[t++])&&(r=cT(e))&&(i&&(i+=" "),i+=r);return i}const cT=t=>{if(typeof t=="string")return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=cT(t[i]))&&(r&&(r+=" "),r+=e);return r};function Fz(t,...e){let r,i,o,l=u;function u(h){const m=e.reduce((y,v)=>v(y),t());return r=Hz(m),i=r.cache.get,o=r.cache.set,l=f,f(h)}function f(h){const m=i(h);if(m)return m;const y=qz(h,r);return o(h,y),y}return function(){return l($z.apply(null,arguments))}}const vt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},uT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Gz=/^\d+\/\d+$/,Vz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Wz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ta=t=>Gz.test(t),Ee=t=>!!t&&!Number.isNaN(Number(t)),as=t=>!!t&&Number.isInteger(Number(t)),Kh=t=>t.endsWith("%")&&Ee(t.slice(0,-1)),_r=t=>Vz.test(t),Jz=()=>!0,Qz=t=>Yz.test(t)&&!Kz.test(t),fT=()=>!1,Zz=t=>Wz.test(t),eB=t=>Xz.test(t),tB=t=>!Q(t)&&!Z(t),nB=t=>Da(t,mT,fT),Q=t=>uT.test(t),Fs=t=>Da(t,gT,Qz),Wh=t=>Da(t,oB,Ee),yS=t=>Da(t,hT,fT),rB=t=>Da(t,pT,eB),ru=t=>Da(t,yT,Zz),Z=t=>dT.test(t),Io=t=>La(t,gT),sB=t=>La(t,lB),bS=t=>La(t,hT),iB=t=>La(t,mT),aB=t=>La(t,pT),su=t=>La(t,yT,!0),Da=(t,e,r)=>{const i=uT.exec(t);return i?i[1]?e(i[1]):r(i[2]):!1},La=(t,e,r=!1)=>{const i=dT.exec(t);return i?i[1]?e(i[1]):r:!1},hT=t=>t==="position"||t==="percentage",pT=t=>t==="image"||t==="url",mT=t=>t==="length"||t==="size"||t==="bg-size",gT=t=>t==="length",oB=t=>t==="number",lB=t=>t==="family-name",yT=t=>t==="shadow",cB=()=>{const t=vt("color"),e=vt("font"),r=vt("text"),i=vt("font-weight"),o=vt("tracking"),l=vt("leading"),u=vt("breakpoint"),f=vt("container"),h=vt("spacing"),m=vt("radius"),y=vt("shadow"),v=vt("inset-shadow"),_=vt("text-shadow"),S=vt("drop-shadow"),E=vt("blur"),T=vt("perspective"),A=vt("aspect"),U=vt("ease"),B=vt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...F(),Z,Q],G=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],P=()=>[Z,Q,h],ce=()=>[ta,"full","auto",...P()],W=()=>[as,"none","subgrid",Z,Q],ee=()=>["auto",{span:["full",as,Z,Q]},as,Z,Q],le=()=>[as,"auto",Z,Q],he=()=>["auto","min","max","fr",Z,Q],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...P()],$=()=>[ta,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],C=()=>[t,Z,Q],re=()=>[...F(),bS,yS,{position:[Z,Q]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ve=()=>["auto","cover","contain",iB,nB,{size:[Z,Q]}],ue=()=>[Kh,Io,Fs],X=()=>["","none","full",m,Z,Q],ge=()=>["",Ee,Io,Fs],$e=()=>["solid","dashed","dotted","double"],xt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[Ee,Kh,bS,yS],$t=()=>["","none",E,Z,Q],Mt=()=>["none",Ee,Z,Q],Ft=()=>["none",Ee,Z,Q],Nn=()=>[Ee,Z,Q],Vn=()=>[ta,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_r],breakpoint:[_r],color:[Jz],container:[_r],"drop-shadow":[_r],ease:["in","out","in-out"],font:[tB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_r],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_r],shadow:[_r],spacing:["px",Ee],text:[_r],"text-shadow":[_r],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ta,Q,Z,A]}],container:["container"],columns:[{columns:[Ee,Q,Z,f]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ce()}],"inset-x":[{"inset-x":ce()}],"inset-y":[{"inset-y":ce()}],start:[{start:ce()}],end:[{end:ce()}],top:[{top:ce()}],right:[{right:ce()}],bottom:[{bottom:ce()}],left:[{left:ce()}],visibility:["visible","invisible","collapse"],z:[{z:[as,"auto",Z,Q]}],basis:[{basis:[ta,"full","auto",f,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,ta,"auto","initial","none",Q]}],grow:[{grow:["",Ee,Z,Q]}],shrink:[{shrink:["",Ee,Z,Q]}],order:[{order:[as,"first","last","none",Z,Q]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[f,"screen",...$()]}],"min-w":[{"min-w":[f,"screen","none",...$()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",r,Io,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Z,Wh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Kh,Q]}],"font-family":[{font:[sB,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Z,Q]}],"line-clamp":[{"line-clamp":[Ee,"none",Z,Wh]}],leading:[{leading:[l,...P()]}],"list-image":[{"list-image":["none",Z,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",Z,Fs]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[Ee,"auto",Z,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ve()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},as,Z,Q],radial:["",Z,Q],conic:[as,Z,Q]},aB,rB]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$e(),"hidden","none"]}],"divide-style":[{divide:[...$e(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...$e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,Z,Q]}],"outline-w":[{outline:["",Ee,Io,Fs]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",y,su,ru]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",v,su,ru]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[Ee,Fs]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",_,su,ru]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[Ee,Z,Q]}],"mix-blend":[{"mix-blend":[...xt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[Z,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ve()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,Q]}],filter:[{filter:["","none",Z,Q]}],blur:[{blur:$t()}],brightness:[{brightness:[Ee,Z,Q]}],contrast:[{contrast:[Ee,Z,Q]}],"drop-shadow":[{"drop-shadow":["","none",S,su,ru]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",Ee,Z,Q]}],"hue-rotate":[{"hue-rotate":[Ee,Z,Q]}],invert:[{invert:["",Ee,Z,Q]}],saturate:[{saturate:[Ee,Z,Q]}],sepia:[{sepia:["",Ee,Z,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,Q]}],"backdrop-blur":[{"backdrop-blur":$t()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,Z,Q]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,Z,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,Z,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,Z,Q]}],"backdrop-invert":[{"backdrop-invert":["",Ee,Z,Q]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,Z,Q]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,Z,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,Z,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",Z,Q]}],ease:[{ease:["linear","initial",U,Z,Q]}],delay:[{delay:[Ee,Z,Q]}],animate:[{animate:["none",B,Z,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Z,Q]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:Mt()}],"rotate-x":[{"rotate-x":Mt()}],"rotate-y":[{"rotate-y":Mt()}],"rotate-z":[{"rotate-z":Mt()}],scale:[{scale:Ft()}],"scale-x":[{"scale-x":Ft()}],"scale-y":[{"scale-y":Ft()}],"scale-z":[{"scale-z":Ft()}],"scale-3d":["scale-3d"],skew:[{skew:Nn()}],"skew-x":[{"skew-x":Nn()}],"skew-y":[{"skew-y":Nn()}],transform:[{transform:[Z,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vn()}],"translate-x":[{"translate-x":Vn()}],"translate-y":[{"translate-y":Vn()}],"translate-z":[{"translate-z":Vn()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,Q]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[Ee,Io,Fs,Wh]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uB=Fz(cB);function tg(...t){return uB(Rz(t))}function v4(t){return t?t.replace(/[-_]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function Bu({className:t,...e}){return b.jsx("div",{"data-slot":"card",className:tg("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function bT({className:t,...e}){return b.jsx("div",{"data-slot":"card-content",className:tg("px-6",t),...e})}function dB({article:t,isFeatured:e=!1,featuredRank:r}){return b.jsxs(Bu,{className:`overflow-hidden shadow-md bg-brand-bg rounded-2xl hover:shadow-lg hover:scale-[1.02] transition-all duration-300 relative ${e?"border-2":"border"}`,children:[e&&r&&b.jsx("div",{className:"absolute -top-2 -right-2 z-10 bg-gradient-to-r  px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1"}),b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:t.featured_image_url||"/placeholder-city.jpg",alt:t.destination_name||t.title,className:"h-48 w-full object-cover",onError:i=>{i.target.src="/placeholder-city.jpg"}}),t.view_count!==void 0&&t.view_count>0&&b.jsxs("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-semibold text-slate-700 flex items-center gap-1",children:[b.jsx(a_,{className:"w-3 h-3"}),t.view_count.toLocaleString()]})]}),b.jsxs(bT,{className:"p-4 flex flex-col h-full justify-between",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"text-xl font-semibold text-[#131312]",children:t.destination_name||t.title}),t.tags&&t.tags[1]&&b.jsxs("span",{className:"text-xs text-[#131312]/60 flex items-center gap-1",children:[b.jsx(IS,{className:"w-3 h-3"}),t.tags[1]]})]}),b.jsx("p",{className:"text-sm text-[#131312]/70 mb-4 line-clamp-3",children:t.excerpt||t.subtitle})]}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-[#131312]/60 mb-4 pb-3 border-b border-[#9da586]/20",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(tA,{className:"w-3 h-3"}),b.jsxs("span",{children:[t.reading_time_minutes||0," min read"]})]}),t.view_count!==void 0&&b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(a_,{className:"w-3 h-3"}),b.jsxs("span",{children:[t.view_count.toLocaleString()," views"]})]})]}),b.jsxs($n,{to:`/destinations/${t.slug}`,className:"inline-block rounded-lg bg-[var(--brand-button)] text-[#f7f7ec] font-medium py-2 px-4 text-center hover:bg-[#131312] transition-colors",children:["Explore ",t.destination_name||"City"]})]})]})}function fB(){const[t,e]=ie.useState(""),[r,i]=ie.useState([]),[o,l]=ie.useState(!0),[u,f]=ie.useState(null);ie.useEffect(()=>{(async()=>{try{l(!0);const y=await Oz({category:"City Guides",published:!0}),v=["stuttgart","london","berlin"],_=v.map(E=>y.find(T=>T.slug===E)).filter(E=>E!==void 0),S=y.filter(E=>!v.includes(E.slug)).sort((E,T)=>(T.view_count||0)-(E.view_count||0));i([..._,...S])}catch(y){console.error("Error fetching destinations:",y),f("Failed to load destinations. Please try again later.")}finally{l(!1)}})()},[]);const h=r.filter(m=>m.title?.toLowerCase().includes(t.toLowerCase())||m.destination_name?.toLowerCase().includes(t.toLowerCase())||m.excerpt?.toLowerCase().includes(t.toLowerCase()));return b.jsx("section",{id:"destinations",className:"min-h-screen bg-[var(--brand-bg)] py-10 px-4 transition-colors duration-300",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-3xl font-bold text-[var(--brand-dark)]",children:"Explore Destinations"}),b.jsxs("p",{className:"text-sm text-[var(--brand-dark)]/70 mt-1",children:[r.length," cities  Updated from live content"]})]}),b.jsx("input",{type:"text",value:t,onChange:m=>e(m.target.value),placeholder:"Search destinations...",className:"border border-[var(--border)] rounded-lg px-4 py-2 w-full sm:w-64 bg-[var(--brand-light)] text-[var(--brand-dark)] placeholder-[var(--muted-foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent transition-all duration-200"})]}),o&&b.jsxs("div",{className:"flex items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),b.jsx("p",{className:"ml-3 text-[var(--brand-dark)]/70",children:"Loading destinations..."})]}),u&&b.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:b.jsx("p",{className:"text-red-800",children:u})}),!o&&!u&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto max-h-[80vh] pr-2",children:h.length>0?h.map((m,y)=>{const v=y<3;return b.jsx(dB,{article:m,isFeatured:v,featuredRank:v?y+1:void 0},m.id)}):b.jsxs("p",{className:"text-[var(--muted-foreground)] text-center col-span-full",children:['No destinations found matching "',t,'".']})})]})})}const hB=[{id:"transportation",title:"Transportation in Germany",description:"Navigate trains, buses, and driving in Germany with confidence.",icon:nA},{id:"accommodations",title:"Finding Housing in Germany",description:"Find apartments, understand rental contracts, and navigate German housing.",icon:rA},{id:"services",title:"English-Speaking Services in Germany",description:"Verified English-speaking doctors, mechanics, lawyers, and businesses.",icon:sA},{id:"phrases",title:"Essential German Phrases",description:"Learn key German phrases with pronunciation to navigate daily life.",icon:iA},{id:"budgeting",title:"Banking & Money in Germany",description:"Open German bank accounts, understand payments, and manage your finances.",icon:aA},{id:"etiquette",title:"German Cultural Etiquette",description:"Do's and don'ts for living in Germany  blend in like a local.",icon:oA}];function pB(){const t=jS();return b.jsx("section",{id:"tips",className:"py-16 bg-[var(--brand-bg-alt)]",children:b.jsxs("div",{className:"container mx-auto px-4",children:[b.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-[var(--brand-dark)]",children:"Travel Tips & Essentials"}),b.jsx("p",{className:"text-center text-[var(--brand-dark)]/70 max-w-2xl mx-auto mb-12",children:"Helpful guides, how-tos, and quick reads to travel smarter."}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:hB.map(e=>{const r=e.icon;return b.jsx(Er.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:300},onClick:()=>t(`/articles/${e.id}`),className:"cursor-pointer",children:b.jsx(Bu,{className:"bg-[var(--brand-light)] border border-[var(--border)] hover:border-[var(--brand-primary)] transition-all duration-300 rounded-2xl shadow-md hover:shadow-xl",children:b.jsxs(bT,{className:"p-6 flex flex-col items-center text-center",children:[b.jsx(r,{className:"w-10 h-10 text-[var(--brand-primary)] mb-4"}),b.jsx("h3",{className:"text-lg font-semibold text-[var(--brand-dark)] mb-2",children:e.title}),b.jsx("p",{className:"text-[var(--brand-dark)]/70",children:e.description})]})})},e.id)})})]})})}const mB="inline-flex items-center justify-center px-4 py-2 rounded-xl font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",gB={default:"bg-brand-green text-brand-black hover:bg-brand-black hover:text-brand-green focus:ring-brand-green",outline:"border border-brand-green text-brand-green hover:bg-brand-green hover:text-brand-black focus:ring-brand-green",ghost:"text-brand-green hover:text-brand-black hover:bg-brand-green/10 focus:ring-brand-green"},vT=ie.forwardRef((t,e)=>{const{variant:r="default",className:i,children:o,as:l="button",...u}=t,f=tg(mB,gB[r],i);return l==="link"?b.jsx($n,{ref:e,className:f,...u,children:o}):b.jsx("button",{ref:e,className:f,...u,children:o})});vT.displayName="Button";const Xh=[{code:"de",name:"German",flag:""},{code:"fr",name:"French",flag:""},{code:"it",name:"Italian",flag:""},{code:"es",name:"Spanish",flag:""},{code:"nl",name:"Dutch",flag:""},{code:"cs",name:"Czech",flag:""}];class yB{async getCategories(){const{data:e,error:r}=await wt.from("phrase_categories").select("*").order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching categories:",r),r;return e||[]}async getPhrasesByCategory(e){console.log(" Querying Supabase for category:",e);const{data:r,error:i}=await wt.from("phrases").select("*").eq("category_id",e).order("sort_order",{ascending:!0});if(console.log(" Raw data from Supabase:",r),console.log(" Error (if any):",i),i)throw console.error("Error fetching phrases:",i),i;const o=this.groupPhrases(r||[]);return console.log(" Grouped phrases:",o),o}async getAllPhrases(){const{data:e,error:r}=await wt.from("phrases").select("*").order("category_id",{ascending:!0}).order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching all phrases:",r),r;const i={},o=e||[];return new Set(o.map(u=>u.category_id)).forEach(u=>{const f=o.filter(h=>h.category_id===u);i[u]=this.groupPhrases(f)}),i}async searchPhrases(e,r){let i=wt.from("phrases").select("*");r&&(i=i.eq("language_code",r)),i=i.or(`english.ilike.%${e}%,translation.ilike.%${e}%`);const{data:o,error:l}=await i;if(l)throw console.error("Error searching phrases:",l),l;return this.groupPhrases(o||[])}groupPhrases(e){const r=new Map;return e.forEach(i=>{r.has(i.english)||r.set(i.english,{english:i.english,icon:i.icon,sort_order:i.sort_order,translations:{}});const o=r.get(i.english);o.translations[i.language_code]={text:i.translation,pronunciation:i.pronunciation}}),Array.from(r.values()).sort((i,o)=>i.sort_order-o.sort_order)}async getPhraseByEnglish(e){const{data:r,error:i}=await wt.from("phrases").select("*").eq("english",e);if(i)throw console.error("Error fetching phrase:",i),i;return!r||r.length===0?null:this.groupPhrases(r)[0]||null}}const Jh=new yB;function bB(){const[t,e]=ie.useState(Xh[0].code),[r,i]=ie.useState(null),[o,l]=ie.useState([]),[u,f]=ie.useState([]),[h,m]=ie.useState(!0),[y,v]=ie.useState(null),[_,S]=ie.useState("");ie.useEffect(()=>{E()},[]),ie.useEffect(()=>{r&&T(r)},[r]);const E=async()=>{try{m(!0);const R=await Jh.getCategories();l(R),R.length>0&&i(R[0].id)}catch(R){console.error("Error loading categories:",R),v(`Failed to load categories: ${R instanceof Error?R.message:"Unknown error"}`)}finally{m(!1)}},T=async R=>{try{m(!0);const F=await Jh.getPhrasesByCategory(R);f(F),v(null)}catch(F){console.error("Error loading phrases:",F),v(`Failed to load phrases: ${F instanceof Error?F.message:"Unknown error"}`)}finally{m(!1)}},A=async()=>{if(!_.trim()){r&&T(r);return}try{m(!0);const R=await Jh.searchPhrases(_,t);f(R),v(null)}catch(R){v("Search failed"),console.error(R)}finally{m(!1)}},U=(R,F)=>{if("speechSynthesis"in window){const K=new SpeechSynthesisUtterance(R),G={de:"de-DE",fr:"fr-FR",it:"it-IT",es:"es-ES",nl:"nl-NL",cs:"cs-CZ"};K.lang=G[F]||F,K.rate=.8,window.speechSynthesis.speak(K)}},B=Xh.find(R=>R.code===t);return h&&o.length===0?b.jsx("section",{id:"phrases",className:"py-16",style:{background:"var(--brand-bg)"},children:b.jsx("div",{className:"container mx-auto px-4",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading phrases..."})]})})}):y?b.jsx("section",{id:"phrases",className:"py-16",style:{background:"var(--brand-bg)"},children:b.jsx("div",{className:"container mx-auto px-4",children:b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs(Bu,{className:"p-8",style:{background:"var(--brand-light)",border:"1px solid var(--border)"},children:[b.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--brand-dark)"},children:"Error Loading Phrases"}),b.jsx("p",{className:"mb-4",style:{color:"var(--muted-foreground)"},children:y}),b.jsx(vT,{onClick:E,style:{background:"var(--brand-primary)",color:"white"},className:"hover:opacity-90",children:"Retry Loading"})]})})})}):b.jsx("section",{id:"phrases",className:"py-16",style:{background:"var(--brand-bg)"},children:b.jsxs("div",{className:"container mx-auto px-4",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"text-4xl font-bold mb-4",style:{color:"var(--brand-dark)"},children:"Essential Travel Phrases"}),b.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Master key phrases in multiple European languages for your travels"})]}),b.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:Xh.map(R=>b.jsxs("button",{onClick:()=>e(R.code),className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base",style:{background:t===R.code?"var(--brand-primary)":"var(--brand-light)",color:t===R.code?"white":"var(--brand-dark)",border:`2px solid ${t===R.code?"var(--brand-primary)":"var(--border)"}`},children:[b.jsx("span",{className:"mr-1 sm:mr-2 text-base sm:text-lg",children:R.flag}),R.name]},R.code))}),b.jsx("div",{className:"max-w-2xl mx-auto mb-8 px-2",children:b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[b.jsx("input",{type:"text",placeholder:"Search phrases...",value:_,onChange:R=>S(R.target.value),onKeyDown:R=>R.key==="Enter"&&A(),className:"flex-1 px-4 py-3 border-2 rounded-lg focus:outline-none text-base",style:{borderColor:"var(--border)",background:"white"}}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:A,className:"flex-1 sm:flex-none px-6 py-3 rounded-lg font-semibold transition-all hover:opacity-90",style:{background:"var(--brand-primary)",color:"white"},children:"Search"}),_&&b.jsx("button",{onClick:()=>{S(""),r&&T(r)},className:"flex-1 sm:flex-none px-4 py-3 rounded-lg font-semibold transition-all hover:opacity-90",style:{background:"var(--muted)",color:"var(--brand-dark)"},children:"Clear"})]})]})}),b.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:o.map(R=>b.jsxs("button",{onClick:()=>{i(R.id),S("")},className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base whitespace-nowrap",style:{background:r===R.id?"var(--brand-primary)":"var(--brand-light)",color:r===R.id?"white":"var(--brand-dark)",border:`2px solid ${r===R.id?"var(--primary)":"var(--border)"}`},children:[b.jsx("span",{className:"mr-1 sm:mr-2",children:R.icon}),b.jsx("span",{className:"hidden sm:inline",children:R.name}),b.jsx("span",{className:"sm:hidden",children:R.name.split(" ")[0]})]},R.id))}),h?b.jsx("div",{className:"text-center py-12",children:b.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}})}):b.jsx("div",{className:"max-w-4xl mx-auto px-2",children:u.length===0?b.jsx(Bu,{className:"p-8 text-center",style:{background:"var(--brand-light)",border:"1px solid var(--border)"},children:b.jsx("p",{className:"text-gray-600",children:_?"No phrases found matching your search.":"No phrases available for this category."})}):b.jsx("div",{className:"overflow-y-auto space-y-3 sm:space-y-4 pr-1 sm:pr-2",style:{maxHeight:"400px",scrollbarWidth:"thin",scrollbarColor:"var(--brand-primary) var(--brand-bg-alt)"},children:u.map((R,F)=>{const K=R.translations[t];return K?b.jsx("div",{className:"p-4 sm:p-6 rounded-xl transition-shadow hover:shadow-lg",style:{background:"var(--brand-light)",border:"1px solid var(--border)",minHeight:"auto"},children:b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[b.jsxs("div",{className:"flex items-start gap-3 w-full sm:hidden",children:[R.icon&&b.jsx("span",{className:"text-2xl flex-shrink-0",children:R.icon}),b.jsxs("div",{className:"flex-1 space-y-3",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-base font-semibold",style:{color:"var(--brand-dark)"},children:R.english}),b.jsx("p",{className:"text-xs text-gray-500",children:"English"})]}),b.jsxs("div",{className:"pt-3 border-t-2",style:{borderColor:"var(--brand-primary)"},children:[b.jsx("p",{className:"text-lg font-bold mb-1",style:{color:"var(--brand-primary)"},children:K.text}),b.jsx("p",{className:"text-sm text-gray-600 italic",children:K.pronunciation}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:B?.name})]})]}),b.jsx("button",{onClick:()=>U(K.text,t),className:"shrink-0 w-10 h-10 rounded-lg transition-all hover:opacity-90 flex items-center justify-center",style:{background:"var(--brand-gold)",color:"var(--brand-dark)"},title:"Listen to pronunciation",children:b.jsx("span",{className:"text-lg",children:""})})]}),b.jsxs("div",{className:"hidden sm:flex items-center gap-4 w-full",children:[R.icon&&b.jsx("span",{className:"text-3xl flex-shrink-0",children:R.icon}),b.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-6",children:[b.jsxs("div",{className:"flex flex-col justify-center",children:[b.jsx("p",{className:"text-lg font-semibold",style:{color:"var(--brand-dark)"},children:R.english}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"English"})]}),b.jsxs("div",{className:"flex flex-col justify-center pl-4",style:{borderLeft:"4px solid var(--brand-primary)"},children:[b.jsx("p",{className:"text-xl font-bold mb-1",style:{color:"var(--brand-primary)"},children:K.text}),b.jsx("p",{className:"text-sm text-gray-600 italic",children:K.pronunciation}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:B?.name})]})]}),b.jsx("button",{onClick:()=>U(K.text,t),className:"shrink-0 w-12 h-12 rounded-lg transition-all hover:opacity-90 flex items-center justify-center",style:{background:"var(--brand-gold)",color:"var(--brand-dark)"},title:"Listen to pronunciation",children:b.jsx("span",{className:"text-xl",children:""})})]})]})},F):null})})}),b.jsx("div",{className:"mt-12 text-center",children:b.jsx("p",{className:"text-sm text-gray-600",children:" Tip: Click the speaker icon to hear the native pronunciation"})})]})})}function _T(t){return{id:t.id,name:t.name,category:t.category,subcategory:t.subcategory,description:t.description,location:t.location,address:t.address,city:t.city,latitude:t.latitude,longitude:t.longitude,basesServed:t.bases_served,baseDistance:t.base_distance,googleMapsUrl:t.google_maps_url,phone:t.phone,email:t.email,website:t.website,englishFluency:t.english_fluency,sofaFamiliar:t.sofa_familiar,militaryDiscount:t.military_discount,discountPercent:t.discount_percent,verified:t.verified,featured:t.featured,featuredTier:t.featured_tier,status:t.status,priceRange:t.price_range,rating:t.rating,reviewCount:t.review_count,imageUrl:t.image_url,images:t.images,notes:t.notes,tags:t.tags,isOnBase:t.is_on_base,createdAt:t.created_at,updatedAt:t.updated_at}}function vB(t){return{id:t.id,businessId:t.business_id,authorName:t.author_name,rating:t.rating,comment:t.comment,createdAt:t.created_at}}async function _B(t){try{let e=wt.from("businesses").select("*");t?.category&&(e=e.eq("category",t.category)),t?.subcategory&&(e=e.eq("subcategory",t.subcategory)),t?.status?e=e.eq("status",t.status):e=e.eq("status","active"),t?.baseId&&t.baseId!=="all"&&(e=e.contains("bases_served",[t.baseId]));const{data:r,error:i}=await e;if(i)throw console.error("Error fetching businesses:",i),i;return(r||[]).map(_T)}catch(e){return console.error("Failed to fetch businesses:",e),[]}}async function _4(t){try{const{data:e,error:r}=await wt.from("businesses").select("*").eq("id",t).single();if(r)throw console.error("Error fetching business:",r),r;return e?_T(e):null}catch(e){return console.error("Failed to fetch business:",e),null}}async function S4(t){try{const{data:e,error:r}=await wt.from("reviews").select("*").eq("business_id",t).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching reviews:",r),r;return(e||[]).map(vB)}catch(e){return console.error("Failed to fetch reviews:",e),[]}}function SB(t){return Xk({queryKey:["businesses",t],queryFn:()=>_B(t),staleTime:300*1e3})}const wB=[{id:"automotive",title:"Automotive Services",icon:lA,description:"Car dealers, mechanics, and auto services that work with Americans"},{id:"healthcare",title:"Healthcare",icon:cA,description:"English-speaking doctors, dentists, and specialists near European US Bases"},{id:"restaurants",title:"Restaurants & Dining",icon:uA,description:"English-friendly restaurants throughout Europe serving American living abroad"},{id:"shopping",title:"Shopping",icon:dA,description:"Stores and shops with English-speaking staff"},{id:"home-services",title:"Home Services",icon:fA,description:"Plumbers, electricians, and handymen who work with American families"},{id:"real-estate",title:"Real Estate",icon:hA,description:"Housing agents familiar with American military housing needs"},{id:"legal",title:"Legal Services",icon:pA,description:"Lawyers who understand SOFA status and military regulations"},{id:"education",title:"Education",icon:mA,description:"International schools and tutors for military families"},{id:"business",title:"Business Services",icon:gA,description:"Tax advisors and accountants familiar with US/German requirements"}];function EB({selectedBase:t}){const{data:e=[],isLoading:r}=SB(),i=ie.useMemo(()=>{const o={};return e.forEach(l=>{o[l.category]=(o[l.category]||0)+1}),o},[e]);return r?b.jsx("section",{className:"relative bg-white py-20",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:b.jsx("p",{className:"text-[var(--brand-dark)]",children:"Loading services..."})})}):b.jsxs("section",{id:"services",className:"relative bg-white py-20",children:[b.jsx("div",{className:"absolute inset-0 bg-[url('https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/services.jpg')] bg-cover bg-center"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),b.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--brand-bg)] mb-4",children:"Trusted English-Speaking Services Helping Americans Feel at Home in Europe"}),b.jsx("p",{className:"text-lg text-[var(--brand-light)] font-bold opacity-80 max-w-3xl mx-auto",children:"Find personally verified, English-speaking businesses across Europe that understand U.S. military, civilian, and contractors, and their families  offering trusted local support and peace of mind wherever you're stationed."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:wB.map(o=>{const l=o.icon,u=i[o.id]||0;return b.jsxs($n,{to:u>0?`/services/${o.id}?base=${t}`:"#",className:`bg-[var(--brand-bg)] rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-all ${u>0?"cursor-pointer":"cursor-not-allowed opacity-75"}`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"bg-[var(--brand-primary)] p-3 rounded-lg",children:b.jsx(l,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-[var(--brand-dark)]",children:o.title}),b.jsxs("p",{className:"text-sm text-[var(--brand-dark)] opacity-60",children:[u," ",u===1?"business":"businesses"]})]})]}),b.jsx("p",{className:"text-[var(--brand-dark)] opacity-70 mb-4",children:o.description}),u>0?b.jsxs("div",{className:"w-full bg-[var(--brand-primary)] text-white py-2 px-4 rounded-lg hover:bg-[var(--brand-dark)] transition font-medium text-center",children:["View ",u," ",u===1?"Business":"Businesses"]}):b.jsx("div",{className:"w-full bg-gray-300 text-gray-600 py-2 px-4 rounded-lg font-medium text-center",children:"Coming Soon"})]},o.id)})}),b.jsx("div",{className:"bg-[var(--brand-dark)] rounded-xl p-8 mb-8 shadow-xl",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Do You Own a Business Near a US Military Base?"}),b.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"If your business serves American military families and you speak English, we'd love to feature you in our directory."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx($n,{to:"/submit-business",className:"inline-block bg-[var(--brand-primary)] text-white px-8 py-3 rounded-lg hover:bg-[var(--brand-gold)] hover:text-[var(--brand-dark)] transition font-semibold",children:"List Your Business"}),b.jsx("a",{href:"mailto:european.living.live@gmail.com?subject=Business Listing Inquiry",className:"inline-block bg-white text-[var(--brand-dark)] px-8 py-3 rounded-lg hover:bg-gray-100 transition font-semibold",children:"Email Us"})]})]})}),b.jsxs("div",{className:"text-center bg-white rounded-xl p-8 shadow-lg",children:[b.jsx("h3",{className:"text-2xl font-bold text-[var(--brand-dark)] mb-4",children:"Need More Help Finding Services?"}),b.jsx("p",{className:"text-[var(--brand-dark)] opacity-80 mb-6 max-w-2xl mx-auto",children:"Check out our comprehensive guide with tips for finding English-speaking professionals throughout Germany."}),b.jsx($n,{to:"/articles/services",className:"inline-block bg-[var(--brand-primary)] text-white px-8 py-3 rounded-lg hover:bg-[var(--brand-dark)] transition font-semibold",children:"Read Full Services Guide "})]})]})]})}function xB(){const[t,e]=ie.useState(!1);return b.jsx("section",{id:"contact",className:"bg-[var(--brand-bg)] py-16 px-6 text-[#131312]",children:b.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[b.jsx("h2",{className:"text-3xl font-semibold mb-4 tracking-tight",children:"Get in Touch"}),b.jsx("p",{className:"text-lg text-[#131312]/80 mb-8",children:"Whether youre an American relocating to Europe, already living here, or simply exploring, were here to make your experience smoother."}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6 mb-10",children:[b.jsxs("a",{href:"mailto:european.living.live@gmail.com",className:"flex items-center gap-2 bg-[var(--brand-button)] text-[#f7f7ec] px-5 py-3 rounded-xl hover:bg-[#131312] transition",children:[b.jsx(yA,{size:20}),"european.living.live@gmail.com"]}),b.jsxs("a",{href:"https://wa.me/4915165227520",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[var(--brand-dark)] text-[#f4f5f0] px-5 py-3 rounded-xl hover:bg-[#9da586] transition",children:[b.jsx(bA,{size:20}),"Chat on WhatsApp"]})]}),b.jsx("button",{onClick:()=>e(!t),className:"bg-[var(--brand-button)] text-[#f7f7ec] px-6 py-3 rounded-xl font-medium hover:bg-[#131312] hover:text-[#f4f5f0] transition",children:t?"Close Form":"Ask a Question"}),b.jsx(mu,{children:t&&b.jsx(Er.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:b.jsxs("form",{action:"https://formspree.io/f/mnngzrdn",method:"POST",className:"mt-8 bg-[#f4f5f0] p-8 rounded-2xl shadow-sm border border-[#9da586]/30 text-left",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Name"}),b.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Email"}),b.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Message"}),b.jsx("textarea",{name:"message",rows:4,required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),b.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#131312] text-[#f7f7ec] px-6 py-3 rounded-xl hover:bg-[#9da586] transition",children:[b.jsx(vA,{size:18}),"Send Message"]})]})})})]})})}const TB=()=>{const t=()=>{localStorage.removeItem("cookieConsent"),window.dispatchEvent(new Event("openCookieSettings"))};return b.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"European Living"}),b.jsx("p",{className:"text-sm text-gray-400",children:"Your guide to living, working, and exploring Germany and Europe as a U.S. military member or expat."})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),b.jsxs("ul",{className:"space-y-2 text-sm",children:[b.jsx("li",{children:b.jsx($n,{to:"/",className:"hover:text-white transition-colors",children:"Home"})}),b.jsx("li",{children:b.jsx($n,{to:"/services-directory",className:"hover:text-white transition-colors",children:"Services Directory"})}),b.jsx("li",{children:b.jsx($n,{to:"/day-trips",className:"hover:text-white transition-colors",children:"Day Trips"})}),b.jsx("li",{children:b.jsx($n,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),b.jsxs("ul",{className:"space-y-2 text-sm",children:[b.jsx("li",{children:b.jsx($n,{to:"/submit-business",className:"hover:text-white transition-colors",children:"Submit Your Business"})}),b.jsx("li",{children:b.jsx("a",{href:"https://www.usedcarguys.net",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Used Car Guys"})}),b.jsx("li",{children:b.jsx("a",{href:"https://framedwithwonder.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Framed With Wonder"})})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),b.jsxs("ul",{className:"space-y-2 text-sm",children:[b.jsx("li",{children:b.jsx($n,{to:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),b.jsx("li",{children:b.jsxs("button",{onClick:t,className:"hover:text-white transition-colors flex items-center gap-2 text-left",children:[b.jsx(DS,{className:"w-4 h-4"}),"Cookie Settings"]})})]})]})]}),b.jsx("div",{className:"border-t border-[var(--brand-primary)] border-opacity-30 pt-6 mt-6",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 150+ Businesses"}),b.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Verified English-friendly services"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 10+ Years"}),b.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Serving the military community"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 6 Bases"}),b.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Major US installations covered"})]})]})}),b.jsxs("div",{className:"border-t border-gray-800 pt-8 mt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[b.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," European Living. All rights reserved. Serving the American military community in Germany."]}),b.jsx("p",{className:"text-sm text-gray-400",children:"Made with  for U.S. military families in Europe"})]})]})})},kB=()=>{const[t,e]=ie.useState(!1),[r,i]=ie.useState(!1),[o,l]=ie.useState({necessary:!0,analytics:!1,marketing:!1});ie.useEffect(()=>{const _=localStorage.getItem("cookieConsent"),S=localStorage.getItem("cookieConsentDate");if(_&&S){const E=Date.now()-new Date(S).getTime(),T=365*24*60*60*1e3;if(E>T)localStorage.removeItem("cookieConsent"),localStorage.removeItem("cookieConsentDate"),setTimeout(()=>e(!0),500);else try{const A=JSON.parse(_);l(A),u(A)}catch(A){console.error("Error parsing cookie preferences",A)}}else{const E=setTimeout(()=>e(!0),500);return()=>clearTimeout(E)}},[]);const u=_=>{if(typeof window.gtag>"u"){console.log("gtag not loaded yet");return}_.analytics?window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag("consent","update",{analytics_storage:"denied"}),_.marketing?window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}):window.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})},f=()=>{y({necessary:!0,analytics:!0,marketing:!0}),Np(),e(!1),i(!1)},h=()=>{y({necessary:!0,analytics:!1,marketing:!1}),e(!1),i(!1)},m=()=>{y(o),o.analytics&&Np(),e(!1),i(!1)},y=_=>{localStorage.setItem("cookieConsent",JSON.stringify(_)),localStorage.setItem("cookieConsentDate",new Date().toISOString()),u(_),window.dispatchEvent(new CustomEvent("cookieConsentUpdated",{detail:_}))},v=_=>{_!=="necessary"&&l(S=>({...S,[_]:!S[_]}))};return ie.useEffect(()=>{const _=()=>{e(!0),i(!0)};return window.addEventListener("openCookieSettings",_),()=>window.removeEventListener("openCookieSettings",_)},[]),b.jsx(mu,{children:t&&b.jsxs(b.Fragment,{children:[b.jsx(Er.div,{className:"fixed inset-0 bg-black/30 z-[100]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!r&&f()}),b.jsx(mu,{children:r&&b.jsx(Er.div,{className:"fixed inset-0 z-[102] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsxs(Er.div,{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:_=>_.stopPropagation(),children:[b.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between flex-shrink-0 bg-white",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(_A,{className:"w-6 h-6 text-blue-600"}),b.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Cookie Settings"})]}),b.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close settings",children:b.jsx(Jp,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[b.jsx("p",{className:"text-gray-600",children:"We use cookies to improve your experience on our site. You can choose which types of cookies to allow below."}),b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[b.jsx(SA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Necessary Cookies"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function. These cannot be disabled."})]})]}),b.jsx("div",{className:"ml-4 flex-shrink-0",children:b.jsx("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center justify-end px-1 cursor-not-allowed",children:b.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),b.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[b.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),b.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[b.jsx("li",{children:"Enable core website functionality"}),b.jsx("li",{children:"Remember your base selection"}),b.jsx("li",{children:"Secure authentication and session management"}),b.jsx("li",{children:"Accessibility features"})]})]})]}),b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[b.jsx(wA,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Analytics Cookies"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors use our site to improve user experience."})]})]}),b.jsx("div",{className:"ml-4 flex-shrink-0",children:b.jsx("button",{onClick:()=>v("analytics"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.analytics?"bg-blue-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle analytics cookies ${o.analytics?"off":"on"}`,children:b.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),b.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[b.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),b.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[b.jsx("li",{children:"Anonymous visitor statistics"}),b.jsx("li",{children:"Page view tracking"}),b.jsx("li",{children:"User journey analysis"}),b.jsx("li",{children:"Help us improve navigation and content"})]}),b.jsx("p",{className:"mt-2 text-xs",children:"We use Google Analytics with IP anonymization."})]})]}),b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[b.jsx(EA,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Marketing Cookies"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements based on your interests."})]})]}),b.jsx("div",{className:"ml-4 flex-shrink-0",children:b.jsx("button",{onClick:()=>v("marketing"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.marketing?"bg-purple-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle marketing cookies ${o.marketing?"off":"on"}`,children:b.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),b.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[b.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),b.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[b.jsx("li",{children:"Track your browsing across websites"}),b.jsx("li",{children:"Deliver relevant advertisements"}),b.jsx("li",{children:"Measure ad campaign effectiveness"}),b.jsx("li",{children:"Create advertising profiles"})]})]})]}),b.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:b.jsxs("p",{children:["For more information about how we use cookies, please see our"," ",b.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",children:"Privacy Policy"}),". You can change your preferences at any time."]})})]}),b.jsxs("div",{className:"border-t border-gray-200 p-6 flex flex-col sm:flex-row gap-3 flex-shrink-0 bg-white",children:[b.jsx("button",{onClick:h,className:"flex-1 border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50 transition",children:"Reject All"}),b.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Preferences"}),b.jsx("button",{onClick:f,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Accept All"})]})]})})}),!r&&b.jsx(Er.div,{className:"fixed bottom-0 left-0 right-0 z-[101] bg-white border-t-2 border-gray-200 shadow-2xl",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:_=>_.stopPropagation(),children:b.jsx("div",{className:"max-w-7xl mx-auto p-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[b.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[b.jsx(DS,{className:"w-8 h-8 text-blue-600 flex-shrink-0 mt-1"}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:" Cookie Settings"}),b.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["We use cookies to provide you with an optimal website experience. Further information and how you can object to the use of cookies at any time can be found in our"," ",b.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",children:"privacy policy"}),"."]})]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[b.jsx("button",{onClick:h,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition whitespace-nowrap",children:"Reject All"}),b.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 border-2 border-blue-600 text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition whitespace-nowrap",children:"Settings"}),b.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition whitespace-nowrap shadow-lg",children:"Accept All"})]})]})})})]})})},vS=[{id:"ramstein",name:"Ramstein Air Base",location:"Ramstein-Miesenbach",region:"Rhineland-Palatinate",icon:"",description:"Largest USAF base in Europe"},{id:"stuttgart",name:"USAG Stuttgart",location:"Stuttgart",region:"Baden-Wrttemberg",icon:"",description:"Home to EUCOM and AFRICOM headquarters"},{id:"kaiserslautern",name:"Kaiserslautern Area",location:"Kaiserslautern",region:"Rhineland-Palatinate",icon:"",description:"Heart of the KMC  Kaiserslautern Military Community"},{id:"wiesbaden",name:"USAG Wiesbaden",location:"Wiesbaden",region:"Hesse",icon:"",description:"Near Frankfurt, Army base and community"},{id:"grafenwoehr",name:"USAG Bavaria",location:"Grafenwhr",region:"Bavaria",icon:"",description:"Training area and large Army garrison"},{id:"spangdahlem",name:"Spangdahlem Air Base",location:"Spangdahlem",region:"Rhineland-Palatinate",icon:"",description:"USAF base near Bitburg"}],AB=()=>{const{selectedBase:t,setSelectedBase:e}=$m(),[r,i]=ie.useState(!1),[o,l]=ie.useState(null),[u,f]=ie.useState(!1);ie.useEffect(()=>{const S=localStorage.getItem("hasVisitedSite");if(t&&t!=="all")f(!0);else if(!S){const E=setTimeout(()=>i(!0),800);return()=>clearTimeout(E)}},[t]),ie.useEffect(()=>{const S=()=>{l(null),i(!0)};return window.addEventListener("openBaseSelectionModal",S),()=>{window.removeEventListener("openBaseSelectionModal",S)}},[]);const h=S=>l(S),m=()=>{o&&(e(o),localStorage.setItem("hasVisitedSite","true"),i(!1),f(!0))},y=()=>{localStorage.setItem("hasVisitedSite","true"),e("all"),i(!1),f(!0)},v=()=>{localStorage.removeItem("hasVisitedSite"),l(null),f(!1),i(!0),e("all")},_=S=>{if(S==="all")return"All Locations";const E=vS.find(T=>T.id===S);return E?E.name:"Select Base"};return b.jsxs(b.Fragment,{children:[u&&t&&b.jsxs("div",{className:"fixed top-4 right-4 z-40 bg-white shadow-lg rounded-lg px-4 py-2 border flex items-center gap-2 max-w-[calc(100vw-3rem)] overflow-hidden",children:[b.jsx(IS,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-medium truncate min-w-0",children:_(t)}),b.jsx("button",{onClick:v,className:"ml-2 text-xs text-red-500 hover:text-red-700 underline flex-shrink-0",children:"Reset"})]}),b.jsx(mu,{children:r&&b.jsx(Er.div,{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsxs(Er.div,{className:"bg-white rounded-2xl shadow-2xl max-w-md md:max-w-4xl w-full mt-12 overflow-y-auto max-h-[90vh]",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[b.jsxs("div",{className:"bg-blue-600 text-white p-6 flex justify-between items-center border-b border-gray-100",children:[b.jsx("h2",{className:"text-2xl font-extrabold",children:"Welcome to European Living "}),b.jsx("button",{onClick:y,className:"text-white/80 hover:text-white","aria-label":"Skip Base Selection",children:b.jsx(Jp,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"p-6 pb-8",children:[b.jsx("p",{className:"text-gray-700 text-base mb-6",children:"Choose the U.S. military community closest to you to see English-speaking services and local recommendations. You can change this anytime later."}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:vS.map(S=>b.jsx("button",{onClick:()=>h(S.id),className:`p-4 rounded-xl border-2 text-left transition duration-200 shadow-sm ${o===S.id?"border-blue-600 bg-blue-50 ring-2 ring-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300 hover:shadow-md"}`,children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("span",{className:"text-3xl mt-0.5",children:S.icon}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-extrabold text-gray-800",children:S.name}),b.jsxs("p",{className:"text-sm text-gray-600",children:[S.location,", ",S.region]}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S.description})]})]})},S.id))}),b.jsx("button",{onClick:()=>h("all"),className:`w-full p-4 border-2 rounded-lg transition duration-200 ${o==="all"?"border-gray-500 bg-gray-100 shadow-inner":"border-gray-300 hover:border-gray-400"} mb-6`,children:b.jsx("span",{className:"font-semibold text-gray-800",children:" Show All Locations"})}),b.jsx("button",{onClick:m,disabled:!o,className:`w-full py-3 rounded-xl font-semibold text-lg transition duration-300 shadow-lg ${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed shadow-none"} mt-4`,children:"Continue"}),b.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Not near a base?"," ",b.jsx("button",{onClick:y,className:"text-blue-600 font-medium hover:underline",children:"Skip this step"})]})]})]})})})]})};function OB({size:t="md",message:e,fullScreen:r=!1}){const i={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-2",lg:"w-12 h-12 border-3",xl:"w-16 h-16 border-4"},o=b.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[b.jsx("div",{className:`${i[t]} border-blue-600 border-t-transparent rounded-full animate-spin`,role:"status","aria-label":"Loading"}),e&&b.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:e})]});return r?b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white bg-opacity-90 z-50",children:o}):b.jsx("div",{className:"flex items-center justify-center p-8",children:o})}const CB=ie.lazy(()=>rt(()=>import("./ArticlePage-BQRDBXT1.js"),__vite__mapDeps([0,1,2,3,4,5]))),RB=ie.lazy(()=>rt(()=>import("./DestinationPage-DpRUtVEj.js"),__vite__mapDeps([6,1,2,3,4,5]))),NB=ie.lazy(()=>rt(()=>import("./BusinessDetailPage-B89ohNCn.js"),__vite__mapDeps([7,1,2,8,9,10,4,5]))),_S=ie.lazy(()=>rt(()=>import("./ServiceCategoryPage-CcOXB8T8.js"),__vite__mapDeps([11,1,2,12,4,8,9,10,5]))),jB=ie.lazy(()=>rt(()=>import("./ServicesDirectory-DrC0-ZyJ.js"),__vite__mapDeps([13,1,2,12,4,5]))),MB=ie.lazy(()=>rt(()=>import("./BusinessSubmissionForm-BSBOBY1f.js"),__vite__mapDeps([14,1,2,4,5]))),IB=ie.lazy(()=>rt(()=>import("./BusinessDataEntry-BrOB1yFt.js"),__vite__mapDeps([15,1,2,4,5]))),DB=ie.lazy(()=>rt(()=>import("./PrivacyPolicy-Bpx0blaS.js"),__vite__mapDeps([16,1,2]))),LB=ie.lazy(()=>rt(()=>import("./DayTripsPage-C_7MyUSE.js"),__vite__mapDeps([17,1,2,18,4,5]))),UB=ie.lazy(()=>rt(()=>import("./AboutPage-CD0ET3yU.js"),__vite__mapDeps([19,1,2,18,4]))),zB=ie.lazy(()=>rt(()=>import("./FeaturedContentAdmin-C7Aflwyl.js"),__vite__mapDeps([20,1,2,18,4,5]))),BB=()=>{const[t,e]=ie.useState(0);return ie.useEffect(()=>{const r=()=>{const i=window.scrollY,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,l=i/o*100;e(l)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),b.jsx(Er.div,{className:"fixed top-0 left-0 h-1 bg-blue-600 z-[9999]",style:{width:`${t}%`},initial:{width:0},animate:{width:t},transition:{ease:"easeOut",duration:.1}})},HB=()=>b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)]",children:b.jsx(OB,{size:"lg",message:"Loading page..."})});function PB(){const{selectedBase:t}=$m(),e=NS();return ie.useEffect(()=>{J3(e.pathname+e.search,document.title)},[e]),ie.useEffect(()=>{if(e.pathname==="/"){let r=null;e.state?.scrollTo?(r=e.state.scrollTo,window.history.replaceState({},document.title)):e.hash&&(r=e.hash.substring(1)),r&&setTimeout(()=>{const i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth"})},300)}},[e]),b.jsxs(b.Fragment,{children:[b.jsx(kB,{}),b.jsx(AB,{}),b.jsx(BB,{}),b.jsx(Q3,{}),b.jsx(ie.Suspense,{fallback:b.jsx(HB,{}),children:b.jsxs(Kk,{children:[b.jsx(fn,{path:"/",element:b.jsxs("div",{className:"pt-16",children:[b.jsx(Z3,{}),b.jsx(Az,{}),b.jsx(fB,{}),b.jsx(pB,{}),b.jsx(bB,{}),b.jsx(EB,{selectedBase:t}),b.jsx(xB,{})]})}),b.jsx(fn,{path:"/day-trips",element:b.jsx("div",{className:"pt-16",children:b.jsx(LB,{})})}),b.jsx(fn,{path:"/admin/data-entry",element:b.jsx("div",{className:"pt-16",children:b.jsx(IB,{})})}),b.jsx(fn,{path:"/admin/featured-content",element:b.jsx("div",{className:"pt-16",children:b.jsx(zB,{})})}),b.jsx(fn,{path:"/services-directory",element:b.jsx("div",{className:"pt-16",children:b.jsx(jB,{})})}),b.jsx(fn,{path:"/services/:category",element:b.jsx(_S,{})}),b.jsx(fn,{path:"/services/:category/:subcategory",element:b.jsx(_S,{})}),b.jsx(fn,{path:"/submit-business",element:b.jsx("div",{className:"pt-16",children:b.jsx(MB,{})})}),b.jsx(fn,{path:"/articles/:slug",element:b.jsx(CB,{})}),b.jsx(fn,{path:"/destinations/:id",element:b.jsx(RB,{})}),b.jsx(fn,{path:"/businesses/:id",element:b.jsx(NB,{})}),b.jsx(fn,{path:"/privacy-policy",element:b.jsx(DB,{})}),b.jsx(fn,{path:"/about",element:b.jsx("div",{className:"pt-16",children:b.jsx(UB,{})})})]})}),b.jsx(TB,{})]})}class qB extends ie.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),sl(i=>{i.setContext("errorInfo",{componentStack:r.componentStack}),hm(e)})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:b.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[b.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:b.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),b.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We've been notified and are working on a fix. Please try refreshing the page."}),this.state.error&&!1,b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Refresh Page"}),b.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded transition-colors",children:"Go Home"})]})]})}):this.props.children}}const SS={"/articles":()=>rt(()=>import("./ArticlePage-BQRDBXT1.js"),__vite__mapDeps([0,1,2,3,4,5])),"/destinations":()=>rt(()=>import("./DestinationPage-DpRUtVEj.js"),__vite__mapDeps([6,1,2,3,4,5])),"/businesses":()=>rt(()=>import("./BusinessDetailPage-B89ohNCn.js"),__vite__mapDeps([7,1,2,8,9,10,4,5])),"/services":()=>rt(()=>import("./ServiceCategoryPage-CcOXB8T8.js"),__vite__mapDeps([11,1,2,12,4,8,9,10,5])),"/services-directory":()=>rt(()=>import("./ServicesDirectory-DrC0-ZyJ.js"),__vite__mapDeps([13,1,2,12,4,5])),"/submit-business":()=>rt(()=>import("./BusinessSubmissionForm-BSBOBY1f.js"),__vite__mapDeps([14,1,2,4,5])),"/privacy-policy":()=>rt(()=>import("./PrivacyPolicy-Bpx0blaS.js"),__vite__mapDeps([16,1,2]))},Qh=new Set;function Hu(t){const e=Object.keys(SS).find(i=>t.startsWith(i));if(!e||Qh.has(e))return;const r=SS[e];Qh.add(e),r().catch(i=>{console.error(`Failed to preload route: ${e}`,i),Qh.delete(e)})}function $B(){const t=r=>{const o=r.target.closest("a[href]");if(o&&o.href){const l=new URL(o.href);l.origin===window.location.origin&&Hu(l.pathname)}},e=r=>{const i=r.target;if(i.tagName==="A"){const o=i;if(o.href){const l=new URL(o.href);l.origin===window.location.origin&&Hu(l.pathname)}}};return document.addEventListener("mouseover",t,!0),document.addEventListener("focusin",e,!0),()=>{document.removeEventListener("mouseover",t,!0),document.removeEventListener("focusin",e,!0)}}function FB(){document.readyState==="complete"?wS():window.addEventListener("load",wS,{once:!0})}function wS(){setTimeout(()=>{Hu("/services-directory"),setTimeout(()=>{Hu("/services")},2e3)},1e3)}let ST=-1;const Ua=t=>{addEventListener("pageshow",(e=>{e.persisted&&(ST=e.timeStamp,t(e))}),!0)},Zn=(t,e,r,i)=>{let o,l;return u=>{e.value>=0&&(u||i)&&(l=e.value-(o??0),(l||o===void 0)&&(o=e.value,e.delta=l,e.rating=((f,h)=>f>h[1]?"poor":f>h[0]?"needs-improvement":"good")(e.value,r),t(e)))}},ng=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},rg=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},gl=()=>rg()?.activationStart??0,er=(t,e=-1)=>{const r=rg();let i="navigate";return ST>=0?i="back-forward-cache":r&&(document.prerendering||gl()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},Zh=new WeakMap;function sg(t,e){return Zh.get(t)||Zh.set(t,new e),Zh.get(t)}class GB{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const r=this.o[0],i=this.o.at(-1);this.i&&r&&i&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const yl=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return i.observe({type:t,buffered:!0,...r}),i}}catch{}},ig=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let ua=-1;const wT=new Set,ES=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Kp=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(const e of wT)e();isFinite(ua)||(ua=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",Kp,!0))}},nd=()=>{if(ua<0){const t=gl();ua=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter((r=>r.name==="hidden"&&r.startTime>t))[0]?.startTime)??ES(),addEventListener("visibilitychange",Kp,!0),addEventListener("prerenderingchange",Kp,!0),Ua((()=>{setTimeout((()=>{ua=ES()}))}))}return{get firstHiddenTime(){return ua},onHidden(t){wT.add(t)}}},rd=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},xS=[1800,3e3],ET=(t,e={})=>{rd((()=>{const r=nd();let i,o=er("FCP");const l=yl("paint",(u=>{for(const f of u)f.name==="first-contentful-paint"&&(l.disconnect(),f.startTime<r.firstHiddenTime&&(o.value=Math.max(f.startTime-gl(),0),o.entries.push(f),i(!0)))}));l&&(i=Zn(t,o,xS,e.reportAllChanges),Ua((u=>{o=er("FCP"),i=Zn(t,o,xS,e.reportAllChanges),ng((()=>{o.value=performance.now()-u.timeStamp,i(!0)}))})))}))},TS=[.1,.25],VB=(t,e={})=>{const r=nd();ET(ig((()=>{let i,o=er("CLS",0);const l=sg(e,GB),u=h=>{for(const m of h)l.h(m);l.i>o.value&&(o.value=l.i,o.entries=l.o,i())},f=yl("layout-shift",u);f&&(i=Zn(t,o,TS,e.reportAllChanges),r.onHidden((()=>{u(f.takeRecords()),i(!0)})),Ua((()=>{l.i=0,o=er("CLS",0),i=Zn(t,o,TS,e.reportAllChanges),ng((()=>i()))})),setTimeout(i))})))};let xT=0,ep=1/0,iu=0;const YB=t=>{for(const e of t)e.interactionId&&(ep=Math.min(ep,e.interactionId),iu=Math.max(iu,e.interactionId),xT=iu?(iu-ep)/7+1:0)};let Wp;const kS=()=>Wp?xT:performance.interactionCount??0,KB=()=>{"interactionCount"in performance||Wp||(Wp=yl("event",YB,{type:"event",buffered:!0,durationThreshold:0}))};let AS=0;class WB{u=[];l=new Map;m;p;v(){AS=kS(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((kS()-AS)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&e.entryType!=="first-input")return;const r=this.u.at(-1);let i=this.l.get(e.interactionId);if(i||this.u.length<10||e.duration>r.P){if(i?e.duration>i.P?(i.entries=[e],i.P=e.duration):e.duration===i.P&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],P:e.duration},this.l.set(i.id,i),this.u.push(i)),this.u.sort(((o,l)=>l.P-o.P)),this.u.length>10){const o=this.u.splice(10);for(const l of o)this.l.delete(l.id)}this.p?.(i)}}}const TT=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=ig(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},OS=[200,500],XB=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=nd();rd((()=>{KB();let i,o=er("INP");const l=sg(e,WB),u=h=>{TT((()=>{for(const y of h)l.h(y);const m=l.L();m&&m.P!==o.value&&(o.value=m.P,o.entries=m.entries,i())}))},f=yl("event",u,{durationThreshold:e.durationThreshold??40});i=Zn(t,o,OS,e.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{u(f.takeRecords()),i(!0)})),Ua((()=>{l.v(),o=er("INP"),i=Zn(t,o,OS,e.reportAllChanges)})))}))};class JB{m;h(e){this.m?.(e)}}const CS=[2500,4e3],QB=(t,e={})=>{rd((()=>{const r=nd();let i,o=er("LCP");const l=sg(e,JB),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)l.h(m),m.startTime<r.firstHiddenTime&&(o.value=Math.max(m.startTime-gl(),0),o.entries=[m],i())},f=yl("largest-contentful-paint",u);if(f){i=Zn(t,o,CS,e.reportAllChanges);const h=ig((()=>{u(f.takeRecords()),f.disconnect(),i(!0)})),m=y=>{y.isTrusted&&(TT(h),removeEventListener(y.type,m,{capture:!0}))};for(const y of["keydown","click","visibilitychange"])addEventListener(y,m,{capture:!0});Ua((y=>{o=er("LCP"),i=Zn(t,o,CS,e.reportAllChanges),ng((()=>{o.value=performance.now()-y.timeStamp,i(!0)}))}))}}))},RS=[800,1800],Xp=t=>{document.prerendering?rd((()=>Xp(t))):document.readyState!=="complete"?addEventListener("load",(()=>Xp(t)),!0):setTimeout(t)},ZB=(t,e={})=>{let r=er("TTFB"),i=Zn(t,r,RS,e.reportAllChanges);Xp((()=>{const o=rg();o&&(r.value=Math.max(o.responseStart-gl(),0),r.entries=[o],i(!0),Ua((()=>{r=er("TTFB",0),i=Zn(t,r,RS,e.reportAllChanges),i(!0)})))}))},e4=t=>{typeof window.gtag>"u"||window.gtag("event",t.name,{value:Math.round(t.name==="CLS"?t.value*1e3:t.value),event_category:"Web Vitals",event_label:t.id,non_interaction:!0,metric_rating:t.rating})},t4=t=>{if(typeof window.Sentry>"u")return;const e={};e[t.name]={value:t.value,unit:t.name==="CLS"?"ratio":"millisecond"},window.Sentry?.getCurrentScope().setMeasurement(t.name,t.value,t.name==="CLS"?"ratio":"millisecond")},Do=t=>{e4(t),t4(t)},n4=()=>{VB(Do),XB(Do),ET(Do),QB(Do),ZB(Do),console.log("[Web Vitals] Performance monitoring initialized")};Y3({dsn:"https://30c87b24943cef5dc27e660cf0a960d9@o4510359033085952.ingest.de.sentry.io/4510359035117648",integrations:[q3(),E3({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:"production",sendDefaultPii:!1,enabled:!0,ignoreErrors:["ResizeObserver loop limit exceeded","Non-Error promise rejection captured","Network request failed"]});Np();n4();const r4=new Jk({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}}});$B();FB();CA.createRoot(document.getElementById("root")).render(b.jsx(ie.StrictMode,{children:b.jsx(qB,{children:b.jsx(Qk,{client:r4,children:b.jsx(Wk,{children:b.jsx(X3,{children:b.jsx(PB,{})})})})})}));export{OB as L,b4 as a,Oz as b,S4 as c,SB as d,v4 as e,_4 as f,y4 as g,h4 as h,m4 as i,p4 as j,g4 as k,wt as s,$m as u};
