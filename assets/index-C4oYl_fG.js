const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ArticlePage--jbeiKI5.js","assets/vendor-markdown-Dbd1-Hej.js","assets/vendor-react-BQ3QdHWl.js","assets/TableOfContents-BTcJ4ZHR.js","assets/vendor-ui-SKiNS56E.js","assets/vendor-query-BCNVfZq2.js","assets/DestinationPage-BWvl-UT5.js","assets/BusinessDetailPage-Bs6QAtW_.js","assets/MapView-BYcfVQQ7.js","assets/vendor-maps-oRjUsVdH.js","assets/MapView-CIGW-MKW.css","assets/ServiceCategoryPage-DuUD-cc-.js","assets/ErrorMessage-WSwnM0qs.js","assets/ServicesDirectory-LvUD8czA.js","assets/BusinessSubmissionForm-CyVi_sBY.js","assets/BusinessDataEntry-nIfeP-jb.js","assets/PrivacyPolicy-C5EYempo.js","assets/DayTripsPage-Dh4-goAk.js","assets/dayTripsService-reEhVHj5.js","assets/SEO-BS2gp-P7.js","assets/AboutPage-B0fMbTeB.js","assets/FeaturedContentAdmin-BnU59QHY.js","assets/DayTripDetailPage-BYnCWlCk.js"])))=>i.map(i=>d[i]);
import{j as g}from"./vendor-markdown-Dbd1-Hej.js";import{b as Gk,c as Vk,r as J,u as Pu,d as Zp,L as Zt,e as IS,g as Yk,f as Kk,h as Jt,B as Wk}from"./vendor-react-BQ3QdHWl.js";import{u as Xk,Q as Jk,a as Qk}from"./vendor-query-BCNVfZq2.js";import{X as em,M as Zk,C as DS,A as Go,m as Jn,S as eA,a as tA,b as nA,T as rA,c as tm,U as sA,P as iA,E as o_,d as aA,e as oA,f as lA,g as gu,h as LS,i as cA,j as uA,k as dA,l as fA,W as hA,H as pA,n as mA,G as gA,B as yA,o as np,p as bA,q as vA,r as _A,L as SA}from"./vendor-ui-SKiNS56E.js";function wA(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var bh={exports:{}},jo={},vh={exports:{}},_h={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function xA(){return l_||(l_=1,(function(t){function e(M,F){var O=M.length;M.push(F);e:for(;0<O;){var se=O-1>>>1,V=M[se];if(0<o(V,F))M[se]=F,M[O]=V,O=se;else break e}}function r(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var F=M[0],O=M.pop();if(O!==F){M[0]=O;e:for(var se=0,V=M.length,ve=V>>>1;se<ve;){var ue=2*(se+1)-1,X=M[ue],ge=ue+1,qe=M[ge];if(0>o(X,O))ge<V&&0>o(qe,X)?(M[se]=qe,M[ge]=O,se=ge):(M[se]=X,M[ue]=O,se=ue);else if(ge<V&&0>o(qe,O))M[se]=qe,M[ge]=O,se=ge;else break e}}return F}function o(M,F){var O=M.sortIndex-F.sortIndex;return O!==0?O:M.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],b=1,v=null,_=3,S=!1,x=!1,k=!1,E=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function q(M){for(var F=r(m);F!==null;){if(F.callback===null)i(m);else if(F.startTime<=M)i(m),F.sortIndex=F.expirationTime,e(h,F);else break;F=r(m)}}function K(M){if(k=!1,q(M),!x)if(r(h)!==null)x=!0,G||(G=!0,le());else{var F=r(m);F!==null&&ke(K,F.startTime-M)}}var G=!1,U=-1,P=5,ce=-1;function W(){return E?!0:!(t.unstable_now()-ce<P)}function te(){if(E=!1,G){var M=t.unstable_now();ce=M;var F=!0;try{e:{x=!1,k&&(k=!1,B(U),U=-1),S=!0;var O=_;try{t:{for(q(M),v=r(h);v!==null&&!(v.expirationTime>M&&W());){var se=v.callback;if(typeof se=="function"){v.callback=null,_=v.priorityLevel;var V=se(v.expirationTime<=M);if(M=t.unstable_now(),typeof V=="function"){v.callback=V,q(M),F=!0;break t}v===r(h)&&i(h),q(M)}else i(h);v=r(h)}if(v!==null)F=!0;else{var ve=r(m);ve!==null&&ke(K,ve.startTime-M),F=!1}}break e}finally{v=null,_=O,S=!1}F=void 0}}finally{F?le():G=!1}}}var le;if(typeof N=="function")le=function(){N(te)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Te=he.port2;he.port1.onmessage=te,le=function(){Te.postMessage(null)}}else le=function(){D(te,0)};function ke(M,F){U=D(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(M){switch(_){case 1:case 2:case 3:var F=3;break;default:F=_}var O=_;_=F;try{return M()}finally{_=O}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=_;_=M;try{return F()}finally{_=O}},t.unstable_scheduleCallback=function(M,F,O){var se=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?se+O:se):O=se,M){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,M={id:b++,callback:F,priorityLevel:M,startTime:O,expirationTime:V,sortIndex:-1},O>se?(M.sortIndex=O,e(m,M),r(h)===null&&M===r(m)&&(k?(B(U),U=-1):k=!0,ke(K,O-se))):(M.sortIndex=V,e(h,M),x||S||(x=!0,G||(G=!0,le()))),M},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(M){var F=_;return function(){var O=_;_=F;try{return M.apply(this,arguments)}finally{_=O}}}})(_h)),_h}var c_;function EA(){return c_||(c_=1,vh.exports=xA()),vh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function TA(){if(u_)return jo;u_=1;var t=EA(),e=Gk(),r=Vk();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(i(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return h(d),n;if(p===c)return h(d),s;p=p.sibling}throw Error(i(188))}if(a.return!==c.return)a=d,c=p;else{for(var y=!1,w=d.child;w;){if(w===a){y=!0,a=d,c=p;break}if(w===c){y=!0,c=d,a=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===a){y=!0,a=p,c=d;break}if(w===c){y=!0,c=p,a=d;break}w=w.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function b(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=b(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),N=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var he=Symbol.for("react.client.reference");function Te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===he?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case G:return"SuspenseList";case ce:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case N:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return s=n.displayName||null,s!==null?s:Te(n.type)||"Memo";case P:s=n._payload,n=n._init;try{return Te(n(s))}catch{}}return null}var ke=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},se=[],V=-1;function ve(n){return{current:n}}function ue(n){0>V||(n.current=se[V],se[V]=null,V--)}function X(n,s){V++,se[V]=n.current,n.current=s}var ge=ve(null),qe=ve(null),xt=ve(null),Ue=ve(null);function $t(n,s){switch(X(xt,s),X(qe,n),X(ge,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Ov(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Ov(s),n=Rv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ge),X(ge,n)}function jt(){ue(ge),ue(qe),ue(xt)}function qt(n){n.memoizedState!==null&&X(Ue,n);var s=ge.current,a=Rv(s,n.type);s!==a&&(X(qe,n),X(ge,a))}function jn(n){qe.current===n&&(ue(ge),ue(qe)),Ue.current===n&&(ue(Ue),Co._currentValue=O)}var Vn,vl;function Dt(n){if(Vn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Vn=s&&s[1]||"",vl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+n+vl}var Mn=!1;function vs(n,s){if(!n||Mn)return"";Mn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(L){var I=L}Reflect.construct(n,[],$)}else{try{$.call()}catch(L){I=L}n.call($.prototype)}}else{try{throw Error()}catch(L){I=L}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),y=p[0],w=p[1];if(y&&w){var T=y.split(`
`),j=w.split(`
`);for(d=c=0;c<T.length&&!T[c].includes("DetermineComponentFrameRoot");)c++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(c===T.length||d===j.length)for(c=T.length-1,d=j.length-1;1<=c&&0<=d&&T[c]!==j[d];)d--;for(;1<=c&&0<=d;c--,d--)if(T[c]!==j[d]){if(c!==1||d!==1)do if(c--,d--,0>d||T[c]!==j[d]){var z=`
`+T[c].replace(" at new "," at ");return n.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",n.displayName)),z}while(1<=c&&0<=d);break}}}finally{Mn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Dt(a):""}function za(n,s){switch(n.tag){case 26:case 27:case 5:return Dt(n.type);case 16:return Dt("Lazy");case 13:return n.child!==s&&s!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return vs(n.type,!1);case 11:return vs(n.type.render,!1);case 1:return vs(n.type,!0);case 31:return Dt("Activity");default:return""}}function _s(n){try{var s="",a=null;do s+=za(n,a),a=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ss=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Lt=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,yt=t.unstable_requestPaint,ye=t.unstable_now,ws=t.unstable_getCurrentPriorityLevel,lg=t.unstable_ImmediatePriority,cg=t.unstable_UserBlockingPriority,_l=t.unstable_NormalPriority,kT=t.unstable_LowPriority,ug=t.unstable_IdlePriority,AT=t.log,CT=t.unstable_setDisableYieldValue,Ba=null,rn=null;function Mr(n){if(typeof AT=="function"&&CT(n),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Ba,n)}catch{}}var sn=Math.clz32?Math.clz32:RT,NT=Math.log,OT=Math.LN2;function RT(n){return n>>>=0,n===0?32:31-(NT(n)/OT|0)|0}var Sl=256,wl=262144,xl=4194304;function xs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function El(n,s,a){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?d=xs(c):(y&=w,y!==0?d=xs(y):a||(a=w&~n,a!==0&&(d=xs(a))))):(w=c&~p,w!==0?d=xs(w):y!==0?d=xs(y):a||(a=c&~n,a!==0&&(d=xs(a)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:d}function Ha(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function jT(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dg(){var n=xl;return xl<<=1,(xl&62914560)===0&&(xl=4194304),n}function id(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Pa(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function MT(n,s,a,c,d,p){var y=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,T=n.expirationTimes,j=n.hiddenUpdates;for(a=y&~a;0<a;){var z=31-sn(a),$=1<<z;w[z]=0,T[z]=-1;var I=j[z];if(I!==null)for(j[z]=null,z=0;z<I.length;z++){var L=I[z];L!==null&&(L.lane&=-536870913)}a&=~$}c!==0&&fg(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(y&~s))}function fg(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-sn(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function hg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-sn(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}function pg(n,s){var a=s&-s;return a=(a&42)!==0?1:ad(a),(a&(n.suspendedLanes|s))!==0?0:a}function ad(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function od(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function mg(){var n=F.p;return n!==0?n:(n=window.event,n===void 0?32:e_(n.type))}function gg(n,s){var a=F.p;try{return F.p=n,s()}finally{F.p=a}}var Ir=Math.random().toString(36).slice(2),At="__reactFiber$"+Ir,Ft="__reactProps$"+Ir,ui="__reactContainer$"+Ir,ld="__reactEvents$"+Ir,IT="__reactListeners$"+Ir,DT="__reactHandles$"+Ir,yg="__reactResources$"+Ir,$a="__reactMarker$"+Ir;function cd(n){delete n[At],delete n[Ft],delete n[ld],delete n[IT],delete n[DT]}function di(n){var s=n[At];if(s)return s;for(var a=n.parentNode;a;){if(s=a[ui]||a[At]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=zv(n);n!==null;){if(a=n[At])return a;n=zv(n)}return s}n=a,a=n.parentNode}return null}function fi(n){if(n=n[At]||n[ui]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function qa(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function hi(n){var s=n[yg];return s||(s=n[yg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(n){n[$a]=!0}var bg=new Set,vg={};function Es(n,s){pi(n,s),pi(n+"Capture",s)}function pi(n,s){for(vg[n]=s,n=0;n<s.length;n++)bg.add(s[n])}var LT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_g={},Sg={};function UT(n){return Ss.call(Sg,n)?!0:Ss.call(_g,n)?!1:LT.test(n)?Sg[n]=!0:(_g[n]=!0,!1)}function Tl(n,s,a){if(UT(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function kl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function rr(n,s,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+c)}}function vn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wg(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zT(n,s,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(y){a=""+y,p.call(this,y)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ud(n){if(!n._valueTracker){var s=wg(n)?"checked":"value";n._valueTracker=zT(n,s,""+n[s])}}function xg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=wg(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Al(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var BT=/[\n"\\]/g;function _n(n){return n.replace(BT,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dd(n,s,a,c,d,p,y,w){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),s!=null?y==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+vn(s)):n.value!==""+vn(s)&&(n.value=""+vn(s)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),s!=null?fd(n,y,vn(s)):a!=null?fd(n,y,vn(a)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+vn(w):n.removeAttribute("name")}function Eg(n,s,a,c,d,p,y,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){ud(n);return}a=a!=null?""+vn(a):"",s=s!=null?""+vn(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=w?n.checked:!!c,n.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),ud(n)}function fd(n,s,a){s==="number"&&Al(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function mi(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+vn(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Tg(n,s,a){if(s!=null&&(s=""+vn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+vn(a):""}function kg(n,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(ke(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=vn(s),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),ud(n)}function gi(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var HT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ag(n,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,a):typeof a!="number"||a===0||HT.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Cg(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&a[d]!==c&&Ag(n,d,c)}else for(var p in s)s.hasOwnProperty(p)&&Ag(n,p,s[p])}function hd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$T=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(n){return $T.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function sr(){}var pd=null;function md(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yi=null,bi=null;function Ng(n){var s=fi(n);if(s&&(n=s.stateNode)){var a=n[Ft]||null;e:switch(n=s.stateNode,s.type){case"input":if(dd(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=c[Ft]||null;if(!d)throw Error(i(90));dd(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===n.form&&xg(c)}break e;case"textarea":Tg(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&mi(n,!!a.multiple,s,!1)}}}var gd=!1;function Og(n,s,a){if(gd)return n(s,a);gd=!0;try{var c=n(s);return c}finally{if(gd=!1,(yi!==null||bi!==null)&&(mc(),yi&&(s=yi,n=bi,bi=yi=null,Ng(s),n)))for(s=0;s<n.length;s++)Ng(n[s])}}function Fa(n,s){var a=n.stateNode;if(a===null)return null;var c=a[Ft]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=!1;if(ir)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){yd=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{yd=!1}var Dr=null,bd=null,Nl=null;function Rg(){if(Nl)return Nl;var n,s=bd,a=s.length,c,d="value"in Dr?Dr.value:Dr.textContent,p=d.length;for(n=0;n<a&&s[n]===d[n];n++);var y=a-n;for(c=1;c<=y&&s[a-c]===d[p-c];c++);return Nl=d.slice(n,1<c?1-c:void 0)}function Ol(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Rl(){return!0}function jg(){return!1}function Gt(n){function s(a,c,d,p,y){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Rl:jg,this.isPropagationStopped=jg,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),s}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Gt(Ts),Va=v({},Ts,{view:0,detail:0}),qT=Gt(Va),vd,_d,Ya,Ml=v({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ya&&(Ya&&n.type==="mousemove"?(vd=n.screenX-Ya.screenX,_d=n.screenY-Ya.screenY):_d=vd=0,Ya=n),vd)},movementY:function(n){return"movementY"in n?n.movementY:_d}}),Mg=Gt(Ml),FT=v({},Ml,{dataTransfer:0}),GT=Gt(FT),VT=v({},Va,{relatedTarget:0}),Sd=Gt(VT),YT=v({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),KT=Gt(YT),WT=v({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),XT=Gt(WT),JT=v({},Ts,{data:0}),Ig=Gt(JT),QT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t1(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=e1[n])?!!s[n]:!1}function wd(){return t1}var n1=v({},Va,{key:function(n){if(n.key){var s=QT[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ol(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ZT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(n){return n.type==="keypress"?Ol(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ol(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),r1=Gt(n1),s1=v({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Gt(s1),i1=v({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),a1=Gt(i1),o1=v({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=Gt(o1),c1=v({},Ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=Gt(c1),d1=v({},Ts,{newState:0,oldState:0}),f1=Gt(d1),h1=[9,13,27,32],xd=ir&&"CompositionEvent"in window,Ka=null;ir&&"documentMode"in document&&(Ka=document.documentMode);var p1=ir&&"TextEvent"in window&&!Ka,Lg=ir&&(!xd||Ka&&8<Ka&&11>=Ka),Ug=" ",zg=!1;function Bg(n,s){switch(n){case"keyup":return h1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vi=!1;function m1(n,s){switch(n){case"compositionend":return Hg(s);case"keypress":return s.which!==32?null:(zg=!0,Ug);case"textInput":return n=s.data,n===Ug&&zg?null:n;default:return null}}function g1(n,s){if(vi)return n==="compositionend"||!xd&&Bg(n,s)?(n=Rg(),Nl=bd=Dr=null,vi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lg&&s.locale!=="ko"?null:s.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!y1[n.type]:s==="textarea"}function $g(n,s,a,c){yi?bi?bi.push(c):bi=[c]:yi=c,s=wc(s,"onChange"),0<s.length&&(a=new jl("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Wa=null,Xa=null;function b1(n){Ev(n,0)}function Il(n){var s=qa(n);if(xg(s))return n}function qg(n,s){if(n==="change")return s}var Fg=!1;if(ir){var Ed;if(ir){var Td="oninput"in document;if(!Td){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Td=typeof Gg.oninput=="function"}Ed=Td}else Ed=!1;Fg=Ed&&(!document.documentMode||9<document.documentMode)}function Vg(){Wa&&(Wa.detachEvent("onpropertychange",Yg),Xa=Wa=null)}function Yg(n){if(n.propertyName==="value"&&Il(Xa)){var s=[];$g(s,Xa,n,md(n)),Og(b1,s)}}function v1(n,s,a){n==="focusin"?(Vg(),Wa=s,Xa=a,Wa.attachEvent("onpropertychange",Yg)):n==="focusout"&&Vg()}function _1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Il(Xa)}function S1(n,s){if(n==="click")return Il(s)}function w1(n,s){if(n==="input"||n==="change")return Il(s)}function x1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var an=typeof Object.is=="function"?Object.is:x1;function Ja(n,s){if(an(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!Ss.call(s,d)||!an(n[d],s[d]))return!1}return!0}function Kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wg(n,s){var a=Kg(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Xg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Xg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Jg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Al(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Al(n.document)}return s}function kd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var E1=ir&&"documentMode"in document&&11>=document.documentMode,_i=null,Ad=null,Qa=null,Cd=!1;function Qg(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cd||_i==null||_i!==Al(c)||(c=_i,"selectionStart"in c&&kd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qa&&Ja(Qa,c)||(Qa=c,c=wc(Ad,"onSelect"),0<c.length&&(s=new jl("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=_i)))}function ks(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Si={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Nd={},Zg={};ir&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function As(n){if(Nd[n])return Nd[n];if(!Si[n])return n;var s=Si[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Zg)return Nd[n]=s[a];return n}var ey=As("animationend"),ty=As("animationiteration"),ny=As("animationstart"),T1=As("transitionrun"),k1=As("transitionstart"),A1=As("transitioncancel"),ry=As("transitionend"),sy=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function In(n,s){sy.set(n,s),Es(s,[n])}var Dl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Sn=[],wi=0,Rd=0;function Ll(){for(var n=wi,s=Rd=wi=0;s<n;){var a=Sn[s];Sn[s++]=null;var c=Sn[s];Sn[s++]=null;var d=Sn[s];Sn[s++]=null;var p=Sn[s];if(Sn[s++]=null,c!==null&&d!==null){var y=c.pending;y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d}p!==0&&iy(a,d,p)}}function Ul(n,s,a,c){Sn[wi++]=n,Sn[wi++]=s,Sn[wi++]=a,Sn[wi++]=c,Rd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function jd(n,s,a,c){return Ul(n,s,a,c),zl(n)}function Cs(n,s){return Ul(n,null,null,s),zl(n)}function iy(n,s,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var d=!1,p=n.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&s!==null&&(d=31-sn(a),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[s]:c.push(s),s.lane=a|536870912),p):null}function zl(n){if(50<So)throw So=0,$f=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var xi={};function C1(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(n,s,a,c){return new C1(n,s,a,c)}function Md(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ar(n,s){var a=n.alternate;return a===null?(a=on(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ay(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Bl(n,s,a,c,d,p){var y=0;if(c=n,typeof n=="function")Md(n)&&(y=1);else if(typeof n=="string")y=Mk(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ce:return n=on(31,a,s,d),n.elementType=ce,n.lanes=p,n;case k:return Ns(a.children,d,p,s);case E:y=8,d|=24;break;case D:return n=on(12,a,s,d|2),n.elementType=D,n.lanes=p,n;case K:return n=on(13,a,s,d),n.elementType=K,n.lanes=p,n;case G:return n=on(19,a,s,d),n.elementType=G,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:y=10;break e;case B:y=9;break e;case q:y=11;break e;case U:y=14;break e;case P:y=16,c=null;break e}y=29,a=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=on(y,a,s,d),s.elementType=n,s.type=c,s.lanes=p,s}function Ns(n,s,a,c){return n=on(7,n,c,s),n.lanes=a,n}function Id(n,s,a){return n=on(6,n,null,s),n.lanes=a,n}function oy(n){var s=on(18,null,null,0);return s.stateNode=n,s}function Dd(n,s,a){return s=on(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ly=new WeakMap;function wn(n,s){if(typeof n=="object"&&n!==null){var a=ly.get(n);return a!==void 0?a:(s={value:n,source:s,stack:_s(s)},ly.set(n,s),s)}return{value:n,source:s,stack:_s(s)}}var Ei=[],Ti=0,Hl=null,Za=0,xn=[],En=0,Lr=null,Yn=1,Kn="";function or(n,s){Ei[Ti++]=Za,Ei[Ti++]=Hl,Hl=n,Za=s}function cy(n,s,a){xn[En++]=Yn,xn[En++]=Kn,xn[En++]=Lr,Lr=n;var c=Yn;n=Kn;var d=32-sn(c)-1;c&=~(1<<d),a+=1;var p=32-sn(s)+d;if(30<p){var y=d-d%5;p=(c&(1<<y)-1).toString(32),c>>=y,d-=y,Yn=1<<32-sn(s)+d|a<<d|c,Kn=p+n}else Yn=1<<p|a<<d|c,Kn=n}function Ld(n){n.return!==null&&(or(n,1),cy(n,1,0))}function Ud(n){for(;n===Hl;)Hl=Ei[--Ti],Ei[Ti]=null,Za=Ei[--Ti],Ei[Ti]=null;for(;n===Lr;)Lr=xn[--En],xn[En]=null,Kn=xn[--En],xn[En]=null,Yn=xn[--En],xn[En]=null}function uy(n,s){xn[En++]=Yn,xn[En++]=Kn,xn[En++]=Lr,Yn=s.id,Kn=s.overflow,Lr=n}var Ct=null,et=null,Me=!1,Ur=null,Tn=!1,zd=Error(i(519));function zr(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eo(wn(s,n)),zd}function dy(n){var s=n.stateNode,a=n.type,c=n.memoizedProps;switch(s[At]=n,s[Ft]=c,a){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(a=0;a<xo.length;a++)Ne(xo[a],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),Eg(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),kg(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Cv(s.textContent,a)?(c.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),c.onScroll!=null&&Ne("scroll",s),c.onScrollEnd!=null&&Ne("scrollend",s),c.onClick!=null&&(s.onclick=sr),s=!0):s=!1,s||zr(n,!0)}function fy(n){for(Ct=n.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Ct=Ct.return}}function ki(n){if(n!==Ct)return!1;if(!Me)return fy(n),Me=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||rh(n.type,n.memoizedProps)),a=!a),a&&et&&zr(n),fy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=Uv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=Uv(n)}else s===27?(s=et,Qr(n.type)?(n=lh,lh=null,et=n):et=s):et=Ct?An(n.stateNode.nextSibling):null;return!0}function Os(){et=Ct=null,Me=!1}function Bd(){var n=Ur;return n!==null&&(Wt===null?Wt=n:Wt.push.apply(Wt,n),Ur=null),n}function eo(n){Ur===null?Ur=[n]:Ur.push(n)}var Hd=ve(null),Rs=null,lr=null;function Br(n,s,a){X(Hd,s._currentValue),s._currentValue=a}function cr(n){n._currentValue=Hd.current,ue(Hd)}function Pd(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function $d(n,s,a,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var y=d.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=d;for(var T=0;T<s.length;T++)if(w.context===s[T]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),Pd(p.return,a,n),c||(y=null);break e}p=w.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=a,p=y.alternate,p!==null&&(p.lanes|=a),Pd(y,a,n),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function Ai(n,s,a,c){n=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var w=d.type;an(d.pendingProps.value,y.value)||(n!==null?n.push(w):n=[w])}}else if(d===Ue.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Co):n=[Co])}d=d.return}n!==null&&$d(s,n,a,c),s.flags|=262144}function Pl(n){for(n=n.firstContext;n!==null;){if(!an(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function js(n){Rs=n,lr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Nt(n){return hy(Rs,n)}function $l(n,s){return Rs===null&&js(n),hy(n,s)}function hy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},lr===null){if(n===null)throw Error(i(308));lr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else lr=lr.next=s;return a}var N1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},O1=t.unstable_scheduleCallback,R1=t.unstable_NormalPriority,dt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new N1,data:new Map,refCount:0}}function to(n){n.refCount--,n.refCount===0&&O1(R1,function(){n.controller.abort()})}var no=null,Fd=0,Ci=0,Ni=null;function j1(n,s){if(no===null){var a=no=[];Fd=0,Ci=Kf(),Ni={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Fd++,s.then(py,py),s}function py(){if(--Fd===0&&no!==null){Ni!==null&&(Ni.status="fulfilled");var n=no;no=null,Ci=0,Ni=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function M1(n,s){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var my=M.S;M.S=function(n,s){Qb=ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&j1(n,s),my!==null&&my(n,s)};var Ms=ve(null);function Gd(){var n=Ms.current;return n!==null?n:Xe.pooledCache}function ql(n,s){s===null?X(Ms,Ms.current):X(Ms,s.pool)}function gy(){var n=Gd();return n===null?null:{parent:dt._currentValue,pool:n}}var Oi=Error(i(460)),Vd=Error(i(474)),Fl=Error(i(542)),Gl={then:function(){}};function yy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function by(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(sr,sr),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,_y(n),n;default:if(typeof s.status=="string")s.then(sr,sr);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,_y(n),n}throw Ds=s,Oi}}function Is(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,Oi):a}}var Ds=null;function vy(){if(Ds===null)throw Error(i(459));var n=Ds;return Ds=null,n}function _y(n){if(n===Oi||n===Fl)throw Error(i(483))}var Ri=null,ro=0;function Vl(n){var s=ro;return ro+=1,Ri===null&&(Ri=[]),by(Ri,n,s)}function so(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Yl(n,s){throw s.$$typeof===_?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Sy(n){function s(C,A){if(n){var R=C.deletions;R===null?(C.deletions=[A],C.flags|=16):R.push(A)}}function a(C,A){if(!n)return null;for(;A!==null;)s(C,A),A=A.sibling;return null}function c(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function d(C,A){return C=ar(C,A),C.index=0,C.sibling=null,C}function p(C,A,R){return C.index=R,n?(R=C.alternate,R!==null?(R=R.index,R<A?(C.flags|=67108866,A):R):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function y(C){return n&&C.alternate===null&&(C.flags|=67108866),C}function w(C,A,R,H){return A===null||A.tag!==6?(A=Id(R,C.mode,H),A.return=C,A):(A=d(A,R),A.return=C,A)}function T(C,A,R,H){var oe=R.type;return oe===k?z(C,A,R.props.children,H,R.key):A!==null&&(A.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&Is(oe)===A.type)?(A=d(A,R.props),so(A,R),A.return=C,A):(A=Bl(R.type,R.key,R.props,null,C.mode,H),so(A,R),A.return=C,A)}function j(C,A,R,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=Dd(R,C.mode,H),A.return=C,A):(A=d(A,R.children||[]),A.return=C,A)}function z(C,A,R,H,oe){return A===null||A.tag!==7?(A=Ns(R,C.mode,H,oe),A.return=C,A):(A=d(A,R),A.return=C,A)}function $(C,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Id(""+A,C.mode,R),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return R=Bl(A.type,A.key,A.props,null,C.mode,R),so(R,A),R.return=C,R;case x:return A=Dd(A,C.mode,R),A.return=C,A;case P:return A=Is(A),$(C,A,R)}if(ke(A)||le(A))return A=Ns(A,C.mode,R,null),A.return=C,A;if(typeof A.then=="function")return $(C,Vl(A),R);if(A.$$typeof===N)return $(C,$l(C,A),R);Yl(C,A)}return null}function I(C,A,R,H){var oe=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return oe!==null?null:w(C,A,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===oe?T(C,A,R,H):null;case x:return R.key===oe?j(C,A,R,H):null;case P:return R=Is(R),I(C,A,R,H)}if(ke(R)||le(R))return oe!==null?null:z(C,A,R,H,null);if(typeof R.then=="function")return I(C,A,Vl(R),H);if(R.$$typeof===N)return I(C,A,$l(C,R),H);Yl(C,R)}return null}function L(C,A,R,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return C=C.get(R)||null,w(A,C,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return C=C.get(H.key===null?R:H.key)||null,T(A,C,H,oe);case x:return C=C.get(H.key===null?R:H.key)||null,j(A,C,H,oe);case P:return H=Is(H),L(C,A,R,H,oe)}if(ke(H)||le(H))return C=C.get(R)||null,z(A,C,H,oe,null);if(typeof H.then=="function")return L(C,A,R,Vl(H),oe);if(H.$$typeof===N)return L(C,A,R,$l(A,H),oe);Yl(A,H)}return null}function Q(C,A,R,H){for(var oe=null,He=null,ne=A,we=A=0,Re=null;ne!==null&&we<R.length;we++){ne.index>we?(Re=ne,ne=null):Re=ne.sibling;var Pe=I(C,ne,R[we],H);if(Pe===null){ne===null&&(ne=Re);break}n&&ne&&Pe.alternate===null&&s(C,ne),A=p(Pe,A,we),He===null?oe=Pe:He.sibling=Pe,He=Pe,ne=Re}if(we===R.length)return a(C,ne),Me&&or(C,we),oe;if(ne===null){for(;we<R.length;we++)ne=$(C,R[we],H),ne!==null&&(A=p(ne,A,we),He===null?oe=ne:He.sibling=ne,He=ne);return Me&&or(C,we),oe}for(ne=c(ne);we<R.length;we++)Re=L(ne,C,we,R[we],H),Re!==null&&(n&&Re.alternate!==null&&ne.delete(Re.key===null?we:Re.key),A=p(Re,A,we),He===null?oe=Re:He.sibling=Re,He=Re);return n&&ne.forEach(function(rs){return s(C,rs)}),Me&&or(C,we),oe}function de(C,A,R,H){if(R==null)throw Error(i(151));for(var oe=null,He=null,ne=A,we=A=0,Re=null,Pe=R.next();ne!==null&&!Pe.done;we++,Pe=R.next()){ne.index>we?(Re=ne,ne=null):Re=ne.sibling;var rs=I(C,ne,Pe.value,H);if(rs===null){ne===null&&(ne=Re);break}n&&ne&&rs.alternate===null&&s(C,ne),A=p(rs,A,we),He===null?oe=rs:He.sibling=rs,He=rs,ne=Re}if(Pe.done)return a(C,ne),Me&&or(C,we),oe;if(ne===null){for(;!Pe.done;we++,Pe=R.next())Pe=$(C,Pe.value,H),Pe!==null&&(A=p(Pe,A,we),He===null?oe=Pe:He.sibling=Pe,He=Pe);return Me&&or(C,we),oe}for(ne=c(ne);!Pe.done;we++,Pe=R.next())Pe=L(ne,C,we,Pe.value,H),Pe!==null&&(n&&Pe.alternate!==null&&ne.delete(Pe.key===null?we:Pe.key),A=p(Pe,A,we),He===null?oe=Pe:He.sibling=Pe,He=Pe);return n&&ne.forEach(function(Fk){return s(C,Fk)}),Me&&or(C,we),oe}function We(C,A,R,H){if(typeof R=="object"&&R!==null&&R.type===k&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var oe=R.key;A!==null;){if(A.key===oe){if(oe=R.type,oe===k){if(A.tag===7){a(C,A.sibling),H=d(A,R.props.children),H.return=C,C=H;break e}}else if(A.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===P&&Is(oe)===A.type){a(C,A.sibling),H=d(A,R.props),so(H,R),H.return=C,C=H;break e}a(C,A);break}else s(C,A);A=A.sibling}R.type===k?(H=Ns(R.props.children,C.mode,H,R.key),H.return=C,C=H):(H=Bl(R.type,R.key,R.props,null,C.mode,H),so(H,R),H.return=C,C=H)}return y(C);case x:e:{for(oe=R.key;A!==null;){if(A.key===oe)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){a(C,A.sibling),H=d(A,R.children||[]),H.return=C,C=H;break e}else{a(C,A);break}else s(C,A);A=A.sibling}H=Dd(R,C.mode,H),H.return=C,C=H}return y(C);case P:return R=Is(R),We(C,A,R,H)}if(ke(R))return Q(C,A,R,H);if(le(R)){if(oe=le(R),typeof oe!="function")throw Error(i(150));return R=oe.call(R),de(C,A,R,H)}if(typeof R.then=="function")return We(C,A,Vl(R),H);if(R.$$typeof===N)return We(C,A,$l(C,R),H);Yl(C,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(a(C,A.sibling),H=d(A,R),H.return=C,C=H):(a(C,A),H=Id(R,C.mode,H),H.return=C,C=H),y(C)):a(C,A)}return function(C,A,R,H){try{ro=0;var oe=We(C,A,R,H);return Ri=null,oe}catch(ne){if(ne===Oi||ne===Fl)throw ne;var He=on(29,ne,null,C.mode);return He.lanes=H,He.return=C,He}finally{}}}var Ls=Sy(!0),wy=Sy(!1),Hr=!1;function Yd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $r(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=zl(n),iy(n,null,a),s}return Ul(n,c,s,a),zl(n)}function io(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,hg(n,a)}}function Wd(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=y:p=p.next=y,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Xd=!1;function ao(){if(Xd){var n=Ni;if(n!==null)throw n}}function oo(n,s,a,c){Xd=!1;var d=n.updateQueue;Hr=!1;var p=d.firstBaseUpdate,y=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var T=w,j=T.next;T.next=null,y===null?p=j:y.next=j,y=T;var z=n.alternate;z!==null&&(z=z.updateQueue,w=z.lastBaseUpdate,w!==y&&(w===null?z.firstBaseUpdate=j:w.next=j,z.lastBaseUpdate=T))}if(p!==null){var $=d.baseState;y=0,z=j=T=null,w=p;do{var I=w.lane&-536870913,L=I!==w.lane;if(L?(Oe&I)===I:(c&I)===I){I!==0&&I===Ci&&(Xd=!0),z!==null&&(z=z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Q=n,de=w;I=s;var We=a;switch(de.tag){case 1:if(Q=de.payload,typeof Q=="function"){$=Q.call(We,$,I);break e}$=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=de.payload,I=typeof Q=="function"?Q.call(We,$,I):Q,I==null)break e;$=v({},$,I);break e;case 2:Hr=!0}}I=w.callback,I!==null&&(n.flags|=64,L&&(n.flags|=8192),L=d.callbacks,L===null?d.callbacks=[I]:L.push(I))}else L={lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},z===null?(j=z=L,T=$):z=z.next=L,y|=I;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;L=w,w=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);z===null&&(T=$),d.baseState=T,d.firstBaseUpdate=j,d.lastBaseUpdate=z,p===null&&(d.shared.lanes=0),Yr|=y,n.lanes=y,n.memoizedState=$}}function xy(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Ey(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)xy(a[n],s)}var ji=ve(null),Kl=ve(0);function Ty(n,s){n=br,X(Kl,n),X(ji,s),br=n|s.baseLanes}function Jd(){X(Kl,br),X(ji,ji.current)}function Qd(){br=Kl.current,ue(ji),ue(Kl)}var ln=ve(null),kn=null;function qr(n){var s=n.alternate;X(ct,ct.current&1),X(ln,n),kn===null&&(s===null||ji.current!==null||s.memoizedState!==null)&&(kn=n)}function Zd(n){X(ct,ct.current),X(ln,n),kn===null&&(kn=n)}function ky(n){n.tag===22?(X(ct,ct.current),X(ln,n),kn===null&&(kn=n)):Fr()}function Fr(){X(ct,ct.current),X(ln,ln.current)}function cn(n){ue(ln),kn===n&&(kn=null),ue(ct)}var ct=ve(0);function Wl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ah(a)||oh(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ur=0,Se=null,Ye=null,ft=null,Xl=!1,Mi=!1,Us=!1,Jl=0,lo=0,Ii=null,I1=0;function it(){throw Error(i(321))}function ef(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!an(n[a],s[a]))return!1;return!0}function tf(n,s,a,c,d,p){return ur=p,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=n===null||n.memoizedState===null?cb:yf,Us=!1,p=a(c,d),Us=!1,Mi&&(p=Cy(s,a,c,d)),Ay(n),p}function Ay(n){M.H=fo;var s=Ye!==null&&Ye.next!==null;if(ur=0,ft=Ye=Se=null,Xl=!1,lo=0,Ii=null,s)throw Error(i(300));n===null||ht||(n=n.dependencies,n!==null&&Pl(n)&&(ht=!0))}function Cy(n,s,a,c){Se=n;var d=0;do{if(Mi&&(Ii=null),lo=0,Mi=!1,25<=d)throw Error(i(301));if(d+=1,ft=Ye=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}M.H=ub,p=s(a,c)}while(Mi);return p}function D1(){var n=M.H,s=n.useState()[0];return s=typeof s.then=="function"?co(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Se.flags|=1024),s}function nf(){var n=Jl!==0;return Jl=0,n}function rf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function sf(n){if(Xl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xl=!1}ur=0,ft=Ye=Se=null,Mi=!1,lo=Jl=0,Ii=null}function Ut(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Se.memoizedState=ft=n:ft=ft.next=n,ft}function ut(){if(Ye===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=ft===null?Se.memoizedState:ft.next;if(s!==null)ft=s,Ye=n;else{if(n===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ft===null?Se.memoizedState=ft=n:ft=ft.next=n}return ft}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(n){var s=lo;return lo+=1,Ii===null&&(Ii=[]),n=by(Ii,n,s),s=Se,(ft===null?s.memoizedState:ft.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?cb:yf),n}function Zl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return co(n);if(n.$$typeof===N)return Nt(n)}throw Error(i(438,String(n)))}function af(n){var s=null,a=Se.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Se.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ql(),Se.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),c=0;c<n;c++)a[c]=W;return s.index++,a}function dr(n,s){return typeof s=="function"?s(n):s}function ec(n){var s=ut();return of(s,Ye,n)}function of(n,s,a){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var y=d.next;d.next=p.next,p.next=y}s.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{s=d.next;var w=y=null,T=null,j=s,z=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Oe&$)===$:(ur&$)===$){var I=j.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ci&&(z=!0);else if((ur&I)===I){j=j.next,I===Ci&&(z=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},T===null?(w=T=$,y=p):T=T.next=$,Se.lanes|=I,Yr|=I;$=j.action,Us&&a(p,$),p=j.hasEagerState?j.eagerState:a(p,$)}else I={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},T===null?(w=T=I,y=p):T=T.next=I,Se.lanes|=$,Yr|=$;j=j.next}while(j!==null&&j!==s);if(T===null?y=p:T.next=w,!an(p,n.memoizedState)&&(ht=!0,z&&(a=Ni,a!==null)))throw a;n.memoizedState=p,n.baseState=y,n.baseQueue=T,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function lf(n){var s=ut(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var y=d=d.next;do p=n(p,y.action),y=y.next;while(y!==d);an(p,s.memoizedState)||(ht=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function Ny(n,s,a){var c=Se,d=ut(),p=Me;if(p){if(a===void 0)throw Error(i(407));a=a()}else a=s();var y=!an((Ye||d).memoizedState,a);if(y&&(d.memoizedState=a,ht=!0),d=d.queue,df(jy.bind(null,c,d,n),[n]),d.getSnapshot!==s||y||ft!==null&&ft.memoizedState.tag&1){if(c.flags|=2048,Di(9,{destroy:void 0},Ry.bind(null,c,d,a,s),null),Xe===null)throw Error(i(349));p||(ur&127)!==0||Oy(c,s,a)}return a}function Oy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Se.updateQueue,s===null?(s=Ql(),Se.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Ry(n,s,a,c){s.value=a,s.getSnapshot=c,My(s)&&Iy(n)}function jy(n,s,a){return a(function(){My(s)&&Iy(n)})}function My(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!an(n,a)}catch{return!0}}function Iy(n){var s=Cs(n,2);s!==null&&Xt(s,n,2)}function cf(n){var s=Ut();if(typeof n=="function"){var a=n;if(n=a(),Us){Mr(!0);try{a()}finally{Mr(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:n},s}function Dy(n,s,a,c){return n.baseState=a,of(n,Ye,typeof c=="function"?c:dr)}function L1(n,s,a,c,d){if(rc(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){p.listeners.push(y)}};M.T!==null?a(!0):p.isTransition=!1,c(p),a=s.pending,a===null?(p.next=s.pending=p,Ly(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Ly(n,s){var a=s.action,c=s.payload,d=n.state;if(s.isTransition){var p=M.T,y={};M.T=y;try{var w=a(d,c),T=M.S;T!==null&&T(y,w),Uy(n,s,w)}catch(j){uf(n,s,j)}finally{p!==null&&y.types!==null&&(p.types=y.types),M.T=p}}else try{p=a(d,c),Uy(n,s,p)}catch(j){uf(n,s,j)}}function Uy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){zy(n,s,c)},function(c){return uf(n,s,c)}):zy(n,s,a)}function zy(n,s,a){s.status="fulfilled",s.value=a,By(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Ly(n,a)))}function uf(n,s,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,By(s),s=s.next;while(s!==c)}n.action=null}function By(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Hy(n,s){return s}function Py(n,s){if(Me){var a=Xe.formState;if(a!==null){e:{var c=Se;if(Me){if(et){t:{for(var d=et,p=Tn;d.nodeType!==8;){if(!p){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){et=An(d.nextSibling),c=d.data==="F!";break e}}zr(c)}c=!1}c&&(s=a[0])}}return a=Ut(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:s},a.queue=c,a=ab.bind(null,Se,c),c.dispatch=a,c=cf(!1),p=gf.bind(null,Se,!1,c.queue),c=Ut(),d={state:s,dispatch:null,action:n,pending:null},c.queue=d,a=L1.bind(null,Se,d,p,a),d.dispatch=a,c.memoizedState=n,[s,a,!1]}function $y(n){var s=ut();return qy(s,Ye,n)}function qy(n,s,a){if(s=of(n,s,Hy)[0],n=ec(dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=co(s)}catch(y){throw y===Oi?Fl:y}else c=s;s=ut();var d=s.queue,p=d.dispatch;return a!==s.memoizedState&&(Se.flags|=2048,Di(9,{destroy:void 0},U1.bind(null,d,a),null)),[c,p,n]}function U1(n,s){n.action=s}function Fy(n){var s=ut(),a=Ye;if(a!==null)return qy(s,a,n);ut(),s=s.memoizedState,a=ut();var c=a.queue.dispatch;return a.memoizedState=n,[s,c,!1]}function Di(n,s,a,c){return n={tag:n,create:a,deps:c,inst:s,next:null},s=Se.updateQueue,s===null&&(s=Ql(),Se.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n),n}function Gy(){return ut().memoizedState}function tc(n,s,a,c){var d=Ut();Se.flags|=n,d.memoizedState=Di(1|s,{destroy:void 0},a,c===void 0?null:c)}function nc(n,s,a,c){var d=ut();c=c===void 0?null:c;var p=d.memoizedState.inst;Ye!==null&&c!==null&&ef(c,Ye.memoizedState.deps)?d.memoizedState=Di(s,p,a,c):(Se.flags|=n,d.memoizedState=Di(1|s,p,a,c))}function Vy(n,s){tc(8390656,8,n,s)}function df(n,s){nc(2048,8,n,s)}function z1(n){Se.flags|=4;var s=Se.updateQueue;if(s===null)s=Ql(),Se.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Yy(n){var s=ut().memoizedState;return z1({ref:s,nextImpl:n}),function(){if(($e&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Ky(n,s){return nc(4,2,n,s)}function Wy(n,s){return nc(4,4,n,s)}function Xy(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Jy(n,s,a){a=a!=null?a.concat([n]):null,nc(4,4,Xy.bind(null,s,n),a)}function ff(){}function Qy(n,s){var a=ut();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&ef(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Zy(n,s){var a=ut();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&ef(s,c[1]))return c[0];if(c=n(),Us){Mr(!0);try{n()}finally{Mr(!1)}}return a.memoizedState=[c,s],c}function hf(n,s,a){return a===void 0||(ur&1073741824)!==0&&(Oe&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=ev(),Se.lanes|=n,Yr|=n,a)}function eb(n,s,a,c){return an(a,s)?a:ji.current!==null?(n=hf(n,a,c),an(n,s)||(ht=!0),n):(ur&42)===0||(ur&1073741824)!==0&&(Oe&261930)===0?(ht=!0,n.memoizedState=a):(n=ev(),Se.lanes|=n,Yr|=n,s)}function tb(n,s,a,c,d){var p=F.p;F.p=p!==0&&8>p?p:8;var y=M.T,w={};M.T=w,gf(n,!1,s,a);try{var T=d(),j=M.S;if(j!==null&&j(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=M1(T,c);uo(n,s,z,fn(n))}else uo(n,s,c,fn(n))}catch($){uo(n,s,{then:function(){},status:"rejected",reason:$},fn())}finally{F.p=p,y!==null&&w.types!==null&&(y.types=w.types),M.T=y}}function B1(){}function pf(n,s,a,c){if(n.tag!==5)throw Error(i(476));var d=nb(n).queue;tb(n,d,s,O,a===null?B1:function(){return rb(n),a(c)})}function nb(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:O},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function rb(n){var s=nb(n);s.next===null&&(s=n.alternate.memoizedState),uo(n,s.next.queue,{},fn())}function mf(){return Nt(Co)}function sb(){return ut().memoizedState}function ib(){return ut().memoizedState}function H1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=fn();n=Pr(a);var c=$r(s,n,a);c!==null&&(Xt(c,s,a),io(c,s,a)),s={cache:qd()},n.payload=s;return}s=s.return}}function P1(n,s,a){var c=fn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(n)?ob(s,a):(a=jd(n,s,a,c),a!==null&&(Xt(a,n,c),lb(a,s,c)))}function ab(n,s,a){var c=fn();uo(n,s,a,c)}function uo(n,s,a,c){var d={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(n))ob(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var y=s.lastRenderedState,w=p(y,a);if(d.hasEagerState=!0,d.eagerState=w,an(w,y))return Ul(n,s,d,0),Xe===null&&Ll(),!1}catch{}finally{}if(a=jd(n,s,d,c),a!==null)return Xt(a,n,c),lb(a,s,c),!0}return!1}function gf(n,s,a,c){if(c={lane:2,revertLane:Kf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},rc(n)){if(s)throw Error(i(479))}else s=jd(n,a,c,2),s!==null&&Xt(s,n,2)}function rc(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function ob(n,s){Mi=Xl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function lb(n,s,a){if((a&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,hg(n,a)}}var fo={readContext:Nt,use:Zl,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};fo.useEffectEvent=it;var cb={readContext:Nt,use:Zl,useCallback:function(n,s){return Ut().memoizedState=[n,s===void 0?null:s],n},useContext:Nt,useEffect:Vy,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,tc(4194308,4,Xy.bind(null,s,n),a)},useLayoutEffect:function(n,s){return tc(4194308,4,n,s)},useInsertionEffect:function(n,s){tc(4,2,n,s)},useMemo:function(n,s){var a=Ut();s=s===void 0?null:s;var c=n();if(Us){Mr(!0);try{n()}finally{Mr(!1)}}return a.memoizedState=[c,s],c},useReducer:function(n,s,a){var c=Ut();if(a!==void 0){var d=a(s);if(Us){Mr(!0);try{a(s)}finally{Mr(!1)}}}else d=s;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=P1.bind(null,Se,n),[c.memoizedState,n]},useRef:function(n){var s=Ut();return n={current:n},s.memoizedState=n},useState:function(n){n=cf(n);var s=n.queue,a=ab.bind(null,Se,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(n,s){var a=Ut();return hf(a,n,s)},useTransition:function(){var n=cf(!1);return n=tb.bind(null,Se,n.queue,!0,!1),Ut().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var c=Se,d=Ut();if(Me){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Xe===null)throw Error(i(349));(Oe&127)!==0||Oy(c,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,Vy(jy.bind(null,c,p,n),[n]),c.flags|=2048,Di(9,{destroy:void 0},Ry.bind(null,c,p,a,s),null),a},useId:function(){var n=Ut(),s=Xe.identifierPrefix;if(Me){var a=Kn,c=Yn;a=(c&~(1<<32-sn(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Jl++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=I1++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:mf,useFormState:Py,useActionState:Py,useOptimistic:function(n){var s=Ut();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=gf.bind(null,Se,!0,a),a.dispatch=s,[n,s]},useMemoCache:af,useCacheRefresh:function(){return Ut().memoizedState=H1.bind(null,Se)},useEffectEvent:function(n){var s=Ut(),a={impl:n};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},yf={readContext:Nt,use:Zl,useCallback:Qy,useContext:Nt,useEffect:df,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Wy,useMemo:Zy,useReducer:ec,useRef:Gy,useState:function(){return ec(dr)},useDebugValue:ff,useDeferredValue:function(n,s){var a=ut();return eb(a,Ye.memoizedState,n,s)},useTransition:function(){var n=ec(dr)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:co(n),s]},useSyncExternalStore:Ny,useId:sb,useHostTransitionStatus:mf,useFormState:$y,useActionState:$y,useOptimistic:function(n,s){var a=ut();return Dy(a,Ye,n,s)},useMemoCache:af,useCacheRefresh:ib};yf.useEffectEvent=Yy;var ub={readContext:Nt,use:Zl,useCallback:Qy,useContext:Nt,useEffect:df,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Wy,useMemo:Zy,useReducer:lf,useRef:Gy,useState:function(){return lf(dr)},useDebugValue:ff,useDeferredValue:function(n,s){var a=ut();return Ye===null?hf(a,n,s):eb(a,Ye.memoizedState,n,s)},useTransition:function(){var n=lf(dr)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:co(n),s]},useSyncExternalStore:Ny,useId:sb,useHostTransitionStatus:mf,useFormState:Fy,useActionState:Fy,useOptimistic:function(n,s){var a=ut();return Ye!==null?Dy(a,Ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:af,useCacheRefresh:ib};ub.useEffectEvent=Yy;function bf(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vf={enqueueSetState:function(n,s,a){n=n._reactInternals;var c=fn(),d=Pr(c);d.payload=s,a!=null&&(d.callback=a),s=$r(n,d,c),s!==null&&(Xt(s,n,c),io(s,n,c))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=fn(),d=Pr(c);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=$r(n,d,c),s!==null&&(Xt(s,n,c),io(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=fn(),c=Pr(a);c.tag=2,s!=null&&(c.callback=s),s=$r(n,c,a),s!==null&&(Xt(s,n,a),io(s,n,a))}};function db(n,s,a,c,d,p,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,y):s.prototype&&s.prototype.isPureReactComponent?!Ja(a,c)||!Ja(d,p):!0}function fb(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&vf.enqueueReplaceState(s,s.state,null)}function zs(n,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function hb(n){Dl(n)}function pb(n){console.error(n)}function mb(n){Dl(n)}function sc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function gb(n,s,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _f(n,s,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(n,s)},a}function yb(n){return n=Pr(n),n.tag=3,n}function bb(n,s,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){gb(s,a,c)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){gb(s,a,c),typeof d!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function $1(n,s,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Ai(s,a,d,!0),a=ln.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?gc():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===Gl?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Gf(n,c,d)),!1;case 22:return a.flags|=65536,c===Gl?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Gf(n,c,d)),!1}throw Error(i(435,a.tag))}return Gf(n,c,d),gc(),!1}if(Me)return s=ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==zd&&(n=Error(i(422),{cause:c}),eo(wn(n,a)))):(c!==zd&&(s=Error(i(423),{cause:c}),eo(wn(s,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=wn(c,a),d=_f(n.stateNode,c,d),Wd(n,d),at!==4&&(at=2)),!1;var p=Error(i(520),{cause:c});if(p=wn(p,a),_o===null?_o=[p]:_o.push(p),at!==4&&(at=2),s===null)return!0;c=wn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=_f(a.stateNode,c,n),Wd(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kr===null||!Kr.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=yb(d),bb(d,n,a,c),Wd(a,d),!1}a=a.return}while(a!==null);return!1}var Sf=Error(i(461)),ht=!1;function Ot(n,s,a,c){s.child=n===null?wy(s,null,a,c):Ls(s,n.child,a,c)}function vb(n,s,a,c,d){a=a.render;var p=s.ref;if("ref"in c){var y={};for(var w in c)w!=="ref"&&(y[w]=c[w])}else y=c;return js(s),c=tf(n,s,a,y,p,d),w=nf(),n!==null&&!ht?(rf(n,s,d),fr(n,s,d)):(Me&&w&&Ld(s),s.flags|=1,Ot(n,s,c,d),s.child)}function _b(n,s,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!Md(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,Sb(n,s,p,c,d)):(n=Bl(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Nf(n,d)){var y=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ja,a(y,c)&&n.ref===s.ref)return fr(n,s,d)}return s.flags|=1,n=ar(p,c),n.ref=s.ref,n.return=s,s.child=n}function Sb(n,s,a,c,d){if(n!==null){var p=n.memoizedProps;if(Ja(p,c)&&n.ref===s.ref)if(ht=!1,s.pendingProps=c=p,Nf(n,d))(n.flags&131072)!==0&&(ht=!0);else return s.lanes=n.lanes,fr(n,s,d)}return wf(n,s,a,c,d)}function wb(n,s,a,c){var d=c.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(c=s.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,s.child=null;return xb(n,s,p,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ql(s,p!==null?p.cachePool:null),p!==null?Ty(s,p):Jd(),ky(s);else return c=s.lanes=536870912,xb(n,s,p!==null?p.baseLanes|a:a,a,c)}else p!==null?(ql(s,p.cachePool),Ty(s,p),Fr(),s.memoizedState=null):(n!==null&&ql(s,null),Jd(),Fr());return Ot(n,s,d,a),s.child}function ho(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function xb(n,s,a,c,d){var p=Gd();return p=p===null?null:{parent:dt._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&ql(s,null),Jd(),ky(s),n!==null&&Ai(n,s,c,!0),s.childLanes=d,null}function ic(n,s){return s=oc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Eb(n,s,a){return Ls(s,n.child,null,a),n=ic(s,s.pendingProps),n.flags|=2,cn(s),s.memoizedState=null,n}function q1(n,s,a){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Me){if(c.mode==="hidden")return n=ic(s,c),s.lanes=536870912,ho(null,n);if(Zd(s),(n=et)?(n=Lv(n,Tn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},a=oy(n),a.return=s,s.child=a,Ct=s,et=null)):n=null,n===null)throw zr(s);return s.lanes=536870912,null}return ic(s,c)}var p=n.memoizedState;if(p!==null){var y=p.dehydrated;if(Zd(s),d)if(s.flags&256)s.flags&=-257,s=Eb(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(ht||Ai(n,s,a,!1),d=(a&n.childLanes)!==0,ht||d){if(c=Xe,c!==null&&(y=pg(c,a),y!==0&&y!==p.retryLane))throw p.retryLane=y,Cs(n,y),Xt(c,n,y),Sf;gc(),s=Eb(n,s,a)}else n=p.treeContext,et=An(y.nextSibling),Ct=s,Me=!0,Ur=null,Tn=!1,n!==null&&uy(s,n),s=ic(s,c),s.flags|=4096;return s}return n=ar(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ac(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function wf(n,s,a,c,d){return js(s),a=tf(n,s,a,c,void 0,d),c=nf(),n!==null&&!ht?(rf(n,s,d),fr(n,s,d)):(Me&&c&&Ld(s),s.flags|=1,Ot(n,s,a,d),s.child)}function Tb(n,s,a,c,d,p){return js(s),s.updateQueue=null,a=Cy(s,c,a,d),Ay(n),c=nf(),n!==null&&!ht?(rf(n,s,p),fr(n,s,p)):(Me&&c&&Ld(s),s.flags|=1,Ot(n,s,a,p),s.child)}function kb(n,s,a,c,d){if(js(s),s.stateNode===null){var p=xi,y=a.contextType;typeof y=="object"&&y!==null&&(p=Nt(y)),p=new a(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=vf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},Yd(s),y=a.contextType,p.context=typeof y=="object"&&y!==null?Nt(y):xi,p.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(bf(s,a,y,c),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(y=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),y!==p.state&&vf.enqueueReplaceState(p,p.state,null),oo(s,c,p,d),ao(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){p=s.stateNode;var w=s.memoizedProps,T=zs(a,w);p.props=T;var j=p.context,z=a.contextType;y=xi,typeof z=="object"&&z!==null&&(y=Nt(z));var $=a.getDerivedStateFromProps;z=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||j!==y)&&fb(s,p,c,y),Hr=!1;var I=s.memoizedState;p.state=I,oo(s,c,p,d),ao(),j=s.memoizedState,w||I!==j||Hr?(typeof $=="function"&&(bf(s,a,$,c),j=s.memoizedState),(T=Hr||db(s,a,T,c,I,j,y))?(z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=j),p.props=c,p.state=j,p.context=y,c=T):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,Kd(n,s),y=s.memoizedProps,z=zs(a,y),p.props=z,$=s.pendingProps,I=p.context,j=a.contextType,T=xi,typeof j=="object"&&j!==null&&(T=Nt(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==$||I!==T)&&fb(s,p,c,T),Hr=!1,I=s.memoizedState,p.state=I,oo(s,c,p,d),ao();var L=s.memoizedState;y!==$||I!==L||Hr||n!==null&&n.dependencies!==null&&Pl(n.dependencies)?(typeof w=="function"&&(bf(s,a,w,c),L=s.memoizedState),(z=Hr||db(s,a,z,c,I,L,T)||n!==null&&n.dependencies!==null&&Pl(n.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,L,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,L,T)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=L),p.props=c,p.state=L,p.context=T,c=z):(typeof p.componentDidUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),c=!1)}return p=c,ac(n,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&c?(s.child=Ls(s,n.child,null,d),s.child=Ls(s,null,a,d)):Ot(n,s,a,d),s.memoizedState=p.state,n=s.child):n=fr(n,s,d),n}function Ab(n,s,a,c){return Os(),s.flags|=256,Ot(n,s,a,c),s.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(n){return{baseLanes:n,cachePool:gy()}}function Tf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=dn),n}function Cb(n,s,a){var c=s.pendingProps,d=!1,p=(s.flags&128)!==0,y;if((y=p)||(y=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),y&&(d=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,n===null){if(Me){if(d?qr(s):Fr(),(n=et)?(n=Lv(n,Tn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},a=oy(n),a.return=s,s.child=a,Ct=s,et=null)):n=null,n===null)throw zr(s);return oh(n)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(Fr(),d=s.mode,w=oc({mode:"hidden",children:w},d),c=Ns(c,d,a,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Ef(a),c.childLanes=Tf(n,y,a),s.memoizedState=xf,ho(null,c)):(qr(s),kf(s,w))}var T=n.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(p)s.flags&256?(qr(s),s.flags&=-257,s=Af(n,s,a)):s.memoizedState!==null?(Fr(),s.child=n.child,s.flags|=128,s=null):(Fr(),w=c.fallback,d=s.mode,c=oc({mode:"visible",children:c.children},d),w=Ns(w,d,a,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Ls(s,n.child,null,a),c=s.child,c.memoizedState=Ef(a),c.childLanes=Tf(n,y,a),s.memoizedState=xf,s=ho(null,c));else if(qr(s),oh(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var j=y.dgst;y=j,c=Error(i(419)),c.stack="",c.digest=y,eo({value:c,source:null,stack:null}),s=Af(n,s,a)}else if(ht||Ai(n,s,a,!1),y=(a&n.childLanes)!==0,ht||y){if(y=Xe,y!==null&&(c=pg(y,a),c!==0&&c!==T.retryLane))throw T.retryLane=c,Cs(n,c),Xt(y,n,c),Sf;ah(w)||gc(),s=Af(n,s,a)}else ah(w)?(s.flags|=192,s.child=n.child,s=null):(n=T.treeContext,et=An(w.nextSibling),Ct=s,Me=!0,Ur=null,Tn=!1,n!==null&&uy(s,n),s=kf(s,c.children),s.flags|=4096);return s}return d?(Fr(),w=c.fallback,d=s.mode,T=n.child,j=T.sibling,c=ar(T,{mode:"hidden",children:c.children}),c.subtreeFlags=T.subtreeFlags&65011712,j!==null?w=ar(j,w):(w=Ns(w,d,a,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,ho(null,c),c=s.child,w=n.child.memoizedState,w===null?w=Ef(a):(d=w.cachePool,d!==null?(T=dt._currentValue,d=d.parent!==T?{parent:T,pool:T}:d):d=gy(),w={baseLanes:w.baseLanes|a,cachePool:d}),c.memoizedState=w,c.childLanes=Tf(n,y,a),s.memoizedState=xf,ho(n.child,c)):(qr(s),a=n.child,n=a.sibling,a=ar(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,n!==null&&(y=s.deletions,y===null?(s.deletions=[n],s.flags|=16):y.push(n)),s.child=a,s.memoizedState=null,a)}function kf(n,s){return s=oc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function oc(n,s){return n=on(22,n,null,s),n.lanes=0,n}function Af(n,s,a){return Ls(s,n.child,null,a),n=kf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Nb(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Pd(n.return,s,a)}function Cf(n,s,a,c,d,p){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d,treeForkCount:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=d,y.treeForkCount=p)}function Ob(n,s,a){var c=s.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var y=ct.current,w=(y&2)!==0;if(w?(y=y&1|2,s.flags|=128):y&=1,X(ct,y),Ot(n,s,c,a),c=Me?Za:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Nb(n,a,s);else if(n.tag===19)Nb(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Wl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Cf(s,!1,d,a,p,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Wl(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Cf(s,!0,a,null,p,c);break;case"together":Cf(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function fr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Yr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ai(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=ar(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ar(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Nf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Pl(n)))}function F1(n,s,a){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),Br(s,dt,n.memoizedState.cache),Os();break;case 27:case 5:qt(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:Br(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(qr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Cb(n,s,a):(qr(s),n=fr(n,s,a),n!==null?n.sibling:null);qr(s);break;case 19:var d=(n.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Ai(n,s,a,!1),c=(a&s.childLanes)!==0),d){if(c)return Ob(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(ct,ct.current),c)break;return null;case 22:return s.lanes=0,wb(n,s,a,s.pendingProps);case 24:Br(s,dt,n.memoizedState.cache)}return fr(n,s,a)}function Rb(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ht=!0;else{if(!Nf(n,a)&&(s.flags&128)===0)return ht=!1,F1(n,s,a);ht=(n.flags&131072)!==0}else ht=!1,Me&&(s.flags&1048576)!==0&&cy(s,Za,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Is(s.elementType),s.type=n,typeof n=="function")Md(n)?(c=zs(n,c),s.tag=1,s=kb(null,s,n,c,a)):(s.tag=0,s=wf(null,s,n,c,a));else{if(n!=null){var d=n.$$typeof;if(d===q){s.tag=11,s=vb(null,s,n,c,a);break e}else if(d===U){s.tag=14,s=_b(null,s,n,c,a);break e}}throw s=Te(n)||n,Error(i(306,s,""))}}return s;case 0:return wf(n,s,s.type,s.pendingProps,a);case 1:return c=s.type,d=zs(c,s.pendingProps),kb(n,s,c,d,a);case 3:e:{if($t(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;d=p.element,Kd(n,s),oo(s,c,null,a);var y=s.memoizedState;if(c=y.cache,Br(s,dt,c),c!==p.cache&&$d(s,[dt],a,!0),ao(),c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Ab(n,s,c,a);break e}else if(c!==d){d=wn(Error(i(424)),s),eo(d),s=Ab(n,s,c,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(et=An(n.firstChild),Ct=s,Me=!0,Ur=null,Tn=!0,a=wy(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Os(),c===d){s=fr(n,s,a);break e}Ot(n,s,c,a)}s=s.child}return s;case 26:return ac(n,s),n===null?(a=$v(s.type,null,s.pendingProps,null))?s.memoizedState=a:Me||(a=s.type,n=s.pendingProps,c=xc(xt.current).createElement(a),c[At]=s,c[Ft]=n,Rt(c,a,n),Et(c),s.stateNode=c):s.memoizedState=$v(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return qt(s),n===null&&Me&&(c=s.stateNode=Bv(s.type,s.pendingProps,xt.current),Ct=s,Tn=!0,d=et,Qr(s.type)?(lh=d,et=An(c.firstChild)):et=d),Ot(n,s,s.pendingProps.children,a),ac(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Me&&((d=c=et)&&(c=_k(c,s.type,s.pendingProps,Tn),c!==null?(s.stateNode=c,Ct=s,et=An(c.firstChild),Tn=!1,d=!0):d=!1),d||zr(s)),qt(s),d=s.type,p=s.pendingProps,y=n!==null?n.memoizedProps:null,c=p.children,rh(d,p)?c=null:y!==null&&rh(d,y)&&(s.flags|=32),s.memoizedState!==null&&(d=tf(n,s,D1,null,null,a),Co._currentValue=d),ac(n,s),Ot(n,s,c,a),s.child;case 6:return n===null&&Me&&((n=a=et)&&(a=Sk(a,s.pendingProps,Tn),a!==null?(s.stateNode=a,Ct=s,et=null,n=!0):n=!1),n||zr(s)),null;case 13:return Cb(n,s,a);case 4:return $t(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Ls(s,null,c,a):Ot(n,s,c,a),s.child;case 11:return vb(n,s,s.type,s.pendingProps,a);case 7:return Ot(n,s,s.pendingProps,a),s.child;case 8:return Ot(n,s,s.pendingProps.children,a),s.child;case 12:return Ot(n,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Br(s,s.type,c.value),Ot(n,s,c.children,a),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,js(s),d=Nt(d),c=c(d),s.flags|=1,Ot(n,s,c,a),s.child;case 14:return _b(n,s,s.type,s.pendingProps,a);case 15:return Sb(n,s,s.type,s.pendingProps,a);case 19:return Ob(n,s,a);case 31:return q1(n,s,a);case 22:return wb(n,s,a,s.pendingProps);case 24:return js(s),c=Nt(dt),n===null?(d=Gd(),d===null&&(d=Xe,p=qd(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),s.memoizedState={parent:c,cache:d},Yd(s),Br(s,dt,d)):((n.lanes&a)!==0&&(Kd(n,s),oo(s,null,null,a),ao()),d=n.memoizedState,p=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Br(s,dt,c)):(c=p.cache,Br(s,dt,c),c!==d.cache&&$d(s,[dt],a,!0))),Ot(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function hr(n){n.flags|=4}function Of(n,s,a,c,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(sv())n.flags|=8192;else throw Ds=Gl,Vd}else n.flags&=-16777217}function jb(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Yv(s))if(sv())n.flags|=8192;else throw Ds=Gl,Vd}function lc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?dg():536870912,n.lanes|=s,Bi|=s)}function po(n,s){if(!Me)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function tt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function G1(n,s,a){var c=s.pendingProps;switch(Ud(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return a=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),cr(dt),jt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ki(s)?hr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bd())),tt(s),null;case 26:var d=s.type,p=s.memoizedState;return n===null?(hr(s),p!==null?(tt(s),jb(s,p)):(tt(s),Of(s,d,null,c,a))):p?p!==n.memoizedState?(hr(s),tt(s),jb(s,p)):(tt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&hr(s),tt(s),Of(s,d,n,c,a)),null;case 27:if(jn(s),a=xt.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&hr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}n=ge.current,ki(s)?dy(s):(n=Bv(d,c,a),s.stateNode=n,hr(s))}return tt(s),null;case 5:if(jn(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&hr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}if(p=ge.current,ki(s))dy(s);else{var y=xc(xt.current);switch(p){case 1:p=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=y.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?y.createElement("select",{is:c.is}):y.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?y.createElement(d,{is:c.is}):y.createElement(d)}}p[At]=s,p[Ft]=c;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)p.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=p;e:switch(Rt(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&hr(s)}}return tt(s),Of(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&hr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=xt.current,ki(s)){if(n=s.stateNode,a=s.memoizedProps,c=null,d=Ct,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[At]=s,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Cv(n.nodeValue,a)),n||zr(s,!0)}else n=xc(n).createTextNode(c),n[At]=s,s.stateNode=n}return tt(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(c=ki(s),a!==null){if(n===null){if(!c)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[At]=s}else Os(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),n=!1}else a=Bd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(cn(s),s):(cn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return tt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=ki(s),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[At]=s}else Os(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),d=!1}else d=Bd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(cn(s),s):(cn(s),null)}return cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),lc(s,s.updateQueue),tt(s),null);case 4:return jt(),n===null&&Qf(s.stateNode.containerInfo),tt(s),null;case 10:return cr(s.type),tt(s),null;case 19:if(ue(ct),c=s.memoizedState,c===null)return tt(s),null;if(d=(s.flags&128)!==0,p=c.rendering,p===null)if(d)po(c,!1);else{if(at!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Wl(n),p!==null){for(s.flags|=128,po(c,!1),n=p.updateQueue,s.updateQueue=n,lc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)ay(a,n),a=a.sibling;return X(ct,ct.current&1|2),Me&&or(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&ye()>hc&&(s.flags|=128,d=!0,po(c,!1),s.lanes=4194304)}else{if(!d)if(n=Wl(p),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,lc(s,n),po(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Me)return tt(s),null}else 2*ye()-c.renderingStartTime>hc&&a!==536870912&&(s.flags|=128,d=!0,po(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(n=c.last,n!==null?n.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ye(),n.sibling=null,a=ct.current,X(ct,d?a&1|2:a&1),Me&&or(s,c.treeForkCount),n):(tt(s),null);case 22:case 23:return cn(s),Qd(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),a=s.updateQueue,a!==null&&lc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),n!==null&&ue(Ms),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),cr(dt),tt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function V1(n,s){switch(Ud(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return cr(dt),jt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return jn(s),null;case 31:if(s.memoizedState!==null){if(cn(s),s.alternate===null)throw Error(i(340));Os()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Os()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(ct),null;case 4:return jt(),null;case 10:return cr(s.type),null;case 22:case 23:return cn(s),Qd(),n!==null&&ue(Ms),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return cr(dt),null;case 25:return null;default:return null}}function Mb(n,s){switch(Ud(s),s.tag){case 3:cr(dt),jt();break;case 26:case 27:case 5:jn(s);break;case 4:jt();break;case 31:s.memoizedState!==null&&cn(s);break;case 13:cn(s);break;case 19:ue(ct);break;case 10:cr(s.type);break;case 22:case 23:cn(s),Qd(),n!==null&&ue(Ms);break;case 24:cr(dt)}}function mo(n,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&n)===n){c=void 0;var p=a.create,y=a.inst;c=p(),y.destroy=c}a=a.next}while(a!==d)}}catch(w){Ge(s,s.return,w)}}function Gr(n,s,a){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var y=c.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,d=s;var T=a,j=w;try{j()}catch(z){Ge(d,T,z)}}}c=c.next}while(c!==p)}}catch(z){Ge(s,s.return,z)}}function Ib(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Ey(s,a)}catch(c){Ge(n,n.return,c)}}}function Db(n,s,a){a.props=zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Ge(n,s,c)}}function go(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(d){Ge(n,s,d)}}function Wn(n,s){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){Ge(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ge(n,s,d)}else a.current=null}function Lb(n){var s=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){Ge(n,n.return,d)}}function Rf(n,s,a){try{var c=n.stateNode;pk(c,n.type,a,s),c[Ft]=s}catch(d){Ge(n,n.return,d)}}function Ub(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qr(n.type)||n.tag===4}function jf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ub(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mf(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=sr));else if(c!==4&&(c===27&&Qr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Mf(n,s,a),n=n.sibling;n!==null;)Mf(n,s,a),n=n.sibling}function cc(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(c===27&&Qr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(cc(n,s,a),n=n.sibling;n!==null;)cc(n,s,a),n=n.sibling}function zb(n){var s=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Rt(s,c,a),s[At]=n,s[Ft]=a}catch(p){Ge(n,n.return,p)}}var pr=!1,pt=!1,If=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Y1(n,s){if(n=n.containerInfo,th=Oc,n=Jg(n),kd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var y=0,w=-1,T=-1,j=0,z=0,$=n,I=null;t:for(;;){for(var L;$!==a||d!==0&&$.nodeType!==3||(w=y+d),$!==p||c!==0&&$.nodeType!==3||(T=y+c),$.nodeType===3&&(y+=$.nodeValue.length),(L=$.firstChild)!==null;)I=$,$=L;for(;;){if($===n)break t;if(I===a&&++j===d&&(w=y),I===p&&++z===c&&(T=y),(L=$.nextSibling)!==null)break;$=I,I=$.parentNode}$=L}a=w===-1||T===-1?null:{start:w,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:n,selectionRange:a},Oc=!1,Tt=s;Tt!==null;)if(s=Tt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Tt=n;else for(;Tt!==null;){switch(s=Tt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,d=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var Q=zs(a.type,d);n=c.getSnapshotBeforeUpdate(Q,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(de){Ge(a,a.return,de)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)ih(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ih(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Tt=n;break}Tt=s.return}}function Hb(n,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:gr(n,a),c&4&&mo(5,a);break;case 1:if(gr(n,a),c&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(y){Ge(a,a.return,y)}else{var d=zs(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Ge(a,a.return,y)}}c&64&&Ib(a),c&512&&go(a,a.return);break;case 3:if(gr(n,a),c&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ey(n,s)}catch(y){Ge(a,a.return,y)}}break;case 27:s===null&&c&4&&zb(a);case 26:case 5:gr(n,a),s===null&&c&4&&Lb(a),c&512&&go(a,a.return);break;case 12:gr(n,a);break;case 31:gr(n,a),c&4&&qb(n,a);break;case 13:gr(n,a),c&4&&Fb(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=nk.bind(null,a),wk(n,a))));break;case 22:if(c=a.memoizedState!==null||pr,!c){s=s!==null&&s.memoizedState!==null||pt,d=pr;var p=pt;pr=c,(pt=s)&&!p?yr(n,a,(a.subtreeFlags&8772)!==0):gr(n,a),pr=d,pt=p}break;case 30:break;default:gr(n,a)}}function Pb(n){var s=n.alternate;s!==null&&(n.alternate=null,Pb(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&cd(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,Vt=!1;function mr(n,s,a){for(a=a.child;a!==null;)$b(n,s,a),a=a.sibling}function $b(n,s,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ba,a)}catch{}switch(a.tag){case 26:pt||Wn(a,s),mr(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||Wn(a,s);var c=rt,d=Vt;Qr(a.type)&&(rt=a.stateNode,Vt=!1),mr(n,s,a),To(a.stateNode),rt=c,Vt=d;break;case 5:pt||Wn(a,s);case 6:if(c=rt,d=Vt,rt=null,mr(n,s,a),rt=c,Vt=d,rt!==null)if(Vt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(p){Ge(a,s,p)}else try{rt.removeChild(a.stateNode)}catch(p){Ge(a,s,p)}break;case 18:rt!==null&&(Vt?(n=rt,Iv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yi(n)):Iv(rt,a.stateNode));break;case 4:c=rt,d=Vt,rt=a.stateNode.containerInfo,Vt=!0,mr(n,s,a),rt=c,Vt=d;break;case 0:case 11:case 14:case 15:Gr(2,a,s),pt||Gr(4,a,s),mr(n,s,a);break;case 1:pt||(Wn(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Db(a,s,c)),mr(n,s,a);break;case 21:mr(n,s,a);break;case 22:pt=(c=pt)||a.memoizedState!==null,mr(n,s,a),pt=c;break;default:mr(n,s,a)}}function qb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Yi(n)}catch(a){Ge(s,s.return,a)}}}function Fb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yi(n)}catch(a){Ge(s,s.return,a)}}function K1(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Bb),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Bb),s;default:throw Error(i(435,n.tag))}}function uc(n,s){var a=K1(n);s.forEach(function(c){if(!a.has(c)){a.add(c);var d=rk.bind(null,n,c);c.then(d,d)}})}function Yt(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],p=n,y=s,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(Qr(w.type)){rt=w.stateNode,Vt=!1;break e}break;case 5:rt=w.stateNode,Vt=!1;break e;case 3:case 4:rt=w.stateNode.containerInfo,Vt=!0;break e}w=w.return}if(rt===null)throw Error(i(160));$b(p,y,d),rt=null,Vt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Gb(s,n),s=s.sibling}var Dn=null;function Gb(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Yt(s,n),Kt(n),c&4&&(Gr(3,n,n.return),mo(3,n),Gr(5,n,n.return));break;case 1:Yt(s,n),Kt(n),c&512&&(pt||a===null||Wn(a,a.return)),c&64&&pr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=Dn;if(Yt(s,n),Kt(n),c&512&&(pt||a===null||Wn(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[$a]||p[At]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),Rt(p,c,a),p[At]=n,Et(p),c=p;break e;case"link":var y=Gv("link","href",d).get(c+(a.href||""));if(y){for(var w=0;w<y.length;w++)if(p=y[w],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(w,1);break t}}p=d.createElement(c),Rt(p,c,a),d.head.appendChild(p);break;case"meta":if(y=Gv("meta","content",d).get(c+(a.content||""))){for(w=0;w<y.length;w++)if(p=y[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(w,1);break t}}p=d.createElement(c),Rt(p,c,a),d.head.appendChild(p);break;default:throw Error(i(468,c))}p[At]=n,Et(p),c=p}n.stateNode=c}else Vv(d,n.type,n.stateNode);else n.stateNode=Fv(d,c,n.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?Vv(d,n.type,n.stateNode):Fv(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Rf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Yt(s,n),Kt(n),c&512&&(pt||a===null||Wn(a,a.return)),a!==null&&c&4&&Rf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Yt(s,n),Kt(n),c&512&&(pt||a===null||Wn(a,a.return)),n.flags&32){d=n.stateNode;try{gi(d,"")}catch(Q){Ge(n,n.return,Q)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Rf(n,d,a!==null?a.memoizedProps:d)),c&1024&&(If=!0);break;case 6:if(Yt(s,n),Kt(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(Q){Ge(n,n.return,Q)}}break;case 3:if(kc=null,d=Dn,Dn=Ec(s.containerInfo),Yt(s,n),Dn=d,Kt(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Yi(s.containerInfo)}catch(Q){Ge(n,n.return,Q)}If&&(If=!1,Vb(n));break;case 4:c=Dn,Dn=Ec(n.stateNode.containerInfo),Yt(s,n),Kt(n),Dn=c;break;case 12:Yt(s,n),Kt(n);break;case 31:Yt(s,n),Kt(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,uc(n,c)));break;case 13:Yt(s,n),Kt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=ye()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,uc(n,c)));break;case 22:d=n.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,j=pr,z=pt;if(pr=j||d,pt=z||T,Yt(s,n),pt=z,pr=j,Kt(n),c&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||T||pr||pt||Bs(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(p=T.stateNode,d)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=T.stateNode;var $=T.memoizedProps.style,I=$!=null&&$.hasOwnProperty("display")?$.display:null;w.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(Q){Ge(T,T.return,Q)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=d?"":T.memoizedProps}catch(Q){Ge(T,T.return,Q)}}}else if(s.tag===18){if(a===null){T=s;try{var L=T.stateNode;d?Dv(L,!0):Dv(T.stateNode,!1)}catch(Q){Ge(T,T.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,uc(n,a))));break;case 19:Yt(s,n),Kt(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,uc(n,c)));break;case 30:break;case 21:break;default:Yt(s,n),Kt(n)}}function Kt(n){var s=n.flags;if(s&2){try{for(var a,c=n.return;c!==null;){if(Ub(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,p=jf(n);cc(n,p,d);break;case 5:var y=a.stateNode;a.flags&32&&(gi(y,""),a.flags&=-33);var w=jf(n);cc(n,w,y);break;case 3:case 4:var T=a.stateNode.containerInfo,j=jf(n);Mf(n,j,T);break;default:throw Error(i(161))}}catch(z){Ge(n,n.return,z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Vb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Vb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function gr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hb(n,s.alternate,s),s=s.sibling}function Bs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gr(4,s,s.return),Bs(s);break;case 1:Wn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Db(s,s.return,a),Bs(s);break;case 27:To(s.stateNode);case 26:case 5:Wn(s,s.return),Bs(s);break;case 22:s.memoizedState===null&&Bs(s);break;case 30:Bs(s);break;default:Bs(s)}n=n.sibling}}function yr(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=n,p=s,y=p.flags;switch(p.tag){case 0:case 11:case 15:yr(d,p,a),mo(4,p);break;case 1:if(yr(d,p,a),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){Ge(c,c.return,j)}if(c=p,d=c.updateQueue,d!==null){var w=c.stateNode;try{var T=d.shared.hiddenCallbacks;if(T!==null)for(d.shared.hiddenCallbacks=null,d=0;d<T.length;d++)xy(T[d],w)}catch(j){Ge(c,c.return,j)}}a&&y&64&&Ib(p),go(p,p.return);break;case 27:zb(p);case 26:case 5:yr(d,p,a),a&&c===null&&y&4&&Lb(p),go(p,p.return);break;case 12:yr(d,p,a);break;case 31:yr(d,p,a),a&&y&4&&qb(d,p);break;case 13:yr(d,p,a),a&&y&4&&Fb(d,p);break;case 22:p.memoizedState===null&&yr(d,p,a),go(p,p.return);break;case 30:break;default:yr(d,p,a)}s=s.sibling}}function Df(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&to(a))}function Lf(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&to(n))}function Ln(n,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yb(n,s,a,c),s=s.sibling}function Yb(n,s,a,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(n,s,a,c),d&2048&&mo(9,s);break;case 1:Ln(n,s,a,c);break;case 3:Ln(n,s,a,c),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&to(n)));break;case 12:if(d&2048){Ln(n,s,a,c),n=s.stateNode;try{var p=s.memoizedProps,y=p.id,w=p.onPostCommit;typeof w=="function"&&w(y,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(T){Ge(s,s.return,T)}}else Ln(n,s,a,c);break;case 31:Ln(n,s,a,c);break;case 13:Ln(n,s,a,c);break;case 23:break;case 22:p=s.stateNode,y=s.alternate,s.memoizedState!==null?p._visibility&2?Ln(n,s,a,c):yo(n,s):p._visibility&2?Ln(n,s,a,c):(p._visibility|=2,Li(n,s,a,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Df(y,s);break;case 24:Ln(n,s,a,c),d&2048&&Lf(s.alternate,s);break;default:Ln(n,s,a,c)}}function Li(n,s,a,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,y=s,w=a,T=c,j=y.flags;switch(y.tag){case 0:case 11:case 15:Li(p,y,w,T,d),mo(8,y);break;case 23:break;case 22:var z=y.stateNode;y.memoizedState!==null?z._visibility&2?Li(p,y,w,T,d):yo(p,y):(z._visibility|=2,Li(p,y,w,T,d)),d&&j&2048&&Df(y.alternate,y);break;case 24:Li(p,y,w,T,d),d&&j&2048&&Lf(y.alternate,y);break;default:Li(p,y,w,T,d)}s=s.sibling}}function yo(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,c=s,d=c.flags;switch(c.tag){case 22:yo(a,c),d&2048&&Df(c.alternate,c);break;case 24:yo(a,c),d&2048&&Lf(c.alternate,c);break;default:yo(a,c)}s=s.sibling}}var bo=8192;function Ui(n,s,a){if(n.subtreeFlags&bo)for(n=n.child;n!==null;)Kb(n,s,a),n=n.sibling}function Kb(n,s,a){switch(n.tag){case 26:Ui(n,s,a),n.flags&bo&&n.memoizedState!==null&&Ik(a,Dn,n.memoizedState,n.memoizedProps);break;case 5:Ui(n,s,a);break;case 3:case 4:var c=Dn;Dn=Ec(n.stateNode.containerInfo),Ui(n,s,a),Dn=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=bo,bo=16777216,Ui(n,s,a),bo=c):Ui(n,s,a));break;default:Ui(n,s,a)}}function Wb(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function vo(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Tt=c,Jb(c,n)}Wb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xb(n),n=n.sibling}function Xb(n){switch(n.tag){case 0:case 11:case 15:vo(n),n.flags&2048&&Gr(9,n,n.return);break;case 3:vo(n);break;case 12:vo(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,dc(n)):vo(n);break;default:vo(n)}}function dc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Tt=c,Jb(c,n)}Wb(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gr(8,s,s.return),dc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,dc(s));break;default:dc(s)}n=n.sibling}}function Jb(n,s){for(;Tt!==null;){var a=Tt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:to(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Tt=c;else e:for(a=n;Tt!==null;){c=Tt;var d=c.sibling,p=c.return;if(Pb(c),c===a){Tt=null;break e}if(d!==null){d.return=p,Tt=d;break e}Tt=p}}}var W1={getCacheForType:function(n){var s=Nt(dt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Nt(dt).controller.signal}},X1=typeof WeakMap=="function"?WeakMap:Map,$e=0,Xe=null,Ce=null,Oe=0,Fe=0,un=null,Vr=!1,zi=!1,Uf=!1,br=0,at=0,Yr=0,Hs=0,zf=0,dn=0,Bi=0,_o=null,Wt=null,Bf=!1,fc=0,Qb=0,hc=1/0,pc=null,Kr=null,bt=0,Wr=null,Hi=null,vr=0,Hf=0,Pf=null,Zb=null,So=0,$f=null;function fn(){return($e&2)!==0&&Oe!==0?Oe&-Oe:M.T!==null?Kf():mg()}function ev(){if(dn===0)if((Oe&536870912)===0||Me){var n=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),dn=n}else dn=536870912;return n=ln.current,n!==null&&(n.flags|=32),dn}function Xt(n,s,a){(n===Xe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(Pi(n,0),Xr(n,Oe,dn,!1)),Pa(n,a),(($e&2)===0||n!==Xe)&&(n===Xe&&(($e&2)===0&&(Hs|=a),at===4&&Xr(n,Oe,dn,!1)),Xn(n))}function tv(n,s,a){if(($e&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Ha(n,s),d=c?Z1(n,s):Ff(n,s,!0),p=c;do{if(d===0){zi&&!c&&Xr(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!J1(a)){d=Ff(n,s,!1),p=!1;continue}if(d===2){if(p=s,n.errorRecoveryDisabledLanes&p)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var w=n;d=_o;var T=w.current.memoizedState.isDehydrated;if(T&&(Pi(w,y).flags|=256),y=Ff(w,y,!1),y!==2){if(Uf&&!T){w.errorRecoveryDisabledLanes|=p,Hs|=p,d=4;break e}p=Wt,Wt=d,p!==null&&(Wt===null?Wt=p:Wt.push.apply(Wt,p))}d=y}if(p=!1,d!==2)continue}}if(d===1){Pi(n,0),Xr(n,s,0,!0);break}e:{switch(c=n,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Xr(c,s,dn,!Vr);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=fc+300-ye(),10<d)){if(Xr(c,s,dn,!Vr),El(c,0,!0)!==0)break e;vr=s,c.timeoutHandle=jv(nv.bind(null,c,a,Wt,pc,Bf,s,dn,Hs,Bi,Vr,p,"Throttled",-0,0),d);break e}nv(c,a,Wt,pc,Bf,s,dn,Hs,Bi,Vr,p,null,-0,0)}}break}while(!0);Xn(n)}function nv(n,s,a,c,d,p,y,w,T,j,z,$,I,L){if(n.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},Kb(s,p,$);var Q=(p&62914560)===p?fc-ye():(p&4194048)===p?Qb-ye():0;if(Q=Dk($,Q),Q!==null){vr=p,n.cancelPendingCommit=Q(uv.bind(null,n,s,p,a,c,d,y,w,T,z,$,null,I,L)),Xr(n,p,y,!j);return}}uv(n,s,p,a,c,d,y,w,T)}function J1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!an(p(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xr(n,s,a,c){s&=~zf,s&=~Hs,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var d=s;0<d;){var p=31-sn(d),y=1<<p;c[p]=-1,d&=~y}a!==0&&fg(n,a,s)}function mc(){return($e&6)===0?(wo(0),!1):!0}function qf(){if(Ce!==null){if(Fe===0)var n=Ce.return;else n=Ce,lr=Rs=null,sf(n),Ri=null,ro=0,n=Ce;for(;n!==null;)Mb(n.alternate,n),n=n.return;Ce=null}}function Pi(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,yk(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),vr=0,qf(),Xe=n,Ce=a=ar(n.current,null),Oe=s,Fe=0,un=null,Vr=!1,zi=Ha(n,s),Uf=!1,Bi=dn=zf=Hs=Yr=at=0,Wt=_o=null,Bf=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var d=31-sn(c),p=1<<d;s|=n[d],c&=~p}return br=s,Ll(),a}function rv(n,s){Se=null,M.H=fo,s===Oi||s===Fl?(s=vy(),Fe=3):s===Vd?(s=vy(),Fe=4):Fe=s===Sf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,un=s,Ce===null&&(at=1,sc(n,wn(s,n.current)))}function sv(){var n=ln.current;return n===null?!0:(Oe&4194048)===Oe?kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?n===kn:!1}function iv(){var n=M.H;return M.H=fo,n===null?fo:n}function av(){var n=M.A;return M.A=W1,n}function gc(){at=4,Vr||(Oe&4194048)!==Oe&&ln.current!==null||(zi=!0),(Yr&134217727)===0&&(Hs&134217727)===0||Xe===null||Xr(Xe,Oe,dn,!1)}function Ff(n,s,a){var c=$e;$e|=2;var d=iv(),p=av();(Xe!==n||Oe!==s)&&(pc=null,Pi(n,s)),s=!1;var y=at;e:do try{if(Fe!==0&&Ce!==null){var w=Ce,T=un;switch(Fe){case 8:qf(),y=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(s=!0);var j=Fe;if(Fe=0,un=null,$i(n,w,T,j),a&&zi){y=0;break e}break;default:j=Fe,Fe=0,un=null,$i(n,w,T,j)}}Q1(),y=at;break}catch(z){rv(n,z)}while(!0);return s&&n.shellSuspendCounter++,lr=Rs=null,$e=c,M.H=d,M.A=p,Ce===null&&(Xe=null,Oe=0,Ll()),y}function Q1(){for(;Ce!==null;)ov(Ce)}function Z1(n,s){var a=$e;$e|=2;var c=iv(),d=av();Xe!==n||Oe!==s?(pc=null,hc=ye()+500,Pi(n,s)):zi=Ha(n,s);e:do try{if(Fe!==0&&Ce!==null){s=Ce;var p=un;t:switch(Fe){case 1:Fe=0,un=null,$i(n,s,p,1);break;case 2:case 9:if(yy(p)){Fe=0,un=null,lv(s);break}s=function(){Fe!==2&&Fe!==9||Xe!==n||(Fe=7),Xn(n)},p.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:yy(p)?(Fe=0,un=null,lv(s)):(Fe=0,un=null,$i(n,s,p,7));break;case 5:var y=null;switch(Ce.tag){case 26:y=Ce.memoizedState;case 5:case 27:var w=Ce;if(y?Yv(y):w.stateNode.complete){Fe=0,un=null;var T=w.sibling;if(T!==null)Ce=T;else{var j=w.return;j!==null?(Ce=j,yc(j)):Ce=null}break t}}Fe=0,un=null,$i(n,s,p,5);break;case 6:Fe=0,un=null,$i(n,s,p,6);break;case 8:qf(),at=6;break e;default:throw Error(i(462))}}ek();break}catch(z){rv(n,z)}while(!0);return lr=Rs=null,M.H=c,M.A=d,$e=a,Ce!==null?0:(Xe=null,Oe=0,Ll(),at)}function ek(){for(;Ce!==null&&!Ae();)ov(Ce)}function ov(n){var s=Rb(n.alternate,n,br);n.memoizedProps=n.pendingProps,s===null?yc(n):Ce=s}function lv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Tb(a,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=Tb(a,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:sf(s);default:Mb(a,s),s=Ce=ay(s,br),s=Rb(a,s,br)}n.memoizedProps=n.pendingProps,s===null?yc(n):Ce=s}function $i(n,s,a,c){lr=Rs=null,sf(s),Ri=null,ro=0;var d=s.return;try{if($1(n,d,s,a,Oe)){at=1,sc(n,wn(a,n.current)),Ce=null;return}}catch(p){if(d!==null)throw Ce=d,p;at=1,sc(n,wn(a,n.current)),Ce=null;return}s.flags&32768?(Me||c===1?n=!0:zi||(Oe&536870912)!==0?n=!1:(Vr=n=!0,(c===2||c===9||c===3||c===6)&&(c=ln.current,c!==null&&c.tag===13&&(c.flags|=16384))),cv(s,n)):yc(s)}function yc(n){var s=n;do{if((s.flags&32768)!==0){cv(s,Vr);return}n=s.return;var a=G1(s.alternate,s,br);if(a!==null){Ce=a;return}if(s=s.sibling,s!==null){Ce=s;return}Ce=s=n}while(s!==null);at===0&&(at=5)}function cv(n,s){do{var a=V1(n.alternate,n);if(a!==null){a.flags&=32767,Ce=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ce=n;return}Ce=n=a}while(n!==null);at=6,Ce=null}function uv(n,s,a,c,d,p,y,w,T){n.cancelPendingCommit=null;do bc();while(bt!==0);if(($e&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Rd,MT(n,a,p,y,w,T),n===Xe&&(Ce=Xe=null,Oe=0),Hi=s,Wr=n,vr=a,Hf=p,Pf=d,Zb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,sk(_l,function(){return mv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,d=F.p,F.p=2,y=$e,$e|=4;try{Y1(n,s,a)}finally{$e=y,F.p=d,M.T=c}}bt=1,dv(),fv(),hv()}}function dv(){if(bt===1){bt=0;var n=Wr,s=Hi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var c=F.p;F.p=2;var d=$e;$e|=4;try{Gb(s,n);var p=nh,y=Jg(n.containerInfo),w=p.focusedElem,T=p.selectionRange;if(y!==w&&w&&w.ownerDocument&&Xg(w.ownerDocument.documentElement,w)){if(T!==null&&kd(w)){var j=T.start,z=T.end;if(z===void 0&&(z=j),"selectionStart"in w)w.selectionStart=j,w.selectionEnd=Math.min(z,w.value.length);else{var $=w.ownerDocument||document,I=$&&$.defaultView||window;if(I.getSelection){var L=I.getSelection(),Q=w.textContent.length,de=Math.min(T.start,Q),We=T.end===void 0?de:Math.min(T.end,Q);!L.extend&&de>We&&(y=We,We=de,de=y);var C=Wg(w,de),A=Wg(w,We);if(C&&A&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var R=$.createRange();R.setStart(C.node,C.offset),L.removeAllRanges(),de>We?(L.addRange(R),L.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),L.addRange(R))}}}}for($=[],L=w;L=L.parentNode;)L.nodeType===1&&$.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<$.length;w++){var H=$[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Oc=!!th,nh=th=null}finally{$e=d,F.p=c,M.T=a}}n.current=s,bt=2}}function fv(){if(bt===2){bt=0;var n=Wr,s=Hi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var c=F.p;F.p=2;var d=$e;$e|=4;try{Hb(n,s.alternate,s)}finally{$e=d,F.p=c,M.T=a}}bt=3}}function hv(){if(bt===4||bt===3){bt=0,yt();var n=Wr,s=Hi,a=vr,c=Zb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bt=5:(bt=0,Hi=Wr=null,pv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Kr=null),od(a),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ba,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=M.T,d=F.p,F.p=2,M.T=null;try{for(var p=n.onRecoverableError,y=0;y<c.length;y++){var w=c[y];p(w.value,{componentStack:w.stack})}}finally{M.T=s,F.p=d}}(vr&3)!==0&&bc(),Xn(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===$f?So++:(So=0,$f=n):So=0,wo(0)}}function pv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,to(s)))}function bc(){return dv(),fv(),hv(),mv()}function mv(){if(bt!==5)return!1;var n=Wr,s=Hf;Hf=0;var a=od(vr),c=M.T,d=F.p;try{F.p=32>a?32:a,M.T=null,a=Pf,Pf=null;var p=Wr,y=vr;if(bt=0,Hi=Wr=null,vr=0,($e&6)!==0)throw Error(i(331));var w=$e;if($e|=4,Xb(p.current),Yb(p,p.current,y,a),$e=w,wo(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ba,p)}catch{}return!0}finally{F.p=d,M.T=c,pv(n,s)}}function gv(n,s,a){s=wn(a,s),s=_f(n.stateNode,s,2),n=$r(n,s,2),n!==null&&(Pa(n,2),Xn(n))}function Ge(n,s,a){if(n.tag===3)gv(n,n,a);else for(;s!==null;){if(s.tag===3){gv(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kr===null||!Kr.has(c))){n=wn(a,n),a=yb(2),c=$r(s,a,2),c!==null&&(bb(a,c,s,n),Pa(c,2),Xn(c));break}}s=s.return}}function Gf(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new X1;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(Uf=!0,d.add(a),n=tk.bind(null,n,s,a),s.then(n,n))}function tk(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Oe&a)===a&&(at===4||at===3&&(Oe&62914560)===Oe&&300>ye()-fc?($e&2)===0&&Pi(n,0):zf|=a,Bi===Oe&&(Bi=0)),Xn(n)}function yv(n,s){s===0&&(s=dg()),n=Cs(n,s),n!==null&&(Pa(n,s),Xn(n))}function nk(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),yv(n,a)}function rk(n,s){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),yv(n,a)}function sk(n,s){return je(n,s)}var vc=null,qi=null,Vf=!1,_c=!1,Yf=!1,Jr=0;function Xn(n){n!==qi&&n.next===null&&(qi===null?vc=qi=n:qi=qi.next=n),_c=!0,Vf||(Vf=!0,ak())}function wo(n,s){if(!Yf&&_c){Yf=!0;do for(var a=!1,c=vc;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var y=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-sn(42|n)+1)-1,p&=d&~(y&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Sv(c,p))}else p=Oe,p=El(c,c===Xe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Ha(c,p)||(a=!0,Sv(c,p));c=c.next}while(a);Yf=!1}}function ik(){bv()}function bv(){_c=Vf=!1;var n=0;Jr!==0&&gk()&&(n=Jr);for(var s=ye(),a=null,c=vc;c!==null;){var d=c.next,p=vv(c,s);p===0?(c.next=null,a===null?vc=d:a.next=d,d===null&&(qi=a)):(a=c,(n!==0||(p&3)!==0)&&(_c=!0)),c=d}bt!==0&&bt!==5||wo(n),Jr!==0&&(Jr=0)}function vv(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var y=31-sn(p),w=1<<y,T=d[y];T===-1?((w&a)===0||(w&c)!==0)&&(d[y]=jT(w,s)):T<=s&&(n.expiredLanes|=w),p&=~w}if(s=Xe,a=Oe,a=El(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Lt(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ha(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(c!==null&&Lt(c),od(a)){case 2:case 8:a=cg;break;case 32:a=_l;break;case 268435456:a=ug;break;default:a=_l}return c=_v.bind(null,n),a=je(a,c),n.callbackPriority=s,n.callbackNode=a,s}return c!==null&&c!==null&&Lt(c),n.callbackPriority=2,n.callbackNode=null,2}function _v(n,s){if(bt!==0&&bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(bc()&&n.callbackNode!==a)return null;var c=Oe;return c=El(n,n===Xe?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(tv(n,c,s),vv(n,ye()),n.callbackNode!=null&&n.callbackNode===a?_v.bind(null,n):null)}function Sv(n,s){if(bc())return null;tv(n,s,!0)}function ak(){bk(function(){($e&6)!==0?je(lg,ik):bv()})}function Kf(){if(Jr===0){var n=Ci;n===0&&(n=Sl,Sl<<=1,(Sl&261888)===0&&(Sl=256)),Jr=n}return Jr}function wv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Cl(""+n)}function xv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function ok(n,s,a,c,d){if(s==="submit"&&a&&a.stateNode===d){var p=wv((d[Ft]||null).action),y=c.submitter;y&&(s=(s=y[Ft]||null)?wv(s.formAction):y.getAttribute("formAction"),s!==null&&(p=s,y=null));var w=new jl("action","action",null,c,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Jr!==0){var T=y?xv(d,y):new FormData(d);pf(a,{pending:!0,data:T,method:d.method,action:p},null,T)}}else typeof p=="function"&&(w.preventDefault(),T=y?xv(d,y):new FormData(d),pf(a,{pending:!0,data:T,method:d.method,action:p},p,T))},currentTarget:d}]})}}for(var Wf=0;Wf<Od.length;Wf++){var Xf=Od[Wf],lk=Xf.toLowerCase(),ck=Xf[0].toUpperCase()+Xf.slice(1);In(lk,"on"+ck)}In(ey,"onAnimationEnd"),In(ty,"onAnimationIteration"),In(ny,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(T1,"onTransitionRun"),In(k1,"onTransitionStart"),In(A1,"onTransitionCancel"),In(ry,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function Ev(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var y=c.length-1;0<=y;y--){var w=c[y],T=w.instance,j=w.currentTarget;if(w=w.listener,T!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=j;try{p(d)}catch(z){Dl(z)}d.currentTarget=null,p=T}else for(y=0;y<c.length;y++){if(w=c[y],T=w.instance,j=w.currentTarget,w=w.listener,T!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=j;try{p(d)}catch(z){Dl(z)}d.currentTarget=null,p=T}}}}function Ne(n,s){var a=s[ld];a===void 0&&(a=s[ld]=new Set);var c=n+"__bubble";a.has(c)||(Tv(s,n,2,!1),a.add(c))}function Jf(n,s,a){var c=0;s&&(c|=4),Tv(a,n,c,s)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Qf(n){if(!n[Sc]){n[Sc]=!0,bg.forEach(function(a){a!=="selectionchange"&&(uk.has(a)||Jf(a,!1,n),Jf(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Sc]||(s[Sc]=!0,Jf("selectionchange",!1,s))}}function Tv(n,s,a,c){switch(e_(s)){case 2:var d=zk;break;case 8:d=Bk;break;default:d=hh}a=d.bind(null,s,a,n),d=void 0,!yd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Zf(n,s,a,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var w=c.stateNode.containerInfo;if(w===d)break;if(y===4)for(y=c.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;w!==null;){if(y=di(w),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){c=p=y;continue e}w=w.parentNode}}c=c.return}Og(function(){var j=p,z=md(a),$=[];e:{var I=sy.get(n);if(I!==void 0){var L=jl,Q=n;switch(n){case"keypress":if(Ol(a)===0)break e;case"keydown":case"keyup":L=r1;break;case"focusin":Q="focus",L=Sd;break;case"focusout":Q="blur",L=Sd;break;case"beforeblur":case"afterblur":L=Sd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=GT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=a1;break;case ey:case ty:case ny:L=KT;break;case ry:L=l1;break;case"scroll":case"scrollend":L=qT;break;case"wheel":L=u1;break;case"copy":case"cut":case"paste":L=XT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Dg;break;case"toggle":case"beforetoggle":L=f1}var de=(s&4)!==0,We=!de&&(n==="scroll"||n==="scrollend"),C=de?I!==null?I+"Capture":null:I;de=[];for(var A=j,R;A!==null;){var H=A;if(R=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||R===null||C===null||(H=Fa(A,C),H!=null&&de.push(Eo(A,H,R))),We)break;A=A.return}0<de.length&&(I=new L(I,Q,null,a,z),$.push({event:I,listeners:de}))}}if((s&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",I&&a!==pd&&(Q=a.relatedTarget||a.fromElement)&&(di(Q)||Q[ui]))break e;if((L||I)&&(I=z.window===z?z:(I=z.ownerDocument)?I.defaultView||I.parentWindow:window,L?(Q=a.relatedTarget||a.toElement,L=j,Q=Q?di(Q):null,Q!==null&&(We=l(Q),de=Q.tag,Q!==We||de!==5&&de!==27&&de!==6)&&(Q=null)):(L=null,Q=j),L!==Q)){if(de=Mg,H="onMouseLeave",C="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(de=Dg,H="onPointerLeave",C="onPointerEnter",A="pointer"),We=L==null?I:qa(L),R=Q==null?I:qa(Q),I=new de(H,A+"leave",L,a,z),I.target=We,I.relatedTarget=R,H=null,di(z)===j&&(de=new de(C,A+"enter",Q,a,z),de.target=R,de.relatedTarget=We,H=de),We=H,L&&Q)t:{for(de=dk,C=L,A=Q,R=0,H=C;H;H=de(H))R++;H=0;for(var oe=A;oe;oe=de(oe))H++;for(;0<R-H;)C=de(C),R--;for(;0<H-R;)A=de(A),H--;for(;R--;){if(C===A||A!==null&&C===A.alternate){de=C;break t}C=de(C),A=de(A)}de=null}else de=null;L!==null&&kv($,I,L,de,!1),Q!==null&&We!==null&&kv($,We,Q,de,!0)}}e:{if(I=j?qa(j):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var He=qg;else if(Pg(I))if(Fg)He=w1;else{He=_1;var ne=v1}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?j&&hd(j.elementType)&&(He=qg):He=S1;if(He&&(He=He(n,j))){$g($,He,a,z);break e}ne&&ne(n,I,j),n==="focusout"&&j&&I.type==="number"&&j.memoizedProps.value!=null&&fd(I,"number",I.value)}switch(ne=j?qa(j):window,n){case"focusin":(Pg(ne)||ne.contentEditable==="true")&&(_i=ne,Ad=j,Qa=null);break;case"focusout":Qa=Ad=_i=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Qg($,a,z);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":Qg($,a,z)}var we;if(xd)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else vi?Bg(n,a)&&(Re="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Lg&&a.locale!=="ko"&&(vi||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&vi&&(we=Rg()):(Dr=z,bd="value"in Dr?Dr.value:Dr.textContent,vi=!0)),ne=wc(j,Re),0<ne.length&&(Re=new Ig(Re,n,null,a,z),$.push({event:Re,listeners:ne}),we?Re.data=we:(we=Hg(a),we!==null&&(Re.data=we)))),(we=p1?m1(n,a):g1(n,a))&&(Re=wc(j,"onBeforeInput"),0<Re.length&&(ne=new Ig("onBeforeInput","beforeinput",null,a,z),$.push({event:ne,listeners:Re}),ne.data=we)),ok($,n,j,a,z)}Ev($,s)})}function Eo(n,s,a){return{instance:n,listener:s,currentTarget:a}}function wc(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Fa(n,a),d!=null&&c.unshift(Eo(n,d,p)),d=Fa(n,s),d!=null&&c.push(Eo(n,d,p))),n.tag===3)return c;n=n.return}return[]}function dk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function kv(n,s,a,c,d){for(var p=s._reactName,y=[];a!==null&&a!==c;){var w=a,T=w.alternate,j=w.stateNode;if(w=w.tag,T!==null&&T===c)break;w!==5&&w!==26&&w!==27||j===null||(T=j,d?(j=Fa(a,p),j!=null&&y.unshift(Eo(a,j,T))):d||(j=Fa(a,p),j!=null&&y.push(Eo(a,j,T)))),a=a.return}y.length!==0&&n.push({event:s,listeners:y})}var fk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function Av(n){return(typeof n=="string"?n:""+n).replace(fk,`
`).replace(hk,"")}function Cv(n,s){return s=Av(s),Av(n)===s}function Ke(n,s,a,c,d,p){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||gi(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&gi(n,""+c);break;case"className":kl(n,"class",c);break;case"tabIndex":kl(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(n,a,c);break;case"style":Cg(n,c,p);break;case"data":if(s!=="object"){kl(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Cl(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&Ke(n,s,"name",d.name,d,null),Ke(n,s,"formEncType",d.formEncType,d,null),Ke(n,s,"formMethod",d.formMethod,d,null),Ke(n,s,"formTarget",d.formTarget,d,null)):(Ke(n,s,"encType",d.encType,d,null),Ke(n,s,"method",d.method,d,null),Ke(n,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Cl(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=sr);break;case"onScroll":c!=null&&Ne("scroll",n);break;case"onScrollEnd":c!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=Cl(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),Tl(n,"popover",c);break;case"xlinkActuate":rr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":rr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":rr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":rr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":rr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":rr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":rr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":rr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":rr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Tl(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=PT.get(a)||a,Tl(n,a,c))}}function eh(n,s,a,c,d,p){switch(a){case"style":Cg(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof c=="string"?gi(n,c):(typeof c=="number"||typeof c=="bigint")&&gi(n,""+c);break;case"onScroll":c!=null&&Ne("scroll",n);break;case"onScrollEnd":c!=null&&Ne("scrollend",n);break;case"onClick":c!=null&&(n.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),p=n[Ft]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,c,d);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):Tl(n,a,c)}}}function Rt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var c=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var y=a[p];if(y!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,p,y,a,null)}}d&&Ke(n,s,"srcSet",a.srcSet,a,null),c&&Ke(n,s,"src",a.src,a,null);return;case"input":Ne("invalid",n);var w=p=y=d=null,T=null,j=null;for(c in a)if(a.hasOwnProperty(c)){var z=a[c];if(z!=null)switch(c){case"name":d=z;break;case"type":y=z;break;case"checked":T=z;break;case"defaultChecked":j=z;break;case"value":p=z;break;case"defaultValue":w=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:Ke(n,s,c,z,a,null)}}Eg(n,p,w,T,j,y,d,!1);return;case"select":Ne("invalid",n),c=y=p=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":p=w;break;case"defaultValue":y=w;break;case"multiple":c=w;default:Ke(n,s,d,w,a,null)}s=p,a=y,n.multiple=!!c,s!=null?mi(n,!!c,s,!1):a!=null&&mi(n,!!c,a,!0);return;case"textarea":Ne("invalid",n),p=d=c=null;for(y in a)if(a.hasOwnProperty(y)&&(w=a[y],w!=null))switch(y){case"value":c=w;break;case"defaultValue":d=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Ke(n,s,y,w,a,null)}kg(n,c,d,p);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(c=a[T],c!=null))switch(T){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ke(n,s,T,c,a,null)}return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(c=0;c<xo.length;c++)Ne(xo[c],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(c=a[j],c!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,j,c,a,null)}return;default:if(hd(s)){for(z in a)a.hasOwnProperty(z)&&(c=a[z],c!==void 0&&eh(n,s,z,c,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(c=a[w],c!=null&&Ke(n,s,w,c,a,null))}function pk(n,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,y=null,w=null,T=null,j=null,z=null;for(L in a){var $=a[L];if(a.hasOwnProperty(L)&&$!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":T=$;default:c.hasOwnProperty(L)||Ke(n,s,L,null,c,$)}}for(var I in c){var L=c[I];if($=a[I],c.hasOwnProperty(I)&&(L!=null||$!=null))switch(I){case"type":p=L;break;case"name":d=L;break;case"checked":j=L;break;case"defaultChecked":z=L;break;case"value":y=L;break;case"defaultValue":w=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,s));break;default:L!==$&&Ke(n,s,I,L,c,$)}}dd(n,y,w,T,j,z,p,d);return;case"select":L=y=w=I=null;for(p in a)if(T=a[p],a.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":L=T;default:c.hasOwnProperty(p)||Ke(n,s,p,null,c,T)}for(d in c)if(p=c[d],T=a[d],c.hasOwnProperty(d)&&(p!=null||T!=null))switch(d){case"value":I=p;break;case"defaultValue":w=p;break;case"multiple":y=p;default:p!==T&&Ke(n,s,d,p,c,T)}s=w,a=y,c=L,I!=null?mi(n,!!a,I,!1):!!c!=!!a&&(s!=null?mi(n,!!a,s,!0):mi(n,!!a,a?[]:"",!1));return;case"textarea":L=I=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ke(n,s,w,null,c,d)}for(y in c)if(d=c[y],p=a[y],c.hasOwnProperty(y)&&(d!=null||p!=null))switch(y){case"value":I=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Ke(n,s,y,d,c,p)}Tg(n,I,L);return;case"option":for(var Q in a)if(I=a[Q],a.hasOwnProperty(Q)&&I!=null&&!c.hasOwnProperty(Q))switch(Q){case"selected":n.selected=!1;break;default:Ke(n,s,Q,null,c,I)}for(T in c)if(I=c[T],L=a[T],c.hasOwnProperty(T)&&I!==L&&(I!=null||L!=null))switch(T){case"selected":n.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ke(n,s,T,I,c,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)I=a[de],a.hasOwnProperty(de)&&I!=null&&!c.hasOwnProperty(de)&&Ke(n,s,de,null,c,I);for(j in c)if(I=c[j],L=a[j],c.hasOwnProperty(j)&&I!==L&&(I!=null||L!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,s));break;default:Ke(n,s,j,I,c,L)}return;default:if(hd(s)){for(var We in a)I=a[We],a.hasOwnProperty(We)&&I!==void 0&&!c.hasOwnProperty(We)&&eh(n,s,We,void 0,c,I);for(z in c)I=c[z],L=a[z],!c.hasOwnProperty(z)||I===L||I===void 0&&L===void 0||eh(n,s,z,I,c,L);return}}for(var C in a)I=a[C],a.hasOwnProperty(C)&&I!=null&&!c.hasOwnProperty(C)&&Ke(n,s,C,null,c,I);for($ in c)I=c[$],L=a[$],!c.hasOwnProperty($)||I===L||I==null&&L==null||Ke(n,s,$,I,c,L)}function Nv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var d=a[c],p=d.transferSize,y=d.initiatorType,w=d.duration;if(p&&w&&Nv(y)){for(y=0,w=d.responseEnd,c+=1;c<a.length;c++){var T=a[c],j=T.startTime;if(j>w)break;var z=T.transferSize,$=T.initiatorType;z&&Nv($)&&(T=T.responseEnd,y+=z*(T<w?1:(w-j)/(T-j)))}if(--c,s+=8*(p+y)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var th=null,nh=null;function xc(n){return n.nodeType===9?n:n.ownerDocument}function Ov(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function rh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sh=null;function gk(){var n=window.event;return n&&n.type==="popstate"?n===sh?!1:(sh=n,!0):(sh=null,!1)}var jv=typeof setTimeout=="function"?setTimeout:void 0,yk=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,bk=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(n){return Mv.resolve(null).then(n).catch(vk)}:jv;function vk(n){setTimeout(function(){throw n})}function Qr(n){return n==="head"}function Iv(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(d),Yi(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")To(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,To(a);for(var p=a.firstChild;p;){var y=p.nextSibling,w=p.nodeName;p[$a]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=y}}else a==="body"&&To(n.ownerDocument.body);a=d}while(a);Yi(s)}function Dv(n,s){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function ih(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ih(a),cd(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function _k(n,s,a,c){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[$a])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=An(n.nextSibling),n===null)break}return null}function Sk(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=An(n.nextSibling),n===null))return null;return n}function Lv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=An(n.nextSibling),n===null))return null;return n}function ah(n){return n.data==="$?"||n.data==="$~"}function oh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function wk(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function An(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var lh=null;function Uv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return An(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function zv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function Bv(n,s,a){switch(s=xc(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function To(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);cd(n)}var Cn=new Map,Hv=new Set;function Ec(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _r=F.d;F.d={f:xk,r:Ek,D:Tk,C:kk,L:Ak,m:Ck,X:Ok,S:Nk,M:Rk};function xk(){var n=_r.f(),s=mc();return n||s}function Ek(n){var s=fi(n);s!==null&&s.tag===5&&s.type==="form"?rb(s):_r.r(n)}var Fi=typeof document>"u"?null:document;function Pv(n,s,a){var c=Fi;if(c&&typeof s=="string"&&s){var d=_n(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Hv.has(d)||(Hv.add(d),n={rel:n,crossOrigin:a,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),Rt(s,"link",n),Et(s),c.head.appendChild(s)))}}function Tk(n){_r.D(n),Pv("dns-prefetch",n,null)}function kk(n,s){_r.C(n,s),Pv("preconnect",n,s)}function Ak(n,s,a){_r.L(n,s,a);var c=Fi;if(c&&n&&s){var d='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+_n(a.imageSizes)+'"]')):d+='[href="'+_n(n)+'"]';var p=d;switch(s){case"style":p=Gi(n);break;case"script":p=Vi(n)}Cn.has(p)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Cn.set(p,n),c.querySelector(d)!==null||s==="style"&&c.querySelector(ko(p))||s==="script"&&c.querySelector(Ao(p))||(s=c.createElement("link"),Rt(s,"link",n),Et(s),c.head.appendChild(s)))}}function Ck(n,s){_r.m(n,s);var a=Fi;if(a&&n){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vi(n)}if(!Cn.has(p)&&(n=v({rel:"modulepreload",href:n},s),Cn.set(p,n),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ao(p)))return}c=a.createElement("link"),Rt(c,"link",n),Et(c),a.head.appendChild(c)}}}function Nk(n,s,a){_r.S(n,s,a);var c=Fi;if(c&&n){var d=hi(c).hoistableStyles,p=Gi(n);s=s||"default";var y=d.get(p);if(!y){var w={loading:0,preload:null};if(y=c.querySelector(ko(p)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Cn.get(p))&&ch(n,a);var T=y=c.createElement("link");Et(T),Rt(T,"link",n),T._p=new Promise(function(j,z){T.onload=j,T.onerror=z}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Tc(y,s,c)}y={type:"stylesheet",instance:y,count:1,state:w},d.set(p,y)}}}function Ok(n,s){_r.X(n,s);var a=Fi;if(a&&n){var c=hi(a).hoistableScripts,d=Vi(n),p=c.get(d);p||(p=a.querySelector(Ao(d)),p||(n=v({src:n,async:!0},s),(s=Cn.get(d))&&uh(n,s),p=a.createElement("script"),Et(p),Rt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Rk(n,s){_r.M(n,s);var a=Fi;if(a&&n){var c=hi(a).hoistableScripts,d=Vi(n),p=c.get(d);p||(p=a.querySelector(Ao(d)),p||(n=v({src:n,async:!0,type:"module"},s),(s=Cn.get(d))&&uh(n,s),p=a.createElement("script"),Et(p),Rt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function $v(n,s,a,c){var d=(d=xt.current)?Ec(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Gi(a.href),a=hi(d).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Gi(a.href);var p=hi(d).hoistableStyles,y=p.get(n);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,y),(p=d.querySelector(ko(n)))&&!p._p&&(y.instance=p,y.state.loading=5),Cn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(n,a),p||jk(d,n,a,y.state))),s&&c===null)throw Error(i(528,""));return y}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vi(a),a=hi(d).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Gi(n){return'href="'+_n(n)+'"'}function ko(n){return'link[rel="stylesheet"]['+n+"]"}function qv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function jk(n,s,a,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Rt(s,"link",a),Et(s),n.head.appendChild(s))}function Vi(n){return'[src="'+_n(n)+'"]'}function Ao(n){return"script[async]"+n}function Fv(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+_n(a.href)+'"]');if(c)return s.instance=c,Et(c),c;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Et(c),Rt(c,"style",d),Tc(c,a.precedence,n),s.instance=c;case"stylesheet":d=Gi(a.href);var p=n.querySelector(ko(d));if(p)return s.state.loading|=4,s.instance=p,Et(p),p;c=qv(a),(d=Cn.get(d))&&ch(c,d),p=(n.ownerDocument||n).createElement("link"),Et(p);var y=p;return y._p=new Promise(function(w,T){y.onload=w,y.onerror=T}),Rt(p,"link",c),s.state.loading|=4,Tc(p,a.precedence,n),s.instance=p;case"script":return p=Vi(a.src),(d=n.querySelector(Ao(p)))?(s.instance=d,Et(d),d):(c=a,(d=Cn.get(p))&&(c=v({},a),uh(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Et(d),Rt(d,"link",c),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Tc(c,a.precedence,n));return s.instance}function Tc(n,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,y=0;y<c.length;y++){var w=c[y];if(w.dataset.precedence===s)p=w;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function ch(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function uh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var kc=null;function Gv(n,s,a){if(kc===null){var c=new Map,d=kc=new Map;d.set(a,c)}else d=kc,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var p=a[d];if(!(p[$a]||p[At]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var y=p.getAttribute(s)||"";y=n+y;var w=c.get(y);w?w.push(p):c.set(y,[p])}}return c}function Vv(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Mk(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Ik(n,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Gi(c.href),p=s.querySelector(ko(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Ac.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,Et(p);return}p=s.ownerDocument||s,c=qv(c),(d=Cn.get(d))&&ch(c,d),p=p.createElement("link"),Et(p);var y=p;y._p=new Promise(function(w,T){y.onload=w,y.onerror=T}),Rt(p,"link",c),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Ac.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var dh=0;function Dk(n,s){return n.stylesheets&&n.count===0&&Nc(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&Nc(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&dh===0&&(dh=62500*mk());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Nc(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>dh?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Cc=null;function Nc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Cc=new Map,s.forEach(Lk,n),Cc=null,Ac.call(n))}function Lk(n,s){if(!(s.state.loading&4)){var a=Cc.get(n);if(a)var c=a.get(null);else{a=new Map,Cc.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var y=d[p];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),c=y)}c&&a.set(null,c)}d=s.instance,y=d.getAttribute("data-precedence"),p=a.get(y)||c,p===c&&a.set(null,d),a.set(y,d),this.count++,c=Ac.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Co={$$typeof:N,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Uk(n,s,a,c,d,p,y,w,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=id(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=id(0),this.hiddenUpdates=id(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Kv(n,s,a,c,d,p,y,w,T,j,z,$){return n=new Uk(n,s,a,y,T,j,z,$,w),s=1,p===!0&&(s|=24),p=on(3,null,null,s),n.current=p,p.stateNode=n,s=qd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:s},Yd(p),n}function Wv(n){return n?(n=xi,n):xi}function Xv(n,s,a,c,d,p){d=Wv(d),c.context===null?c.context=d:c.pendingContext=d,c=Pr(s),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=$r(n,c,s),a!==null&&(Xt(a,n,s),io(a,n,s))}function Jv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function fh(n,s){Jv(n,s),(n=n.alternate)&&Jv(n,s)}function Qv(n){if(n.tag===13||n.tag===31){var s=Cs(n,67108864);s!==null&&Xt(s,n,67108864),fh(n,67108864)}}function Zv(n){if(n.tag===13||n.tag===31){var s=fn();s=ad(s);var a=Cs(n,s);a!==null&&Xt(a,n,s),fh(n,s)}}var Oc=!0;function zk(n,s,a,c){var d=M.T;M.T=null;var p=F.p;try{F.p=2,hh(n,s,a,c)}finally{F.p=p,M.T=d}}function Bk(n,s,a,c){var d=M.T;M.T=null;var p=F.p;try{F.p=8,hh(n,s,a,c)}finally{F.p=p,M.T=d}}function hh(n,s,a,c){if(Oc){var d=ph(c);if(d===null)Zf(n,s,c,Rc,a),t_(n,c);else if(Pk(d,n,s,a,c))c.stopPropagation();else if(t_(n,c),s&4&&-1<Hk.indexOf(n)){for(;d!==null;){var p=fi(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=xs(p.pendingLanes);if(y!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var T=1<<31-sn(y);w.entanglements[1]|=T,y&=~T}Xn(p),($e&6)===0&&(hc=ye()+500,wo(0))}}break;case 31:case 13:w=Cs(p,2),w!==null&&Xt(w,p,2),mc(),fh(p,2)}if(p=ph(c),p===null&&Zf(n,s,c,Rc,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Zf(n,s,c,null,a)}}function ph(n){return n=md(n),mh(n)}var Rc=null;function mh(n){if(Rc=null,n=di(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=f(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Rc=n,null}function e_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case lg:return 2;case cg:return 8;case _l:case kT:return 32;case ug:return 268435456;default:return 32}default:return 32}}var gh=!1,Zr=null,es=null,ts=null,No=new Map,Oo=new Map,ns=[],Hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(n,s){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":No.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(s.pointerId)}}function Ro(n,s,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=fi(s),s!==null&&Qv(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Pk(n,s,a,c,d){switch(s){case"focusin":return Zr=Ro(Zr,n,s,a,c,d),!0;case"dragenter":return es=Ro(es,n,s,a,c,d),!0;case"mouseover":return ts=Ro(ts,n,s,a,c,d),!0;case"pointerover":var p=d.pointerId;return No.set(p,Ro(No.get(p)||null,n,s,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Oo.set(p,Ro(Oo.get(p)||null,n,s,a,c,d)),!0}return!1}function n_(n){var s=di(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,gg(n.priority,function(){Zv(a)});return}}else if(s===31){if(s=f(a),s!==null){n.blockedOn=s,gg(n.priority,function(){Zv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=ph(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);pd=c,a.target.dispatchEvent(c),pd=null}else return s=fi(a),s!==null&&Qv(s),n.blockedOn=a,!1;s.shift()}return!0}function r_(n,s,a){jc(n)&&a.delete(s)}function $k(){gh=!1,Zr!==null&&jc(Zr)&&(Zr=null),es!==null&&jc(es)&&(es=null),ts!==null&&jc(ts)&&(ts=null),No.forEach(r_),Oo.forEach(r_)}function Mc(n,s){n.blockedOn===s&&(n.blockedOn=null,gh||(gh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$k)))}var Ic=null;function s_(n){Ic!==n&&(Ic=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ic===n&&(Ic=null);for(var s=0;s<n.length;s+=3){var a=n[s],c=n[s+1],d=n[s+2];if(typeof c!="function"){if(mh(c||a)===null)continue;break}var p=fi(a);p!==null&&(n.splice(s,3),s-=3,pf(p,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function Yi(n){function s(T){return Mc(T,n)}Zr!==null&&Mc(Zr,n),es!==null&&Mc(es,n),ts!==null&&Mc(ts,n),No.forEach(s),Oo.forEach(s);for(var a=0;a<ns.length;a++){var c=ns[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)n_(a),a.blockedOn===null&&ns.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],p=a[c+1],y=d[Ft]||null;if(typeof p=="function")y||s_(a);else if(y){var w=null;if(p&&p.hasAttribute("formAction")){if(d=p,y=p[Ft]||null)w=y.formAction;else if(mh(d)!==null)continue}else w=y.action;typeof w=="function"?a[c+1]=w:(a.splice(c,3),c-=3),s_(a)}}}function i_(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function yh(n){this._internalRoot=n}Dc.prototype.render=yh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=fn();Xv(a,c,n,s,null,null)},Dc.prototype.unmount=yh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Xv(n.current,2,null,n,null,null),mc(),s[ui]=null}};function Dc(n){this._internalRoot=n}Dc.prototype.unstable_scheduleHydration=function(n){if(n){var s=mg();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ns.length&&s!==0&&s<ns[a].priority;a++);ns.splice(a,0,n),a===0&&n_(n)}};var a_=e.version;if(a_!=="19.2.3")throw Error(i(527,a_,"19.2.3"));F.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(s),n=n!==null?b(n):null,n=n===null?null:n.stateNode,n};var qk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Ba=Lc.inject(qk),rn=Lc}catch{}}return jo.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,c="",d=hb,p=pb,y=mb;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=Kv(n,1,!1,null,null,a,c,null,d,p,y,i_),n[ui]=s.current,Qf(n),new yh(s)},jo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var c=!1,d="",p=hb,y=pb,w=mb,T=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),s=Kv(n,1,!0,s,a??null,c,d,T,p,y,w,i_),s.context=Wv(null),a=s.current,c=fn(),c=ad(c),d=Pr(c),d.callback=null,$r(a,d,c),a=c,s.current.lanes=a,Pa(s,a),Xn(s),n[ui]=s.current,Qf(n),new Dc(s)},jo.version="19.2.3",jo}var d_;function kA(){if(d_)return bh.exports;d_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bh.exports=TA(),bh.exports}var AA=kA();const ie=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Le=globalThis,Qs="10.25.0";function ai(){return $u(Le),Le}function $u(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Qs,e[Qs]=e[Qs]||{}}function xa(t,e,r=Le){const i=r.__SENTRY__=r.__SENTRY__||{},o=i[Qs]=i[Qs]||{};return o[t]||(o[t]=e())}const CA=["debug","info","warn","error","log","assert","trace"],NA="Sentry Logger ",yu={};function oi(t){if(!("console"in Le))return t();const e=Le.console,r={},i=Object.keys(yu);i.forEach(o=>{const l=yu[o];r[o]=e[o],e[o]=l});try{return t()}finally{i.forEach(o=>{e[o]=r[o]})}}function OA(){rm().enabled=!0}function RA(){rm().enabled=!1}function US(){return rm().enabled}function jA(...t){nm("log",...t)}function MA(...t){nm("warn",...t)}function IA(...t){nm("error",...t)}function nm(t,...e){ie&&US()&&oi(()=>{Le.console[t](`${NA}[${t}]:`,...e)})}function rm(){return ie?xa("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Y={enable:OA,disable:RA,isEnabled:US,log:jA,warn:MA,error:IA},zS=50,ni="?",f_=/\(error: (.*)\)/,h_=/captureMessage|captureException/;function BS(...t){const e=t.sort((r,i)=>r[0]-i[0]).map(r=>r[1]);return(r,i=0,o=0)=>{const l=[],u=r.split(`
`);for(let f=i;f<u.length;f++){let h=u[f];h.length>1024&&(h=h.slice(0,1024));const m=f_.test(h)?h.replace(f_,"$1"):h;if(!m.match(/\S*Error: /)){for(const b of e){const v=b(m);if(v){l.push(v);break}}if(l.length>=zS+o)break}}return LA(l.slice(o))}}function DA(t){return Array.isArray(t)?BS(...t):t}function LA(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Uc(e).function||"")&&e.pop(),e.reverse(),h_.test(Uc(e).function||"")&&(e.pop(),h_.test(Uc(e).function||"")&&e.pop()),e.slice(0,zS).map(r=>({...r,filename:r.filename||Uc(e).filename,function:r.function||ni}))}function Uc(t){return t[t.length-1]||{}}const Sh="<anonymous>";function Cr(t){try{return!t||typeof t!="function"?Sh:t.name||Sh}catch{return Sh}}function p_(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(i=>{i.stacktrace.frames&&r.push(...i.stacktrace.frames)}),r}catch{return}}}const ou={},m_={};function ps(t,e){ou[t]=ou[t]||[],ou[t].push(e)}function ms(t,e){if(!m_[t]){m_[t]=!0;try{e()}catch(r){ie&&Y.error(`Error while instrumenting ${t}`,r)}}}function On(t,e){const r=t&&ou[t];if(r)for(const i of r)try{i(e)}catch(o){ie&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Cr(i)}
Error:`,o)}}let wh=null;function HS(t){const e="error";ps(e,t),ms(e,UA)}function UA(){wh=Le.onerror,Le.onerror=function(t,e,r,i,o){return On("error",{column:i,error:o,line:r,msg:t,url:e}),wh?wh.apply(this,arguments):!1},Le.onerror.__SENTRY_INSTRUMENTED__=!0}let xh=null;function PS(t){const e="unhandledrejection";ps(e,t),ms(e,zA)}function zA(){xh=Le.onunhandledrejection,Le.onunhandledrejection=function(t){return On("unhandledrejection",t),xh?xh.apply(this,arguments):!0},Le.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const $S=Object.prototype.toString;function sm(t){switch($S.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Nr(t,Error)}}function Ea(t,e){return $S.call(t)===`[object ${e}]`}function qS(t){return Ea(t,"ErrorEvent")}function g_(t){return Ea(t,"DOMError")}function BA(t){return Ea(t,"DOMException")}function Er(t){return Ea(t,"String")}function im(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function fa(t){return t===null||im(t)||typeof t!="object"&&typeof t!="function"}function Vo(t){return Ea(t,"Object")}function qu(t){return typeof Event<"u"&&Nr(t,Event)}function HA(t){return typeof Element<"u"&&Nr(t,Element)}function PA(t){return Ea(t,"RegExp")}function Ta(t){return!!(t?.then&&typeof t.then=="function")}function $A(t){return Vo(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Nr(t,e){try{return t instanceof e}catch{return!1}}function FS(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function GS(t){return typeof Request<"u"&&Nr(t,Request)}const am=Le,qA=80;function tn(t,e={}){if(!t)return"<unknown>";try{let r=t;const i=5,o=[];let l=0,u=0;const f=" > ",h=f.length;let m;const b=Array.isArray(e)?e:e.keyAttrs,v=!Array.isArray(e)&&e.maxStringLength||qA;for(;r&&l++<i&&(m=FA(r,b),!(m==="html"||l>1&&u+o.length*h+m.length>=v));)o.push(m),u+=m.length,r=r.parentNode;return o.reverse().join(f)}catch{return"<unknown>"}}function FA(t,e){const r=t,i=[];if(!r?.tagName)return"";if(am.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}i.push(r.tagName.toLowerCase());const o=e?.length?e.filter(u=>r.getAttribute(u)).map(u=>[u,r.getAttribute(u)]):null;if(o?.length)o.forEach(u=>{i.push(`[${u[0]}="${u[1]}"]`)});else{r.id&&i.push(`#${r.id}`);const u=r.className;if(u&&Er(u)){const f=u.split(/\s+/);for(const h of f)i.push(`.${h}`)}}const l=["aria-label","type","name","title","alt"];for(const u of l){const f=r.getAttribute(u);f&&i.push(`[${u}="${f}"]`)}return i.join("")}function ka(){try{return am.document.location.href}catch{return""}}function VS(t){if(!am.HTMLElement)return null;let e=t;const r=5;for(let i=0;i<r;i++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function en(t,e,r){if(!(e in t))return;const i=t[e];if(typeof i!="function")return;const o=r(i);typeof o=="function"&&YS(o,i);try{t[e]=o}catch{ie&&Y.log(`Failed to replace method "${e}" in object`,t)}}function bn(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{ie&&Y.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function YS(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,bn(t,"__sentry_original__",e)}catch{}}function om(t){return t.__sentry_original__}function KS(t){if(sm(t))return{message:t.message,name:t.name,stack:t.stack,...b_(t)};if(qu(t)){const e={type:t.type,target:y_(t.target),currentTarget:y_(t.currentTarget),...b_(t)};return typeof CustomEvent<"u"&&Nr(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function y_(t){try{return HA(t)?tn(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function b_(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function GA(t){const e=Object.keys(KS(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}function WS(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function v_(t,e){if(!Array.isArray(t))return"";const r=[];for(let i=0;i<t.length;i++){const o=t[i];try{FS(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function lu(t,e,r=!1){return Er(t)?PA(e)?e.test(t):Er(e)?r?t===e:t.includes(e):!1:!1}function Tr(t,e=[],r=!1){return e.some(i=>lu(t,i,r))}function VA(){const t=Le;return t.crypto||t.msCrypto}let Eh;function YA(){return Math.random()*16}function yn(t=VA()){try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return Eh||(Eh="10000000100040008000"+1e11),Eh.replace(/[018]/g,e=>(e^(YA()&15)>>e/4).toString(16))}function XS(t){return t.exception?.values?.[0]}function Vs(t){const{message:e,event_id:r}=t;if(e)return e;const i=XS(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||r||"<unknown>":r||"<unknown>"}function rp(t,e,r){const i=t.exception=t.exception||{},o=i.values=i.values||[],l=o[0]=o[0]||{};l.value||(l.value=e||""),l.type||(l.type="Error")}function ha(t,e){const r=XS(t);if(!r)return;const i={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...i,...o,...e},e&&"data"in e){const l={...o?.data,...e.data};r.mechanism.data=l}}function __(t){if(KA(t))return!0;try{bn(t,"__sentry_captured__",!0)}catch{}return!1}function KA(t){try{return t.__sentry_captured__}catch{}}const JS=1e3;function li(){return Date.now()/JS}function WA(){const{performance:t}=Le;if(!t?.now||!t.timeOrigin)return li;const e=t.timeOrigin;return()=>(e+t.now())/JS}let S_;function kt(){return(S_??(S_=WA()))()}let Th;function XA(){const{performance:t}=Le;if(!t?.now)return[void 0,"none"];const e=3600*1e3,r=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-i):e,l=o<e,u=t.timing?.navigationStart,h=typeof u=="number"?Math.abs(u+r-i):e,m=h<e;return l||m?o<=h?[t.timeOrigin,"timeOrigin"]:[u,"navigationStart"]:[i,"dateNow"]}function nn(){return Th||(Th=XA()),Th[0]}function JA(t){const e=kt(),r={sid:yn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ZA(r)};return t&&pa(r,t),r}function pa(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||kt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:yn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function QA(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),pa(t,r)}function ZA(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function sl(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const i={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=sl(i[o],e[o],r-1));return i}function Or(){return yn()}function kr(){return yn().substring(16)}const sp="_sentrySpan";function ma(t,e){e?bn(t,sp,e):delete t[sp]}function bu(t){return t[sp]}const eC=100;class Zn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Or(),sampleRand:Math.random()}}clone(){const e=new Zn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ma(e,bu(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&pa(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,i=r instanceof Zn?r.getScopeData():Vo(r)?e:void 0,{tags:o,extra:l,user:u,contexts:f,level:h,fingerprint:m=[],propagationContext:b}=i||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...l},this._contexts={...this._contexts,...f},u&&Object.keys(u).length&&(this._user=u),h&&(this._level=h),m.length&&(this._fingerprint=m),b&&(this._propagationContext=b),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ma(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Or(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const i=typeof r=="number"?r:eC;if(i<=0)return this;const o={timestamp:li(),...e,message:e.message?WS(e.message,2048):e.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:bu(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=sl(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const i=r?.event_id||yn();if(!this._client)return ie&&Y.warn("No client configured on scope - will not capture exception!"),i;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:i},this),i}captureMessage(e,r,i){const o=i?.event_id||yn();if(!this._client)return ie&&Y.warn("No client configured on scope - will not capture message!"),o;const l=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:l,...i,event_id:o},this),o}captureEvent(e,r){const i=r?.event_id||yn();return this._client?(this._client.captureEvent(e,{...r,event_id:i},this),i):(ie&&Y.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function tC(){return xa("defaultCurrentScope",()=>new Zn)}function nC(){return xa("defaultIsolationScope",()=>new Zn)}class rC{constructor(e,r){let i;e?i=e:i=new Zn;let o;r?o=r:o=new Zn,this._stack=[{scope:i}],this._isolationScope=o}withScope(e){const r=this._pushScope();let i;try{i=e(r)}catch(o){throw this._popScope(),o}return Ta(i)?i.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ga(){const t=ai(),e=$u(t);return e.stack=e.stack||new rC(tC(),nC())}function sC(t){return ga().withScope(t)}function iC(t,e){const r=ga();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function w_(t){return ga().withScope(()=>t(ga().getIsolationScope()))}function aC(){return{withIsolationScope:w_,withScope:sC,withSetScope:iC,withSetIsolationScope:(t,e)=>w_(e),getCurrentScope:()=>ga().getScope(),getIsolationScope:()=>ga().getIsolationScope()}}function Aa(t){const e=$u(t);return e.acs?e.acs:aC()}function Ve(){const t=ai();return Aa(t).getCurrentScope()}function nr(){const t=ai();return Aa(t).getIsolationScope()}function oC(){return xa("globalScope",()=>new Zn)}function il(...t){const e=ai(),r=Aa(e);if(t.length===2){const[i,o]=t;return i?r.withSetScope(i,o):r.withScope(o)}return r.withScope(t[0])}function Ie(){return Ve().getClient()}function lC(t){const e=t.getPropagationContext(),{traceId:r,parentSpanId:i,propagationSpanId:o}=e,l={trace_id:r,span_id:o||kr()};return i&&(l.parent_span_id=i),l}const Fn="sentry.source",lm="sentry.sample_rate",QS="sentry.previous_trace_sample_rate",Rr="sentry.op",wt="sentry.origin",Yo="sentry.idle_span_finish_reason",al="sentry.measurement_unit",ol="sentry.measurement_value",x_="sentry.custom_span_name",cm="sentry.profile_id",Ca="sentry.exclusive_time",cC="sentry.link.type",uC=0,ZS=1,St=2;function dC(t){if(t<400&&t>=100)return{code:ZS};if(t>=400&&t<500)switch(t){case 401:return{code:St,message:"unauthenticated"};case 403:return{code:St,message:"permission_denied"};case 404:return{code:St,message:"not_found"};case 409:return{code:St,message:"already_exists"};case 413:return{code:St,message:"failed_precondition"};case 429:return{code:St,message:"resource_exhausted"};case 499:return{code:St,message:"cancelled"};default:return{code:St,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:St,message:"unimplemented"};case 503:return{code:St,message:"unavailable"};case 504:return{code:St,message:"deadline_exceeded"};default:return{code:St,message:"internal_error"}}return{code:St,message:"internal_error"}}function ew(t,e){t.setAttribute("http.response.status_code",e);const r=dC(e);r.message!=="unknown_error"&&t.setStatus(r)}const tw="_sentryScope",nw="_sentryIsolationScope";function fC(t){try{const e=Le.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}function hC(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function pC(t,e,r){t&&(bn(t,nw,fC(r)),bn(t,tw,e))}function vu(t){const e=t;return{scope:e[tw],isolationScope:hC(e[nw])}}const um="sentry-",mC=/^sentry-/,gC=8192;function rw(t){const e=bC(t);if(!e)return;const r=Object.entries(e).reduce((i,[o,l])=>{if(o.match(mC)){const u=o.slice(um.length);i[u]=l}return i},{});if(Object.keys(r).length>0)return r}function yC(t){if(!t)return;const e=Object.entries(t).reduce((r,[i,o])=>(o&&(r[`${um}${i}`]=o),r),{});return vC(e)}function bC(t){if(!(!t||!Er(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{const i=E_(r);return Object.entries(i).forEach(([o,l])=>{e[o]=l}),e},{}):E_(t)}function E_(t){return t.split(",").map(e=>{const r=e.indexOf("=");if(r===-1)return[];const i=e.slice(0,r),o=e.slice(r+1);return[i,o].map(l=>{try{return decodeURIComponent(l.trim())}catch{return}})}).reduce((e,[r,i])=>(r&&i&&(e[r]=i),e),{})}function vC(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,i],o)=>{const l=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`,u=o===0?l:`${e},${l}`;return u.length>gC?(ie&&Y.warn(`Not adding key: ${r} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):u},"")}const _C=/^o(\d+)\./,SC=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wC(t){return t==="http"||t==="https"}function Na(t,e=!1){const{host:r,path:i,pass:o,port:l,projectId:u,protocol:f,publicKey:h}=t;return`${f}://${h}${e&&o?`:${o}`:""}@${r}${l?`:${l}`:""}/${i&&`${i}/`}${u}`}function xC(t){const e=SC.exec(t);if(!e){oi(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[r,i,o="",l="",u="",f=""]=e.slice(1);let h="",m=f;const b=m.split("/");if(b.length>1&&(h=b.slice(0,-1).join("/"),m=b.pop()),m){const v=m.match(/^\d+/);v&&(m=v[0])}return sw({host:l,pass:o,path:h,projectId:m,port:u,protocol:r,publicKey:i})}function sw(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function EC(t){if(!ie)return!0;const{port:e,projectId:r,protocol:i}=t;return["protocol","publicKey","host","projectId"].find(u=>t[u]?!1:(Y.error(`Invalid Sentry Dsn: ${u} missing`),!0))?!1:r.match(/^\d+$/)?wC(i)?e&&isNaN(parseInt(e,10))?(Y.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Y.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(Y.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function TC(t){return t.match(_C)?.[1]}function kC(t){const e=t.getOptions(),{host:r}=t.getDsn()||{};let i;return e.orgId?i=String(e.orgId):r&&(i=TC(r)),i}function AC(t){const e=typeof t=="string"?xC(t):sw(t);if(!(!e||!EC(e)))return e}function ri(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const iw=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function CC(t){if(!t)return;const e=t.match(iw);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function NC(t,e){const r=CC(t),i=rw(e);if(!r?.traceId)return{traceId:Or(),sampleRand:Math.random()};const o=OC(r,i);i&&(i.sample_rand=o.toString());const{traceId:l,parentSpanId:u,parentSampled:f}=r;return{traceId:l,parentSpanId:u,sampled:f,dsc:i||{},sampleRand:o}}function aw(t=Or(),e=kr(),r){let i="";return r!==void 0&&(i=r?"-1":"-0"),`${t}-${e}${i}`}function ow(t=Or(),e=kr(),r){return`00-${t}-${e}-${r?"01":"00"}`}function OC(t,e){const r=ri(e?.sample_rand);if(r!==void 0)return r;const i=ri(e?.sample_rate);return i&&t?.parentSampled!==void 0?t.parentSampled?Math.random()*i:i+Math.random()*(1-i):Math.random()}const lw=0,dm=1;let T_=!1;function RC(t){const{spanId:e,traceId:r}=t.spanContext(),{data:i,op:o,parent_span_id:l,status:u,origin:f,links:h}=ze(t);return{parent_span_id:l,span_id:e,trace_id:r,data:i,op:o,status:u,origin:f,links:h}}function jC(t){const{spanId:e,traceId:r,isRemote:i}=t.spanContext(),o=i?e:ze(t).parent_span_id,l=vu(t).scope,u=i?l?.getPropagationContext().propagationSpanId||kr():e;return{parent_span_id:o,span_id:u,trace_id:r}}function MC(t){const{traceId:e,spanId:r}=t.spanContext(),i=gs(t);return aw(e,r,i)}function IC(t){const{traceId:e,spanId:r}=t.spanContext(),i=gs(t);return ow(e,r,i)}function cw(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:r,traceFlags:i,...o},attributes:l})=>({span_id:e,trace_id:r,sampled:i===dm,attributes:l,...o}))}function Zs(t){return typeof t=="number"?k_(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?k_(t.getTime()):kt()}function k_(t){return t>9999999999?t/1e3:t}function ze(t){if(LC(t))return t.getSpanJSON();const{spanId:e,traceId:r}=t.spanContext();if(DC(t)){const{attributes:i,startTime:o,name:l,endTime:u,status:f,links:h}=t,m="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:r,data:i,description:l,parent_span_id:m,start_timestamp:Zs(o),timestamp:Zs(u)||void 0,status:uw(f),op:i[Rr],origin:i[wt],links:cw(h)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function DC(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function LC(t){return typeof t.getSpanJSON=="function"}function gs(t){const{traceFlags:e}=t.spanContext();return e===dm}function uw(t){if(!(!t||t.code===uC))return t.code===ZS?"ok":t.message||"internal_error"}const ei="_sentryChildSpans",ip="_sentryRootSpan";function dw(t,e){const r=t[ip]||t;bn(e,ip,r),t[ei]?t[ei].add(e):bn(t,ei,new Set([e]))}function UC(t,e){t[ei]&&t[ei].delete(e)}function cu(t){const e=new Set;function r(i){if(!e.has(i)&&gs(i)){e.add(i);const o=i[ei]?Array.from(i[ei]):[];for(const l of o)r(l)}}return r(t),Array.from(e)}function It(t){return t[ip]||t}function Pt(){const t=ai(),e=Aa(t);return e.getActiveSpan?e.getActiveSpan():bu(Ve())}function ap(){T_||(oi(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),T_=!0)}let A_=!1;function zC(){if(A_)return;function t(){const e=Pt(),r=e&&It(e);if(r){const i="internal_error";ie&&Y.log(`[Tracing] Root span: ${i} -> Global error occurred`),r.setStatus({code:St,message:i})}}t.tag="sentry_tracingErrorCallback",A_=!0,HS(t),PS(t)}function Gn(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||Ie()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function C_(t){Y.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function _u(t,e){if(!e?.length||!t.description)return!1;for(const r of e){if(HC(r)){if(lu(t.description,r))return ie&&C_(t),!0;continue}if(!r.name&&!r.op)continue;const i=r.name?lu(t.description,r.name):!0,o=r.op?t.op&&lu(t.op,r.op):!0;if(i&&o)return ie&&C_(t),!0}return!1}function BC(t,e){const r=e.parent_span_id,i=e.span_id;if(r)for(const o of t)o.parent_span_id===i&&(o.parent_span_id=r)}function HC(t){return typeof t=="string"||t instanceof RegExp}const fm="production",fw="_frozenDsc";function uu(t,e){bn(t,fw,e)}function hw(t,e){const r=e.getOptions(),{publicKey:i}=e.getDsn()||{},o={environment:r.environment||fm,release:r.release,public_key:i,trace_id:t,org_id:kC(e)};return e.emit("createDsc",o),o}function pw(t,e){const r=e.getPropagationContext();return r.dsc||hw(r.traceId,t)}function jr(t){const e=Ie();if(!e)return{};const r=It(t),i=ze(r),o=i.data,l=r.spanContext().traceState,u=l?.get("sentry.sample_rate")??o[lm]??o[QS];function f(x){return(typeof u=="number"||typeof u=="string")&&(x.sample_rate=`${u}`),x}const h=r[fw];if(h)return f(h);const m=l?.get("sentry.dsc"),b=m&&rw(m);if(b)return f(b);const v=hw(t.spanContext().traceId,e),_=o[Fn],S=i.description;return _!=="url"&&S&&(v.transaction=S),Gn()&&(v.sampled=String(gs(r)),v.sample_rand=l?.get("sentry.sample_rand")??vu(r).scope?.getPropagationContext().sampleRand.toString()),f(v),e.emit("createDsc",v,r),v}class ds{constructor(e={}){this._traceId=e.traceId||Or(),this._spanId=e.spanId||kr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:lw}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,i){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}}function Pn(t,e=100,r=1/0){try{return op("",t,e,r)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function mw(t,e=3,r=100*1024){const i=Pn(t,e);return FC(i)>r?mw(t,e-1,r):i}function op(t,e,r=1/0,i=1/0,o=GC()){const[l,u]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const f=PC(t,e);if(!f.startsWith("[object "))return f;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(h===0)return f.replace("object ","");if(l(e))return"[Circular ~]";const m=e;if(m&&typeof m.toJSON=="function")try{const S=m.toJSON();return op("",S,h-1,i,o)}catch{}const b=Array.isArray(e)?[]:{};let v=0;const _=KS(e);for(const S in _){if(!Object.prototype.hasOwnProperty.call(_,S))continue;if(v>=i){b[S]="[MaxProperties ~]";break}const x=_[S];b[S]=op(S,x,h-1,i,o),v++}return u(e),b}function PC(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(FS(e))return"[VueViewModel]";if($A(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Cr(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=$C(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function $C(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function qC(t){return~-encodeURI(t).split(/%..|./).length}function FC(t){return qC(JSON.stringify(t))}function GC(){const t=new WeakSet;function e(i){return t.has(i)?!0:(t.add(i),!1)}function r(i){t.delete(i)}return[e,r]}function ys(t,e=[]){return[t,e]}function VC(t,e){const[r,i]=t;return[r,[...i,e]]}function N_(t,e){const r=t[1];for(const i of r){const o=i[0].type;if(e(i,o))return!0}return!1}function lp(t){const e=$u(Le);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function YC(t){const[e,r]=t;let i=JSON.stringify(e);function o(l){typeof i=="string"?i=typeof l=="string"?i+l:[lp(i),l]:i.push(typeof l=="string"?lp(l):l)}for(const l of r){const[u,f]=l;if(o(`
${JSON.stringify(u)}
`),typeof f=="string"||f instanceof Uint8Array)o(f);else{let h;try{h=JSON.stringify(f)}catch{h=JSON.stringify(Pn(f))}o(h)}}return typeof i=="string"?i:KC(i)}function KC(t){const e=t.reduce((o,l)=>o+l.length,0),r=new Uint8Array(e);let i=0;for(const o of t)r.set(o,i),i+=o.length;return r}function WC(t){return[{type:"span"},t]}function XC(t){const e=typeof t.data=="string"?lp(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const JC={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function O_(t){return JC[t]}function hm(t){if(!t?.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function gw(t,e,r,i){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&i&&{dsn:Na(i)},...o&&{trace:o}}}function QC(t,e){if(!e)return t;const r=t.sdk||{};return t.sdk={...r,name:r.name||e.name,version:r.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}function ZC(t,e,r,i){const o=hm(r),l={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!i&&e&&{dsn:Na(e)}},u="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return ys(l,[u])}function eN(t,e,r,i){const o=hm(r),l=t.type&&t.type!=="replay_event"?t.type:"event";QC(t,r?.sdk);const u=gw(t,o,i,e);return delete t.sdkProcessingMetadata,ys(u,[[{type:l},t]])}function tN(t,e){function r(S){return!!S.trace_id&&!!S.public_key}const i=jr(t[0]),o=e?.getDsn(),l=e?.getOptions().tunnel,u={sent_at:new Date().toISOString(),...r(i)&&{trace:i},...!!l&&o&&{dsn:Na(o)}},{beforeSendSpan:f,ignoreSpans:h}=e?.getOptions()||{},m=h?.length?t.filter(S=>!_u(ze(S),h)):t,b=t.length-m.length;b&&e?.recordDroppedEvent("before_send","span",b);const v=f?S=>{const x=ze(S),k=f(x);return k||(ap(),x)}:ze,_=[];for(const S of m){const x=v(S);x&&_.push(WC(x))}return ys(u,_)}function nN(t){if(!ie)return;const{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:i}=ze(t),{spanId:o}=t.spanContext(),l=gs(t),u=It(t),f=u===t,h=`[Tracing] Starting ${l?"sampled":"unsampled"} ${f?"root ":""}span`,m=[`op: ${r}`,`name: ${e}`,`ID: ${o}`];if(i&&m.push(`parent ID: ${i}`),!f){const{op:b,description:v}=ze(u);m.push(`root ID: ${u.spanContext().spanId}`),b&&m.push(`root op: ${b}`),v&&m.push(`root description: ${v}`)}Y.log(`${h}
  ${m.join(`
  `)}`)}function rN(t){if(!ie)return;const{description:e="< unknown name >",op:r="< unknown op >"}=ze(t),{spanId:i}=t.spanContext(),l=It(t)===t,u=`[Tracing] Finishing "${r}" ${l?"root ":""}span "${e}" with ID ${i}`;Y.log(u)}function sN(t,e,r,i=Pt()){const o=i&&It(i);o&&(ie&&Y.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),o.addEvent(t,{[ol]:e,[al]:r}))}function R_(t){if(!t||t.length===0)return;const e={};return t.forEach(r=>{const i=r.attributes||{},o=i[al],l=i[ol];typeof o=="string"&&typeof l=="number"&&(e[r.name]={value:l,unit:o})}),e}const j_=1e3;class Fu{constructor(e={}){this._traceId=e.traceId||Or(),this._spanId=e.spanId||kr(),this._startTime=e.startTimestamp||kt(),this._links=e.links,this._attributes={},this.setAttributes({[wt]:"manual",[Rr]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,r){}spanContext(){const{_spanId:e,_traceId:r,_sampled:i}=this;return{spanId:e,traceId:r,traceFlags:i?dm:lw}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=Zs(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Fn,"custom"),this}end(e){this._endTime||(this._endTime=Zs(e),rN(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Rr],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:uw(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[wt],profile_id:this._attributes[cm],exclusive_time:this._attributes[Ca],measurements:R_(this._events),is_segment:this._isStandaloneSpan&&It(this)===this||void 0,segment_id:this._isStandaloneSpan?It(this).spanContext().spanId:void 0,links:cw(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,i){ie&&Y.log("[Tracing] Adding an event to span:",e);const o=M_(r)?r:i||kt(),l=M_(r)?{}:r||{},u={name:e,time:Zs(o),attributes:l};return this._events.push(u),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Ie();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===It(this)))return;if(this._isStandaloneSpan){this._sampled?aN(tN([this],e)):(ie&&Y.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const i=this._convertSpanToTransaction();i&&(vu(this).scope||Ve()).captureEvent(i)}_convertSpanToTransaction(){if(!I_(ze(this)))return;this._name||(ie&&Y.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:r}=vu(this),i=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const l=cu(this).filter(b=>b!==this&&!iN(b)).map(b=>ze(b)).filter(I_),u=this._attributes[Fn];delete this._attributes[x_],l.forEach(b=>{delete b.data[x_]});const f={contexts:{trace:RC(this)},spans:l.length>j_?l.sort((b,v)=>b.start_timestamp-v.start_timestamp).slice(0,j_):l,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,dynamicSamplingContext:jr(this)},request:i,...u&&{transaction_info:{source:u}}},h=R_(this._events);return h&&Object.keys(h).length&&(ie&&Y.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),f.measurements=h),f}}function M_(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function I_(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function iN(t){return t instanceof Fu&&t.isStandaloneSpan()}function aN(t){const e=Ie();if(!e)return;const r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function oN(t,e,r=()=>{},i=()=>{}){let o;try{o=t()}catch(l){throw e(l),r(),l}return lN(o,e,r,i)}function lN(t,e,r,i){return Ta(t)?t.then(o=>(r(),i(o),o),o=>{throw e(o),r(),o}):(r(),i(t),t)}function cN(t,e,r){if(!Gn(t))return[!1];let i,o;typeof t.tracesSampler=="function"?(o=t.tracesSampler({...e,inheritOrSampleWith:f=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):f}),i=!0):e.parentSampled!==void 0?o=e.parentSampled:typeof t.tracesSampleRate<"u"&&(o=t.tracesSampleRate,i=!0);const l=ri(o);if(l===void 0)return ie&&Y.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!l)return ie&&Y.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,l,i];const u=r<l;return u||ie&&Y.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[u,l,i]}const yw="__SENTRY_SUPPRESS_TRACING__";function uN(t,e){const r=mm();if(r.startSpan)return r.startSpan(t,e);const i=vw(t),{forceTransaction:o,parentSpan:l,scope:u}=t,f=u?.clone();return il(f,()=>fN(l)(()=>{const m=Ve(),b=_w(m,l),_=t.onlyIfParent&&!b?new ds:bw({parentSpan:b,spanArguments:i,forceTransaction:o,scope:m});return ma(m,_),oN(()=>e(_),()=>{const{status:S}=ze(_);_.isRecording()&&(!S||S==="ok")&&_.setStatus({code:St,message:"internal_error"})},()=>{_.end()})}))}function Oa(t){const e=mm();if(e.startInactiveSpan)return e.startInactiveSpan(t);const r=vw(t),{forceTransaction:i,parentSpan:o}=t;return(t.scope?u=>il(t.scope,u):o!==void 0?u=>pm(o,u):u=>u())(()=>{const u=Ve(),f=_w(u,o);return t.onlyIfParent&&!f?new ds:bw({parentSpan:f,spanArguments:r,forceTransaction:i,scope:u})})}function pm(t,e){const r=mm();return r.withActiveSpan?r.withActiveSpan(t,e):il(i=>(ma(i,t||void 0),e(i)))}function bw({parentSpan:t,spanArguments:e,forceTransaction:r,scope:i}){if(!Gn()){const u=new ds;if(r||!t){const f={sampled:"false",sample_rate:"0",transaction:e.name,...jr(u)};uu(u,f)}return u}const o=nr();let l;if(t&&!r)l=dN(t,i,e),dw(t,l);else if(t){const u=jr(t),{traceId:f,spanId:h}=t.spanContext(),m=gs(t);l=D_({traceId:f,parentSpanId:h,...e},i,m),uu(l,u)}else{const{traceId:u,dsc:f,parentSpanId:h,sampled:m}={...o.getPropagationContext(),...i.getPropagationContext()};l=D_({traceId:u,parentSpanId:h,...e},i,m),f&&uu(l,f)}return nN(l),pC(l,i,o),l}function vw(t){const r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const i={...r};return i.startTimestamp=Zs(t.startTime),delete i.startTime,i}return r}function mm(){const t=ai();return Aa(t)}function D_(t,e,r){const i=Ie(),o=i?.getOptions()||{},{name:l=""}=t,u={spanAttributes:{...t.attributes},spanName:l,parentSampled:r};i?.emit("beforeSampling",u,{decision:!1});const f=u.parentSampled??r,h=u.spanAttributes,m=e.getPropagationContext(),[b,v,_]=e.getScopeData().sdkProcessingMetadata[yw]?[!1]:cN(o,{name:l,parentSampled:f,attributes:h,parentSampleRate:ri(m.dsc?.sample_rate)},m.sampleRand),S=new Fu({...t,attributes:{[Fn]:"custom",[lm]:v!==void 0&&_?v:void 0,...h},sampled:b});return!b&&i&&(ie&&Y.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),i.recordDroppedEvent("sample_rate","transaction")),i&&i.emit("spanStart",S),S}function dN(t,e,r){const{spanId:i,traceId:o}=t.spanContext(),l=e.getScopeData().sdkProcessingMetadata[yw]?!1:gs(t),u=l?new Fu({...r,parentSpanId:i,traceId:o,sampled:l}):new ds({traceId:o});dw(t,u);const f=Ie();return f&&(f.emit("spanStart",u),r.endTimestamp&&f.emit("spanEnd",u)),u}function _w(t,e){if(e)return e;if(e===null)return;const r=bu(t);if(!r)return;const i=Ie();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?It(r):r}function fN(t){return t!==void 0?e=>pm(t,e):e=>e()}const du={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},hN="heartbeatFailed",pN="idleTimeout",mN="finalTimeout",gN="externalFinish";function Sw(t,e={}){const r=new Map;let i=!1,o,l=gN,u=!e.disableAutoFinish;const f=[],{idleTimeout:h=du.idleTimeout,finalTimeout:m=du.finalTimeout,childSpanTimeout:b=du.childSpanTimeout,beforeSpanEnd:v,trimIdleSpanEndTimestamp:_=!0}=e,S=Ie();if(!S||!Gn()){const U=new ds,P={sample_rate:"0",sampled:"false",...jr(U)};return uu(U,P),U}const x=Ve(),k=Pt(),E=yN(t);E.end=new Proxy(E.end,{apply(U,P,ce){if(v&&v(E),P instanceof ds)return;const[W,...te]=ce,le=W||kt(),he=Zs(le),Te=cu(E).filter(V=>V!==E),ke=ze(E);if(!Te.length||!_)return G(he),Reflect.apply(U,P,[he,...te]);const M=S.getOptions().ignoreSpans,F=Te?.reduce((V,ve)=>{const ue=ze(ve);return!ue.timestamp||M&&_u(ue,M)?V:V?Math.max(V,ue.timestamp):ue.timestamp},void 0),O=ke.start_timestamp,se=Math.min(O?O+m/1e3:1/0,Math.max(O||-1/0,Math.min(he,F||1/0)));return G(se),Reflect.apply(U,P,[se,...te])}});function D(){o&&(clearTimeout(o),o=void 0)}function B(U){D(),o=setTimeout(()=>{!i&&r.size===0&&u&&(l=pN,E.end(U))},h)}function N(U){o=setTimeout(()=>{!i&&u&&(l=hN,E.end(U))},b)}function q(U){D(),r.set(U,!0);const P=kt();N(P+b/1e3)}function K(U){if(r.has(U)&&r.delete(U),r.size===0){const P=kt();B(P+h/1e3)}}function G(U){i=!0,r.clear(),f.forEach(he=>he()),ma(x,k);const P=ze(E),{start_timestamp:ce}=P;if(!ce)return;P.data[Yo]||E.setAttribute(Yo,l),Y.log(`[Tracing] Idle span "${P.op}" finished`);const te=cu(E).filter(he=>he!==E);let le=0;te.forEach(he=>{he.isRecording()&&(he.setStatus({code:St,message:"cancelled"}),he.end(U),ie&&Y.log("[Tracing] Cancelling span since span ended early",JSON.stringify(he,void 0,2)));const Te=ze(he),{timestamp:ke=0,start_timestamp:M=0}=Te,F=M<=U,O=(m+h)/1e3,se=ke-M<=O;if(ie){const V=JSON.stringify(he,void 0,2);F?se||Y.log("[Tracing] Discarding span since it finished after idle span final timeout",V):Y.log("[Tracing] Discarding span since it happened after idle span was finished",V)}(!se||!F)&&(UC(E,he),le++)}),le>0&&E.setAttribute("sentry.idle_span_discarded_spans",le)}return f.push(S.on("spanStart",U=>{if(i||U===E||ze(U).timestamp||U instanceof Fu&&U.isStandaloneSpan())return;cu(E).includes(U)&&q(U.spanContext().spanId)})),f.push(S.on("spanEnd",U=>{i||K(U.spanContext().spanId)})),f.push(S.on("idleSpanEnableAutoFinish",U=>{U===E&&(u=!0,B(),r.size&&N())})),e.disableAutoFinish||B(),setTimeout(()=>{i||(E.setStatus({code:St,message:"deadline_exceeded"}),l=mN,E.end())},m),E}function yN(t){const e=Oa(t);return ma(Ve(),e),ie&&Y.log("[Tracing] Started span is an idle span"),e}const kh=0,L_=1,U_=2;function Gu(t){return new Ko(e=>{e(t)})}function gm(t){return new Ko((e,r)=>{r(t)})}class Ko{constructor(e){this._state=kh,this._handlers=[],this._runExecutor(e)}then(e,r){return new Ko((i,o)=>{this._handlers.push([!1,l=>{if(!e)i(l);else try{i(e(l))}catch(u){o(u)}},l=>{if(!r)o(l);else try{i(r(l))}catch(u){o(u)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Ko((r,i)=>{let o,l;return this.then(u=>{l=!1,o=u,e&&e()},u=>{l=!0,o=u,e&&e()}).then(()=>{if(l){i(o);return}r(o)})})}_executeHandlers(){if(this._state===kh)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===L_&&r[1](this._value),this._state===U_&&r[2](this._value),r[0]=!0)})}_runExecutor(e){const r=(l,u)=>{if(this._state===kh){if(Ta(u)){u.then(i,o);return}this._state=l,this._value=u,this._executeHandlers()}},i=l=>{r(L_,l)},o=l=>{r(U_,l)};try{e(i,o)}catch(l){o(l)}}}function bN(t,e,r,i=0){try{const o=cp(e,r,t,i);return Ta(o)?o:Gu(o)}catch(o){return gm(o)}}function cp(t,e,r,i){const o=r[i];if(!t||!o)return t;const l=o({...t},e);return ie&&l===null&&Y.log(`Event processor "${o.id||"?"}" dropped event`),Ta(l)?l.then(u=>cp(u,e,r,i+1)):cp(l,e,r,i+1)}function vN(t,e){const{fingerprint:r,span:i,breadcrumbs:o,sdkProcessingMetadata:l}=e;_N(t,e),i&&xN(t,i),EN(t,r),SN(t,o),wN(t,l)}function z_(t,e){const{extra:r,tags:i,user:o,contexts:l,level:u,sdkProcessingMetadata:f,breadcrumbs:h,fingerprint:m,eventProcessors:b,attachments:v,propagationContext:_,transactionName:S,span:x}=e;zc(t,"extra",r),zc(t,"tags",i),zc(t,"user",o),zc(t,"contexts",l),t.sdkProcessingMetadata=sl(t.sdkProcessingMetadata,f,2),u&&(t.level=u),S&&(t.transactionName=S),x&&(t.span=x),h.length&&(t.breadcrumbs=[...t.breadcrumbs,...h]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),b.length&&(t.eventProcessors=[...t.eventProcessors,...b]),v.length&&(t.attachments=[...t.attachments,...v]),t.propagationContext={...t.propagationContext,..._}}function zc(t,e,r){t[e]=sl(t[e],r,1)}function _N(t,e){const{extra:r,tags:i,user:o,contexts:l,level:u,transactionName:f}=e;Object.keys(r).length&&(t.extra={...r,...t.extra}),Object.keys(i).length&&(t.tags={...i,...t.tags}),Object.keys(o).length&&(t.user={...o,...t.user}),Object.keys(l).length&&(t.contexts={...l,...t.contexts}),u&&(t.level=u),f&&t.type!=="transaction"&&(t.transaction=f)}function SN(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function wN(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function xN(t,e){t.contexts={trace:jC(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:jr(e),...t.sdkProcessingMetadata};const r=It(e),i=ze(r).description;i&&!t.transaction&&t.type==="transaction"&&(t.transaction=i)}function EN(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let Ps,B_,H_,ss;function TN(t){const e=Le._sentryDebugIds,r=Le._debugIds;if(!e&&!r)return{};const i=e?Object.keys(e):[],o=r?Object.keys(r):[];if(ss&&i.length===B_&&o.length===H_)return ss;B_=i.length,H_=o.length,ss={},Ps||(Ps={});const l=(u,f)=>{for(const h of u){const m=f[h],b=Ps?.[h];if(b&&ss&&m)ss[b[0]]=m,Ps&&(Ps[h]=[b[0],m]);else if(m){const v=t(h);for(let _=v.length-1;_>=0;_--){const x=v[_]?.filename;if(x&&ss&&Ps){ss[x]=m,Ps[h]=[x,m];break}}}}};return e&&l(i,e),r&&l(o,r),ss}function ww(t,e,r,i,o,l){const{normalizeDepth:u=3,normalizeMaxBreadth:f=1e3}=t,h={...e,event_id:e.event_id||r.event_id||yn(),timestamp:e.timestamp||li()},m=r.integrations||t.integrations.map(E=>E.name);kN(h,t),NN(h,m),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&AN(h,t.stackParser);const b=RN(i,r.captureContext);r.mechanism&&ha(h,r.mechanism);const v=o?o.getEventProcessors():[],_=oC().getScopeData();if(l){const E=l.getScopeData();z_(_,E)}if(b){const E=b.getScopeData();z_(_,E)}const S=[...r.attachments||[],..._.attachments];S.length&&(r.attachments=S),vN(h,_);const x=[...v,..._.eventProcessors];return bN(x,h,r).then(E=>(E&&CN(E),typeof u=="number"&&u>0?ON(E,u,f):E))}function kN(t,e){const{environment:r,release:i,dist:o,maxValueLength:l}=e;t.environment=t.environment||r||fm,!t.release&&i&&(t.release=i),!t.dist&&o&&(t.dist=o);const u=t.request;u?.url&&(u.url=l?WS(u.url,l):u.url)}function AN(t,e){const r=TN(e);t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=r[o.filename])})})}function CN(t){const e={};if(t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?e[o.abs_path]=o.debug_id:o.filename&&(e[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach(([i,o])=>{r.push({type:"sourcemap",code_file:i,debug_id:o})})}function NN(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function ON(t,e,r){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>({...o,...o.data&&{data:Pn(o.data,e,r)}}))},...t.user&&{user:Pn(t.user,e,r)},...t.contexts&&{contexts:Pn(t.contexts,e,r)},...t.extra&&{extra:Pn(t.extra,e,r)}};return t.contexts?.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=Pn(t.contexts.trace.data,e,r))),t.spans&&(i.spans=t.spans.map(o=>({...o,...o.data&&{data:Pn(o.data,e,r)}}))),t.contexts?.flags&&i.contexts&&(i.contexts.flags=Pn(t.contexts.flags,3,r)),i}function RN(t,e){if(!e)return t;const r=t?t.clone():new Zn;return r.update(e),r}function jN(t){if(t)return MN(t)?{captureContext:t}:DN(t)?{captureContext:t}:t}function MN(t){return t instanceof Zn||typeof t=="function"}const IN=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function DN(t){return Object.keys(t).some(e=>IN.includes(e))}function ym(t,e){return Ve().captureException(t,jN(e))}function xw(t,e){return Ve().captureEvent(t,e)}function Ew(t,e){nr().setContext(t,e)}function LN(){const t=Ie();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}function UN(t){nr().addEventProcessor(t)}function P_(t){const e=nr(),r=Ve(),{userAgent:i}=Le.navigator||{},o=JA({user:r.getUser()||e.getUser(),...i&&{userAgent:i},...t}),l=e.getSession();return l?.status==="ok"&&pa(l,{status:"exited"}),Tw(),e.setSession(o),o}function Tw(){const t=nr(),r=Ve().getSession()||t.getSession();r&&QA(r),kw(),t.setSession()}function kw(){const t=nr(),e=Ie(),r=t.getSession();r&&e&&e.captureSession(r)}function $_(t=!1){if(t){Tw();return}kw()}const zN="7";function BN(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function HN(t){return`${BN(t)}${t.projectId}/envelope/`}function PN(t,e){const r={sentry_version:zN};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function $N(t,e,r){return e||`${HN(t)}?${PN(t,r)}`}const q_=[];function qN(t){const e={};return t.forEach(r=>{const{name:i}=r,o=e[i];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[i]=r)}),Object.values(e)}function FN(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let i;if(Array.isArray(r))i=[...e,...r];else if(typeof r=="function"){const o=r(e);i=Array.isArray(o)?o:[o]}else i=e;return qN(i)}function GN(t,e){const r={};return e.forEach(i=>{i&&Aw(t,i,r)}),r}function F_(t,e){for(const r of e)r?.afterAllSetup&&r.afterAllSetup(t)}function Aw(t,e,r){if(r[e.name]){ie&&Y.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,q_.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),q_.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const i=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,l)=>i(o,l,t))}if(typeof e.processEvent=="function"){const i=e.processEvent.bind(e),o=Object.assign((l,u)=>i(l,u,t),{id:e.name});t.addEventProcessor(o)}ie&&Y.log(`Integration installed: ${e.name}`)}function VN(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function YN(t,e,r,i){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&i&&(o.dsn=Na(i)),ys(o,[VN(t)])}function Cw(t,e){const r=e??KN(t)??[];if(r.length===0)return;const i=t.getOptions(),o=YN(r,i._metadata,i.tunnel,t.getDsn());Nw().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function KN(t){return Nw().get(t)}function Nw(){return xa("clientToLogBufferMap",()=>new WeakMap)}function WN(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function XN(t,e,r,i){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&i&&(o.dsn=Na(i)),ys(o,[WN(t)])}function Ow(t,e){const r=e??JN(t)??[];if(r.length===0)return;const i=t.getOptions(),o=XN(r,i._metadata,i.tunnel,t.getDsn());Rw().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(o)}function JN(t){return Rw().get(t)}function Rw(){return xa("clientToMetricBufferMap",()=>new WeakMap)}function QN(t,e,r){const i=[{type:"client_report"},{timestamp:li(),discarded_events:t}];return ys(e?{dsn:e}:{},[i])}function jw(t){const e=[];t.message&&e.push(t.message);try{const r=t.exception.values[t.exception.values.length-1];r?.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch{}return e}function ZN(t){const{trace_id:e,parent_span_id:r,span_id:i,status:o,origin:l,data:u,op:f}=t.contexts?.trace??{};return{data:u??{},description:t.transaction,op:f,parent_span_id:r,span_id:i??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:l,profile_id:u?.[cm],exclusive_time:u?.[Ca],measurements:t.measurements,is_segment:!0}}function eO(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[cm]:t.profile_id},...t.exclusive_time&&{[Ca]:t.exclusive_time}}}},measurements:t.measurements}}const G_="Not capturing exception because it's already been captured.",V_="Discarded session because of missing or non-string release",Mw=Symbol.for("SentryInternalError"),Iw=Symbol.for("SentryDoNotSendEventError"),tO=5e3;function fu(t){return{message:t,[Mw]:!0}}function Ah(t){return{message:t,[Iw]:!0}}function Y_(t){return!!t&&typeof t=="object"&&Mw in t}function K_(t){return!!t&&typeof t=="object"&&Iw in t}function W_(t,e,r,i,o){let l=0,u;t.on(r,()=>{l=0,clearTimeout(u)}),t.on(e,f=>{l+=i(f),l>=8e5?o(t):(clearTimeout(u),u=setTimeout(()=>{o(t)},tO))}),t.on("flush",()=>{o(t)})}class nO{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=AC(e.dsn):ie&&Y.warn("No DSN provided, client will not send events."),this._dsn){const i=$N(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}this._options.enableLogs&&W_(this,"afterCaptureLog","flushLogs",aO,Cw),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&W_(this,"afterCaptureMetric","flushMetrics",iO,Ow)}captureException(e,r,i){const o=yn();if(__(e))return ie&&Y.log(G_),o;const l={event_id:o,...r};return this._process(this.eventFromException(e,l).then(u=>this._captureEvent(u,l,i))),l.event_id}captureMessage(e,r,i,o){const l={event_id:yn(),...i},u=im(e)?e:String(e),f=fa(e)?this.eventFromMessage(u,r,l):this.eventFromException(e,l);return this._process(f.then(h=>this._captureEvent(h,l,o))),l.event_id}captureEvent(e,r,i){const o=yn();if(r?.originalException&&__(r.originalException))return ie&&Y.log(G_),o;const l={event_id:o,...r},u=e.sdkProcessingMetadata||{},f=u.capturedSpanScope,h=u.capturedSpanIsolationScope;return this._process(this._captureEvent(e,l,f||i,h)),l.event_id}captureSession(e){this.sendSession(e),pa(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const r=this._transport;if(!r)return!0;this.emit("flush");const i=await this._isClientDoneProcessing(e),o=await r.flush(e);return i&&o}async close(e){const r=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];Aw(this,e,this._integrations),r||F_(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let i=eN(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])i=VC(i,XC(o));this.sendEnvelope(i).then(o=>this.emit("afterSendEvent",e,o))}sendSession(e){const{release:r,environment:i=fm}=this._options;if("aggregates"in e){const l=e.attrs||{};if(!l.release&&!r){ie&&Y.warn(V_);return}l.release=l.release||r,l.environment=l.environment||i,e.attrs=l}else{if(!e.release&&!r){ie&&Y.warn(V_);return}e.release=e.release||r,e.environment=e.environment||i}this.emit("beforeSendSession",e);const o=ZC(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(e,r,i=1){if(this._options.sendClientReports){const o=`${e}:${r}`;ie&&Y.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){const i=this._hooks[e]=this._hooks[e]||new Set,o=(...l)=>r(...l);return i.add(o),()=>{i.delete(o)}}emit(e,...r){const i=this._hooks[e];i&&i.forEach(o=>o(...r))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(r){return ie&&Y.error("Error while sending envelope:",r),{}}return ie&&Y.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=GN(this,e),F_(this,e)}_updateSessionFromEvent(e,r){let i=r.level==="fatal",o=!1;const l=r.exception?.values;if(l){o=!0,i=!1;for(const h of l)if(h.mechanism?.handled===!1){i=!0;break}}const u=e.status==="ok";(u&&e.errors===0||u&&i)&&(pa(e,{...i&&{status:"crashed"},errors:e.errors||Number(o||i)}),this.captureSession(e))}async _isClientDoneProcessing(e){let r=0;for(;!e||r<e;){if(await new Promise(i=>setTimeout(i,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,i,o){const l=this.getOptions(),u=Object.keys(this._integrations);return!r.integrations&&u?.length&&(r.integrations=u),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),ww(l,e,r,i,this,o).then(f=>{if(f===null)return f;this.emit("postprocessEvent",f,r),f.contexts={trace:lC(i),...f.contexts};const h=pw(this,i);return f.sdkProcessingMetadata={dynamicSamplingContext:h,...f.sdkProcessingMetadata},f})}_captureEvent(e,r={},i=Ve(),o=nr()){return ie&&up(e)&&Y.log(`Captured error event \`${jw(e)[0]||"<unknown>"}\``),this._processEvent(e,r,i,o).then(l=>l.event_id,l=>{ie&&(K_(l)?Y.log(l.message):Y_(l)?Y.warn(l.message):Y.warn(l))})}_processEvent(e,r,i,o){const l=this.getOptions(),{sampleRate:u}=l,f=Dw(e),h=up(e),m=e.type||"error",b=`before send for type \`${m}\``,v=typeof u>"u"?void 0:ri(u);if(h&&typeof v=="number"&&Math.random()>v)return this.recordDroppedEvent("sample_rate","error"),gm(Ah(`Discarding event because it's not included in the random sample (sampling rate = ${u})`));const _=m==="replay_event"?"replay":m;return this._prepareEvent(e,r,i,o).then(S=>{if(S===null)throw this.recordDroppedEvent("event_processor",_),Ah("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return S;const k=sO(this,l,S,r);return rO(k,b)}).then(S=>{if(S===null){if(this.recordDroppedEvent("before_send",_),f){const D=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",D)}throw Ah(`${b} returned \`null\`, will not send event.`)}const x=i.getSession()||o.getSession();if(h&&x&&this._updateSessionFromEvent(x,S),f){const E=S.sdkProcessingMetadata?.spanCountBeforeProcessing||0,D=S.spans?S.spans.length:0,B=E-D;B>0&&this.recordDroppedEvent("before_send","span",B)}const k=S.transaction_info;if(f&&k&&S.transaction!==e.transaction){const E="custom";S.transaction_info={...k,source:E}}return this.sendEvent(S,r),S}).then(null,S=>{throw K_(S)||Y_(S)?S:(this.captureException(S,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:S}),fu(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${S}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,i])=>{const[o,l]=r.split(":");return{reason:o,category:l,quantity:i}})}_flushOutcomes(){ie&&Y.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){ie&&Y.log("No outcomes to send");return}if(!this._dsn){ie&&Y.log("No dsn provided, will not send outcomes");return}ie&&Y.log("Sending outcomes:",e);const r=QN(e,this._options.tunnel&&Na(this._dsn));this.sendEnvelope(r)}}function rO(t,e){const r=`${e} must return \`null\` or a valid event.`;if(Ta(t))return t.then(i=>{if(!Vo(i)&&i!==null)throw fu(r);return i},i=>{throw fu(`${e} rejected with ${i}`)});if(!Vo(t)&&t!==null)throw fu(r);return t}function sO(t,e,r,i){const{beforeSend:o,beforeSendTransaction:l,beforeSendSpan:u,ignoreSpans:f}=e;let h=r;if(up(h)&&o)return o(h,i);if(Dw(h)){if(u||f){const m=ZN(h);if(f?.length&&_u(m,f))return null;if(u){const b=u(m);b?h=sl(r,eO(b)):ap()}if(h.spans){const b=[],v=h.spans;for(const S of v){if(f?.length&&_u(S,f)){BC(v,S);continue}if(u){const x=u(S);x?b.push(x):(ap(),b.push(S))}else b.push(S)}const _=h.spans.length-b.length;_&&t.recordDroppedEvent("before_send","span",_),h.spans=b}}if(l){if(h.spans){const m=h.spans.length;h.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:m}}return l(h,i)}}return h}function up(t){return t.type===void 0}function Dw(t){return t.type==="transaction"}function iO(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+Lw(t.attributes)}function aO(t){let e=0;return t.message&&(e+=t.message.length*2),e+Lw(t.attributes)}function Lw(t){if(!t)return 0;let e=0;return Object.values(t).forEach(r=>{Array.isArray(r)?e+=r.length*X_(r[0]):fa(r)?e+=X_(r):e+=100}),e}function X_(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function oO(t,e){e.debug===!0&&(ie?Y.enable():oi(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ve().update(e.initialScope);const i=new t(e);return lO(i),i.init(),i}function lO(t){Ve().setClient(t)}const Uw=Symbol.for("SentryBufferFullError");function zw(t=100){const e=new Set;function r(){return e.size<t}function i(u){e.delete(u)}function o(u){if(!r())return gm(Uw);const f=u();return e.add(f),f.then(()=>i(f),()=>i(f)),f}function l(u){if(!e.size)return Gu(!0);const f=Promise.allSettled(Array.from(e)).then(()=>!0);if(!u)return f;const h=[f,new Promise(m=>setTimeout(()=>m(!1),u))];return Promise.race(h)}return{get $(){return Array.from(e)},add:o,drain:l}}const cO=60*1e3;function uO(t,e=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const i=Date.parse(`${t}`);return isNaN(i)?cO:i-e}function dO(t,e){return t[e]||t.all||0}function Bw(t,e,r=Date.now()){return dO(t,e)>r}function Hw(t,{statusCode:e,headers:r},i=Date.now()){const o={...t},l=r?.["x-sentry-rate-limits"],u=r?.["retry-after"];if(l)for(const f of l.trim().split(",")){const[h,m,,,b]=f.split(":",5),v=parseInt(h,10),_=(isNaN(v)?60:v)*1e3;if(!m)o.all=i+_;else for(const S of m.split(";"))S==="metric_bucket"?(!b||b.split(";").includes("custom"))&&(o[S]=i+_):o[S]=i+_}else u?o.all=i+uO(u,i):e===429&&(o.all=i+60*1e3);return o}const fO=64;function hO(t,e,r=zw(t.bufferSize||fO)){let i={};const o=u=>r.drain(u);function l(u){const f=[];if(N_(u,(v,_)=>{const S=O_(_);Bw(i,S)?t.recordDroppedEvent("ratelimit_backoff",S):f.push(v)}),f.length===0)return Promise.resolve({});const h=ys(u[0],f),m=v=>{N_(h,(_,S)=>{t.recordDroppedEvent(v,O_(S))})},b=()=>e({body:YC(h)}).then(v=>(v.statusCode!==void 0&&(v.statusCode<200||v.statusCode>=300)&&ie&&Y.warn(`Sentry responded with status code ${v.statusCode} to sent event.`),i=Hw(i,v),v),v=>{throw m("network_error"),ie&&Y.error("Encountered error running transport request:",v),v});return r.add(b).then(v=>v,v=>{if(v===Uw)return ie&&Y.error("Skipped sending event because buffer is full."),m("queue_overflow"),Promise.resolve({});throw v})}return{send:l,flush:o}}const pO="thismessage:/";function bm(t){return"isRelative"in t}function vm(t,e){const r=t.indexOf("://")<=0&&t.indexOf("//")!==0,i=r?pO:void 0;try{if("canParse"in URL&&!URL.canParse(t,i))return;const o=new URL(t,i);return r?{isRelative:r,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function mO(t){if(bm(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function ti(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:i,relative:e[5]+r+i}}function gO(t){return t.split(/[?#]/,1)[0]}function yO(t,e){const r=e?.getDsn(),i=e?.getOptions().tunnel;return vO(t,r)||bO(t,i)}function bO(t,e){return e?J_(t)===J_(e):!1}function vO(t,e){const r=vm(t);return!r||bm(r)?!1:e?r.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(r.search):!1}function J_(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function _O(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function Pw(t,e,r=[e],i="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:r.map(l=>({name:`${i}:@sentry/${l}`,version:Qs})),version:Qs}),t._metadata=o}function $w(t={}){const e=t.client||Ie();if(!LN()||!e)return{};const r=ai(),i=Aa(r);if(i.getTraceData)return i.getTraceData(t);const o=t.scope||Ve(),l=t.span||Pt(),u=l?MC(l):SO(o),f=l?jr(l):pw(e,o),h=yC(f);if(!iw.test(u))return Y.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const b={"sentry-trace":u,baggage:h};if(t.propagateTraceparent){const v=l?IC(l):wO(o);v&&(b.traceparent=v)}return b}function SO(t){const{traceId:e,sampled:r,propagationSpanId:i}=t.getPropagationContext();return aw(e,i,r)}function wO(t){const{traceId:e,sampled:r,propagationSpanId:i}=t.getPropagationContext();return ow(e,i,r)}function xO(t,e,r){let i,o,l;const u=r?.maxWait?Math.max(r.maxWait,e):0,f=r?.setTimeoutImpl||setTimeout;function h(){return m(),i=t(),i}function m(){o!==void 0&&clearTimeout(o),l!==void 0&&clearTimeout(l),o=l=void 0}function b(){return o!==void 0||l!==void 0?h():i}function v(){return o&&clearTimeout(o),o=f(h,e),u&&l===void 0&&(l=f(h,u)),i}return v.cancel=m,v.flush=b,v}const EO=100;function fs(t,e){const r=Ie(),i=nr();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:l=EO}=r.getOptions();if(l<=0)return;const f={timestamp:li(),...t},h=o?oi(()=>o(f,e)):f;h!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",h,e),i.addBreadcrumb(h,l))}let Q_;const TO="FunctionToString",Z_=new WeakMap,kO=(()=>({name:TO,setupOnce(){Q_=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=om(this),r=Z_.has(Ie())&&e!==void 0?e:this;return Q_.apply(r,t)}}catch{}},setup(t){Z_.set(t,!0)}})),AO=kO,CO=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],NO="EventFilters",OO=(t={})=>{let e;return{name:NO,setup(r){const i=r.getOptions();e=e0(t,i)},processEvent(r,i,o){if(!e){const l=o.getOptions();e=e0(t,l)}return jO(r,e)?null:r}}},RO=((t={})=>({...OO(t),name:"InboundFilters"}));function e0(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:CO],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function jO(t,e){if(t.type){if(t.type==="transaction"&&IO(t,e.ignoreTransactions))return ie&&Y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Vs(t)}`),!0}else{if(MO(t,e.ignoreErrors))return ie&&Y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Vs(t)}`),!0;if(zO(t))return ie&&Y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Vs(t)}`),!0;if(DO(t,e.denyUrls))return ie&&Y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Vs(t)}.
Url: ${Su(t)}`),!0;if(!LO(t,e.allowUrls))return ie&&Y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Vs(t)}.
Url: ${Su(t)}`),!0}return!1}function MO(t,e){return e?.length?jw(t).some(r=>Tr(r,e)):!1}function IO(t,e){if(!e?.length)return!1;const r=t.transaction;return r?Tr(r,e):!1}function DO(t,e){if(!e?.length)return!1;const r=Su(t);return r?Tr(r,e):!1}function LO(t,e){if(!e?.length)return!0;const r=Su(t);return r?Tr(r,e):!0}function UO(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Su(t){try{const r=[...t.exception?.values??[]].reverse().find(i=>i.mechanism?.parent_id===void 0&&i.stacktrace?.frames?.length)?.stacktrace?.frames;return r?UO(r):null}catch{return ie&&Y.error(`Cannot extract url for event ${Vs(t)}`),null}}function zO(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function BO(t,e,r,i,o,l){if(!o.exception?.values||!l||!Nr(l.originalException,Error))return;const u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=dp(t,e,i,l.originalException,r,o.exception.values,u,0))}function dp(t,e,r,i,o,l,u,f){if(l.length>=r+1)return l;let h=[...l];if(Nr(i[o],Error)){t0(u,f);const m=t(e,i[o]),b=h.length;n0(m,o,b,f),h=dp(t,e,r,i[o],o,[m,...h],m,b)}return Array.isArray(i.errors)&&i.errors.forEach((m,b)=>{if(Nr(m,Error)){t0(u,f);const v=t(e,m),_=h.length;n0(v,`errors[${b}]`,_,f),h=dp(t,e,r,m,o,[v,...h],v,_)}}),h}function t0(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function n0(t,e,r,i){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:i}}function HO(t){const e="console";ps(e,t),ms(e,PO)}function PO(){"console"in Le&&CA.forEach(function(t){t in Le.console&&en(Le.console,t,function(e){return yu[t]=e,function(...r){On("console",{args:r,level:t}),yu[t]?.apply(Le.console,r)}})})}function qw(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const $O="Dedupe",qO=(()=>{let t;return{name:$O,processEvent(e){if(e.type)return e;try{if(GO(e,t))return ie&&Y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),FO=qO;function GO(t,e){return e?!!(VO(t,e)||YO(t,e)):!1}function VO(t,e){const r=t.message,i=e.message;return!(!r&&!i||r&&!i||!r&&i||r!==i||!Gw(t,e)||!Fw(t,e))}function YO(t,e){const r=r0(e),i=r0(t);return!(!r||!i||r.type!==i.type||r.value!==i.value||!Gw(t,e)||!Fw(t,e))}function Fw(t,e){let r=p_(t),i=p_(e);if(!r&&!i)return!0;if(r&&!i||!r&&i||(r=r,i=i,i.length!==r.length))return!1;for(let o=0;o<i.length;o++){const l=i[o],u=r[o];if(l.filename!==u.filename||l.lineno!==u.lineno||l.colno!==u.colno||l.function!==u.function)return!1}return!0}function Gw(t,e){let r=t.fingerprint,i=e.fingerprint;if(!r&&!i)return!0;if(r&&!i||!r&&i)return!1;r=r,i=i;try{return r.join("")===i.join("")}catch{return!1}}function r0(t){return t.exception?.values?.[0]}function KO(t,e,r,i,o){if(!t.fetchData)return;const{method:l,url:u}=t.fetchData,f=Gn()&&e(u);if(t.endTimestamp&&f){const S=t.fetchData.__span;if(!S)return;const x=i[S];x&&(JO(x,t),WO(x,t,o),delete i[S]);return}const{spanOrigin:h="auto.http.browser",propagateTraceparent:m=!1}=typeof o=="object"?o:{spanOrigin:o},b=!!Pt(),v=f&&b?Oa(ZO(u,l,h)):new ds;if(t.fetchData.__span=v.spanContext().spanId,i[v.spanContext().spanId]=v,r(t.fetchData.url)){const S=t.args[0],x=t.args[1]||{},k=XO(S,x,Gn()&&b?v:void 0,m);k&&(t.args[1]=x,x.headers=k)}const _=Ie();if(_){const S={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};_.emit("beforeOutgoingRequestSpan",v,S)}return v}function WO(t,e,r){(typeof r=="object"&&r!==null?r.onRequestSpanEnd:void 0)?.(t,{headers:e.response?.headers,error:e.error})}function XO(t,e,r,i){const o=$w({span:r,propagateTraceparent:i}),l=o["sentry-trace"],u=o.baggage,f=o.traceparent;if(!l)return;const h=e.headers||(GS(t)?t.headers:void 0);if(h)if(QO(h)){const m=new Headers(h);if(m.get("sentry-trace")||m.set("sentry-trace",l),i&&f&&!m.get("traceparent")&&m.set("traceparent",f),u){const b=m.get("baggage");b?Bc(b)||m.set("baggage",`${b},${u}`):m.set("baggage",u)}return m}else if(Array.isArray(h)){const m=[...h];h.find(v=>v[0]==="sentry-trace")||m.push(["sentry-trace",l]),i&&f&&!h.find(v=>v[0]==="traceparent")&&m.push(["traceparent",f]);const b=h.find(v=>v[0]==="baggage"&&Bc(v[1]));return u&&!b&&m.push(["baggage",u]),m}else{const m="sentry-trace"in h?h["sentry-trace"]:void 0,b="traceparent"in h?h.traceparent:void 0,v="baggage"in h?h.baggage:void 0,_=v?Array.isArray(v)?[...v]:[v]:[],S=v&&(Array.isArray(v)?v.find(k=>Bc(k)):Bc(v));u&&!S&&_.push(u);const x={...h,"sentry-trace":m??l,baggage:_.length>0?_.join(","):void 0};return i&&f&&!b&&(x.traceparent=f),x}else return{...o}}function JO(t,e){if(e.response){ew(t,e.response.status);const r=e.response?.headers?.get("content-length");if(r){const i=parseInt(r);i>0&&t.setAttribute("http.response_content_length",i)}}else e.error&&t.setStatus({code:St,message:"internal_error"});t.end()}function Bc(t){return t.split(",").some(e=>e.trim().startsWith(um))}function QO(t){return typeof Headers<"u"&&Nr(t,Headers)}function ZO(t,e,r){const i=vm(t);return{name:i?`${e} ${mO(i)}`:e,attributes:eR(t,i,e,r)}}function eR(t,e,r,i){const o={url:t,type:"fetch","http.method":r,[wt]:i,[Rr]:"http.client"};return e&&(bm(e)||(o["http.url"]=e.href,o["server.address"]=e.host),e.search&&(o["http.query"]=e.search),e.hash&&(o["http.fragment"]=e.hash)),o}function Vw(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const Wo=Le;function tR(){return"history"in Wo&&!!Wo.history}function nR(){if(!("fetch"in Wo))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function fp(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function rR(){if(typeof EdgeRuntime=="string")return!0;if(!nR())return!1;if(fp(Wo.fetch))return!0;let t=!1;const e=Wo.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow?.fetch&&(t=fp(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){ie&&Y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Yw(t,e){const r="fetch";ps(r,t),ms(r,()=>Kw(void 0,e))}function sR(t){const e="fetch-body-resolved";ps(e,t),ms(e,()=>Kw(aR))}function Kw(t,e=!1){e&&!rR()||en(Le,"fetch",function(r){return function(...i){const o=new Error,{method:l,url:u}=oR(i),f={args:i,fetchData:{method:l,url:u},startTimestamp:kt()*1e3,virtualError:o,headers:lR(i)};return t||On("fetch",{...f}),r.apply(Le,i).then(async h=>(t?t(h):On("fetch",{...f,endTimestamp:kt()*1e3,response:h}),h),h=>{if(On("fetch",{...f,endTimestamp:kt()*1e3,error:h}),sm(h)&&h.stack===void 0&&(h.stack=o.stack,bn(h,"framesToPop",1)),h instanceof TypeError&&(h.message==="Failed to fetch"||h.message==="Load failed"||h.message==="NetworkError when attempting to fetch resource."))try{const m=new URL(f.fetchData.url);h.message=`${h.message} (${m.host})`}catch{}throw h})}})}async function iR(t,e){if(t?.body){const r=t.body,i=r.getReader(),o=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3);let l=!0;for(;l;){let u;try{u=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);const{done:f}=await i.read();clearTimeout(u),f&&(e(),l=!1)}catch{l=!1}finally{clearTimeout(u)}}clearTimeout(o),i.releaseLock(),r.cancel().then(null,()=>{})}}function aR(t){let e;try{e=t.clone()}catch{return}iR(e,()=>{On("fetch-body-resolved",{endTimestamp:kt()*1e3,response:t})})}function hp(t,e){return!!t&&typeof t=="object"&&!!t[e]}function s0(t){return typeof t=="string"?t:t?hp(t,"url")?t.url:t.toString?t.toString():"":""}function oR(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,i]=t;return{url:s0(r),method:hp(i,"method")?String(i.method).toUpperCase():"GET"}}const e=t[0];return{url:s0(e),method:hp(e,"method")?String(e.method).toUpperCase():"GET"}}function lR(t){const[e,r]=t;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(GS(e))return new Headers(e.headers)}catch{}}function cR(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function uR(){return"npm"}function dR(){return!cR()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function pp(){return typeof window<"u"&&(!dR()||fR())}function fR(){return Le.process?.type==="renderer"}const Be=Le;let mp=0;function Ww(){return mp>0}function hR(){mp++,setTimeout(()=>{mp--})}function ya(t,e={}){function r(o){return typeof o=="function"}if(!r(t))return t;try{const o=t.__sentry_wrapped__;if(o)return typeof o=="function"?o:t;if(om(t))return t}catch{return t}const i=function(...o){try{const l=o.map(u=>ya(u,e));return t.apply(this,l)}catch(l){throw hR(),il(u=>{u.addEventProcessor(f=>(e.mechanism&&(rp(f,void 0),ha(f,e.mechanism)),f.extra={...f.extra,arguments:o},f)),ym(l)}),l}};try{for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch{}YS(i,t),bn(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return t.name}})}catch{}return i}function _m(){const t=ka(),{referrer:e}=Be.document||{},{userAgent:r}=Be.navigator||{},i={...e&&{Referer:e},...r&&{"User-Agent":r}};return{url:t,headers:i}}function Sm(t,e){const r=wm(t,e),i={type:bR(e),value:vR(e)};return r.length&&(i.stacktrace={frames:r}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function pR(t,e,r,i){const l=Ie()?.getOptions().normalizeDepth,u=ER(e),f={__serialized__:mw(e,l)};if(u)return{exception:{values:[Sm(t,u)]},extra:f};const h={exception:{values:[{type:qu(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:wR(e,{isUnhandledRejection:i})}]},extra:f};if(r){const m=wm(t,r);m.length&&(h.exception.values[0].stacktrace={frames:m})}return h}function Ch(t,e){return{exception:{values:[Sm(t,e)]}}}function wm(t,e){const r=e.stacktrace||e.stack||"",i=gR(e),o=yR(e);try{return t(r,i,o)}catch{}return[]}const mR=/Minified React error #\d+;/i;function gR(t){return t&&mR.test(t.message)?1:0}function yR(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function Xw(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function bR(t){const e=t?.name;return!e&&Xw(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function vR(t){const e=t?.message;return Xw(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function _R(t,e,r,i){const o=r?.syntheticException||void 0,l=xm(t,e,o,i);return ha(l),l.level="error",r?.event_id&&(l.event_id=r.event_id),Gu(l)}function SR(t,e,r="info",i,o){const l=i?.syntheticException||void 0,u=gp(t,e,l,o);return u.level=r,i?.event_id&&(u.event_id=i.event_id),Gu(u)}function xm(t,e,r,i,o){let l;if(qS(e)&&e.error)return Ch(t,e.error);if(g_(e)||BA(e)){const u=e;if("stack"in e)l=Ch(t,e);else{const f=u.name||(g_(u)?"DOMError":"DOMException"),h=u.message?`${f}: ${u.message}`:f;l=gp(t,h,r,i),rp(l,h)}return"code"in u&&(l.tags={...l.tags,"DOMException.code":`${u.code}`}),l}return sm(e)?Ch(t,e):Vo(e)||qu(e)?(l=pR(t,e,r,o),ha(l,{synthetic:!0}),l):(l=gp(t,e,r,i),rp(l,`${e}`),ha(l,{synthetic:!0}),l)}function gp(t,e,r,i){const o={};if(i&&r){const l=wm(t,r);l.length&&(o.exception={values:[{value:e,stacktrace:{frames:l}}]}),ha(o,{synthetic:!0})}if(im(e)){const{__sentry_template_string__:l,__sentry_template_values__:u}=e;return o.logentry={message:l,params:u},o}return o.message=e,o}function wR(t,{isUnhandledRejection:e}){const r=GA(t),i=e?"promise rejection":"exception";return qS(t)?`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``:qu(t)?`Event \`${xR(t)}\` (type=${t.type}) captured as ${i}`:`Object captured as ${i} with keys: ${r}`}function xR(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function ER(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}}class TR extends nO{constructor(e){const r=kR(e),i=Be.SENTRY_SDK_SOURCE||uR();Pw(r,"browser",["browser"],i),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:l,enableLogs:u,_experiments:f,enableMetrics:h}=this._options,m=h??f?.enableMetrics??!0;Be.document&&(l||u||m)&&Be.document.addEventListener("visibilitychange",()=>{Be.document.visibilityState==="hidden"&&(l&&this._flushOutcomes(),u&&Cw(this),m&&Ow(this))}),o&&this.on("beforeSendSession",_O)}eventFromException(e,r){return _R(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",i){return SR(this._options.stackParser,e,r,i,this._options.attachStacktrace)}_prepareEvent(e,r,i,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,i,o)}}function kR(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Be.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const si=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_e=Le,AR=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",ll=(t,e,r,i)=>{let o,l;return u=>{e.value>=0&&(u||i)&&(l=e.value-(o??0),(l||o===void 0)&&(o=e.value,e.delta=l,e.rating=AR(e.value,r),t(e)))}},CR=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,cl=(t=!0)=>{const e=_e.performance?.getEntriesByType?.("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},Ra=()=>cl()?.activationStart??0,ul=(t,e=-1)=>{const r=cl();let i="navigate";return r&&(_e.document?.prerendering||Ra()>0?i="prerender":_e.document?.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:CR(),navigationType:i}},Nh=new WeakMap;function Em(t,e){return Nh.get(t)||Nh.set(t,new e),Nh.get(t)}class wu{constructor(){wu.prototype.__init.call(this),wu.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const r=this._sessionEntries[0],i=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&r&&i&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const ja=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver(o=>{Promise.resolve().then(()=>{e(o.getEntries())})});return i.observe({type:t,buffered:!0,...r}),i}}catch{}},Tm=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let Uo=-1;const NR=()=>_e.document?.visibilityState==="hidden"&&!_e.document?.prerendering?0:1/0,xu=t=>{_e.document.visibilityState==="hidden"&&Uo>-1&&(Uo=t.type==="visibilitychange"?t.timeStamp:0,RR())},OR=()=>{addEventListener("visibilitychange",xu,!0),addEventListener("prerenderingchange",xu,!0)},RR=()=>{removeEventListener("visibilitychange",xu,!0),removeEventListener("prerenderingchange",xu,!0)},km=()=>{if(_e.document&&Uo<0){const t=Ra();Uo=(_e.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0]?.startTime)??NR(),OR()}return{get firstHiddenTime(){return Uo}}},Vu=t=>{_e.document?.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},jR=[1800,3e3],MR=(t,e={})=>{Vu(()=>{const r=km(),i=ul("FCP");let o;const u=ja("paint",f=>{for(const h of f)h.name==="first-contentful-paint"&&(u.disconnect(),h.startTime<r.firstHiddenTime&&(i.value=Math.max(h.startTime-Ra(),0),i.entries.push(h),o(!0)))});u&&(o=ll(t,i,jR,e.reportAllChanges))})},IR=[.1,.25],DR=(t,e={})=>{MR(Tm(()=>{const r=ul("CLS",0);let i;const o=Em(e,wu),l=f=>{for(const h of f)o._processEntry(h);o._sessionValue>r.value&&(r.value=o._sessionValue,r.entries=o._sessionEntries,i())},u=ja("layout-shift",l);u&&(i=ll(t,r,IR,e.reportAllChanges),_e.document?.addEventListener("visibilitychange",()=>{_e.document?.visibilityState==="hidden"&&(l(u.takeRecords()),i(!0))}),_e?.setTimeout?.(i))}))};let Jw=0,Oh=1/0,Hc=0;const LR=t=>{t.forEach(e=>{e.interactionId&&(Oh=Math.min(Oh,e.interactionId),Hc=Math.max(Hc,e.interactionId),Jw=Hc?(Hc-Oh)/7+1:0)})};let yp;const Qw=()=>yp?Jw:performance.interactionCount||0,UR=()=>{"interactionCount"in performance||yp||(yp=ja("event",LR,{type:"event",buffered:!0,durationThreshold:0}))},Rh=10;let Zw=0;const zR=()=>Qw()-Zw;class Eu{constructor(){Eu.prototype.__init.call(this),Eu.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Zw=Qw(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor(zR()/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||e.entryType==="first-input"))return;const r=this._longestInteractionList.at(-1);let i=this._longestInteractionMap.get(e.interactionId);if(i||this._longestInteractionList.length<Rh||e.duration>r._latency){if(i?e.duration>i._latency?(i.entries=[e],i._latency=e.duration):e.duration===i._latency&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(i.id,i),this._longestInteractionList.push(i)),this._longestInteractionList.sort((o,l)=>l._latency-o._latency),this._longestInteractionList.length>Rh){const o=this._longestInteractionList.splice(Rh);for(const l of o)this._longestInteractionMap.delete(l.id)}this._onAfterProcessingINPCandidate?.(i)}}}const Am=t=>{const e=r=>{(r.type==="pagehide"||_e.document?.visibilityState==="hidden")&&t(r)};_e.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},ex=t=>{const e=_e.requestIdleCallback||_e.setTimeout;_e.document?.visibilityState==="hidden"?t():(t=Tm(t),e(t),Am(t))},BR=[200,500],HR=40,PR=(t,e={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Vu(()=>{UR();const r=ul("INP");let i;const o=Em(e,Eu),l=f=>{ex(()=>{for(const m of f)o._processEntry(m);const h=o._estimateP98LongestInteraction();h&&h._latency!==r.value&&(r.value=h._latency,r.entries=h.entries,i())})},u=ja("event",l,{durationThreshold:e.durationThreshold??HR});i=ll(t,r,BR,e.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),Am(()=>{l(u.takeRecords()),i(!0)}))})};class $R{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const qR=[2500,4e3],FR=(t,e={})=>{Vu(()=>{const r=km(),i=ul("LCP");let o;const l=Em(e,$R),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)l._processEntry(m),m.startTime<r.firstHiddenTime&&(i.value=Math.max(m.startTime-Ra(),0),i.entries=[m],o())},f=ja("largest-contentful-paint",u);if(f){o=ll(t,i,qR,e.reportAllChanges);const h=Tm(()=>{u(f.takeRecords()),f.disconnect(),o(!0)});for(const m of["keydown","click","visibilitychange"])_e.document&&addEventListener(m,()=>ex(h),{capture:!0,once:!0})}})},GR=[800,1800],bp=t=>{_e.document?.prerendering?Vu(()=>bp(t)):_e.document?.readyState!=="complete"?addEventListener("load",()=>bp(t),!0):setTimeout(t)},VR=(t,e={})=>{const r=ul("TTFB"),i=ll(t,r,GR,e.reportAllChanges);bp(()=>{const o=cl();o&&(r.value=Math.max(o.responseStart-Ra(),0),r.entries=[o],i(!0))})},zo={},Tu={};let tx,nx,rx,sx;function Cm(t,e=!1){return Yu("cls",t,KR,tx,e)}function Nm(t,e=!1){return Yu("lcp",t,WR,nx,e)}function YR(t){return Yu("ttfb",t,XR,rx)}function ix(t){return Yu("inp",t,JR,sx)}function ii(t,e){return ax(t,e),Tu[t]||(QR(t),Tu[t]=!0),ox(t,e)}function dl(t,e){const r=zo[t];if(r?.length)for(const i of r)try{i(e)}catch(o){si&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Cr(i)}
Error:`,o)}}function KR(){return DR(t=>{dl("cls",{metric:t}),tx=t},{reportAllChanges:!0})}function WR(){return FR(t=>{dl("lcp",{metric:t}),nx=t},{reportAllChanges:!0})}function XR(){return VR(t=>{dl("ttfb",{metric:t}),rx=t})}function JR(){return PR(t=>{dl("inp",{metric:t}),sx=t})}function Yu(t,e,r,i,o=!1){ax(t,e);let l;return Tu[t]||(l=r(),Tu[t]=!0),i&&e({metric:i}),ox(t,e,o?l:void 0)}function QR(t){const e={};t==="event"&&(e.durationThreshold=0),ja(t,r=>{dl(t,{entries:r})},e)}function ax(t,e){zo[t]=zo[t]||[],zo[t].push(e)}function ox(t,e,r){return()=>{r&&r();const i=zo[t];if(!i)return;const o=i.indexOf(e);o!==-1&&i.splice(o,1)}}function ZR(t){return"duration"in t}function jh(t){return typeof t=="number"&&isFinite(t)}function hs(t,e,r,{...i}){const o=ze(t).start_timestamp;return o&&o>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),pm(t,()=>{const l=Oa({startTime:e,...i});return l&&l.end(r),l})}function Om(t){const e=Ie();if(!e)return;const{name:r,transaction:i,attributes:o,startTime:l}=t,{release:u,environment:f,sendDefaultPii:h}=e.getOptions(),b=e.getIntegrationByName("Replay")?.getReplayId(),v=Ve(),_=v.getUser(),S=_!==void 0?_.email||_.id||_.ip_address:void 0;let x;try{x=v.getScopeData().contexts.profile.profile_id}catch{}const k={release:u,environment:f,user:S||void 0,profile_id:x||void 0,replay_id:b||void 0,transaction:i,"user_agent.original":_e.navigator?.userAgent,"client.address":h?"{{auto}}":void 0,...o};return Oa({name:r,attributes:k,startTime:l,experimental:{standalone:!0}})}function fl(){return _e.addEventListener&&_e.performance}function lt(t){return t/1e3}function ej(t){let e="unknown",r="unknown",i="";for(const o of t){if(o==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(o))){e=i==="h"?"http":i,r=t.split(i)[1];break}i+=o}return i===t&&(e=i),{name:e,version:r}}function lx(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch{return!1}}function cx(t,e){let r,i=!1;function o(f){!i&&r&&e(f,r),i=!0}Am(()=>{o("pagehide")});const l=t.on("beforeStartNavigationSpan",(f,h)=>{h?.isRedirect||(o("navigation"),l(),u())}),u=t.on("afterStartPageLoadSpan",f=>{r=f.spanContext().spanId,u()})}function tj(t){let e=0,r;if(!lx("layout-shift"))return;const i=Cm(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,r=l)},!0);cx(t,(o,l)=>{nj(e,r,l,o),i()})}function nj(t,e,r,i){si&&Y.log(`Sending CLS span (${t})`);const o=e?lt((nn()||0)+e.startTime):kt(),l=Ve().getScopeData().transactionName,u=e?tn(e.sources[0]?.node):"Layout shift",f={[wt]:"auto.http.browser.cls",[Rr]:"ui.webvital.cls",[Ca]:0,"sentry.pageload.span_id":r,"sentry.report_event":i};e?.sources&&e.sources.forEach((m,b)=>{f[`cls.source.${b+1}`]=tn(m.node)});const h=Om({name:u,transaction:l,attributes:f,startTime:o});h&&(h.addEvent("cls",{[al]:"",[ol]:t}),h.end(o))}function rj(t){let e=0,r;if(!lx("largest-contentful-paint"))return;const i=Nm(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,r=l)},!0);cx(t,(o,l)=>{sj(e,r,l,o),i()})}function sj(t,e,r,i){si&&Y.log(`Sending LCP span (${t})`);const o=lt((nn()||0)+(e?.startTime||0)),l=Ve().getScopeData().transactionName,u=e?tn(e.element):"Largest contentful paint",f={[wt]:"auto.http.browser.lcp",[Rr]:"ui.webvital.lcp",[Ca]:0,"sentry.pageload.span_id":r,"sentry.report_event":i};e&&(e.element&&(f["lcp.element"]=tn(e.element)),e.id&&(f["lcp.id"]=e.id),e.url&&(f["lcp.url"]=e.url),e.loadTime!=null&&(f["lcp.loadTime"]=e.loadTime),e.renderTime!=null&&(f["lcp.renderTime"]=e.renderTime),e.size!=null&&(f["lcp.size"]=e.size));const h=Om({name:u,transaction:l,attributes:f,startTime:o});h&&(h.addEvent("lcp",{[al]:"millisecond",[ol]:t}),h.end(o))}function Nn(t){return t&&((nn()||performance.timeOrigin)+t)/1e3}function ux(t){const e={};if(t.nextHopProtocol!=null){const{name:r,version:i}=ej(t.nextHopProtocol);e["network.protocol.version"]=i,e["network.protocol.name"]=r}return nn()||fl()?.timeOrigin?ij({...e,"http.request.redirect_start":Nn(t.redirectStart),"http.request.redirect_end":Nn(t.redirectEnd),"http.request.worker_start":Nn(t.workerStart),"http.request.fetch_start":Nn(t.fetchStart),"http.request.domain_lookup_start":Nn(t.domainLookupStart),"http.request.domain_lookup_end":Nn(t.domainLookupEnd),"http.request.connect_start":Nn(t.connectStart),"http.request.secure_connection_start":Nn(t.secureConnectionStart),"http.request.connection_end":Nn(t.connectEnd),"http.request.request_start":Nn(t.requestStart),"http.request.response_start":Nn(t.responseStart),"http.request.response_end":Nn(t.responseEnd),"http.request.time_to_first_byte":t.responseStart!=null?t.responseStart/1e3:void 0}):e}function ij(t){return Object.fromEntries(Object.entries(t).filter(([,e])=>e!=null))}const aj=2147483647;let i0=0,$n={},Qt,ku;function oj({recordClsStandaloneSpans:t,recordLcpStandaloneSpans:e,client:r}){const i=fl();if(i&&nn()){i.mark&&_e.performance.mark("sentry-tracing-init");const o=e?rj(r):fj(),l=hj(),u=t?tj(r):dj();return()=>{o?.(),l(),u?.()}}return()=>{}}function lj(){ii("longtask",({entries:t})=>{const e=Pt();if(!e)return;const{op:r,start_timestamp:i}=ze(e);for(const o of t){const l=lt(nn()+o.startTime),u=lt(o.duration);r==="navigation"&&i&&l<i||hs(e,l,l+u,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[wt]:"auto.ui.browser.metrics"}})}})}function cj(){new PerformanceObserver(e=>{const r=Pt();if(r)for(const i of e.getEntries()){if(!i.scripts[0])continue;const o=lt(nn()+i.startTime),{start_timestamp:l,op:u}=ze(r);if(u==="navigation"&&l&&o<l)continue;const f=lt(i.duration),h={[wt]:"auto.ui.browser.metrics"},m=i.scripts[0],{invoker:b,invokerType:v,sourceURL:_,sourceFunctionName:S,sourceCharPosition:x}=m;h["browser.script.invoker"]=b,h["browser.script.invoker_type"]=v,_&&(h["code.filepath"]=_),S&&(h["code.function"]=S),x!==-1&&(h["browser.script.source_char_position"]=x),hs(r,o,o+f,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:h})}}).observe({type:"long-animation-frame",buffered:!0})}function uj(){ii("event",({entries:t})=>{const e=Pt();if(e){for(const r of t)if(r.name==="click"){const i=lt(nn()+r.startTime),o=lt(r.duration),l={name:tn(r.target),op:`ui.interaction.${r.name}`,startTime:i,attributes:{[wt]:"auto.ui.browser.metrics"}},u=VS(r.target);u&&(l.attributes["ui.component_name"]=u),hs(e,i,i+o,l)}}})}function dj(){return Cm(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&($n.cls={value:t.value,unit:""},ku=e)},!0)}function fj(){return Nm(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&($n.lcp={value:t.value,unit:"millisecond"},Qt=e)},!0)}function hj(){return YR(({metric:t})=>{t.entries[t.entries.length-1]&&($n.ttfb={value:t.value,unit:"millisecond"})})}function pj(t,e){const r=fl(),i=nn();if(!r?.getEntries||!i)return;const o=lt(i),l=r.getEntries(),{op:u,start_timestamp:f}=ze(t);l.slice(i0).forEach(h=>{const m=lt(h.startTime),b=lt(Math.max(0,h.duration));if(!(u==="navigation"&&f&&o+m<f))switch(h.entryType){case"navigation":{bj(t,h,o);break}case"mark":case"paint":case"measure":{gj(t,h,m,b,o,e.ignorePerformanceApiSpans);const v=km(),_=h.startTime<v.firstHiddenTime;h.name==="first-paint"&&_&&($n.fp={value:h.startTime,unit:"millisecond"}),h.name==="first-contentful-paint"&&_&&($n.fcp={value:h.startTime,unit:"millisecond"});break}case"resource":{Sj(t,h,h.name,m,b,o,e.ignoreResourceSpans);break}}}),i0=Math.max(l.length-1,0),wj(t),u==="pageload"&&(Tj($n),e.recordClsOnPageloadSpan||delete $n.cls,e.recordLcpOnPageloadSpan||delete $n.lcp,Object.entries($n).forEach(([h,m])=>{sN(h,m.value,m.unit)}),t.setAttribute("performance.timeOrigin",o),t.setAttribute("performance.activationStart",Ra()),xj(t,e)),Qt=void 0,ku=void 0,$n={}}function mj(t){if(t?.entryType==="measure")try{return t.detail.devtools.track==="Components "}catch{return}}function gj(t,e,r,i,o,l){if(mj(e)||["mark","measure"].includes(e.entryType)&&Tr(e.name,l))return;const u=cl(!1),f=lt(u?u.requestStart:0),h=o+Math.max(r,f),m=o+r,b=m+i,v={[wt]:"auto.resource.browser.metrics"};h!==m&&(v["sentry.browser.measure_happened_before_request"]=!0,v["sentry.browser.measure_start_time"]=h),yj(v,e),h<=b&&hs(t,h,b,{name:e.name,op:e.entryType,attributes:v})}function yj(t,e){try{const r=e.detail;if(!r)return;if(typeof r=="object"){for(const[i,o]of Object.entries(r))if(o&&fa(o))t[`sentry.browser.measure.detail.${i}`]=o;else if(o!==void 0)try{t[`sentry.browser.measure.detail.${i}`]=JSON.stringify(o)}catch{}return}if(fa(r)){t["sentry.browser.measure.detail"]=r;return}try{t["sentry.browser.measure.detail"]=JSON.stringify(r)}catch{}}catch{}}function bj(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{Pc(t,e,i,r)}),Pc(t,e,"secureConnection",r,"TLS/SSL"),Pc(t,e,"fetch",r,"cache"),Pc(t,e,"domainLookup",r,"DNS"),_j(t,e,r)}function Pc(t,e,r,i,o=r){const l=vj(r),u=e[l],f=e[`${r}Start`];!f||!u||hs(t,i+lt(f),i+lt(u),{op:`browser.${o}`,name:e.name,attributes:{[wt]:"auto.ui.browser.metrics",...r==="redirect"&&e.redirectCount!=null?{"http.redirect_count":e.redirectCount}:{}}})}function vj(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function _j(t,e,r){const i=r+lt(e.requestStart),o=r+lt(e.responseEnd),l=r+lt(e.responseStart);e.responseEnd&&(hs(t,i,o,{op:"browser.request",name:e.name,attributes:{[wt]:"auto.ui.browser.metrics"}}),hs(t,l,o,{op:"browser.response",name:e.name,attributes:{[wt]:"auto.ui.browser.metrics"}}))}function Sj(t,e,r,i,o,l,u){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const f=e.initiatorType?`resource.${e.initiatorType}`:"resource.other";if(u?.includes(f))return;const h={[wt]:"auto.resource.browser.metrics"},m=ti(r);m.protocol&&(h["url.scheme"]=m.protocol.split(":").pop()),m.host&&(h["server.address"]=m.host),h["url.same_origin"]=r.includes(_e.location.origin),Ej(e,h,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const b={...h,...ux(e)},v=l+i,_=v+o;hs(t,v,_,{name:r.replace(_e.location.origin,""),op:f,attributes:b})}function wj(t){const e=_e.navigator;if(!e)return;const r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),jh(r.rtt)&&($n["connection.rtt"]={value:r.rtt,unit:"millisecond"})),jh(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),jh(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function xj(t,e){Qt&&e.recordLcpOnPageloadSpan&&(Qt.element&&t.setAttribute("lcp.element",tn(Qt.element)),Qt.id&&t.setAttribute("lcp.id",Qt.id),Qt.url&&t.setAttribute("lcp.url",Qt.url.trim().slice(0,200)),Qt.loadTime!=null&&t.setAttribute("lcp.loadTime",Qt.loadTime),Qt.renderTime!=null&&t.setAttribute("lcp.renderTime",Qt.renderTime),t.setAttribute("lcp.size",Qt.size)),ku?.sources&&e.recordClsOnPageloadSpan&&ku.sources.forEach((r,i)=>t.setAttribute(`cls.source.${i+1}`,tn(r.node)))}function Ej(t,e,r){r.forEach(([i,o])=>{const l=t[i];l!=null&&(typeof l=="number"&&l<aj||typeof l=="string")&&(e[o]=l)})}function Tj(t){const e=cl(!1);if(!e)return;const{responseStart:r,requestStart:i}=e;i<=r&&(t["ttfb.requestTime"]={value:r-i,unit:"millisecond"})}function kj(){return fl()&&nn()?ii("element",Aj):()=>{}}const Aj=({entries:t})=>{const e=Pt(),r=e?It(e):void 0,i=r?ze(r).description:Ve().getScopeData().transactionName;t.forEach(o=>{const l=o;if(!l.identifier)return;const u=l.name,f=l.renderTime,h=l.loadTime,[m,b]=h?[lt(h),"load-time"]:f?[lt(f),"render-time"]:[kt(),"entry-emission"],v=u==="image-paint"?lt(Math.max(0,(f??0)-(h??0))):0,_={[wt]:"auto.ui.browser.elementtiming",[Rr]:"ui.elementtiming",[Fn]:"component","sentry.span_start_time_source":b,"sentry.transaction_name":i,"element.id":l.id,"element.type":l.element?.tagName?.toLowerCase()||"unknown","element.size":l.naturalWidth&&l.naturalHeight?`${l.naturalWidth}x${l.naturalHeight}`:void 0,"element.render_time":f,"element.load_time":h,"element.url":l.url||void 0,"element.identifier":l.identifier,"element.paint_type":u};uN({name:`element[${l.identifier}]`,attributes:_,startTime:m,onlyIfParent:!0},S=>{S.end(m+v)})})},Cj=1e3;let a0,vp,_p;function dx(t){ps("dom",t),ms("dom",Nj)}function Nj(){if(!_e.document)return;const t=On.bind(null,"dom"),e=o0(t,!0);_e.document.addEventListener("click",e,!1),_e.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const o=_e[r]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(en(o,"addEventListener",function(l){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},b=m[u]=m[u]||{refCount:0};if(!b.handler){const v=o0(t);b.handler=v,l.call(this,u,v,h)}b.refCount++}catch{}return l.call(this,u,f,h)}}),en(o,"removeEventListener",function(l){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__||{},b=m[u];b&&(b.refCount--,b.refCount<=0&&(l.call(this,u,b.handler,h),b.handler=void 0,delete m[u]),Object.keys(m).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return l.call(this,u,f,h)}}))})}function Oj(t){if(t.type!==vp)return!1;try{if(!t.target||t.target._sentryId!==_p)return!1}catch{}return!0}function Rj(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function o0(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const i=jj(r);if(Rj(r.type,i))return;bn(r,"_sentryCaptured",!0),i&&!i._sentryId&&bn(i,"_sentryId",yn());const o=r.type==="keypress"?"input":r.type;Oj(r)||(t({event:r,name:o,global:e}),vp=r.type,_p=i?i._sentryId:void 0),clearTimeout(a0),a0=_e.setTimeout(()=>{_p=void 0,vp=void 0},Cj)}}function jj(t){try{return t.target}catch{return null}}let $c;function Ku(t){const e="history";ps(e,t),ms(e,Mj)}function Mj(){if(_e.addEventListener("popstate",()=>{const e=_e.location.href,r=$c;if($c=e,r===e)return;On("history",{from:r,to:e})}),!tR())return;function t(e){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=$c,l=Ij(String(i));if($c=l,o===l)return e.apply(this,r);On("history",{from:o,to:l})}return e.apply(this,r)}}en(_e.history,"pushState",t),en(_e.history,"replaceState",t)}function Ij(t){try{return new URL(t,_e.location.origin).toString()}catch{return t}}const hu={};function fx(t){const e=hu[t];if(e)return e;let r=_e[t];if(fp(r))return hu[t]=r.bind(_e);const i=_e.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l?.[t]&&(r=l[t]),i.head.removeChild(o)}catch(o){si&&Y.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,o)}return r&&(hu[t]=r.bind(_e))}function Dj(t){hu[t]=void 0}function hl(...t){return fx("setTimeout")(...t)}const Ws="__sentry_xhr_v3__";function hx(t){ps("xhr",t),ms("xhr",Lj)}function Lj(){if(!_e.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,i){const o=new Error,l=kt()*1e3,u=Er(i[0])?i[0].toUpperCase():void 0,f=Uj(i[1]);if(!u||!f)return e.apply(r,i);r[Ws]={method:u,url:f,request_headers:{}},u==="POST"&&f.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const h=()=>{const m=r[Ws];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}const b={endTimestamp:kt()*1e3,startTimestamp:l,xhr:r,virtualError:o};On("xhr",b)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,b,v){return h(),m.apply(b,v)}}):r.addEventListener("readystatechange",h),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,b,v){const[_,S]=v,x=b[Ws];return x&&Er(_)&&Er(S)&&(x.request_headers[_.toLowerCase()]=S),m.apply(b,v)}}),e.apply(r,i)}}),t.send=new Proxy(t.send,{apply(e,r,i){const o=r[Ws];if(!o)return e.apply(r,i);i[0]!==void 0&&(o.body=i[0]);const l={startTimestamp:kt()*1e3,xhr:r};return On("xhr",l),e.apply(r,i)}})}function Uj(t){if(Er(t))return t;try{return t.toString()}catch{}}function px(t){return new URLSearchParams(t).toString()}function mx(t,e=Y){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[px(t)];if(!t)return[void 0]}catch(r){return si&&e.error(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return si&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function gx(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function yx(t){let e;try{e=t.getAllResponseHeaders()}catch(r){return si&&Y.error(r,"Failed to get xhr response headers",t),{}}return e?e.split(`\r
`).reduce((r,i)=>{const[o,l]=i.split(": ");return l&&(r[o.toLowerCase()]=l),r},{}):{}}const Mh=[],pu=new Map,Ki=new Map,zj=60;function Bj(){if(fl()&&nn()){const e=Hj();return()=>{e()}}return()=>{}}const Sp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Hj(){return ix(Pj)}const Pj=({metric:t})=>{if(t.value==null)return;const e=lt(t.value);if(e>zj)return;const r=t.entries.find(x=>x.duration===t.value&&Sp[x.name]);if(!r)return;const{interactionId:i}=r,o=Sp[r.name],l=lt(nn()+r.startTime),u=Pt(),f=u?It(u):void 0,h=i!=null?pu.get(i):void 0,m=h?.span||f,b=m?ze(m).description:Ve().getScopeData().transactionName,v=h?.elementName||tn(r.target),_={[wt]:"auto.http.browser.inp",[Rr]:`ui.interaction.${o}`,[Ca]:r.duration},S=Om({name:v,transaction:b,attributes:_,startTime:l});S&&(S.addEvent("inp",{[al]:"millisecond",[ol]:t.value}),S.end(l+e))};function $j(){const t=Object.keys(Sp);pp()&&t.forEach(o=>{_e.addEventListener(o,e,{capture:!0,passive:!0})});function e(o){const l=o.target;if(!l)return;const u=tn(l),f=Math.round(o.timeStamp);if(Ki.set(f,u),Ki.size>50){const h=Ki.keys().next().value;h!==void 0&&Ki.delete(h)}}function r(o){const l=Math.round(o.startTime);let u=Ki.get(l);if(!u)for(let f=-5;f<=5;f++){const h=Ki.get(l+f);if(h){u=h;break}}return u||"<unknown>"}const i=({entries:o})=>{const l=Pt(),u=l&&It(l);o.forEach(f=>{if(!ZR(f))return;const h=f.interactionId;if(h==null||pu.has(h))return;const m=f.target?tn(f.target):r(f);if(Mh.length>10){const b=Mh.shift();pu.delete(b)}Mh.push(h),pu.set(h,{span:u,elementName:m})})};ii("event",i),ii("first-input",i)}const qj=40;function Fj(t,e=fx("fetch")){let r=0,i=0;async function o(l){const u=l.body.length;r+=u,i++;const f={body:l.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&i<15,...t.fetchOptions};try{const h=await e(t.url,f);return{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}}catch(h){throw Dj("fetch"),h}finally{r-=u,i--}}return hO(t,o,zw(t.bufferSize||qj))}const Gj=30,Vj=50;function wp(t,e,r,i){const o={filename:t,function:e==="<anonymous>"?ni:e,in_app:!0};return r!==void 0&&(o.lineno=r),i!==void 0&&(o.colno=i),o}const Yj=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Kj=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Wj=/\((\S*)(?::(\d+))(?::(\d+))\)/,Xj=/at (.+?) ?\(data:(.+?),/,Jj=t=>{const e=t.match(Xj);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const r=Yj.exec(t);if(r){const[,o,l,u]=r;return wp(o,ni,+l,+u)}const i=Kj.exec(t);if(i){if(i[2]&&i[2].indexOf("eval")===0){const f=Wj.exec(i[2]);f&&(i[2]=f[1],i[3]=f[2],i[4]=f[3])}const[l,u]=bx(i[1]||ni,i[2]);return wp(u,l,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},Qj=[Gj,Jj],Zj=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tM=t=>{const e=Zj.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const l=eM.exec(e[3]);l&&(e[1]=e[1]||"eval",e[3]=l[1],e[4]=l[2],e[5]="")}let i=e[3],o=e[1]||ni;return[o,i]=bx(o,i),wp(i,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},nM=[Vj,tM],rM=[Qj,nM],sM=BS(...rM),bx=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return r||i?[t.indexOf("@")!==-1?t.split("@")[0]:ni,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qc=1024,iM="Breadcrumbs",aM=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:iM,setup(r){e.console&&HO(uM(r)),e.dom&&dx(cM(r,e.dom)),e.xhr&&hx(dM(r)),e.fetch&&Yw(fM(r)),e.history&&Ku(hM(r)),e.sentry&&r.on("beforeSendEvent",lM(r))}}}),oM=aM;function lM(t){return function(r){Ie()===t&&fs({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Vs(r)},{event:r})}}function cM(t,e){return function(i){if(Ie()!==t)return;let o,l,u=typeof e=="object"?e.serializeAttribute:void 0,f=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;f&&f>qc&&(Rn&&Y.warn(`\`dom.maxStringLength\` cannot exceed ${qc}, but a value of ${f} was configured. Sentry will use ${qc} instead.`),f=qc),typeof u=="string"&&(u=[u]);try{const m=i.event,b=pM(m)?m.target:m;o=tn(b,{keyAttrs:u,maxStringLength:f}),l=VS(b)}catch{o="<unknown>"}if(o.length===0)return;const h={category:`ui.${i.name}`,message:o};l&&(h.data={"ui.component_name":l}),fs(h,{event:i.event,name:i.name,global:i.global})}}function uM(t){return function(r){if(Ie()!==t)return;const i={category:"console",data:{arguments:r.args,logger:"console"},level:qw(r.level),message:v_(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)i.message=`Assertion failed: ${v_(r.args.slice(1)," ")||"console.assert"}`,i.data.arguments=r.args.slice(1);else return;fs(i,{input:r.args,level:r.level})}}function dM(t){return function(r){if(Ie()!==t)return;const{startTimestamp:i,endTimestamp:o}=r,l=r.xhr[Ws];if(!i||!o||!l)return;const{method:u,url:f,status_code:h,body:m}=l,b={method:u,url:f,status_code:h},v={xhr:r.xhr,input:m,startTimestamp:i,endTimestamp:o},_={category:"xhr",data:b,type:"http",level:Vw(h)};t.emit("beforeOutgoingRequestBreadcrumb",_,v),fs(_,v)}}function fM(t){return function(r){if(Ie()!==t)return;const{startTimestamp:i,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const l=r.fetchData,u={data:r.error,input:r.args,startTimestamp:i,endTimestamp:o},f={category:"fetch",data:l,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",f,u),fs(f,u)}else{const l=r.response,u={...r.fetchData,status_code:l?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,l?.status;const f={input:r.args,response:l,startTimestamp:i,endTimestamp:o},h={category:"fetch",data:u,type:"http",level:Vw(u.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",h,f),fs(h,f)}}}function hM(t){return function(r){if(Ie()!==t)return;let i=r.from,o=r.to;const l=ti(Be.location.href);let u=i?ti(i):void 0;const f=ti(o);u?.path||(u=l),l.protocol===f.protocol&&l.host===f.host&&(o=f.relative),l.protocol===u.protocol&&l.host===u.host&&(i=u.relative),fs({category:"navigation",data:{from:i,to:o}})}}function pM(t){return!!t&&!!t.target}const mM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],gM="BrowserApiErrors",yM=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:gM,setupOnce(){e.setTimeout&&en(Be,"setTimeout",l0),e.setInterval&&en(Be,"setInterval",l0),e.requestAnimationFrame&&en(Be,"requestAnimationFrame",vM),e.XMLHttpRequest&&"XMLHttpRequest"in Be&&en(XMLHttpRequest.prototype,"send",_M);const r=e.eventTarget;r&&(Array.isArray(r)?r:mM).forEach(o=>SM(o,e))}}}),bM=yM;function l0(t){return function(...e){const r=e[0];return e[0]=ya(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Cr(t)}`}}),t.apply(this,e)}}function vM(t){return function(e){return t.apply(this,[ya(e,{mechanism:{data:{handler:Cr(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function _M(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&en(r,o,function(l){const u={mechanism:{data:{handler:Cr(l)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},f=om(l);return f&&(u.mechanism.data.handler=Cr(f)),ya(l,u)})}),t.apply(this,e)}}function SM(t,e){const i=Be[t]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(en(i,"addEventListener",function(o){return function(l,u,f){try{wM(u)&&(u.handleEvent=ya(u.handleEvent,{mechanism:{data:{handler:Cr(u),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&xM(this,l,u),o.apply(this,[l,ya(u,{mechanism:{data:{handler:Cr(u),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),f])}}),en(i,"removeEventListener",function(o){return function(l,u,f){try{const h=u.__sentry_wrapped__;h&&o.call(this,l,h,f)}catch{}return o.call(this,l,u,f)}}))}function wM(t){return typeof t.handleEvent=="function"}function xM(t,e,r){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,r)}const EM=()=>({name:"BrowserSession",setupOnce(){if(typeof Be.document>"u"){Rn&&Y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}P_({ignoreDuration:!0}),$_(),Ku(({from:t,to:e})=>{t!==void 0&&t!==e&&(P_({ignoreDuration:!0}),$_())})}}),TM="GlobalHandlers",kM=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:TM,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(CM(r),c0("onerror")),e.onunhandledrejection&&(NM(r),c0("onunhandledrejection"))}}}),AM=kM;function CM(t){HS(e=>{const{stackParser:r,attachStacktrace:i}=vx();if(Ie()!==t||Ww())return;const{msg:o,url:l,line:u,column:f,error:h}=e,m=jM(xm(r,h||o,void 0,i,!1),l,u,f);m.level="error",xw(m,{originalException:h,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function NM(t){PS(e=>{const{stackParser:r,attachStacktrace:i}=vx();if(Ie()!==t||Ww())return;const o=OM(e),l=fa(o)?RM(o):xm(r,o,void 0,i,!0);l.level="error",xw(l,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function OM(t){if(fa(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function RM(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function jM(t,e,r,i){const o=t.exception=t.exception||{},l=o.values=o.values||[],u=l[0]=l[0]||{},f=u.stacktrace=u.stacktrace||{},h=f.frames=f.frames||[],m=i,b=r,v=MM(e)??ka();return h.length===0&&h.push({colno:m,filename:v,function:ni,in_app:!0,lineno:b}),t}function c0(t){Rn&&Y.log(`Global Handler attached: ${t}`)}function vx(){return Ie()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function MM(t){if(!(!Er(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),r=e?e[1]:"text/javascript",i=t.includes("base64,");return`<data:${r}${i?",base64":""}>`}return t}}const IM=()=>({name:"HttpContext",preprocessEvent(t){if(!Be.navigator&&!Be.location&&!Be.document)return;const e=_m(),r={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:r}}}),DM="cause",LM=5,UM="LinkedErrors",zM=((t={})=>{const e=t.limit||LM,r=t.key||DM;return{name:UM,preprocessEvent(i,o,l){const u=l.getOptions();BO(Sm,u.stackParser,r,e,i,o)}}}),BM=zM;function HM(){return PM()?(Rn&&oi(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function PM(){if(typeof Be.window>"u")return!1;const t=Be;if(t.nw||!(t.chrome||t.browser)?.runtime?.id)return!1;const r=ka(),i=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Be===Be.top&&i.some(l=>r.startsWith(`${l}://`)))}function $M(t){return[RO(),AO(),bM(),oM(),AM(),BM(),FO(),IM(),EM()]}function qM(t={}){const e=!t.skipBrowserExtensionCheck&&HM();let r=t.defaultIntegrations==null?$M():t.defaultIntegrations;const i={...t,enabled:e?!1:t.enabled,stackParser:DA(t.stackParser||sM),integrations:FN({integrations:t.integrations,defaultIntegrations:r}),transport:t.transport||Fj};return oO(TR,i)}const Ze=Le,Rm="sentryReplaySession",FM="replay_event",jm="Unable to send Replay",GM=3e5,VM=9e5,YM=5e3,KM=5500,WM=6e4,XM=5e3,JM=3,u0=15e4,Fc=5e3,QM=3e3,ZM=300,Mm=2e7,eI=4999,tI=15e3,d0=36e5;var nI=Object.defineProperty,rI=(t,e,r)=>e in t?nI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f0=(t,e,r)=>rI(t,typeof e!="symbol"?e+"":e,r),gt=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(gt||{});function sI(t){return t.nodeType===t.ELEMENT_NODE}function Bo(t){return t?.host?.shadowRoot===t}function Ho(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function iI(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function aI(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const r=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}function Au(t){try{const e=t.rules||t.cssRules;return e?iI(Array.from(e,_x).join("")):null}catch{return null}}function oI(t){let e="";for(let r=0;r<t.style.length;r++){const i=t.style,o=i[r],l=i.getPropertyPriority(o);e+=`${o}:${i.getPropertyValue(o)}${l?" !important":""};`}return`${t.selectorText} { ${e} }`}function _x(t){let e;if(cI(t))try{e=Au(t.styleSheet)||aI(t)}catch{}else if(uI(t)){let r=t.cssText;const i=t.selectorText.includes(":"),o=typeof t.style.all=="string"&&t.style.all;if(o&&(r=oI(t)),i&&(r=lI(r)),i||o)return r}return e||t.cssText}function lI(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function cI(t){return"styleSheet"in t}function uI(t){return"selectorText"in t}class Sx{constructor(){f0(this,"idNodeMap",new Map),f0(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,r){const i=r.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,r)}replace(e,r){const i=this.getNode(e);if(i){const o=this.nodeMetaMap.get(i);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(e,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function dI(){return new Sx}function Wu({maskInputOptions:t,tagName:e,type:r}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||r&&t[r]||r==="password"||e==="INPUT"&&!r&&t.text)}function Xo({isMasked:t,element:e,value:r,maskInputFn:i}){let o=r||"";return t?(i&&(o=i(o,e)),"*".repeat(o.length)):o}function ba(t){return t.toLowerCase()}function xp(t){return t.toUpperCase()}const h0="__rrweb_original__";function fI(t){const e=t.getContext("2d");if(!e)return!0;const r=50;for(let i=0;i<t.width;i+=r)for(let o=0;o<t.height;o+=r){const l=e.getImageData,u=h0 in l?l[h0]:l;if(new Uint32Array(u.call(e,i,o,Math.min(r,t.width-i),Math.min(r,t.height-o)).data.buffer).some(h=>h!==0))return!1}return!0}function Im(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?ba(e):null}function Cu(t,e,r){return e==="INPUT"&&(r==="radio"||r==="checkbox")?t.getAttribute("value")||"":t.value}function wx(t,e){let r;try{r=new URL(t,e??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i;return r.pathname.match(i)?.[1]??null}const p0={};function xx(t){const e=p0[t];if(e)return e;const r=window.document;let i=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const l=o.contentWindow;l&&l[t]&&(i=l[t]),r.head.removeChild(o)}catch{}return p0[t]=i.bind(window)}function Ep(...t){return xx("setTimeout")(...t)}function Ex(...t){return xx("clearTimeout")(...t)}function Tx(t){try{return t.contentDocument}catch{}}let hI=1;const pI=new RegExp("[^a-z0-9-_:]"),Jo=-2;function Dm(){return hI++}function mI(t){if(t instanceof HTMLFormElement)return"form";const e=ba(t.tagName);return pI.test(e)?"div":e}function gI(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let Wi,m0;const yI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,bI=/^(?:[a-z+]+:)?\/\//i,vI=/^www\..*/i,_I=/^(data:)([^,]*),(.*)/i;function SI(t,e){if(!t||e.size===0)return t;try{const r=t.split(";"),i=[];for(let o of r){if(o=o.trim(),!o)continue;const l=o.indexOf(":");if(l===-1){i.push(o);continue}const u=o.slice(0,l).trim();e.has(u)||i.push(o)}return i.join("; ")+(i.length>0&&t.endsWith(";")?";":"")}catch(r){return console.warn("Error filtering CSS properties:",r),t}}function Nu(t,e){return(t||"").replace(yI,(r,i,o,l,u,f)=>{const h=o||u||f,m=i||l||"";if(!h)return r;if(bI.test(h)||vI.test(h))return`url(${m}${h}${m})`;if(_I.test(h))return`url(${m}${h}${m})`;if(h[0]==="/")return`url(${m}${gI(e)+h}${m})`;const b=e.split("/"),v=h.split("/");b.pop();for(const _ of v)_!=="."&&(_===".."?b.pop():b.push(_));return`url(${m}${b.join("/")}${m})`})}const wI=/^[^ \t\n\r\u000c]+/,xI=/^[, \t\n\r\u000c]+/;function EI(t,e){if(e.trim()==="")return e;let r=0;function i(l){let u;const f=l.exec(e.substring(r));return f?(u=f[0],r+=u.length,u):""}const o=[];for(;i(xI),!(r>=e.length);){let l=i(wI);if(l.slice(-1)===",")l=aa(t,l.substring(0,l.length-1)),o.push(l);else{let u="";l=aa(t,l);let f=!1;for(;;){const h=e.charAt(r);if(h===""){o.push((l+u).trim());break}else if(f)h===")"&&(f=!1);else if(h===","){r+=1,o.push((l+u).trim());break}else h==="("&&(f=!0);u+=h,r+=1}}}return o.join(", ")}const g0=new WeakMap;function aa(t,e){return!e||e.trim()===""?e:Xu(t,e)}function TI(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Xu(t,e){let r=g0.get(t);if(r||(r=t.createElement("a"),g0.set(t,r)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return r.setAttribute("href",e),r.href}function kx(t,e,r,i,o,l,u){if(!i)return i;if(r==="src"||r==="href"&&!(e==="use"&&i[0]==="#"))return aa(t,i);if(r==="xlink:href"&&i[0]!=="#")return aa(t,i);if(r==="background"&&(e==="table"||e==="td"||e==="th"))return aa(t,i);if(r==="srcset")return EI(t,i);if(r==="style"){let f=Nu(i,Xu(t));return u&&u.size>0&&(f=SI(f,u)),f}else if(e==="object"&&r==="data")return aa(t,i);return typeof l=="function"?l(r,i,o):i}function Ax(t,e,r){return(t==="video"||t==="audio")&&e==="autoplay"}function kI(t,e,r,i){try{if(i&&t.matches(i))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let o=t.classList.length;o--;){const l=t.classList[o];if(e.test(l))return!0}if(r)return t.matches(r)}catch{}return!1}function AI(t,e){for(let r=t.classList.length;r--;){const i=t.classList[r];if(e.test(i))return!0}return!1}function Xs(t,e,r=1/0,i=0){return!t||t.nodeType!==t.ELEMENT_NODE||i>r?-1:e(t)?i:Xs(t.parentNode,e,r,i+1)}function oa(t,e){return r=>{const i=r;if(i===null)return!1;try{if(t){if(typeof t=="string"){if(i.matches(`.${t}`))return!0}else if(AI(i,t))return!0}return!!(e&&i.matches(e))}catch{return!1}}}function va(t,e,r,i,o,l){try{const u=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(u===null)return!1;if(u.tagName==="INPUT"){const m=u.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(m))return!0}let f=-1,h=-1;if(l){if(h=Xs(u,oa(i,o)),h<0)return!0;f=Xs(u,oa(e,r),h>=0?h:1/0)}else{if(f=Xs(u,oa(e,r)),f<0)return!1;h=Xs(u,oa(i,o),f>=0?f:1/0)}return f>=0?h>=0?f<=h:!0:h>=0?!1:!!l}catch{}return!!l}function CI(t,e,r){const i=t.contentWindow;if(!i)return;let o=!1,l;try{l=i.document.readyState}catch{return}if(l!=="complete"){const f=Ep(()=>{o||(e(),o=!0)},r);t.addEventListener("load",()=>{Ex(f),o=!0,e()});return}const u="about:blank";if(i.location.href!==u||t.src===u||t.src==="")return Ep(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function NI(t,e,r){let i=!1,o;try{o=t.sheet}catch{return}if(o)return;const l=Ep(()=>{i||(e(),i=!0)},r);t.addEventListener("load",()=>{Ex(l),i=!0,e()})}function OI(t,e){const{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskAttributeFn:h,maskTextClass:m,unmaskTextClass:b,maskTextSelector:v,unmaskTextSelector:_,inlineStylesheet:S,maskInputOptions:x={},maskTextFn:k,maskInputFn:E,dataURLOptions:D={},inlineImages:B,recordCanvas:N,keepIframeSrcFn:q,newlyAddedElement:K=!1,ignoreCSSAttributes:G}=e,U=RI(r,i);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:gt.Document,childNodes:[],compatMode:t.compatMode}:{type:gt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:gt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:U};case t.ELEMENT_NODE:return MI(t,{doc:r,blockClass:o,blockSelector:l,unblockSelector:u,inlineStylesheet:S,maskAttributeFn:h,maskInputOptions:x,maskInputFn:E,dataURLOptions:D,inlineImages:B,recordCanvas:N,keepIframeSrcFn:q,newlyAddedElement:K,rootId:U,maskTextClass:m,unmaskTextClass:b,maskTextSelector:v,unmaskTextSelector:_,ignoreCSSAttributes:G});case t.TEXT_NODE:return jI(t,{doc:r,maskAllText:f,maskTextClass:m,unmaskTextClass:b,maskTextSelector:v,unmaskTextSelector:_,maskTextFn:k,maskInputOptions:x,maskInputFn:E,rootId:U});case t.CDATA_SECTION_NODE:return{type:gt.CDATA,textContent:"",rootId:U};case t.COMMENT_NODE:return{type:gt.Comment,textContent:t.textContent||"",rootId:U};default:return!1}}function RI(t,e){if(!e.hasNode(t))return;const r=e.getId(t);return r===1?void 0:r}function jI(t,e){const{maskAllText:r,maskTextClass:i,unmaskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,maskTextFn:f,maskInputOptions:h,maskInputFn:m,rootId:b}=e,v=t.parentNode&&t.parentNode.tagName;let _=t.textContent;const S=v==="STYLE"?!0:void 0,x=v==="SCRIPT"?!0:void 0,k=v==="TEXTAREA"?!0:void 0;if(S&&_){try{t.nextSibling||t.previousSibling||t.parentNode.sheet?.cssRules&&(_=Au(t.parentNode.sheet))}catch(D){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${D}`,t)}_=Nu(_,Xu(e.doc))}x&&(_="SCRIPT_PLACEHOLDER");const E=va(t,i,l,o,u,r);if(!S&&!x&&!k&&_&&E&&(_=f?f(_,t.parentElement):_.replace(/[\S]/g,"*")),k&&_&&(h.textarea||E)&&(_=m?m(_,t.parentNode):_.replace(/[\S]/g,"*")),v==="OPTION"&&_){const D=Wu({type:null,tagName:v,maskInputOptions:h});_=Xo({isMasked:va(t,i,l,o,u,D),element:t,value:_,maskInputFn:m})}return{type:gt.Text,textContent:_||"",isStyle:S,rootId:b}}function MI(t,e){const{doc:r,blockClass:i,blockSelector:o,unblockSelector:l,inlineStylesheet:u,maskInputOptions:f={},maskAttributeFn:h,maskInputFn:m,dataURLOptions:b={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:S,newlyAddedElement:x=!1,rootId:k,maskTextClass:E,unmaskTextClass:D,maskTextSelector:B,unmaskTextSelector:N,ignoreCSSAttributes:q}=e,K=kI(t,i,o,l),G=mI(t);let U={};const P=t.attributes.length;for(let W=0;W<P;W++){const te=t.attributes[W];te.name&&!Ax(G,te.name,te.value)&&(U[te.name]=kx(r,G,ba(te.name),te.value,t,h,q))}if(G==="link"&&u){const W=Array.from(r.styleSheets).find(le=>le.href===t.href);let te=null;W&&(te=Au(W)),te&&(U.rel=null,U.href=null,U.crossorigin=null,U._cssText=Nu(te,W.href))}if(G==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const W=Au(t.sheet);W&&(U._cssText=Nu(W,Xu(r)))}if(G==="input"||G==="textarea"||G==="select"||G==="option"){const W=t,te=Im(W),le=Cu(W,xp(G),te),he=W.checked;if(te!=="submit"&&te!=="button"&&le){const Te=va(W,E,B,D,N,Wu({type:te,tagName:xp(G),maskInputOptions:f}));U.value=Xo({isMasked:Te,element:W,value:le,maskInputFn:m})}he&&(U.checked=he)}if(G==="option"&&(t.selected&&!f.select?U.selected=!0:delete U.selected),G==="canvas"&&_){if(t.__context==="2d")fI(t)||(U.rr_dataURL=t.toDataURL(b.type,b.quality));else if(!("__context"in t)){const W=t.toDataURL(b.type,b.quality),te=r.createElement("canvas");te.width=t.width,te.height=t.height;const le=te.toDataURL(b.type,b.quality);W!==le&&(U.rr_dataURL=W)}}if(G==="img"&&v){Wi||(Wi=r.createElement("canvas"),m0=Wi.getContext("2d"));const W=t,te=W.currentSrc||W.getAttribute("src")||"<unknown-src>",le=W.crossOrigin,he=()=>{W.removeEventListener("load",he);try{Wi.width=W.naturalWidth,Wi.height=W.naturalHeight,m0.drawImage(W,0,0),U.rr_dataURL=Wi.toDataURL(b.type,b.quality)}catch(Te){if(W.crossOrigin!=="anonymous"){W.crossOrigin="anonymous",W.complete&&W.naturalWidth!==0?he():W.addEventListener("load",he);return}else console.warn(`Cannot inline img src=${te}! Error: ${Te}`)}W.crossOrigin==="anonymous"&&(le?U.crossOrigin=le:W.removeAttribute("crossorigin"))};W.complete&&W.naturalWidth!==0?he():W.addEventListener("load",he)}if((G==="audio"||G==="video")&&(U.rr_mediaState=t.paused?"paused":"played",U.rr_mediaCurrentTime=t.currentTime),x||(t.scrollLeft&&(U.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(U.rr_scrollTop=t.scrollTop)),K){const{width:W,height:te}=t.getBoundingClientRect();U={class:U.class,rr_width:`${W}px`,rr_height:`${te}px`}}G==="iframe"&&!S(U.src)&&(!K&&!Tx(t)&&(U.rr_src=U.src),delete U.src);let ce;try{customElements.get(G)&&(ce=!0)}catch{}return{type:gt.Element,tagName:G,attributes:U,childNodes:[],isSVG:TI(t)||void 0,needBlock:K,rootId:k,isCustom:ce}}function Je(t){return t==null?"":t.toLowerCase()}function II(t,e){if(e.comment&&t.type===gt.Comment)return!0;if(t.type===gt.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&wx(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Je(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Je(t.attributes.name)==="application-name"||Je(t.attributes.rel)==="icon"||Je(t.attributes.rel)==="apple-touch-icon"||Je(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&Je(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Je(t.attributes.property).match(/^(og|twitter|fb):/)||Je(t.attributes.name).match(/^(og|twitter):/)||Je(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Je(t.attributes.name)==="robots"||Je(t.attributes.name)==="googlebot"||Je(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Je(t.attributes.name)==="author"||Je(t.attributes.name)==="generator"||Je(t.attributes.name)==="framework"||Je(t.attributes.name)==="publisher"||Je(t.attributes.name)==="progid"||Je(t.attributes.property).match(/^article:/)||Je(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Je(t.attributes.name)==="google-site-verification"||Je(t.attributes.name)==="yandex-verification"||Je(t.attributes.name)==="csrf-token"||Je(t.attributes.name)==="p:domain_verify"||Je(t.attributes.name)==="verify-v1"||Je(t.attributes.name)==="verification"||Je(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function la(t,e){const{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:b,unmaskTextSelector:v,skipChild:_=!1,inlineStylesheet:S=!0,maskInputOptions:x={},maskAttributeFn:k,maskTextFn:E,maskInputFn:D,slimDOMOptions:B,dataURLOptions:N={},inlineImages:q=!1,recordCanvas:K=!1,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:P=5e3,onBlockedImageLoad:ce,onStylesheetLoad:W,stylesheetLoadTimeout:te=5e3,keepIframeSrcFn:le=()=>!1,newlyAddedElement:he=!1,ignoreCSSAttributes:Te}=e;let{preserveWhiteSpace:ke=!0}=e;const M=OI(t,{doc:r,mirror:i,blockClass:o,blockSelector:l,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:b,unmaskTextSelector:v,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:D,dataURLOptions:N,inlineImages:q,recordCanvas:K,keepIframeSrcFn:le,newlyAddedElement:he,ignoreCSSAttributes:Te});if(!M)return console.warn(t,"not serialized"),null;let F;i.hasNode(t)?F=i.getId(t):II(M,B)||!ke&&M.type===gt.Text&&!M.isStyle&&!M.textContent.replace(/^\s+|\s+$/gm,"").length?F=Jo:F=Dm();const O=Object.assign(M,{id:F});if(i.add(t,O),F===Jo)return null;G&&G(t);let se=!_;if(O.type===gt.Element){se=se&&!O.needBlock;const V=t.shadowRoot;V&&Ho(V)&&(O.isShadowHost=!0)}if((O.type===gt.Document||O.type===gt.Element)&&se){B.headWhitespace&&O.type===gt.Element&&O.tagName==="head"&&(ke=!1);const V={doc:r,mirror:i,blockClass:o,blockSelector:l,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:b,unmaskTextSelector:v,skipChild:_,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:D,slimDOMOptions:B,dataURLOptions:N,inlineImages:q,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:P,onBlockedImageLoad:ce,onStylesheetLoad:W,stylesheetLoadTimeout:te,keepIframeSrcFn:le,ignoreCSSAttributes:Te},ve=t.childNodes?Array.from(t.childNodes):[];for(const ue of ve){const X=la(ue,V);X&&O.childNodes.push(X)}if(sI(t)&&t.shadowRoot)for(const ue of Array.from(t.shadowRoot.childNodes)){const X=la(ue,V);X&&(Ho(t.shadowRoot)&&(X.isShadow=!0),O.childNodes.push(X))}}if(t.parentNode&&Bo(t.parentNode)&&Ho(t.parentNode)&&(O.isShadow=!0),O.type===gt.Element&&O.tagName==="iframe"&&!O.needBlock&&CI(t,()=>{const V=Tx(t);if(V&&U){const ve=la(V,{doc:V,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:b,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:D,slimDOMOptions:B,dataURLOptions:N,inlineImages:q,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:P,onStylesheetLoad:W,stylesheetLoadTimeout:te,keepIframeSrcFn:le,ignoreCSSAttributes:Te});ve&&U(t,ve)}},P),O.type===gt.Element&&O.tagName==="img"&&!t.complete&&O.needBlock){const V=t,ve=()=>{if(V.isConnected&&!V.complete&&ce)try{const ue=V.getBoundingClientRect();ue.width>0&&ue.height>0&&ce(V,O,ue)}catch{}V.removeEventListener("load",ve)};V.isConnected&&V.addEventListener("load",ve)}return O.type===gt.Element&&O.tagName==="link"&&typeof O.attributes.rel=="string"&&(O.attributes.rel==="stylesheet"||O.attributes.rel==="preload"&&typeof O.attributes.href=="string"&&wx(O.attributes.href)==="css")&&NI(t,()=>{if(W){const V=la(t,{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:b,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:D,slimDOMOptions:B,dataURLOptions:N,inlineImages:q,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:P,onStylesheetLoad:W,stylesheetLoadTimeout:te,keepIframeSrcFn:le,ignoreCSSAttributes:Te});V&&W(t,V)}},te),O.type===gt.Element&&delete O.needBlock,O}function DI(t,e){const{mirror:r=new Sx,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:l=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:h=null,maskTextSelector:m=null,unmaskTextSelector:b=null,inlineStylesheet:v=!0,inlineImages:_=!1,recordCanvas:S=!1,maskAllInputs:x=!1,maskAttributeFn:k,maskTextFn:E,maskInputFn:D,slimDOM:B=!1,dataURLOptions:N,preserveWhiteSpace:q,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:U,onBlockedImageLoad:P,onStylesheetLoad:ce,stylesheetLoadTimeout:W,keepIframeSrcFn:te=()=>!1,ignoreCSSAttributes:le=new Set([])}=e||{};return la(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,maskAllText:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:b,skipChild:!1,inlineStylesheet:v,maskInputOptions:x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:x===!1?{}:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:D,slimDOMOptions:B===!0||B==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:B==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:B===!1?{}:B,dataURLOptions:N,inlineImages:_,recordCanvas:S,preserveWhiteSpace:q,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:U,onBlockedImageLoad:P,onStylesheetLoad:ce,stylesheetLoadTimeout:W,keepIframeSrcFn:te,newlyAddedElement:!1,ignoreCSSAttributes:le})}function Ht(t,e,r=document){const i={capture:!0,passive:!0};return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e,i)}const na=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let y0={map:{},getId(){return console.error(na),-1},getNode(){return console.error(na),null},removeNodeFromMap(){console.error(na)},has(){return console.error(na),!1},reset(){console.error(na)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(y0=new Proxy(y0,{get(t,e,r){return e==="map"&&console.error(na),Reflect.get(t,e,r)}}));function Qo(t,e,r={}){let i=null,o=0;return function(...l){const u=Date.now();!o&&r.leading===!1&&(o=u);const f=e-(u-o),h=this;f<=0||f>e?(i&&($I(i),i=null),o=u,t.apply(h,l)):!i&&r.trailing!==!1&&(i=Ju(()=>{o=r.leading===!1?0:Date.now(),i=null,t.apply(h,l)},f))}}function Cx(t,e,r,i,o=window){const l=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,i?r:{set(u){Ju(()=>{r.set.call(this,u)},0),l&&l.set&&l.set.call(this,u)}}),()=>Cx(t,e,l||{},!0)}function Lm(t,e,r){try{if(!(e in t))return()=>{};const i=t[e],o=r(i);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:i}})),t[e]=o,()=>{t[e]=i}}catch{return()=>{}}}let Ou=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ou=()=>new Date().getTime());function Nx(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:e?.documentElement.scrollLeft||e?.body?.parentElement?.scrollLeft||e?.body?.scrollLeft||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:e?.documentElement.scrollTop||e?.body?.parentElement?.scrollTop||e?.body?.scrollTop||0}}function Ox(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Rx(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function jx(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function hn(t,e,r,i,o){if(!t)return!1;const l=jx(t);if(!l)return!1;const u=oa(e,r);if(!o){const m=i&&l.matches(i);return u(l)&&!m}const f=Xs(l,u);let h=-1;return f<0?!1:(i&&(h=Xs(l,oa(null,i))),f>-1&&h<0?!0:f<h)}function LI(t,e){return e.getId(t)!==-1}function Ih(t,e){return e.getId(t)===Jo}function Mx(t,e){if(Bo(t))return!1;const r=e.getId(t);return e.has(r)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?Mx(t.parentNode,e):!0:!0}function Tp(t){return!!t.changedTouches}function UI(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let r=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function Ix(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function Dx(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function kp(t){return!!t?.shadowRoot}class zI{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,r){if(this.has(e))return this.getId(e);let i;return r===void 0?i=this.id++:i=r,this.styleIDMap.set(e,i),this.idStyleMap.set(i,e),i}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Lx(t){let e=null;return t.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function BI(t){let e=t,r;for(;r=Lx(e);)e=r;return e}function HI(t){const e=t.ownerDocument;if(!e)return!1;const r=BI(t);return e.contains(r)}function Ux(t){const e=t.ownerDocument;return e?e.contains(t)||HI(t):!1}const b0={};function Um(t){const e=b0[t];if(e)return e;const r=window.document;let i=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const l=o.contentWindow;l&&l[t]&&(i=l[t]),r.head.removeChild(o)}catch{}return b0[t]=i.bind(window)}function PI(...t){return Um("requestAnimationFrame")(...t)}function Ju(...t){return Um("setTimeout")(...t)}function $I(...t){return Um("clearTimeout")(...t)}var Ee=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Ee||{}),be=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(be||{}),zt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(zt||{}),wr=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(wr||{}),ra=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(ra||{});function zm(t){try{return t.contentDocument}catch{}}function qI(t){try{return t.contentWindow}catch{}}function v0(t){return"__ln"in t}class FI{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let i=0;i<e;i++)r=r?.next||null;return r}addNode(e){const r={value:e,previous:null,next:null};if(e.__ln=r,e.previousSibling&&v0(e.previousSibling)){const i=e.previousSibling.__ln.next;r.next=i,r.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=r,i&&(i.previous=r)}else if(e.nextSibling&&v0(e.nextSibling)&&e.nextSibling.__ln.previous){const i=e.nextSibling.__ln.previous;r.previous=i,r.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=r,i&&(i.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(e){const r=e.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const _0=(t,e)=>`${t}@${e}`;class GI{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],r=new Set,i=new FI,o=h=>{let m=h,b=Jo;for(;b===Jo;)m=m&&m.nextSibling,b=m&&this.mirror.getId(m);return b},l=h=>{if(!h.parentNode||!Ux(h))return;const m=Bo(h.parentNode)?this.mirror.getId(Lx(h)):this.mirror.getId(h.parentNode),b=o(h);if(m===-1||b===-1)return i.addNode(h);const v=la(h,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:_=>{Ix(_,this.mirror)&&!hn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(_),Dx(_,this.mirror)&&this.stylesheetManager.trackLinkElement(_),kp(h)&&this.shadowDomManager.addShadowRoot(h.shadowRoot,this.doc)},onIframeLoad:(_,S)=>{hn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(_,S),_.contentWindow&&this.canvasManager.addWindow(_.contentWindow),this.shadowDomManager.observeAttachShadow(_))},onStylesheetLoad:(_,S)=>{this.stylesheetManager.attachLinkElement(_,S)},onBlockedImageLoad:(_,S,{width:x,height:k})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:S.id,attributes:{style:{width:`${x}px`,height:`${k}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});v&&(e.push({parentId:m,nextId:b,node:v}),r.add(v.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const h of this.movedSet)S0(this.removes,h,this.mirror)&&!this.movedSet.has(h.parentNode)||l(h);for(const h of this.addedSet)!w0(this.droppedSet,h)&&!S0(this.removes,h,this.mirror)||w0(this.movedSet,h)?l(h):this.droppedSet.add(h);let u=null;for(;i.length;){let h=null;if(u){const m=this.mirror.getId(u.value.parentNode),b=o(u.value);m!==-1&&b!==-1&&(h=u)}if(!h){let m=i.tail;for(;m;){const b=m;if(m=m.previous,b){const v=this.mirror.getId(b.value.parentNode);if(o(b.value)===-1)continue;if(v!==-1){h=b;break}else{const S=b.value;if(S.parentNode&&S.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const x=S.parentNode.host;if(this.mirror.getId(x)!==-1){h=b;break}}}}}}if(!h){for(;i.head;)i.removeNode(i.head.value);break}u=h.previous,i.removeNode(h.value),l(h.value)}const f={texts:this.texts.map(h=>({id:this.mirror.getId(h.node),value:h.value})).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),attributes:this.attributes.map(h=>{const{attributes:m}=h;if(typeof m.style=="string"){const b=JSON.stringify(h.styleDiff),v=JSON.stringify(h._unchangedStyles);b.length<m.style.length&&(b+v).split("var(").length===m.style.split("var(").length&&(m.style=h.styleDiff)}return{id:this.mirror.getId(h.node),attributes:m}}).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),removes:this.removes,adds:e};!f.texts.length&&!f.attributes.length&&!f.removes.length&&!f.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(f))},this.processMutation=e=>{if(!Ih(e.target,this.mirror))switch(e.type){case"characterData":{const r=e.target.textContent;!hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==e.oldValue&&this.texts.push({value:va(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,jx(e.target)):r.replace(/[\S]/g,"*"):r,node:e.target});break}case"attributes":{const r=e.target;let i=e.attributeName,o=e.target.getAttribute(i);if(i==="value"){const u=Im(r),f=r.tagName;o=Cu(r,f,u);const h=Wu({maskInputOptions:this.maskInputOptions,tagName:f,type:u}),m=va(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,h);o=Xo({isMasked:m,element:r,value:o,maskInputFn:this.maskInputFn})}if(hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let l=this.attributeMap.get(e.target);if(r.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(o))if(!zm(r))i="rr_src";else return;if(l||(l={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(l),this.attributeMap.set(e.target,l)),i==="type"&&r.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Ax(r.tagName,i)&&(l.attributes[i]=kx(this.doc,ba(r.tagName),ba(i),o,r,this.maskAttributeFn),i==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const u=this.unattachedDoc.createElement("span");e.oldValue&&u.setAttribute("style",e.oldValue);for(const f of Array.from(r.style)){const h=r.style.getPropertyValue(f),m=r.style.getPropertyPriority(f);h!==u.style.getPropertyValue(f)||m!==u.style.getPropertyPriority(f)?m===""?l.styleDiff[f]=h:l.styleDiff[f]=[h,m]:l._unchangedStyles[f]=[h,m]}for(const f of Array.from(u.style))r.style.getPropertyValue(f)===""&&(l.styleDiff[f]=!1)}break}case"childList":{if(hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(r=>this.genAdds(r,e.target)),e.removedNodes.forEach(r=>{const i=this.mirror.getId(r),o=Bo(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);hn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ih(r,this.mirror)||!LI(r,this.mirror)||(this.addedSet.has(r)?(Ap(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(e.target)&&i===-1||Mx(e.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[_0(i,o)]?Ap(this.movedSet,r):this.removes.push({parentId:o,id:i,isShadow:Bo(e.target)&&Ho(e.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(e,r)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Ih(e,this.mirror))return;this.movedSet.add(e);let i=null;r&&this.mirror.hasNode(r)&&(i=this.mirror.getId(r)),i&&i!==-1&&(this.movedMap[_0(this.mirror.getId(e),i)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);hn(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(i=>this.genAdds(i)),kp(e)&&e.shadowRoot.childNodes.forEach(i=>{this.processedNodeManager.add(i,this),this.genAdds(i,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(r=>{this[r]=e[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ap(t,e){t.delete(e),e.childNodes?.forEach(r=>Ap(t,r))}function S0(t,e,r){return t.length===0?!1:VI(t,e,r)}function VI(t,e,r){let i=e.parentNode;for(;i;){const o=r.getId(i);if(t.some(l=>l.id===o))return!0;i=i.parentNode}return!1}function w0(t,e){return t.size===0?!1:zx(t,e)}function zx(t,e){const{parentNode:r}=e;return r?t.has(r)?!0:zx(t,r):!1}let Po;function YI(t){Po=t}function KI(){Po=void 0}const De=t=>Po?(...r)=>{try{return t(...r)}catch(i){if(Po&&Po(i)===!0)return()=>{};throw i}}:t,ca=[];function pl(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function Bx(t,e){const r=new GI;ca.push(r),r.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(i=window[o]);const l=new i(De(u=>{t.onMutation&&t.onMutation(u)===!1||r.processMutations.bind(r)(u)}));return l.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),l}function WI({mousemoveCb:t,sampling:e,doc:r,mirror:i}){if(e.mousemove===!1)return()=>{};const o=typeof e.mousemove=="number"?e.mousemove:50,l=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let u=[],f;const h=Qo(De(v=>{const _=Date.now()-f;t(u.map(S=>(S.timeOffset-=_,S)),v),u=[],f=null}),l),m=De(Qo(De(v=>{const _=pl(v),{clientX:S,clientY:x}=Tp(v)?v.changedTouches[0]:v;f||(f=Ou()),u.push({x:S,y:x,id:i.getId(_),timeOffset:Ou()-f}),h(typeof DragEvent<"u"&&v instanceof DragEvent?be.Drag:v instanceof MouseEvent?be.MouseMove:be.TouchMove)}),o,{trailing:!1})),b=[Ht("mousemove",m,r),Ht("touchmove",m,r),Ht("drag",m,r)];return De(()=>{b.forEach(v=>v())})}function XI({mouseInteractionCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,sampling:u}){if(u.mouseInteraction===!1)return()=>{};const f=u.mouseInteraction===!0||u.mouseInteraction===void 0?{}:u.mouseInteraction,h=[];let m=null;const b=v=>_=>{const S=pl(_);if(hn(S,i,o,l,!0))return;let x=null,k=v;if("pointerType"in _){switch(_.pointerType){case"mouse":x=wr.Mouse;break;case"touch":x=wr.Touch;break;case"pen":x=wr.Pen;break}x===wr.Touch?zt[v]===zt.MouseDown?k="TouchStart":zt[v]===zt.MouseUp&&(k="TouchEnd"):wr.Pen}else Tp(_)&&(x=wr.Touch);x!==null?(m=x,(k.startsWith("Touch")&&x===wr.Touch||k.startsWith("Mouse")&&x===wr.Mouse)&&(x=null)):zt[v]===zt.Click&&(x=m,m=null);const E=Tp(_)?_.changedTouches[0]:_;if(!E)return;const D=r.getId(S),{clientX:B,clientY:N}=E;De(t)({type:zt[k],id:D,x:B,y:N,...x!==null&&{pointerType:x}})};return Object.keys(zt).filter(v=>Number.isNaN(Number(v))&&!v.endsWith("_Departed")&&f[v]!==!1).forEach(v=>{let _=ba(v);const S=b(v);if(window.PointerEvent)switch(zt[v]){case zt.MouseDown:case zt.MouseUp:_=_.replace("mouse","pointer");break;case zt.TouchStart:case zt.TouchEnd:return}h.push(Ht(_,S,e))}),De(()=>{h.forEach(v=>v())})}function Hx({scrollCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,sampling:u}){const f=De(Qo(De(h=>{const m=pl(h);if(!m||hn(m,i,o,l,!0))return;const b=r.getId(m);if(m===e&&e.defaultView){const v=Nx(e.defaultView);t({id:b,x:v.left,y:v.top})}else t({id:b,x:m.scrollLeft,y:m.scrollTop})}),u.scroll||100));return Ht("scroll",f,e)}function JI({viewportResizeCb:t},{win:e}){let r=-1,i=-1;const o=De(Qo(De(()=>{const l=Ox(),u=Rx();(r!==l||i!==u)&&(t({width:Number(u),height:Number(l)}),r=l,i=u)}),200));return Ht("resize",o,e)}const QI=["INPUT","TEXTAREA","SELECT"],x0=new WeakMap;function ZI({inputCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,ignoreClass:u,ignoreSelector:f,maskInputOptions:h,maskInputFn:m,sampling:b,userTriggeredOnInput:v,maskTextClass:_,unmaskTextClass:S,maskTextSelector:x,unmaskTextSelector:k}){function E(U){let P=pl(U);const ce=U.isTrusted,W=P&&xp(P.tagName);if(W==="OPTION"&&(P=P.parentElement),!P||!W||QI.indexOf(W)<0||hn(P,i,o,l,!0))return;const te=P;if(te.classList.contains(u)||f&&te.matches(f))return;const le=Im(P);let he=Cu(te,W,le),Te=!1;const ke=Wu({maskInputOptions:h,tagName:W,type:le}),M=va(P,_,x,S,k,ke);(le==="radio"||le==="checkbox")&&(Te=P.checked),he=Xo({isMasked:M,element:P,value:he,maskInputFn:m}),D(P,v?{text:he,isChecked:Te,userTriggered:ce}:{text:he,isChecked:Te});const F=P.name;le==="radio"&&F&&Te&&e.querySelectorAll(`input[type="radio"][name="${F}"]`).forEach(O=>{if(O!==P){const se=Xo({isMasked:M,element:O,value:Cu(O,W,le),maskInputFn:m});D(O,v?{text:se,isChecked:!Te,userTriggered:!1}:{text:se,isChecked:!Te})}})}function D(U,P){const ce=x0.get(U);if(!ce||ce.text!==P.text||ce.isChecked!==P.isChecked){x0.set(U,P);const W=r.getId(U);De(t)({...P,id:W})}}const N=(b.input==="last"?["change"]:["input","change"]).map(U=>Ht(U,De(E),e)),q=e.defaultView;if(!q)return()=>{N.forEach(U=>U())};const K=q.Object.getOwnPropertyDescriptor(q.HTMLInputElement.prototype,"value"),G=[[q.HTMLInputElement.prototype,"value"],[q.HTMLInputElement.prototype,"checked"],[q.HTMLSelectElement.prototype,"value"],[q.HTMLTextAreaElement.prototype,"value"],[q.HTMLSelectElement.prototype,"selectedIndex"],[q.HTMLOptionElement.prototype,"selected"]];return K&&K.set&&N.push(...G.map(U=>Cx(U[0],U[1],{set(){De(E)({target:this,isTrusted:!1})}},!1,q))),De(()=>{N.forEach(U=>U())})}function Ru(t){const e=[];function r(i,o){if(Gc("CSSGroupingRule")&&i.parentRule instanceof CSSGroupingRule||Gc("CSSMediaRule")&&i.parentRule instanceof CSSMediaRule||Gc("CSSSupportsRule")&&i.parentRule instanceof CSSSupportsRule||Gc("CSSConditionRule")&&i.parentRule instanceof CSSConditionRule){const u=Array.from(i.parentRule.cssRules).indexOf(i);o.unshift(u)}else if(i.parentStyleSheet){const u=Array.from(i.parentStyleSheet.cssRules).indexOf(i);o.unshift(u)}return o}return r(t,e)}function os(t,e,r){let i,o;return t?(t.ownerNode?i=e.getId(t.ownerNode):o=r.getId(t),{styleId:o,id:i}):{}}function eD({styleSheetRuleCb:t,mirror:e,stylesheetManager:r},{win:i}){if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const o=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:De((b,v,_)=>{const[S,x]=_,{id:k,styleId:E}=os(v,e,r.styleMirror);return(k&&k!==-1||E&&E!==-1)&&t({id:k,styleId:E,adds:[{rule:S,index:x}]}),b.apply(v,_)})});const l=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:De((b,v,_)=>{const[S]=_,{id:x,styleId:k}=os(v,e,r.styleMirror);return(x&&x!==-1||k&&k!==-1)&&t({id:x,styleId:k,removes:[{index:S}]}),b.apply(v,_)})});let u;i.CSSStyleSheet.prototype.replace&&(u=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:De((b,v,_)=>{const[S]=_,{id:x,styleId:k}=os(v,e,r.styleMirror);return(x&&x!==-1||k&&k!==-1)&&t({id:x,styleId:k,replace:S}),b.apply(v,_)})}));let f;i.CSSStyleSheet.prototype.replaceSync&&(f=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(f,{apply:De((b,v,_)=>{const[S]=_,{id:x,styleId:k}=os(v,e,r.styleMirror);return(x&&x!==-1||k&&k!==-1)&&t({id:x,styleId:k,replaceSync:S}),b.apply(v,_)})}));const h={};Vc("CSSGroupingRule")?h.CSSGroupingRule=i.CSSGroupingRule:(Vc("CSSMediaRule")&&(h.CSSMediaRule=i.CSSMediaRule),Vc("CSSConditionRule")&&(h.CSSConditionRule=i.CSSConditionRule),Vc("CSSSupportsRule")&&(h.CSSSupportsRule=i.CSSSupportsRule));const m={};return Object.entries(h).forEach(([b,v])=>{m[b]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(m[b].insertRule,{apply:De((_,S,x)=>{const[k,E]=x,{id:D,styleId:B}=os(S.parentStyleSheet,e,r.styleMirror);return(D&&D!==-1||B&&B!==-1)&&t({id:D,styleId:B,adds:[{rule:k,index:[...Ru(S),E||0]}]}),_.apply(S,x)})}),v.prototype.deleteRule=new Proxy(m[b].deleteRule,{apply:De((_,S,x)=>{const[k]=x,{id:E,styleId:D}=os(S.parentStyleSheet,e,r.styleMirror);return(E&&E!==-1||D&&D!==-1)&&t({id:E,styleId:D,removes:[{index:[...Ru(S),k]}]}),_.apply(S,x)})})}),De(()=>{i.CSSStyleSheet.prototype.insertRule=o,i.CSSStyleSheet.prototype.deleteRule=l,u&&(i.CSSStyleSheet.prototype.replace=u),f&&(i.CSSStyleSheet.prototype.replaceSync=f),Object.entries(h).forEach(([b,v])=>{v.prototype.insertRule=m[b].insertRule,v.prototype.deleteRule=m[b].deleteRule})})}function Px({mirror:t,stylesheetManager:e},r){let i=null;r.nodeName==="#document"?i=t.getId(r):i=t.getId(r.host);const o=r.nodeName==="#document"?r.defaultView?.Document:r.ownerDocument?.defaultView?.ShadowRoot,l=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return i===null||i===-1||!o||!l?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){return l.get?.call(this)},set(u){const f=l.set?.call(this,u);if(i!==null&&i!==-1)try{e.adoptStyleSheets(u,i)}catch{}return f}}),De(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function tD({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:r,stylesheetManager:i},{win:o}){const l=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(l,{apply:De((f,h,m)=>{const[b,v,_]=m;if(r.has(b))return l.apply(h,[b,v,_]);const{id:S,styleId:x}=os(h.parentRule?.parentStyleSheet,e,i.styleMirror);return(S&&S!==-1||x&&x!==-1)&&t({id:S,styleId:x,set:{property:b,value:v,priority:_},index:Ru(h.parentRule)}),f.apply(h,m)})});const u=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:De((f,h,m)=>{const[b]=m;if(r.has(b))return u.apply(h,[b]);const{id:v,styleId:_}=os(h.parentRule?.parentStyleSheet,e,i.styleMirror);return(v&&v!==-1||_&&_!==-1)&&t({id:v,styleId:_,remove:{property:b},index:Ru(h.parentRule)}),f.apply(h,m)})}),De(()=>{o.CSSStyleDeclaration.prototype.setProperty=l,o.CSSStyleDeclaration.prototype.removeProperty=u})}function nD({mediaInteractionCb:t,blockClass:e,blockSelector:r,unblockSelector:i,mirror:o,sampling:l,doc:u}){const f=De(m=>Qo(De(b=>{const v=pl(b);if(!v||hn(v,e,r,i,!0))return;const{currentTime:_,volume:S,muted:x,playbackRate:k}=v;t({type:m,id:o.getId(v),currentTime:_,volume:S,muted:x,playbackRate:k})}),l.media||500)),h=[Ht("play",f(ra.Play),u),Ht("pause",f(ra.Pause),u),Ht("seeked",f(ra.Seeked),u),Ht("volumechange",f(ra.VolumeChange),u),Ht("ratechange",f(ra.RateChange),u)];return De(()=>{h.forEach(m=>m())})}function rD({fontCb:t,doc:e}){const r=e.defaultView;if(!r)return()=>{};const i=[],o=new WeakMap,l=r.FontFace;r.FontFace=function(h,m,b){const v=new l(h,m,b);return o.set(v,{family:h,buffer:typeof m!="string",descriptors:b,fontSource:typeof m=="string"?m:JSON.stringify(Array.from(new Uint8Array(m)))}),v};const u=Lm(e.fonts,"add",function(f){return function(h){return Ju(De(()=>{const m=o.get(h);m&&(t(m),o.delete(h))}),0),f.apply(this,[h])}});return i.push(()=>{r.FontFace=l}),i.push(u),De(()=>{i.forEach(f=>f())})}function sD(t){const{doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,selectionCb:u}=t;let f=!0;const h=De(()=>{const m=e.getSelection();if(!m||f&&m?.isCollapsed)return;f=m.isCollapsed||!1;const b=[],v=m.rangeCount||0;for(let _=0;_<v;_++){const S=m.getRangeAt(_),{startContainer:x,startOffset:k,endContainer:E,endOffset:D}=S;hn(x,i,o,l,!0)||hn(E,i,o,l,!0)||b.push({start:r.getId(x),startOffset:k,end:r.getId(E),endOffset:D})}u({ranges:b})});return h(),Ht("selectionchange",h)}function iD({doc:t,customElementCb:e}){const r=t.defaultView;return!r||!r.customElements?()=>{}:Lm(r.customElements,"define",function(o){return function(l,u,f){try{e({define:{name:l}})}catch{}return o.apply(this,[l,u,f])}})}function aD(t,e={}){const r=t.doc.defaultView;if(!r)return()=>{};let i;t.recordDOM&&(i=Bx(t,t.doc));const o=WI(t),l=XI(t),u=Hx(t),f=JI(t,{win:r}),h=ZI(t),m=nD(t);let b=()=>{},v=()=>{},_=()=>{},S=()=>{};t.recordDOM&&(b=eD(t,{win:r}),v=Px(t,t.doc),_=tD(t,{win:r}),t.collectFonts&&(S=rD(t)));const x=sD(t),k=iD(t),E=[];for(const D of t.plugins)E.push(D.observer(D.callback,r,D.options));return De(()=>{ca.forEach(D=>D.reset()),i?.disconnect(),o(),l(),u(),f(),h(),m(),b(),v(),_(),S(),x(),k(),E.forEach(D=>D())})}function Gc(t){return typeof window[t]<"u"}function Vc(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Cp{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,r,i,o){const l=i||this.getIdToRemoteIdMap(e),u=o||this.getRemoteIdToIdMap(e);let f=l.get(r);return f||(f=this.generateIdFn(),l.set(r,f),u.set(f,r)),f}getIds(e,r){const i=this.getIdToRemoteIdMap(e),o=this.getRemoteIdToIdMap(e);return r.map(l=>this.getId(e,l,i,o))}getRemoteId(e,r,i){const o=i||this.getRemoteIdToIdMap(e);if(typeof r!="number")return r;const l=o.get(r);return l||-1}getRemoteIds(e,r){const i=this.getRemoteIdToIdMap(e);return r.map(o=>this.getRemoteId(e,o,i))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let r=this.iframeIdToRemoteIdMap.get(e);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(e,r)),r}getRemoteIdToIdMap(e){let r=this.iframeRemoteIdToIdMap.get(e);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(e,r)),r}}class oD{constructor(){this.crossOriginIframeMirror=new Cp(Dm),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class lD{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Cp(Dm),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Cp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,r){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const i=zm(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}handleMessage(e){const r=e;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!e.source)return;const o=this.crossOriginIframeMap.get(e.source);if(!o)return;const l=this.transformCrossOriginEvent(o,r.data.event);l&&this.wrappedEmit(l,r.data.isCheckout)}transformCrossOriginEvent(e,r){switch(r.type){case Ee.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(r.data.node,e);const i=r.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(r.data.node,i),{timestamp:r.timestamp,type:Ee.IncrementalSnapshot,data:{source:be.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ee.Meta:case Ee.Load:case Ee.DomContentLoaded:return!1;case Ee.Plugin:return r;case Ee.Custom:return this.replaceIds(r.data.payload,e,["id","parentId","previousId","nextId"]),r;case Ee.IncrementalSnapshot:switch(r.data.source){case be.Mutation:return r.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);const o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(i.node,o)}),r.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),r.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),r.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case be.Drag:case be.TouchMove:case be.MouseMove:return r.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case be.ViewportResize:return!1;case be.MediaInteraction:case be.MouseInteraction:case be.Scroll:case be.CanvasMutation:case be.Input:return this.replaceIds(r.data,e,["id"]),r;case be.StyleSheetRule:case be.StyleDeclaration:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleId"]),r;case be.Font:return r;case be.Selection:return r.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),r;case be.AdoptedStyleSheet:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleIds"]),r.data.styles?.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),r}}return!1}replace(e,r,i,o){for(const l of o)!Array.isArray(r[l])&&typeof r[l]!="number"||(Array.isArray(r[l])?r[l]=e.getIds(i,r[l]):r[l]=e.getId(i,r[l]));return r}replaceIds(e,r,i){return this.replace(this.crossOriginIframeMirror,e,r,i)}replaceStyleIds(e,r,i){return this.replace(this.crossOriginIframeStyleMirror,e,r,i)}replaceIdOnNode(e,r){this.replaceIds(e,r,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(i=>{this.replaceIdOnNode(i,r)})}patchRootIdOnNode(e,r){e.type!==gt.Document&&!e.rootId&&(e.rootId=r),"childNodes"in e&&e.childNodes.forEach(i=>{this.patchRootIdOnNode(i,r)})}}class cD{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class uD{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,r){if(!Ho(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const i=Bx({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>i.disconnect()),this.restoreHandlers.push(Hx({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Ju(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Px({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const r=zm(e),i=qI(e);!r||!i||this.patchAttachShadow(i.Element,r)}patchAttachShadow(e,r){const i=this;this.restoreHandlers.push(Lm(e.prototype,"attachShadow",function(o){return function(l){const u=o.call(this,l);return this.shadowRoot&&Ux(this)&&i.addShadowRoot(this.shadowRoot,r),u}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yc=0;Yc<E0.length;Yc++)dD[E0.charCodeAt(Yc)]=Yc;class T0{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class fD{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new zI,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,r){if(e.length===0)return;const i={id:r,styleIds:[]},o=[];for(const l of e){let u;this.styleMirror.has(l)?u=this.styleMirror.getId(l):(u=this.styleMirror.add(l),o.push({styleId:u,rules:Array.from(l.rules||CSSRule,(f,h)=>({rule:_x(f),index:h}))})),i.styleIds.push(u)}o.length>0&&(i.styles=o),this.adoptedStyleSheetCb(i)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class hD{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,r){const i=this.nodeMap.get(e);return i&&Array.from(i).some(o=>o!==r)}add(e,r){this.active||(this.active=!0,PI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(r))}destroy(){}}let ot,ju;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=t.contentWindow?.Array.from||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const Un=dI();function Ar(t={}){const{emit:e,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:o="rr-block",blockSelector:l=null,unblockSelector:u=null,ignoreClass:f="rr-ignore",ignoreSelector:h=null,maskAllText:m=!1,maskTextClass:b="rr-mask",unmaskTextClass:v=null,maskTextSelector:_=null,unmaskTextSelector:S=null,inlineStylesheet:x=!0,maskAllInputs:k,maskInputOptions:E,slimDOMOptions:D,maskAttributeFn:B,maskInputFn:N,maskTextFn:q,maxCanvasSize:K=null,packFn:G,sampling:U={},dataURLOptions:P={},mousemoveWait:ce,recordDOM:W=!0,recordCanvas:te=!1,recordCrossOriginIframes:le=!1,recordAfter:he=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:Te=!1,collectFonts:ke=!1,inlineImages:M=!1,plugins:F,keepIframeSrcFn:O=()=>!1,ignoreCSSAttributes:se=new Set([]),errorHandler:V,onMutation:ve,getCanvasManager:ue}=t;YI(V);const X=le?window.parent===window:!0;let ge=!1;if(!X)try{window.parent.document&&(ge=!1)}catch{ge=!0}if(X&&!e)throw new Error("emit function is required");if(!X&&!ge)return()=>{};ce!==void 0&&U.mousemove===void 0&&(U.mousemove=ce),Un.reset();const qe=k===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:E!==void 0?E:{},xt=D===!0||D==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:D==="all",headMetaDescKeywords:D==="all"}:D||{};UI();let Ue,$t=0;const jt=je=>{for(const Lt of F||[])Lt.eventProcessor&&(je=Lt.eventProcessor(je));return G&&!ge&&(je=G(je)),je};ot=(je,Lt)=>{const Ae=je;if(Ae.timestamp=Ou(),ca[0]?.isFrozen()&&Ae.type!==Ee.FullSnapshot&&!(Ae.type===Ee.IncrementalSnapshot&&Ae.data.source===be.Mutation)&&ca.forEach(yt=>yt.unfreeze()),X)e?.(jt(Ae),Lt);else if(ge){const yt={type:"rrweb",event:jt(Ae),origin:window.location.origin,isCheckout:Lt};window.parent.postMessage(yt,"*")}if(Ae.type===Ee.FullSnapshot)Ue=Ae,$t=0;else if(Ae.type===Ee.IncrementalSnapshot){if(Ae.data.source===be.Mutation&&Ae.data.isAttachIframe)return;$t++;const yt=i&&$t>=i,ye=r&&Ue&&Ae.timestamp-Ue.timestamp>r;(yt||ye)&&Ss(!0)}};const qt=je=>{ot({type:Ee.IncrementalSnapshot,data:{source:be.Mutation,...je}})},jn=je=>ot({type:Ee.IncrementalSnapshot,data:{source:be.Scroll,...je}}),Vn=je=>ot({type:Ee.IncrementalSnapshot,data:{source:be.CanvasMutation,...je}}),vl=je=>ot({type:Ee.IncrementalSnapshot,data:{source:be.AdoptedStyleSheet,...je}}),Dt=new fD({mutationCb:qt,adoptedStyleSheetCb:vl}),Mn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new oD:new lD({mirror:Un,mutationCb:qt,stylesheetManager:Dt,recordCrossOriginIframes:le,wrappedEmit:ot});for(const je of F||[])je.getMirror&&je.getMirror({nodeMirror:Un,crossOriginIframeMirror:Mn.crossOriginIframeMirror,crossOriginIframeStyleMirror:Mn.crossOriginIframeStyleMirror});const vs=new hD,za=mD(ue,{mirror:Un,win:window,mutationCb:je=>ot({type:Ee.IncrementalSnapshot,data:{source:be.CanvasMutation,...je}}),recordCanvas:te,blockClass:o,blockSelector:l,unblockSelector:u,maxCanvasSize:K,sampling:U.canvas,dataURLOptions:P,errorHandler:V}),_s=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new cD:new uD({mutationCb:qt,scrollCb:jn,bypassOptions:{onMutation:ve,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:m,maskTextClass:b,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:x,maskInputOptions:qe,dataURLOptions:P,maskAttributeFn:B,maskTextFn:q,maskInputFn:N,recordCanvas:te,inlineImages:M,sampling:U,slimDOMOptions:xt,iframeManager:Mn,stylesheetManager:Dt,canvasManager:za,keepIframeSrcFn:O,processedNodeManager:vs,ignoreCSSAttributes:se},mirror:Un}),Ss=(je=!1)=>{if(!W)return;ot({type:Ee.Meta,data:{href:window.location.href,width:Rx(),height:Ox()}},je),Dt.reset(),_s.init(),ca.forEach(Ae=>Ae.lock());const Lt=DI(document,{mirror:Un,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:m,maskTextClass:b,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:x,maskAllInputs:qe,maskAttributeFn:B,maskInputFn:N,maskTextFn:q,slimDOM:xt,dataURLOptions:P,recordCanvas:te,inlineImages:M,onSerialize:Ae=>{Ix(Ae,Un)&&Mn.addIframe(Ae),Dx(Ae,Un)&&Dt.trackLinkElement(Ae),kp(Ae)&&_s.addShadowRoot(Ae.shadowRoot,document)},onIframeLoad:(Ae,yt)=>{Mn.attachIframe(Ae,yt),Ae.contentWindow&&za.addWindow(Ae.contentWindow),_s.observeAttachShadow(Ae)},onStylesheetLoad:(Ae,yt)=>{Dt.attachLinkElement(Ae,yt)},onBlockedImageLoad:(Ae,yt,{width:ye,height:ws})=>{qt({adds:[],removes:[],texts:[],attributes:[{id:yt.id,attributes:{style:{width:`${ye}px`,height:`${ws}px`}}}]})},keepIframeSrcFn:O,ignoreCSSAttributes:se});if(!Lt)return console.warn("Failed to snapshot the document");ot({type:Ee.FullSnapshot,data:{node:Lt,initialOffset:Nx(window)}}),ca.forEach(Ae=>Ae.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Dt.adoptStyleSheets(document.adoptedStyleSheets,Un.getId(document))};ju=Ss;try{const je=[],Lt=yt=>De(aD)({onMutation:ve,mutationCb:qt,mousemoveCb:(ye,ws)=>ot({type:Ee.IncrementalSnapshot,data:{source:ws,positions:ye}}),mouseInteractionCb:ye=>ot({type:Ee.IncrementalSnapshot,data:{source:be.MouseInteraction,...ye}}),scrollCb:jn,viewportResizeCb:ye=>ot({type:Ee.IncrementalSnapshot,data:{source:be.ViewportResize,...ye}}),inputCb:ye=>ot({type:Ee.IncrementalSnapshot,data:{source:be.Input,...ye}}),mediaInteractionCb:ye=>ot({type:Ee.IncrementalSnapshot,data:{source:be.MediaInteraction,...ye}}),styleSheetRuleCb:ye=>ot({type:Ee.IncrementalSnapshot,data:{source:be.StyleSheetRule,...ye}}),styleDeclarationCb:ye=>ot({type:Ee.IncrementalSnapshot,data:{source:be.StyleDeclaration,...ye}}),canvasMutationCb:Vn,fontCb:ye=>ot({type:Ee.IncrementalSnapshot,data:{source:be.Font,...ye}}),selectionCb:ye=>{ot({type:Ee.IncrementalSnapshot,data:{source:be.Selection,...ye}})},customElementCb:ye=>{ot({type:Ee.IncrementalSnapshot,data:{source:be.CustomElement,...ye}})},blockClass:o,ignoreClass:f,ignoreSelector:h,maskAllText:m,maskTextClass:b,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,maskInputOptions:qe,inlineStylesheet:x,sampling:U,recordDOM:W,recordCanvas:te,inlineImages:M,userTriggeredOnInput:Te,collectFonts:ke,doc:yt,maskAttributeFn:B,maskInputFn:N,maskTextFn:q,keepIframeSrcFn:O,blockSelector:l,unblockSelector:u,slimDOMOptions:xt,dataURLOptions:P,mirror:Un,iframeManager:Mn,stylesheetManager:Dt,shadowDomManager:_s,processedNodeManager:vs,canvasManager:za,ignoreCSSAttributes:se,plugins:F?.filter(ye=>ye.observer)?.map(ye=>({observer:ye.observer,options:ye.options,callback:ws=>ot({type:Ee.Plugin,data:{plugin:ye.name,payload:ws}})}))||[]},{});Mn.addLoadListener(yt=>{try{je.push(Lt(yt.contentDocument))}catch(ye){console.warn(ye)}});const Ae=()=>{Ss(),je.push(Lt(document))};return document.readyState==="interactive"||document.readyState==="complete"?Ae():(je.push(Ht("DOMContentLoaded",()=>{ot({type:Ee.DomContentLoaded,data:{}}),he==="DOMContentLoaded"&&Ae()})),je.push(Ht("load",()=>{ot({type:Ee.Load,data:{}}),he==="load"&&Ae()},window))),()=>{je.forEach(yt=>yt()),vs.destroy(),ju=void 0,KI()}}catch(je){console.warn(je)}}function pD(t){if(!ju)throw new Error("please take full snapshot after start recording");ju(t)}Ar.mirror=Un;Ar.takeFullSnapshot=pD;function mD(t,e){try{return t?t(e):new T0}catch{return console.warn("Unable to initialize CanvasManager"),new T0}}var k0;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(k0||(k0={}));const gD=3,yD=5;function Bm(t){return t>9999999999?t:t*1e3}function Dh(t){return t>9999999999?t/1e3:t}function ml(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Ee.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Pn(e,10,1e3)}}),e.category==="console")))}const bD="button,a";function $x(t){return t.closest(bD)||t}function qx(t){const e=Fx(t);return!e||!(e instanceof Element)?e:$x(e)}function Fx(t){return vD(t)?t.target:t}function vD(t){return typeof t=="object"&&!!t&&"target"in t}let ls;function _D(t){return ls||(ls=[],SD()),ls.push(t),()=>{const e=ls?ls.indexOf(t):-1;e>-1&&ls.splice(e,1)}}function SD(){en(Ze,"open",function(t){return function(...e){if(ls)try{ls.forEach(r=>r())}catch{}return t.apply(Ze,e)}})}const wD=new Set([be.Mutation,be.StyleSheetRule,be.StyleDeclaration,be.AdoptedStyleSheet,be.CanvasMutation,be.Selection,be.MediaInteraction]);function xD(t,e,r){t.handleClick(e,r)}class ED{constructor(e,r,i=ml){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scrollTimeout=r.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=i}addListeners(){const e=_D(()=>{this._lastMutation=A0()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,r){if(kD(r,this._ignoreSelector)||!AD(e))return;const i={timestamp:Dh(e.timestamp),clickBreadcrumb:e,clickCount:0,node:r};this._clicks.some(o=>o.node===i.node&&Math.abs(o.timestamp-i.timestamp)<1)||(this._clicks.push(i),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Dh(e)}registerScroll(e=Date.now()){this._lastScroll=Dh(e)}registerClick(e){const r=$x(e);this._handleMultiClick(r)}_handleMultiClick(e){this._getClicks(e).forEach(r=>{r.clickCount++})}_getClicks(e){return this._clicks.filter(r=>r.node===e)}_checkClicks(){const e=[],r=A0();this._clicks.forEach(i=>{!i.mutationAfter&&this._lastMutation&&(i.mutationAfter=i.timestamp<=this._lastMutation?this._lastMutation-i.timestamp:void 0),!i.scrollAfter&&this._lastScroll&&(i.scrollAfter=i.timestamp<=this._lastScroll?this._lastScroll-i.timestamp:void 0),i.timestamp+this._timeout<=r&&e.push(i)});for(const i of e){const o=this._clicks.indexOf(i);o>-1&&(this._generateBreadcrumbs(i),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const r=this._replay,i=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,o=e.mutationAfter&&e.mutationAfter<=this._threshold,l=!i&&!o,{clickCount:u,clickBreadcrumb:f}=e;if(l){const h=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,m=h<this._timeout*1e3?"mutation":"timeout",b={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.slowClickDetected",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),timeAfterClickMs:h,endReason:m,clickCount:u||1}};this._addBreadcrumbEvent(r,b);return}if(u>1){const h={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.multiClick",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),clickCount:u,metric:!0}};this._addBreadcrumbEvent(r,h)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=hl(()=>this._checkClicks(),1e3)}}const TD=["A","BUTTON","INPUT"];function kD(t,e){return!!(!TD.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function AD(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function A0(){return Date.now()/1e3}function CD(t,e){try{if(!ND(e))return;const{source:r}=e.data;if(wD.has(r)&&t.registerMutation(e.timestamp),r===be.Scroll&&t.registerScroll(e.timestamp),OD(e)){const{type:i,id:o}=e.data,l=Ar.mirror.getNode(o);l instanceof HTMLElement&&i===zt.Click&&t.registerClick(l)}}catch{}}function ND(t){return t.type===gD}function OD(t){return t.data.source===be.MouseInteraction}function Qn(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Hm=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Hm||{});const RD=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function jD(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const r in t)if(RD.has(r)){let i=r;(r==="data-testid"||r==="data-test-id")&&(i="testId"),e[i]=t[r]}return e}const MD=t=>e=>{if(!t.isEnabled())return;const r=ID(e);if(!r)return;const i=e.name==="click",o=i?e.event:void 0;i&&t.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&xD(t.clickDetector,r,qx(e.event)),ml(t,r)};function Gx(t,e){const r=Ar.mirror.getId(t),i=r&&Ar.mirror.getNode(r),o=i&&Ar.mirror.getMeta(i),l=o&&LD(o)?o:null;return{message:e,data:l?{nodeId:r,node:{id:r,tagName:l.tagName,textContent:Array.from(l.childNodes).map(u=>u.type===Hm.Text&&u.textContent).filter(Boolean).map(u=>u.trim()).join(""),attributes:jD(l.attributes)}}:{}}}function ID(t){const{target:e,message:r}=DD(t);return Qn({category:`ui.${t.name}`,...Gx(e,r)})}function DD(t){const e=t.name==="click";let r,i=null;try{i=e?qx(t.event):Fx(t.event),r=tn(i,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:i,message:r}}function LD(t){return t.type===Hm.Element}function UD(t,e){if(!t.isEnabled())return;t.updateUserActivity();const r=zD(e);r&&ml(t,r)}function zD(t){const{metaKey:e,shiftKey:r,ctrlKey:i,altKey:o,key:l,target:u}=t;if(!u||BD(u)||!l)return null;const f=e||i||o,h=l.length===1;if(!f&&h)return null;const m=tn(u,{maxStringLength:200})||"<unknown>",b=Gx(u,m);return Qn({category:"ui.keyDown",message:m,data:{...b.data,metaKey:e,shiftKey:r,ctrlKey:i,altKey:o,key:l}})}function BD(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const HD={resource:GD,paint:qD,navigation:FD};function Lh(t,e){return({metric:r})=>void e.replayPerformanceEntries.push(t(r))}function PD(t){return t.map($D).filter(Boolean)}function $D(t){const e=HD[t.entryType];return e?e(t):null}function _a(t){return((nn()||Ze.performance.timeOrigin)+t)/1e3}function qD(t){const{duration:e,entryType:r,name:i,startTime:o}=t,l=_a(o);return{type:r,name:i,start:l,end:l+e,data:void 0}}function FD(t){const{entryType:e,name:r,decodedBodySize:i,duration:o,domComplete:l,encodedBodySize:u,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,domInteractive:m,loadEventStart:b,loadEventEnd:v,redirectCount:_,startTime:S,transferSize:x,type:k}=t;return o===0?null:{type:`${e}.${k}`,start:_a(S),end:_a(l),name:r,data:{size:x,decodedBodySize:i,encodedBodySize:u,duration:o,domInteractive:m,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,loadEventStart:b,loadEventEnd:v,domComplete:l,redirectCount:_}}}function GD(t){const{entryType:e,initiatorType:r,name:i,responseEnd:o,startTime:l,decodedBodySize:u,encodedBodySize:f,responseStatus:h,transferSize:m}=t;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${e}.${r}`,start:_a(l),end:_a(o),name:i,data:{size:m,statusCode:h,decodedBodySize:u,encodedBodySize:f}}}function VD(t){const e=t.entries[t.entries.length-1],r=e?.element?[e.element]:void 0;return Pm(t,"largest-contentful-paint",r)}function YD(t){return t.sources!==void 0}function KD(t){const e=[],r=[];for(const i of t.entries)if(YD(i)){const o=[];for(const l of i.sources)if(l.node){r.push(l.node);const u=Ar.mirror.getId(l.node);u&&o.push(u)}e.push({value:i.value,nodeIds:o.length?o:void 0})}return Pm(t,"cumulative-layout-shift",r,e)}function WD(t){const e=t.entries[t.entries.length-1],r=e?.target?[e.target]:void 0;return Pm(t,"interaction-to-next-paint",r)}function Pm(t,e,r,i){const o=t.value,l=t.rating,u=_a(o);return{type:"web-vital",name:e,start:u,end:u,data:{value:o,size:o,rating:l,nodeIds:r?r.map(f=>Ar.mirror.getId(f)):void 0,attributions:i}}}function XD(t){function e(o){t.performanceEntries.includes(o)||t.performanceEntries.push(o)}function r({entries:o}){o.forEach(e)}const i=[];return["navigation","paint","resource"].forEach(o=>{i.push(ii(o,r))}),i.push(Nm(Lh(VD,t)),Cm(Lh(KD,t)),ix(Lh(WD,t))),()=>{i.forEach(o=>o())}}const pe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,JD='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function QD(){const t=new Blob([JD]);return URL.createObjectURL(t)}const C0=["log","warn","error"],mu="[Replay] ";function Uh(t,e="info"){fs({category:"console",data:{logger:"replay"},level:e,message:`${mu}${t}`},{level:e})}function ZD(){let t=!1,e=!1;const r={exception:()=>{},infoTick:()=>{},setConfig:i=>{t=!!i.captureExceptions,e=!!i.traceInternals}};return pe?(C0.forEach(i=>{r[i]=(...o)=>{Y[i](mu,...o),e&&Uh(o.join(""),qw(i))}}),r.exception=(i,...o)=>{o.length&&r.error&&r.error(...o),Y.error(mu,i),t?ym(i,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):e&&Uh(i,"error")},r.infoTick=(...i)=>{Y.log(mu,...i),e&&setTimeout(()=>Uh(i[0]),0)}):C0.forEach(i=>{r[i]=()=>{}}),r}const me=ZD();class $m extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Mm}.`)}}class Vx{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const r=JSON.stringify(e).length;if(this._totalSize+=r,this._totalSize>Mm)throw new $m;this.events.push(e)}finish(){return new Promise(e=>{const r=this.events;this.clear(),e(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(r=>r.timestamp).sort()[0];return e?Bm(e):null}}class e2{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,r)=>{this._worker.addEventListener("message",({data:i})=>{i.success?e():r()},{once:!0}),this._worker.addEventListener("error",i=>{r(i)},{once:!0})}),this._ensureReadyPromise)}destroy(){pe&&me.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,r){const i=this._getAndIncrementId();return new Promise((o,l)=>{const u=({data:f})=>{const h=f;if(h.method===e&&h.id===i){if(this._worker.removeEventListener("message",u),!h.success){pe&&me.error("Error in compression worker: ",h.response),l(new Error("Error in compression worker"));return}o(h.response)}};this._worker.addEventListener("message",u),this._worker.postMessage({id:i,method:e,arg:r})})}_getAndIncrementId(){return this._id++}}class t2{constructor(e){this._worker=new e2(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const r=Bm(e.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);const i=JSON.stringify(e);return this._totalSize+=i.length,this._totalSize>Mm?Promise.reject(new $m):this._sendEventToWorker(i)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{pe&&me.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class n2{constructor(e){this._fallback=new Vx,this._compression=new t2(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){pe&&me.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:r,waitForCheckout:i}=this._fallback,o=[];for(const l of e)o.push(this._compression.addEvent(l));this._compression.hasCheckout=r,this._compression.waitForCheckout=i,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(l){pe&&me.exception(l,"Failed to add events when switching buffers.")}}}function r2({useCompression:t,workerUrl:e}){if(t&&window.Worker){const r=s2(e);if(r)return r}return pe&&me.log("Using simple buffer"),new Vx}function s2(t){try{const e=t||i2();if(!e)return;pe&&me.log(`Using compression worker${t?` from ${t}`:""}`);const r=new Worker(e);return new n2(r)}catch(e){pe&&me.exception(e,"Failed to create compression worker")}}function i2(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?QD():""}function qm(){try{return"sessionStorage"in Ze&&!!Ze.sessionStorage}catch{return!1}}function a2(t){o2(),t.session=void 0}function o2(){if(qm())try{Ze.sessionStorage.removeItem(Rm)}catch{}}function Yx(t){return t===void 0?!1:Math.random()<t}function Qu(t){if(qm())try{Ze.sessionStorage.setItem(Rm,JSON.stringify(t))}catch{}}function Kx(t){const e=Date.now(),r=t.id||yn(),i=t.started||e,o=t.lastActivity||e,l=t.segmentId||0,u=t.sampled,f=t.previousSessionId,h=t.dirty||!1;return{id:r,started:i,lastActivity:o,segmentId:l,sampled:u,previousSessionId:f,dirty:h}}function l2(t,e){return Yx(t)?"session":e?"buffer":!1}function N0({sessionSampleRate:t,allowBuffering:e,stickySession:r=!1},{previousSessionId:i}={}){const o=l2(t,e),l=Kx({sampled:o,previousSessionId:i});return r&&Qu(l),l}function c2(){if(!qm())return null;try{const t=Ze.sessionStorage.getItem(Rm);if(!t)return null;const e=JSON.parse(t);return pe&&me.infoTick("Loading existing session"),Kx(e)}catch{return null}}function Np(t,e,r=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=r}function Wx(t,{maxReplayDuration:e,sessionIdleExpire:r,targetTime:i=Date.now()}){return Np(t.started,e,i)||Np(t.lastActivity,r,i)}function Xx(t,{sessionIdleExpire:e,maxReplayDuration:r}){return!(!Wx(t,{sessionIdleExpire:e,maxReplayDuration:r})||t.sampled==="buffer"&&t.segmentId===0)}function zh({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:r},i){const o=i.stickySession&&c2();return o?Xx(o,{sessionIdleExpire:t,maxReplayDuration:e})?(pe&&me.infoTick("Session in sessionStorage is expired, creating new one..."),N0(i,{previousSessionId:o.id})):o:(pe&&me.infoTick("Creating new session"),N0(i,{previousSessionId:r}))}function u2(t){return t.type===Ee.Custom}function Fm(t,e,r){return Qx(t,e)?(Jx(t,e,r),!0):!1}function d2(t,e,r){return Qx(t,e)?Jx(t,e,r):Promise.resolve(null)}async function Jx(t,e,r){const{eventBuffer:i}=t;if(!i||i.waitForCheckout&&!r)return null;const o=t.recordingMode==="buffer";try{r&&o&&i.clear(),r&&(i.hasCheckout=!0,i.waitForCheckout=!1);const l=t.getOptions(),u=f2(e,l.beforeAddRecordingEvent);return u?await i.addEvent(u):void 0}catch(l){const u=l&&l instanceof $m,f=u?"addEventSizeExceeded":"addEvent",h=Ie();if(h){const m=u?"buffer_overflow":"internal_sdk_error";h.recordDroppedEvent(m,"replay")}if(u&&o)return i.clear(),i.waitForCheckout=!0,null;t.handleException(l),await t.stop({reason:f})}}function Qx(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const r=Bm(e.timestamp);return r+t.timeouts.sessionIdlePause<Date.now()?!1:r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(pe&&me.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`),!1):!0}function f2(t,e){try{if(typeof e=="function"&&u2(t))return e(t)}catch(r){return pe&&me.exception(r,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}function Gm(t){return!t.type}function Op(t){return t.type==="transaction"}function h2(t){return t.type==="replay_event"}function O0(t){return t.type==="feedback"}function p2(t){return(e,r)=>{if(!t.isEnabled()||!Gm(e)&&!Op(e))return;const i=r.statusCode;if(!(!i||i<200||i>=300)){if(Op(e)){m2(t,e);return}g2(t,e)}}}function m2(t,e){const r=t.getContext();e.contexts?.trace?.trace_id&&r.traceIds.size<100&&r.traceIds.add(e.contexts.trace.trace_id)}function g2(t,e){const r=t.getContext();if(e.event_id&&r.errorIds.size<100&&r.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:i}=t.getOptions();typeof i=="function"&&!i(e)||hl(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(o){t.handleException(o)}})}function y2(t){return e=>{!t.isEnabled()||!Gm(e)||b2(t,e)}}function b2(t,e){const r=e.exception?.values?.[0]?.value;if(typeof r=="string"&&(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=Qn({category:"replay.hydrate-error",data:{url:ka()}});ml(t,i)}}function v2(t){const e=Ie();e&&e.on("beforeAddBreadcrumb",r=>_2(t,r))}function _2(t,e){if(!t.isEnabled()||!Zx(e))return;const r=S2(e);r&&ml(t,r)}function S2(t){return!Zx(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?w2(t):Qn(t)}function w2(t){const e=t.data?.arguments;if(!Array.isArray(e)||e.length===0)return Qn(t);let r=!1;const i=e.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Fc?(r=!0,`${o.slice(0,Fc)}`):o;if(typeof o=="object")try{const l=Pn(o,7);return JSON.stringify(l).length>Fc?(r=!0,`${JSON.stringify(l,null,2).slice(0,Fc)}`):l}catch{}return o});return Qn({...t,data:{...t.data,arguments:i,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Zx(t){return!!t.category}function x2(t,e){return t.type||!t.exception?.values?.length?!1:!!e.originalException?.__rrweb__}function eE(){const t=Ve().getPropagationContext().dsc;t&&delete t.replay_id;const e=Pt();if(e){const r=jr(e);delete r.replay_id}}function E2(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:Ee.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function T2(t,e){return t.recordingMode!=="buffer"||e.message===jm||!e.exception||e.type?!1:Yx(t.getOptions().errorSampleRate)}function k2(t){return Object.assign((e,r)=>{if(!t.isEnabled()||t.isPaused())return e;if(h2(e))return delete e.breadcrumbs,e;if(!Gm(e)&&!Op(e)&&!O0(e))return e;if(!t.checkAndHandleExpiredSession())return eE(),e;if(O0(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),E2(t,e),e;if(x2(e,r)&&!t.getOptions()._experiments.captureExceptions)return pe&&me.log("Ignoring error from rrweb internals",e),null;const o=T2(t,e);if((o||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),o&&t.recordingMode==="buffer"&&t.session?.sampled==="buffer"){const u=t.session;u.dirty=!0,t.getOptions().stickySession&&Qu(u)}return e},{id:"Replay"})}function Zu(t,e){return e.map(({type:r,start:i,end:o,name:l,data:u})=>{const f=t.throttledAddEvent({type:Ee.Custom,timestamp:i,data:{tag:"performanceSpan",payload:{op:r,description:l,startTimestamp:i,endTimestamp:o,data:u}}});return typeof f=="string"?Promise.resolve(null):f})}function A2(t){const{from:e,to:r}=t,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:r,data:{previous:e}}}function C2(t){return e=>{if(!t.isEnabled())return;const r=A2(e);r!==null&&(t.getContext().urls.push(r.name),t.triggerUserActivity(),t.addUpdate(()=>(Zu(t,[r]),!1)))}}function N2(t,e){return pe&&t.getOptions()._experiments.traceInternals?!1:yO(e,Ie())}function tE(t,e){t.isEnabled()&&e!==null&&(N2(t,e.name)||t.addUpdate(()=>(Zu(t,[e]),!0)))}function ed(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const r=px(t);return e.encode(r).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function nE(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Mu(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const r={...t._meta},i=r.warnings||[];return r.warnings=[...i,e],t._meta=r,t}function rE(t,e){if(!e)return null;const{startTimestamp:r,endTimestamp:i,url:o,method:l,statusCode:u,request:f,response:h}=e;return{type:t,start:r/1e3,end:i/1e3,name:o,data:{method:l,statusCode:u,request:f,response:h}}}function Zo(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function us(t,e,r){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!r)return{headers:t,size:e};const i={headers:t,size:e},{body:o,warnings:l}=O2(r);return i.body=o,l?.length&&(i._meta={warnings:l}),i}function Rp(t,e){return Object.entries(t).reduce((r,[i,o])=>{const l=i.toLowerCase();return e.includes(l)&&t[i]&&(r[l]=o),r},{})}function O2(t){if(!t||typeof t!="string")return{body:t};const e=t.length>u0,r=R2(t);if(e){const i=t.slice(0,u0);return r?{body:i,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${i}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function R2(t){const e=t[0],r=t[t.length-1];return e==="["&&r==="]"||e==="{"&&r==="}"}function Iu(t,e){const r=j2(t);return Tr(r,e)}function j2(t,e=Ze.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(Ze.location.origin))return t;const r=new URL(t,e);if(r.origin!==new URL(e).origin)return t;const i=r.href;return!t.endsWith("/")&&i.endsWith("/")?i.slice(0,-1):i}async function M2(t,e,r){try{const i=await D2(t,e,r),o=rE("resource.fetch",i);tE(r.replay,o)}catch(i){pe&&me.exception(i,"Failed to capture fetch breadcrumb")}}function I2(t,e){const{input:r,response:i}=e,o=r?gx(r):void 0,l=ed(o),u=i?nE(i.headers.get("content-length")):void 0;l!==void 0&&(t.data.request_body_size=l),u!==void 0&&(t.data.response_body_size=u)}async function D2(t,e,r){const i=Date.now(),{startTimestamp:o=i,endTimestamp:l=i}=e,{url:u,method:f,status_code:h=0,request_body_size:m,response_body_size:b}=t.data,v=Iu(u,r.networkDetailAllowUrls)&&!Iu(u,r.networkDetailDenyUrls),_=v?L2(r,e.input,m):Zo(m),S=await U2(v,r,e.response,b);return{startTimestamp:o,endTimestamp:l,url:u,method:f,statusCode:h,request:_,response:S}}function L2({networkCaptureBodies:t,networkRequestHeaders:e},r,i){const o=r?H2(r,e):{};if(!t)return us(o,i,void 0);const l=gx(r),[u,f]=mx(l,me),h=us(o,i,u);return f?Mu(h,f):h}async function U2(t,{networkCaptureBodies:e,networkResponseHeaders:r},i,o){if(!t&&o!==void 0)return Zo(o);const l=i?sE(i.headers,r):{};if(!i||!e&&o!==void 0)return us(l,o,void 0);const[u,f]=await B2(i),h=z2(u,{networkCaptureBodies:e,responseBodySize:o,captureDetails:t,headers:l});return f?Mu(h,f):h}function z2(t,{networkCaptureBodies:e,responseBodySize:r,captureDetails:i,headers:o}){try{const l=t?.length&&r===void 0?ed(t):r;return i?e?us(o,l,t):us(o,l,void 0):Zo(l)}catch(l){return pe&&me.exception(l,"Failed to serialize response body"),us(o,r,void 0)}}async function B2(t){const e=P2(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await $2(e)]}catch(r){return r instanceof Error&&r.message.indexOf("Timeout")>-1?(pe&&me.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(pe&&me.exception(r,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function sE(t,e){const r={};return e.forEach(i=>{t.get(i)&&(r[i]=t.get(i))}),r}function H2(t,e){return t.length===1&&typeof t[0]!="string"?R0(t[0],e):t.length===2?R0(t[1],e):{}}function R0(t,e){if(!t)return{};const r=t.headers;return r?r instanceof Headers?sE(r,e):Array.isArray(r)?{}:Rp(r,e):{}}function P2(t){try{return t.clone()}catch(e){pe&&me.exception(e,"Failed to clone response body")}}function $2(t){return new Promise((e,r)=>{const i=hl(()=>r(new Error("Timeout while trying to read response body")),500);q2(t).then(o=>e(o),o=>r(o)).finally(()=>clearTimeout(i))})}async function q2(t){return await t.text()}async function F2(t,e,r){try{const i=V2(t,e,r),o=rE("resource.xhr",i);tE(r.replay,o)}catch(i){pe&&me.exception(i,"Failed to capture xhr breadcrumb")}}function G2(t,e){const{xhr:r,input:i}=e;if(!r)return;const o=ed(i),l=r.getResponseHeader("content-length")?nE(r.getResponseHeader("content-length")):W2(r.response,r.responseType);o!==void 0&&(t.data.request_body_size=o),l!==void 0&&(t.data.response_body_size=l)}function V2(t,e,r){const i=Date.now(),{startTimestamp:o=i,endTimestamp:l=i,input:u,xhr:f}=e,{url:h,method:m,status_code:b=0,request_body_size:v,response_body_size:_}=t.data;if(!h)return null;if(!f||!Iu(h,r.networkDetailAllowUrls)||Iu(h,r.networkDetailDenyUrls)){const G=Zo(v),U=Zo(_);return{startTimestamp:o,endTimestamp:l,url:h,method:m,statusCode:b,request:G,response:U}}const S=f[Ws],x=S?Rp(S.request_headers,r.networkRequestHeaders):{},k=Rp(yx(f),r.networkResponseHeaders),[E,D]=r.networkCaptureBodies?mx(u,me):[void 0],[B,N]=r.networkCaptureBodies?Y2(f):[void 0],q=us(x,v,E),K=us(k,_,B);return{startTimestamp:o,endTimestamp:l,url:h,method:m,statusCode:b,request:D?Mu(q,D):q,response:N?Mu(K,N):K}}function Y2(t){const e=[];try{return[t.responseText]}catch(r){e.push(r)}try{return K2(t.response,t.responseType)}catch(r){e.push(r)}return pe&&me.warn("Failed to get xhr response body",...e),[void 0]}function K2(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(r){return pe&&me.exception(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return pe&&me.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function W2(t,e){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return ed(r)}catch{return}}function X2(t){const e=Ie();try{const{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:l,networkResponseHeaders:u}=t.getOptions(),f={replay:t,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:l,networkResponseHeaders:u};e&&e.on("beforeAddBreadcrumb",(h,m)=>J2(f,h,m))}catch{}}function J2(t,e,r){if(e.data)try{Q2(e)&&eL(r)&&(G2(e,r),F2(e,r,t)),Z2(e)&&tL(r)&&(I2(e,r),M2(e,r,t))}catch(i){pe&&me.exception(i,"Error when enriching network breadcrumb")}}function Q2(t){return t.category==="xhr"}function Z2(t){return t.category==="fetch"}function eL(t){return t?.xhr}function tL(t){return t?.response}function nL(t){const e=Ie();dx(MD(t)),Ku(C2(t)),v2(t),X2(t);const r=k2(t);UN(r),e&&(e.on("beforeSendEvent",y2(t)),e.on("afterSendEvent",p2(t)),e.on("createDsc",i=>{const o=t.getSessionId();o&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(i.replay_id=o)}),e.on("spanStart",i=>{t.lastActiveSpan=i}),e.on("spanEnd",i=>{t.lastActiveSpan=i}),e.on("beforeSendFeedback",async(i,o)=>{const l=t.getSessionId();o?.includeReplay&&t.isEnabled()&&l&&i.contexts?.feedback&&(i.contexts.feedback.source==="api"&&await t.sendBufferedReplayOrFlush(),i.contexts.feedback.replay_id=l)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}async function rL(t){try{return Promise.all(Zu(t,[sL(Ze.performance.memory)]))}catch{return[]}}function sL(t){const{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:i}=t,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:i}}}}function iL(t,e,r){return xO(t,e,{...r,setTimeoutImpl:hl})}const Kc=Le.navigator;function aL(){return/iPhone|iPad|iPod/i.test(Kc?.userAgent??"")||/Macintosh/i.test(Kc?.userAgent??"")&&Kc?.maxTouchPoints&&Kc?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function oL(t){let e=!1;return(r,i)=>{if(!t.checkAndHandleExpiredSession()){pe&&me.warn("Received replay event after session expired.");return}const o=i||!e;e=!0,t.clickDetector&&CD(t.clickDetector,r),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&o&&t.setInitialState(),!Fm(t,r,o))return!0;if(!o)return!1;const l=t.session;if(cL(t,o),t.recordingMode==="buffer"&&l&&t.eventBuffer&&!l.dirty){const u=t.eventBuffer.getEarliestTimestamp();u&&(pe&&me.log(`Updating session start time to earliest event in buffer to ${new Date(u)}`),l.started=u,t.getOptions().stickySession&&Qu(l))}return l?.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}function lL(t){const e=t.getOptions();return{type:Ee.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function cL(t,e){!e||!t.session||t.session.segmentId!==0||Fm(t,lL(t),!1)}function uL(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function dL(t,e,r,i){return ys(gw(t,hm(t),i,r),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function fL({recordingData:t,headers:e}){let r;const i=`${JSON.stringify(e)}
`;if(typeof t=="string")r=`${i}${t}`;else{const l=new TextEncoder().encode(i);r=new Uint8Array(l.length+t.length),r.set(l),r.set(t,l.length)}return r}async function hL({client:t,scope:e,replayId:r,event:i}){const o=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,l={event_id:r,integrations:o};t.emit("preprocessEvent",i,l);const u=await ww(t.getOptions(),i,l,e,t,nr());if(!u)return null;t.emit("postprocessEvent",u,l),u.platform=u.platform||"javascript";const f=t.getSdkMetadata(),{name:h,version:m,settings:b}=f?.sdk||{};return u.sdk={...u.sdk,name:h||"sentry.javascript.unknown",version:m||"0.0.0",settings:b},u}async function pL({recordingData:t,replayId:e,segmentId:r,eventContext:i,timestamp:o,session:l}){const u=fL({recordingData:t,headers:{segment_id:r}}),{urls:f,errorIds:h,traceIds:m,initialTimestamp:b}=i,v=Ie(),_=Ve(),S=v?.getTransport(),x=v?.getDsn();if(!v||!S||!x||!l.sampled)return Promise.resolve({});const k={type:FM,replay_start_timestamp:b/1e3,timestamp:o/1e3,error_ids:h,trace_ids:m,urls:f,replay_id:e,segment_id:r,replay_type:l.sampled},E=await hL({scope:_,client:v,replayId:e,event:k});if(!E)return v.recordDroppedEvent("event_processor","replay"),pe&&me.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete E.sdkProcessingMetadata;const D=dL(E,u,x,v.getOptions().tunnel);let B;try{B=await S.send(D)}catch(q){const K=new Error(jm);try{K.cause=q}catch{}throw K}if(typeof B.statusCode=="number"&&(B.statusCode<200||B.statusCode>=300))throw new iE(B.statusCode);const N=Hw({},B);if(Bw(N,"replay"))throw new Vm(N);return B}class iE extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Vm extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function aE(t,e={count:0,interval:XM}){const{recordingData:r,onError:i}=t;if(r.length)try{return await pL(t),!0}catch(o){if(o instanceof iE||o instanceof Vm)throw o;if(Ew("Replays",{_retryCount:e.count}),i&&i(o),e.count>=JM){const l=new Error(`${jm} - max retries exceeded`);try{l.cause=o}catch{}throw l}return e.interval*=++e.count,new Promise((l,u)=>{hl(async()=>{try{await aE(t,e),l(!0)}catch(f){u(f)}},e.interval)})}}const oE="__THROTTLED",mL="__SKIPPED";function gL(t,e,r){const i=new Map,o=f=>{const h=f-r;i.forEach((m,b)=>{b<h&&i.delete(b)})},l=()=>[...i.values()].reduce((f,h)=>f+h,0);let u=!1;return(...f)=>{const h=Math.floor(Date.now()/1e3);if(o(h),l()>=e){const b=u;return u=!0,b?mL:oE}u=!1;const m=i.get(h)||0;return i.set(h,m+1),t(...f)}}class yL{constructor({options:e,recordingOptions:r}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:GM,sessionIdleExpire:VM},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=e,this._debouncedFlush=iL(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=gL((u,f)=>d2(this,u,f),300,5);const{slowClickTimeout:i,slowClickIgnoreSelectors:o}=this.getOptions(),l=i?{threshold:Math.min(QM,i),timeout:i,scrollTimeout:ZM,ignoreSelector:o?o.join(","):""}:void 0;if(l&&(this.clickDetector=new ED(this,l)),pe){const u=e._experiments;me.setConfig({captureExceptions:!!u.captureExceptions,traceInternals:!!u.traceInternals})}this._handleVisibilityChange=()=>{Ze.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const u=Qn({category:"ui.blur"});this._doChangeToBackgroundTasks(u)},this._handleWindowFocus=()=>{const u=Qn({category:"ui.focus"});this._doChangeToForegroundTasks(u)},this._handleKeyboardEvent=u=>{UD(this,u)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){pe&&me.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:r,sessionSampleRate:i}=this._options,o=r<=0&&i<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(e),!this.session){pe&&me.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",pe&&me.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){pe&&me.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=zh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in buffer mode");const e=zh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Ar({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:WM}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:oL(this),...aL(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{pe&&me.log(`Stopping Replay${r?` triggered by ${r}`:""}`),eE(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,a2(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pe&&me.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),pe&&me.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const r=Date.now();pe&&me.log("Converting buffer to session"),await this.flushImmediate();const i=this.stopRecording();!e||!i||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const r=e();this.recordingMode==="buffer"||!this._isEnabled||r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){if(!(e&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Np(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${Ze.location.pathname}${Ze.location.hash}${Ze.location.search}`,r=`${Ze.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(e,r){const i=this._throttledAddEvent(e,r);if(i===oE){const o=Qn({category:"replay.throttled"});this.addUpdate(()=>!Fm(this,{type:yD,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return i}getCurrentRoute(){const e=this.lastActiveSpan||Pt(),r=e&&It(e),o=(r&&ze(r).data||{})[Fn];if(!(!r||!o||!["route","custom"].includes(o)))return ze(r).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=r2({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const r=this._options.errorSampleRate>0,i=zh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=i}_checkSession(){if(!this.session)return!1;const e=this.session;return Xx(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Ze.document.addEventListener("visibilitychange",this._handleVisibilityChange),Ze.addEventListener("blur",this._handleWindowBlur),Ze.addEventListener("focus",this._handleWindowFocus),Ze.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(nL(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=XD(this)}_removeListeners(){try{Ze.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Ze.removeEventListener("blur",this._handleWindowBlur),Ze.removeEventListener("focus",this._handleWindowFocus),Ze.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||Wx(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){pe&&me.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Ee.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=PD(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const r=this._context.initialTimestamp/1e3;e=e.filter(i=>i.start>=r)}return Promise.all(Zu(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:r}=this;if(!e||!r||this._requiresManualStart||e.segmentId)return;const i=r.getEarliestTimestamp();i&&i<this._context.initialTimestamp&&(this._context.initialTimestamp=i)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){pe&&me.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await rL(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const l=await this.eventBuffer.finish();await aE({replayId:e,recordingData:l,segmentId:o,eventContext:i,session:this.session,timestamp:r,onError:u=>this.handleException(u)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const i=Ie();if(i){const o=r instanceof Vm?"ratelimit_backoff":"send_error";i.recordDroppedEvent(o,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){pe&&me.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,o=Date.now()-r;this._debouncedFlush.cancel();const l=o<this._options.minReplayDuration,u=o>this._options.maxReplayDuration+5e3;if(l||u){pe&&me.log(`Session duration (${Math.floor(o/1e3)}s) is too ${l?"short":"long"}, not sending replay.`),l&&this._debouncedFlush();return}const f=this.eventBuffer;f&&this.session.segmentId===0&&!f.hasCheckout&&pe&&me.log("Flushing initial segment without checkout.");const h=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(m){this.handleException(m)}finally{this._flushLock=void 0,h&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Qu(this.session)}_onMutationHandler(e){const{ignoreMutations:r}=this._options._experiments;if(r?.length&&e.some(f=>{const h=uL(f.target),m=r.join(",");return h?.matches(m)}))return!1;const i=e.length,o=this._options.mutationLimit,l=this._options.mutationBreadcrumbLimit,u=o&&i>o;if(i>l||u){const f=Qn({category:"replay.mutations",data:{count:i,limit:u}});this._createCustomBreadcrumb(f)}return u?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Mo(t,e){return[...t,...e].join(",")}function bL({mask:t,unmask:e,block:r,unblock:i,ignore:o}){const l=["base","iframe[srcdoc]:not([src])"],u=Mo(t,[".sentry-mask","[data-sentry-mask]"]),f=Mo(e,[]);return{maskTextSelector:u,unmaskTextSelector:f,blockSelector:Mo(r,[".sentry-block","[data-sentry-block]",...l]),unblockSelector:Mo(i,[]),ignoreSelector:Mo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function vL({el:t,key:e,maskAttributes:r,maskAllText:i,privacyOptions:o,value:l}){return!i||o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)?l:r.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?l.replace(/[\S]/g,"*"):l}const j0='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',_L=["content-length","content-type","accept"];let M0=!1;const SL=(t=>new wL(t));class wL{constructor({flushMinDelay:e=YM,flushMaxDelay:r=KM,minReplayDuration:i=eI,maxReplayDuration:o=d0,stickySession:l=!0,useCompression:u=!0,workerUrl:f,_experiments:h={},maskAllText:m=!0,maskAllInputs:b=!0,blockAllMedia:v=!0,mutationBreadcrumbLimit:_=750,mutationLimit:S=1e4,slowClickTimeout:x=7e3,slowClickIgnoreSelectors:k=[],networkDetailAllowUrls:E=[],networkDetailDenyUrls:D=[],networkCaptureBodies:B=!0,networkRequestHeaders:N=[],networkResponseHeaders:q=[],mask:K=[],maskAttributes:G=["title","placeholder","aria-label"],unmask:U=[],block:P=[],unblock:ce=[],ignore:W=[],maskFn:te,beforeAddRecordingEvent:le,beforeErrorSampling:he,onError:Te}={}){this.name="Replay";const ke=bL({mask:K,unmask:U,block:P,unblock:ce,ignore:W});if(this._recordingOptions={maskAllInputs:b,maskAllText:m,maskInputOptions:{password:!0},maskTextFn:te,maskInputFn:te,maskAttributeFn:(M,F,O)=>vL({maskAttributes:G,maskAllText:m,privacyOptions:ke,key:M,value:F,el:O}),...ke,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:M=>{try{M.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!h.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:r,minReplayDuration:Math.min(i,tI),maxReplayDuration:Math.min(o,d0),stickySession:l,useCompression:u,workerUrl:f,blockAllMedia:v,maskAllInputs:b,maskAllText:m,mutationBreadcrumbLimit:_,mutationLimit:S,slowClickTimeout:x,slowClickIgnoreSelectors:k,networkDetailAllowUrls:E,networkDetailDenyUrls:D,networkCaptureBodies:B,networkRequestHeaders:I0(N),networkResponseHeaders:I0(q),beforeAddRecordingEvent:le,beforeErrorSampling:he,onError:Te,_experiments:h},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${j0}`:j0,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&pp())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return M0}set _isInitialized(e){M0=e}afterAllSetup(e){!pp()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){if(this._replay?.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const r=xL(this._initialOptions,e);this._replay=new yL({options:r,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const r=e.getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}}function xL(t,e){const r=e.getOptions(),i={sessionSampleRate:0,errorSampleRate:0,...t},o=ri(r.replaysSessionSampleRate),l=ri(r.replaysOnErrorSampleRate);return o==null&&l==null&&oi(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(i.sessionSampleRate=o),l!=null&&(i.errorSampleRate=l),i}function I0(t){return[..._L,...t.map(e=>e.toLowerCase())]}function EL(t){return t.split(",").some(e=>e.trim().startsWith("sentry-"))}function lE(t){try{return new URL(t,Be.location.origin).href}catch{return}}function TL(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function cE(t){try{return new Headers(t)}catch{return}}const D0=new WeakMap,Bh=new Map,uE={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function kL(t,e){const{traceFetch:r,traceXHR:i,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:l,enableHTTPTimings:u,tracePropagationTargets:f,onRequestSpanStart:h,onRequestSpanEnd:m}={...uE,...e},b=typeof l=="function"?l:x=>!0,v=x=>AL(x,f),_={},S=t.getOptions().propagateTraceparent;r&&(t.addEventProcessor(x=>(x.type==="transaction"&&x.spans&&x.spans.forEach(k=>{if(k.op==="http.client"){const E=Bh.get(k.span_id);E&&(k.timestamp=E/1e3,Bh.delete(k.span_id))}}),x)),o&&sR(x=>{if(x.response){const k=D0.get(x.response);k&&x.endTimestamp&&Bh.set(k,x.endTimestamp)}}),Yw(x=>{const k=KO(x,b,v,_,{propagateTraceparent:S,onRequestSpanEnd:m});if(x.response&&x.fetchData.__span&&D0.set(x.response,x.fetchData.__span),k){const E=lE(x.fetchData.url),D=E?ti(E).host:void 0;k.setAttributes({"http.url":E,"server.address":D}),u&&L0(k),h?.(k,{headers:x.headers})}})),i&&hx(x=>{const k=CL(x,b,v,_,S,m);k&&(u&&L0(k),h?.(k,{headers:cE(x.xhr.__sentry_xhr_v3__?.request_headers)}))})}function L0(t){const{url:e}=ze(t).data;if(!e||typeof e!="string")return;const r=ii("resource",({entries:i})=>{i.forEach(o=>{TL(o)&&o.name.endsWith(e)&&(t.setAttributes(ux(o)),setTimeout(r))})})}function AL(t,e){const r=ka();if(r){let i,o;try{i=new URL(t,r),o=new URL(r).origin}catch{return!1}const l=i.origin===o;return e?Tr(i.toString(),e)||l&&Tr(i.pathname,e):l}else{const i=!!t.match(/^\/(?!\/)/);return e?Tr(t,e):i}}function CL(t,e,r,i,o,l){const u=t.xhr,f=u?.[Ws];if(!u||u.__sentry_own_request__||!f)return;const{url:h,method:m}=f,b=Gn()&&e(h);if(t.endTimestamp&&b){const D=u.__sentry_xhr_span_id__;if(!D)return;const B=i[D];B&&f.status_code!==void 0&&(ew(B,f.status_code),B.end(),l?.(B,{headers:cE(yx(u)),error:t.error}),delete i[D]);return}const v=lE(h),_=ti(v||h),S=gO(h),x=!!Pt(),k=b&&x?Oa({name:`${m} ${S}`,attributes:{url:h,type:"xhr","http.method":m,"http.url":v,"server.address":_?.host,[wt]:"auto.http.browser",[Rr]:"http.client",..._?.search&&{"http.query":_?.search},..._?.hash&&{"http.fragment":_?.hash}}}):new ds;u.__sentry_xhr_span_id__=k.spanContext().spanId,i[u.__sentry_xhr_span_id__]=k,r(h)&&NL(u,Gn()&&x?k:void 0,o);const E=Ie();return E&&E.emit("beforeOutgoingRequestSpan",k,t),k}function NL(t,e,r){const{"sentry-trace":i,baggage:o,traceparent:l}=$w({span:e,propagateTraceparent:r});i&&OL(t,i,o,l)}function OL(t,e,r,i){const o=t.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!t.setRequestHeader))try{if(t.setRequestHeader("sentry-trace",e),i&&!o?.traceparent&&t.setRequestHeader("traceparent",i),r){const l=o?.baggage;(!l||!EL(l))&&t.setRequestHeader("baggage",r)}}catch{}}function RL(){Be.document?Be.document.addEventListener("visibilitychange",()=>{const t=Pt();if(!t)return;const e=It(t);if(Be.document.hidden&&e){const r="cancelled",{op:i,status:o}=ze(e);Rn&&Y.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${i}`),o||e.setStatus({code:St,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Rn&&Y.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const jL=3600,dE="sentry_previous_trace",ML="sentry.previous_trace";function IL(t,{linkPreviousTrace:e,consistentTraceSampling:r}){const i=e==="session-storage";let o=i?UL():void 0;t.on("spanStart",u=>{if(It(u)!==u)return;const f=Ve().getPropagationContext();o=DL(o,u,f),i&&LL(o)});let l=!0;r&&t.on("beforeSampling",u=>{if(!o)return;const f=Ve(),h=f.getPropagationContext();if(l&&h.parentSpanId){l=!1;return}f.setPropagationContext({...h,dsc:{...h.dsc,sample_rate:String(o.sampleRate),sampled:String(jp(o.spanContext))},sampleRand:o.sampleRand}),u.parentSampled=jp(o.spanContext),u.parentSampleRate=o.sampleRate,u.spanAttributes={...u.spanAttributes,[QS]:o.sampleRate}})}function DL(t,e,r){const i=ze(e);function o(){try{return Number(r.dsc?.sample_rate)??Number(i.data?.[lm])}catch{return 0}}const l={spanContext:e.spanContext(),startTimestamp:i.start_timestamp,sampleRate:o(),sampleRand:r.sampleRand};if(!t)return l;const u=t.spanContext;return u.traceId===i.trace_id?t:(Date.now()/1e3-t.startTimestamp<=jL&&(Rn&&Y.log(`Adding previous_trace ${u} link to span ${{op:i.op,...e.spanContext()}}`),e.addLink({context:u,attributes:{[cC]:"previous_trace"}}),e.setAttribute(ML,`${u.traceId}-${u.spanId}-${jp(u)?1:0}`)),l)}function LL(t){try{Be.sessionStorage.setItem(dE,JSON.stringify(t))}catch(e){Rn&&Y.warn("Could not store previous trace in sessionStorage",e)}}function UL(){try{const t=Be.sessionStorage?.getItem(dE);return JSON.parse(t)}catch{return}}function jp(t){return t.traceFlags===1}const zL="BrowserTracing",BL={...du,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...uE},HL=((t={})=>{const e={name:void 0,source:void 0},r=Be.document,{enableInp:i,enableElementTiming:o,enableLongTask:l,enableLongAnimationFrame:u,_experiments:{enableInteractions:f,enableStandaloneClsSpans:h,enableStandaloneLcpSpans:m},beforeStartSpan:b,idleTimeout:v,finalTimeout:_,childSpanTimeout:S,markBackgroundSpan:x,traceFetch:k,traceXHR:E,trackFetchStreamPerformance:D,shouldCreateSpanForRequest:B,enableHTTPTimings:N,ignoreResourceSpans:q,ignorePerformanceApiSpans:K,instrumentPageLoad:G,instrumentNavigation:U,detectRedirects:P,linkPreviousTrace:ce,consistentTraceSampling:W,enableReportPageLoaded:te,onRequestSpanStart:le,onRequestSpanEnd:he}={...BL,...t};let Te,ke,M;function F(O,se,V=!0){const ve=se.op==="pageload",ue=se.name,X=b?b(se):se,ge=X.attributes||{};if(ue!==X.name&&(ge[Fn]="custom",X.attributes=ge),!V){const Ue=li();Oa({...X,startTime:Ue}).end(Ue);return}e.name=X.name,e.source=ge[Fn];const qe=Sw(X,{idleTimeout:v,finalTimeout:_,childSpanTimeout:S,disableAutoFinish:ve,beforeSpanEnd:Ue=>{Te?.(),pj(Ue,{recordClsOnPageloadSpan:!h,recordLcpOnPageloadSpan:!m,ignoreResourceSpans:q,ignorePerformanceApiSpans:K}),z0(O,void 0);const $t=Ve(),jt=$t.getPropagationContext();$t.setPropagationContext({...jt,traceId:qe.spanContext().traceId,sampled:gs(qe),dsc:jr(Ue)}),ve&&(M=void 0)},trimIdleSpanEndTimestamp:!te});ve&&te&&(M=qe),z0(O,qe);function xt(){r&&["interactive","complete"].includes(r.readyState)&&O.emit("idleSpanEnableAutoFinish",qe)}ve&&!te&&r&&(r.addEventListener("readystatechange",()=>{xt()}),xt())}return{name:zL,setup(O){if(zC(),Te=oj({recordClsStandaloneSpans:h||!1,recordLcpStandaloneSpans:m||!1,client:O}),i&&Bj(),o&&kj(),u&&Le.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?cj():l&&lj(),f&&uj(),P&&r){const V=()=>{ke=kt()};addEventListener("click",V,{capture:!0}),addEventListener("keydown",V,{capture:!0,passive:!0})}function se(){const V=el(O);V&&!ze(V).timestamp&&(Rn&&Y.log(`[Tracing] Finishing current active span with op: ${ze(V).op}`),V.setAttribute(Yo,"cancelled"),V.end())}O.on("startNavigationSpan",(V,ve)=>{if(Ie()!==O)return;if(ve?.isRedirect){Rn&&Y.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),F(O,{op:"navigation.redirect",...V},!1);return}ke=void 0,se(),nr().setPropagationContext({traceId:Or(),sampleRand:Math.random(),propagationSpanId:Gn()?void 0:kr()});const ue=Ve();ue.setPropagationContext({traceId:Or(),sampleRand:Math.random(),propagationSpanId:Gn()?void 0:kr()}),ue.setSDKProcessingMetadata({normalizedRequest:void 0}),F(O,{op:"navigation",...V,parentSpan:null,forceTransaction:!0})}),O.on("startPageLoadSpan",(V,ve={})=>{if(Ie()!==O)return;se();const ue=ve.sentryTrace||U0("sentry-trace"),X=ve.baggage||U0("baggage"),ge=NC(ue,X),qe=Ve();qe.setPropagationContext(ge),Gn()||(qe.getPropagationContext().propagationSpanId=kr()),qe.setSDKProcessingMetadata({normalizedRequest:_m()}),F(O,{op:"pageload",...V})}),O.on("endPageloadSpan",()=>{te&&M&&(M.setAttribute(Yo,"reportPageLoaded"),M.end())})},afterAllSetup(O){let se=ka();if(ce!=="off"&&IL(O,{linkPreviousTrace:ce,consistentTraceSampling:W}),Be.location){if(G){const V=nn();PL(O,{name:Be.location.pathname,startTime:V?V/1e3:void 0,attributes:{[Fn]:"url",[wt]:"auto.pageload.browser"}})}U&&Ku(({to:V,from:ve})=>{if(ve===void 0&&se?.indexOf(V)!==-1){se=void 0;return}se=void 0;const ue=vm(V),X=el(O),ge=X&&P&&FL(X,ke);$L(O,{name:ue?.pathname||Be.location.pathname,attributes:{[Fn]:"url",[wt]:"auto.navigation.browser"}},{url:V,isRedirect:ge})})}x&&RL(),f&&qL(O,v,_,S,e),i&&$j(),kL(O,{traceFetch:k,traceXHR:E,trackFetchStreamPerformance:D,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:B,enableHTTPTimings:N,onRequestSpanStart:le,onRequestSpanEnd:he})}}});function PL(t,e,r){t.emit("startPageLoadSpan",e,r),Ve().setTransactionName(e.name);const i=el(t);return i&&t.emit("afterStartPageLoadSpan",i),i}function $L(t,e,r){const{url:i,isRedirect:o}=r||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:o}),t.emit("startNavigationSpan",e,{isRedirect:o});const l=Ve();return l.setTransactionName(e.name),i&&!o&&l.setSDKProcessingMetadata({normalizedRequest:{..._m(),url:i}}),el(t)}function U0(t){return Be.document?.querySelector(`meta[name=${t}]`)?.getAttribute("content")||void 0}function qL(t,e,r,i,o){const l=Be.document;let u;const f=()=>{const h="ui.action.click",m=el(t);if(m){const b=ze(m).op;if(["navigation","pageload"].includes(b)){Rn&&Y.warn(`[Tracing] Did not create ${h} span because a pageload or navigation span is in progress.`);return}}if(u&&(u.setAttribute(Yo,"interactionInterrupted"),u.end(),u=void 0),!o.name){Rn&&Y.warn(`[Tracing] Did not create ${h} transaction because _latestRouteName is missing.`);return}u=Sw({name:o.name,op:h,attributes:{[Fn]:o.source||"url"}},{idleTimeout:e,finalTimeout:r,childSpanTimeout:i})};l&&addEventListener("click",f,{capture:!0})}const fE="_sentry_idleSpan";function el(t){return t[fE]}function z0(t,e){bn(t,fE,e)}const B0=1.5;function FL(t,e){const r=ze(t),i=li(),o=r.start_timestamp;return!(i-o>B0||e&&i-e<=B0)}function GL(t){const e={...t};return Pw(e,"react"),Ew("react",{version:J.version}),qM(e)}const VL="modulepreload",YL=function(t){return"/"+t},H0={},nt=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");o=h(r.map(m=>{if(m=YL(m),m in H0)return;H0[m]=!0;const b=m.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=b?"stylesheet":VL,b||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),b)return new Promise((S,x)=>{_.addEventListener("load",S),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},P0="G-6RPDS8PFEB",Mp=()=>{const t=localStorage.getItem("cookieConsent");if(!t){console.log("[Analytics] User has not consented to analytics");return}try{if(!JSON.parse(t).analytics){console.log("[Analytics] Analytics not enabled in user preferences");return}}catch{console.log("[Analytics] Invalid consent data");return}if(typeof window.gtag<"u"){console.log("[Analytics] GA already initialized");return}const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${P0}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(...r){window.dataLayer.push(r)},window.gtag("js",new Date),window.gtag("config",P0,{send_page_view:!1,anonymize_ip:!0}),console.log("[Analytics] Google Analytics initialized")},KL=(t,e)=>{if(typeof window.gtag>"u"){console.log("[Analytics] Page view:",t,e);return}window.gtag("event","page_view",{page_path:t,page_title:e||document.title})};function WL(){const[t,e]=J.useState(!1),r=Pu(),i=Zp(),o=()=>{localStorage.removeItem("selectedBase"),localStorage.removeItem("hasVisitedSite"),window.dispatchEvent(new CustomEvent("openBaseSelectionModal")),e(!1)},l=J.useCallback(h=>{if(i.pathname==="/"){const m=document.getElementById(h);if(m){const v=m.offsetTop-64;window.scrollTo({top:v,behavior:"smooth"})}else r("/",{state:{scrollTo:h}})}else r("/",{state:{scrollTo:h}});e(!1)},[i.pathname,r]),u=()=>{i.pathname==="/"?window.scrollTo({top:0,behavior:"smooth"}):r("/"),e(!1)},f=J.useCallback(h=>{h.stopPropagation(),e(!1)},[]);return g.jsxs(g.Fragment,{children:[g.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-[var(--brand-bg-card)]/95 backdrop-blur-md border-b border-[var(--brand-border)] shadow-sm",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsxs("button",{onClick:u,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[g.jsx("img",{src:"/EL_Logo.png",alt:"European Living",className:"h-10 w-10 object-contain"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-lg text-[var(--brand-primary-dark)] leading-tight",children:"European Living"}),g.jsx("span",{className:"text-xs text-[var(--brand-text-muted)]",children:"Your Guide to Europe"})]})]}),g.jsxs("nav",{className:"hidden lg:flex items-center gap-1",children:[g.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg",children:"Home"}),g.jsx("button",{onClick:()=>l("destinations"),className:"px-4 py-2 text-sm font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg",children:"Destinations"}),g.jsx(Zt,{to:"/day-trips",className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"Day Trips"}),g.jsx("button",{onClick:()=>l("travel-tips"),className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"Travel Tips"}),g.jsx("button",{onClick:()=>l("german-phrases"),className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"Travel Phrases"}),g.jsx("button",{onClick:()=>l("english-services"),className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"English Services"}),g.jsx(Zt,{to:"/about",className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"About"})]}),g.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[g.jsx("button",{onClick:()=>l("contact"),className:"px-6 py-2.5 bg-[var(--brand-primary)] text-white text-sm font-semibold rounded-full hover:scale-105 transition",children:"Contact Us"}),g.jsx("button",{onClick:o,className:"text-sm text-red-500 hover:text-red-700 underline",children:"Reset Base"})]}),g.jsx("button",{onClick:()=>e(!t),className:"lg:hidden p-2 rounded-lg hover:bg-[var(--brand-bg-alt)] transition","aria-label":"Toggle menu",children:t?g.jsx(em,{className:"w-6 h-6"}):g.jsx(Zk,{className:"w-6 h-6"})})]})})}),t&&g.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:f,role:"button",tabIndex:-1,"aria-label":"Close menu"}),g.jsx("nav",{className:"absolute top-16 left-0 right-0 bg-white border-b border-[var(--brand-border)] shadow-lg max-h-[calc(100vh-4rem)] overflow-y-auto",children:g.jsxs("div",{className:"px-4 py-4 space-y-1",children:[g.jsx("button",{onClick:u,className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Home"}),g.jsx("button",{onClick:()=>l("destinations"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Destinations"}),g.jsx(Zt,{to:"/day-trips",onClick:()=>e(!1),className:"block px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Day Trips"}),g.jsx("button",{onClick:()=>l("travel-tips"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Travel Tips"}),g.jsx("button",{onClick:()=>l("german-phrases"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Travel Phrases"}),g.jsx("button",{onClick:()=>l("english-services"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"English Services"}),g.jsx(Zt,{to:"/about",onClick:()=>e(!1),className:"block px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"About"}),g.jsxs("div",{className:"pt-4 border-t border-[var(--brand-border)] mt-4",children:[g.jsx("button",{onClick:()=>l("contact"),className:"w-full px-4 py-3 bg-[var(--brand-primary)] text-white text-base font-semibold rounded-lg hover:bg-[var(--brand-dark)] transition",children:"Contact Us"}),g.jsx("button",{onClick:o,className:"w-full text-center px-4 py-3 text-sm text-red-500 hover:text-red-700 underline mt-2",children:"Reset Base Selection"})]})]})})]})]})}const XL=()=>{const t=()=>{localStorage.removeItem("cookieConsent"),window.dispatchEvent(new Event("openCookieSettings"))};return g.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"European Living"}),g.jsx("p",{className:"text-sm text-gray-400",children:"Your guide to living, working, and exploring Germany and Europe as a U.S. military member or expat."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx(Zt,{to:"/",className:"hover:text-white transition-colors",children:"Home"})}),g.jsx("li",{children:g.jsx(Zt,{to:"/services-directory",className:"hover:text-white transition-colors",children:"Services Directory"})}),g.jsx("li",{children:g.jsx(Zt,{to:"/day-trips",className:"hover:text-white transition-colors",children:"Day Trips"})}),g.jsx("li",{children:g.jsx(Zt,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx(Zt,{to:"/submit-business",className:"hover:text-white transition-colors",children:"Submit Your Business"})}),g.jsx("li",{children:g.jsx("a",{href:"https://www.usedcarguys.net",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Used Car Guys"})}),g.jsx("li",{children:g.jsx("a",{href:"https://framedwithwonder.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Framed With Wonder"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx(Zt,{to:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsxs("button",{onClick:t,className:"hover:text-white transition-colors flex items-center gap-2 text-left",children:[g.jsx(DS,{className:"w-4 h-4"}),"Cookie Settings"]})})]})]})]}),g.jsx("div",{className:"border-t border-[var(--brand-primary)] border-opacity-30 pt-6 mt-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 150+ Businesses"}),g.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Verified English-friendly services"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 10+ Years"}),g.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Serving the military community"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 6 Bases"}),g.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Major US installations covered"})]})]})}),g.jsxs("div",{className:"border-t border-gray-800 pt-8 mt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," European Living. All rights reserved. Serving the American military community in Germany."]}),g.jsx("p",{className:"text-sm text-gray-400",children:"Made with  for U.S. military families in Europe"})]})]})})},JL=()=>{const[t,e]=J.useState(!1),[r,i]=J.useState(!1),[o,l]=J.useState({necessary:!0,analytics:!1,marketing:!1});J.useEffect(()=>{const _=localStorage.getItem("cookieConsent"),S=localStorage.getItem("cookieConsentDate");if(_&&S){const x=Date.now()-new Date(S).getTime(),k=365*24*60*60*1e3;if(x>k)localStorage.removeItem("cookieConsent"),localStorage.removeItem("cookieConsentDate"),setTimeout(()=>e(!0),500);else try{const E=JSON.parse(_);l(E),u(E)}catch(E){console.error("Error parsing cookie preferences",E)}}else{const x=setTimeout(()=>e(!0),500);return()=>clearTimeout(x)}},[]);const u=_=>{if(typeof window.gtag>"u"){console.log("gtag not loaded yet");return}_.analytics?window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag("consent","update",{analytics_storage:"denied"}),_.marketing?window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}):window.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})},f=()=>{b({necessary:!0,analytics:!0,marketing:!0}),Mp(),e(!1),i(!1)},h=()=>{b({necessary:!0,analytics:!1,marketing:!1}),e(!1),i(!1)},m=()=>{b(o),o.analytics&&Mp(),e(!1),i(!1)},b=_=>{localStorage.setItem("cookieConsent",JSON.stringify(_)),localStorage.setItem("cookieConsentDate",new Date().toISOString()),u(_),window.dispatchEvent(new CustomEvent("cookieConsentUpdated",{detail:_}))},v=_=>{_!=="necessary"&&l(S=>({...S,[_]:!S[_]}))};return J.useEffect(()=>{const _=()=>{e(!0),i(!0)};return window.addEventListener("openCookieSettings",_),()=>window.removeEventListener("openCookieSettings",_)},[]),g.jsx(Go,{children:t&&g.jsxs(g.Fragment,{children:[g.jsx(Jn.div,{className:"fixed inset-0 bg-black/30 z-[100]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!r&&f()}),g.jsx(Go,{children:r&&g.jsx(Jn.div,{className:"fixed inset-0 z-[102] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsxs(Jn.div,{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:_=>_.stopPropagation(),children:[g.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between flex-shrink-0 bg-white",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(eA,{className:"w-6 h-6 text-blue-600"}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Cookie Settings"})]}),g.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close settings",children:g.jsx(em,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[g.jsx("p",{className:"text-gray-600",children:"We use cookies to improve your experience on our site. You can choose which types of cookies to allow below."}),g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-start justify-between mb-2",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(tA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Necessary Cookies"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function. These cannot be disabled."})]})]}),g.jsx("div",{className:"ml-4 flex-shrink-0",children:g.jsx("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center justify-end px-1 cursor-not-allowed",children:g.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),g.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[g.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),g.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[g.jsx("li",{children:"Enable core website functionality"}),g.jsx("li",{children:"Remember your base selection"}),g.jsx("li",{children:"Secure authentication and session management"}),g.jsx("li",{children:"Accessibility features"})]})]})]}),g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-start justify-between mb-2",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(nA,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Analytics Cookies"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors use our site to improve user experience."})]})]}),g.jsx("div",{className:"ml-4 flex-shrink-0",children:g.jsx("button",{onClick:()=>v("analytics"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.analytics?"bg-blue-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle analytics cookies ${o.analytics?"off":"on"}`,children:g.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),g.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[g.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),g.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[g.jsx("li",{children:"Anonymous visitor statistics"}),g.jsx("li",{children:"Page view tracking"}),g.jsx("li",{children:"User journey analysis"}),g.jsx("li",{children:"Help us improve navigation and content"})]}),g.jsx("p",{className:"mt-2 text-xs",children:"We use Google Analytics with IP anonymization."})]})]}),g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-start justify-between mb-2",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(rA,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Marketing Cookies"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements based on your interests."})]})]}),g.jsx("div",{className:"ml-4 flex-shrink-0",children:g.jsx("button",{onClick:()=>v("marketing"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.marketing?"bg-purple-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle marketing cookies ${o.marketing?"off":"on"}`,children:g.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),g.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[g.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),g.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[g.jsx("li",{children:"Track your browsing across websites"}),g.jsx("li",{children:"Deliver relevant advertisements"}),g.jsx("li",{children:"Measure ad campaign effectiveness"}),g.jsx("li",{children:"Create advertising profiles"})]})]})]}),g.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:g.jsxs("p",{children:["For more information about how we use cookies, please see our"," ",g.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",children:"Privacy Policy"}),". You can change your preferences at any time."]})})]}),g.jsxs("div",{className:"border-t border-gray-200 p-6 flex flex-col sm:flex-row gap-3 flex-shrink-0 bg-white",children:[g.jsx("button",{onClick:h,className:"flex-1 border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50 transition",children:"Reject All"}),g.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Preferences"}),g.jsx("button",{onClick:f,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Accept All"})]})]})})}),!r&&g.jsx(Jn.div,{className:"fixed bottom-0 left-0 right-0 z-[101] bg-white border-t-2 border-gray-200 shadow-2xl",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:_=>_.stopPropagation(),children:g.jsx("div",{className:"max-w-7xl mx-auto p-6",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[g.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[g.jsx(DS,{className:"w-8 h-8 text-blue-600 flex-shrink-0 mt-1"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:" Cookie Settings"}),g.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["We use cookies to provide you with an optimal website experience. Further information and how you can object to the use of cookies at any time can be found in our"," ",g.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",children:"privacy policy"}),"."]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[g.jsx("button",{onClick:h,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition whitespace-nowrap",children:"Reject All"}),g.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 border-2 border-blue-600 text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition whitespace-nowrap",children:"Settings"}),g.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition whitespace-nowrap shadow-lg",children:"Accept All"})]})]})})})]})})},hE=J.createContext(null);function QL({children:t}){const[e,r]=J.useState("all"),[i,o]=J.useState(!1);J.useEffect(()=>{if(typeof window<"u"){const u=localStorage.getItem("selectedBase");u&&r(u),o(!0)}},[]);const l=u=>{r(u),typeof window<"u"&&localStorage.setItem("selectedBase",u)};return g.jsx(hE.Provider,{value:{selectedBase:e,setSelectedBase:l,isLoaded:i},children:t})}function Ym(){const t=J.useContext(hE);if(!t)throw new Error("useBase must be used within BaseProvider");return t}const $0=[{id:"ramstein",name:"Ramstein Air Base",location:"Ramstein-Miesenbach",region:"Rhineland-Palatinate",icon:"",description:"Largest USAF base in Europe"},{id:"stuttgart",name:"USAG Stuttgart",location:"Stuttgart",region:"Baden-Wrttemberg",icon:"",description:"Home to EUCOM and AFRICOM headquarters"},{id:"kaiserslautern",name:"Kaiserslautern Area",location:"Kaiserslautern",region:"Rhineland-Palatinate",icon:"",description:"Heart of the KMC  Kaiserslautern Military Community"},{id:"wiesbaden",name:"USAG Wiesbaden",location:"Wiesbaden",region:"Hesse",icon:"",description:"Near Frankfurt, Army base and community"},{id:"grafenwoehr",name:"USAG Bavaria",location:"Grafenwhr",region:"Bavaria",icon:"",description:"Training area and large Army garrison"},{id:"spangdahlem",name:"Spangdahlem Air Base",location:"Spangdahlem",region:"Rhineland-Palatinate",icon:"",description:"USAF base near Bitburg"}],ZL=()=>{const{selectedBase:t,setSelectedBase:e}=Ym(),[r,i]=J.useState(!1),[o,l]=J.useState(null),[u,f]=J.useState(!1);J.useEffect(()=>{const S=localStorage.getItem("hasVisitedSite");if(t&&t!=="all")f(!0);else if(!S){const x=setTimeout(()=>i(!0),800);return()=>clearTimeout(x)}},[t]),J.useEffect(()=>{const S=()=>{l(null),i(!0)};return window.addEventListener("openBaseSelectionModal",S),()=>{window.removeEventListener("openBaseSelectionModal",S)}},[]);const h=S=>l(S),m=()=>{o&&(e(o),localStorage.setItem("hasVisitedSite","true"),i(!1),f(!0))},b=()=>{localStorage.setItem("hasVisitedSite","true"),e("all"),i(!1),f(!0)},v=()=>{localStorage.removeItem("hasVisitedSite"),l(null),f(!1),i(!0),e("all")},_=S=>{if(S==="all")return"All Locations";const x=$0.find(k=>k.id===S);return x?x.name:"Select Base"};return g.jsxs(g.Fragment,{children:[u&&t&&g.jsxs("div",{className:"fixed top-4 right-4 z-40 bg-white shadow-lg rounded-lg px-4 py-2 border flex items-center gap-2 max-w-[calc(100vw-3rem)] overflow-hidden",children:[g.jsx(tm,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),g.jsx("span",{className:"text-sm font-medium truncate min-w-0",children:_(t)}),g.jsx("button",{onClick:v,className:"ml-2 text-xs text-red-500 hover:text-red-700 underline flex-shrink-0",children:"Reset"})]}),g.jsx(Go,{children:r&&g.jsx(Jn.div,{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsxs(Jn.div,{className:"bg-white rounded-2xl shadow-2xl max-w-md md:max-w-4xl w-full mt-12 overflow-y-auto max-h-[90vh]",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[g.jsxs("div",{className:"bg-blue-600 text-white p-6 flex justify-between items-center border-b border-gray-100",children:[g.jsx("h2",{className:"text-2xl font-extrabold",children:"Welcome to European Living "}),g.jsx("button",{onClick:b,className:"text-white/80 hover:text-white","aria-label":"Skip Base Selection",children:g.jsx(em,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 pb-8",children:[g.jsx("p",{className:"text-gray-700 text-base mb-6",children:"Choose the U.S. military community closest to you to see English-speaking services and local recommendations. You can change this anytime later."}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:$0.map(S=>g.jsx("button",{onClick:()=>h(S.id),className:`p-4 rounded-xl border-2 text-left transition duration-200 shadow-sm ${o===S.id?"border-blue-600 bg-blue-50 ring-2 ring-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300 hover:shadow-md"}`,children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("span",{className:"text-3xl mt-0.5",children:S.icon}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-extrabold text-gray-800",children:S.name}),g.jsxs("p",{className:"text-sm text-gray-600",children:[S.location,", ",S.region]}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S.description})]})]})},S.id))}),g.jsx("button",{onClick:()=>h("all"),className:`w-full p-4 border-2 rounded-lg transition duration-200 ${o==="all"?"border-gray-500 bg-gray-100 shadow-inner":"border-gray-300 hover:border-gray-400"} mb-6`,children:g.jsx("span",{className:"font-semibold text-gray-800",children:" Show All Locations"})}),g.jsx("button",{onClick:m,disabled:!o,className:`w-full py-3 rounded-xl font-semibold text-lg transition duration-300 shadow-lg ${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed shadow-none"} mt-4`,children:"Continue"}),g.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Not near a base?"," ",g.jsx("button",{onClick:b,className:"text-blue-600 font-medium hover:underline",children:"Skip this step"})]})]})]})})})]})};function e3({size:t="md",message:e,fullScreen:r=!1}){const i={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-2",lg:"w-12 h-12 border-3",xl:"w-16 h-16 border-4"},o=g.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[g.jsx("div",{className:`${i[t]} border-blue-600 border-t-transparent rounded-full animate-spin`,role:"status","aria-label":"Loading"}),e&&g.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:e})]});return r?g.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white bg-opacity-90 z-50",children:o}):g.jsx("div",{className:"flex items-center justify-center p-8",children:o})}function t3(){const t=Pu(),e="https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/hero-bg.jpg",r=()=>{document.getElementById("destinations")?.scrollIntoView({behavior:"smooth"})},i=()=>{document.getElementById("email-signup")?.scrollIntoView({behavior:"smooth"})};return g.jsxs("section",{id:"home","aria-label":"Hero",style:{backgroundImage:`url("${e}")`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center 55%"},className:"relative w-full min-h-screen flex items-center justify-center overflow-hidden bg-[var(--brand-bg, #000)]",children:[g.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(90deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.3) 100%)"}}),g.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,0.4) 100%)"}}),g.jsxs("div",{className:"relative z-10 px-6 sm:px-10 text-center text-white max-w-5xl",children:[g.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-6",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(0, 0, 0, 0.6)"},children:["Discover Europe"," ",g.jsx("span",{className:"text-[var(--brand-gold,#F5C04A)]",children:"Beyond"})," the Base"]}),g.jsx("p",{className:"max-w-3xl mx-auto text-lg md:text-xl lg:text-2xl font-medium leading-relaxed mb-8",style:{textShadow:"0 2px 8px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.6)"},children:"Your complete guide to exploring Europe with confidence. From weekend trips to English-friendly services  all in one place."}),g.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mb-10 text-sm md:text-base",style:{textShadow:"0 2px 6px rgba(0, 0, 0, 0.8)"},children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"w-5 h-5 text-[var(--brand-gold)]"}),g.jsx("span",{className:"font-semibold",children:"33 Day Trips"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sA,{className:"w-5 h-5 text-[var(--brand-gold)]"}),g.jsx("span",{className:"font-semibold",children:"200+ Businesses"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(iA,{className:"w-5 h-5 text-[var(--brand-gold)]"}),g.jsx("span",{className:"font-semibold",children:"1,200+ Phrases"})]})]}),g.jsx("p",{className:"max-w-2xl mx-auto text-base md:text-lg leading-relaxed mb-10 opacity-90",style:{textShadow:"0 2px 6px rgba(0, 0, 0, 0.8)"},children:"Built by Americans who've lived in Germany for 9+ years and helped hundreds of military families. We understand the fear of leaving base  and we're here to help you explore with confidence."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[g.jsx("button",{onClick:r,className:"w-full sm:w-auto bg-[var(--brand-primary,#1E40AF)] hover:bg-[var(--brand-dark,#153A84)] text-white font-bold px-8 py-4 rounded-xl text-lg transition-all shadow-xl hover:shadow-2xl hover:scale-105",children:" Explore Destinations"}),g.jsx("button",{onClick:i,className:"w-full sm:w-auto bg-[var(--brand-gold,#F5C04A)] hover:bg-[var(--brand-button)] text-[#131312] font-bold px-8 py-4 rounded-xl text-lg transition-all shadow-xl hover:shadow-2xl hover:scale-105",children:" Get Free Travel Tips"})]}),g.jsx("p",{className:"mt-6 text-sm md:text-base opacity-80",children:g.jsx("button",{onClick:()=>t("/about"),className:"underline hover:text-[var(--brand-gold)] transition-colors",children:"Read Terry's story "})})]})]})}var Ip=function(t,e){return Ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Ip(t,e)};function pE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ip(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Du=function(){return Du=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Du.apply(this,arguments)};function Ma(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function mE(t,e,r,i){var o=arguments.length,l=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,i);else for(var f=t.length-1;f>=0;f--)(u=t[f])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function gE(t,e){return function(r,i){e(r,i,t)}}function yE(t,e,r,i,o,l){function u(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var f=i.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&t?i.static?t:t.prototype:null,b=e||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),v,_=!1,S=r.length-1;S>=0;S--){var x={};for(var k in i)x[k]=k==="access"?{}:i[k];for(var k in i.access)x.access[k]=i.access[k];x.addInitializer=function(D){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(D||null))};var E=(0,r[S])(f==="accessor"?{get:b.get,set:b.set}:b[h],x);if(f==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(v=u(E.get))&&(b.get=v),(v=u(E.set))&&(b.set=v),(v=u(E.init))&&o.unshift(v)}else(v=u(E))&&(f==="field"?o.unshift(v):b[h]=v)}m&&Object.defineProperty(m,i.name,b),_=!0}function bE(t,e,r){for(var i=arguments.length>2,o=0;o<e.length;o++)r=i?e[o].call(t,r):e[o].call(t);return i?r:void 0}function vE(t){return typeof t=="symbol"?t:"".concat(t)}function _E(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function SE(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function re(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(b){try{m(i.next(b))}catch(v){u(v)}}function h(b){try{m(i.throw(b))}catch(v){u(v)}}function m(b){b.done?l(b.value):o(b.value).then(f,h)}m((i=i.apply(t,e||[])).next())})}function wE(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=f(0),u.throw=f(1),u.return=f(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(m){return function(b){return h([m,b])}}function h(m){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(i=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(b){m=[6,b],o=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var td=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,o)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function xE(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&td(e,t,r)}function Lu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Km(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return l}function EE(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Km(arguments[e]));return t}function TE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,f=l.length;u<f;u++,o++)i[o]=l[u];return i}function kE(t,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function Sa(t){return this instanceof Sa?(this.v=t,this):new Sa(t)}function AE(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(x){return Promise.resolve(x).then(S,v)}}function f(S,x){i[S]&&(o[S]=function(k){return new Promise(function(E,D){l.push([S,k,E,D])>1||h(S,k)})},x&&(o[S]=x(o[S])))}function h(S,x){try{m(i[S](x))}catch(k){_(l[0][3],k)}}function m(S){S.value instanceof Sa?Promise.resolve(S.value.v).then(b,v):_(l[0][2],S)}function b(S){h("next",S)}function v(S){h("throw",S)}function _(S,x){S(x),l.shift(),l.length&&h(l[0][0],l[0][1])}}function CE(t){var e,r;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:Sa(t[o](u)),done:!1}:l?l(u):u}:l}}function NE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Lu=="function"?Lu(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(l){r[l]=t[l]&&function(u){return new Promise(function(f,h){u=t[l](u),o(f,h,u.done,u.value)})}}function o(l,u,f,h){Promise.resolve(h).then(function(m){l({value:m,done:f})},u)}}function OE(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var n3=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Dp=function(t){return Dp=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},Dp(t)};function RE(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Dp(t),i=0;i<r.length;i++)r[i]!=="default"&&td(e,t,r[i]);return n3(e,t),e}function jE(t){return t&&t.__esModule?t:{default:t}}function ME(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function IE(t,e,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function DE(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function LE(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var r3=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function UE(t){function e(l){t.error=t.hasError?new r3(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,i=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else i|=1}catch(u){e(u)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function zE(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,o,l,u){return i?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const s3={__extends:pE,__assign:Du,__rest:Ma,__decorate:mE,__param:gE,__esDecorate:yE,__runInitializers:bE,__propKey:vE,__setFunctionName:_E,__metadata:SE,__awaiter:re,__generator:wE,__createBinding:td,__exportStar:xE,__values:Lu,__read:Km,__spread:EE,__spreadArrays:TE,__spreadArray:kE,__await:Sa,__asyncGenerator:AE,__asyncDelegator:CE,__asyncValues:NE,__makeTemplateObject:OE,__importStar:RE,__importDefault:jE,__classPrivateFieldGet:ME,__classPrivateFieldSet:IE,__classPrivateFieldIn:DE,__addDisposableResource:LE,__disposeResources:UE,__rewriteRelativeImportExtension:zE},i3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:LE,get __assign(){return Du},__asyncDelegator:CE,__asyncGenerator:AE,__asyncValues:NE,__await:Sa,__awaiter:re,__classPrivateFieldGet:ME,__classPrivateFieldIn:DE,__classPrivateFieldSet:IE,__createBinding:td,__decorate:mE,__disposeResources:UE,__esDecorate:yE,__exportStar:xE,__extends:pE,__generator:wE,__importDefault:jE,__importStar:RE,__makeTemplateObject:OE,__metadata:SE,__param:gE,__propKey:vE,__read:Km,__rest:Ma,__rewriteRelativeImportExtension:zE,__runInitializers:bE,__setFunctionName:_E,__spread:EE,__spreadArray:kE,__spreadArrays:TE,__values:Lu,default:s3},Symbol.toStringTag,{value:"Module"})),a3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)};class Wm extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class q0 extends Wm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class F0 extends Wm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class G0 extends Wm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lp||(Lp={}));class o3{constructor(e,{headers:r={},customFetch:i,region:o=Lp.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=a3(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return re(this,arguments,void 0,function*(r,i={}){var o;try{const{headers:l,method:u,body:f,signal:h}=i;let m={},{region:b}=i;b||(b=this.region);const v=new URL(`${this.url}/${r}`);b&&b!=="any"&&(m["x-region"]=b,v.searchParams.set("forceFunctionRegion",b));let _;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(m["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(m["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;const S=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:_,signal:h}).catch(D=>{throw D.name==="AbortError"?D:new q0(D)}),x=S.headers.get("x-relay-error");if(x&&x==="true")throw new F0(S);if(!S.ok)throw new G0(S);let k=((o=S.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield S.json():k==="application/octet-stream"||k==="application/pdf"?E=yield S.blob():k==="text/event-stream"?E=S:k==="multipart/form-data"?E=yield S.formData():E=yield S.text(),{data:E,error:null,response:S}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new q0(l)}:{data:null,error:l,response:l instanceof G0||l instanceof F0?l.context:void 0}}})}}var Mt={};const Ia=IS(i3);var Wc={},Xc={},Jc={},Qc={},Zc={},l3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wa=l3();const c3=wa.fetch,BE=wa.fetch.bind(wa),HE=wa.Headers,u3=wa.Request,d3=wa.Response,ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:HE,Request:u3,Response:d3,default:BE,fetch:c3},Symbol.toStringTag,{value:"Module"})),f3=IS(ci);var eu={},V0;function PE(){if(V0)return eu;V0=1,Object.defineProperty(eu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return eu.default=t,eu}var Y0;function $E(){if(Y0)return Zc;Y0=1,Object.defineProperty(Zc,"__esModule",{value:!0});const t=Ia,e=t.__importDefault(f3),r=t.__importDefault(PE());class i{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var b,v,_,S;let x=null,k=null,E=null,D=m.status,B=m.statusText;if(m.ok){if(this.method!=="HEAD"){const G=await m.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?k=G:k=JSON.parse(G))}const q=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),K=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");q&&K&&K.length>1&&(E=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(x={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,E=null,D=406,B="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const q=await m.text();try{x=JSON.parse(q),Array.isArray(x)&&m.status===404&&(k=[],x=null,D=200,B="OK")}catch{m.status===404&&q===""?(D=204,B="No Content"):x={message:q}}if(x&&this.isMaybeSingle&&(!((S=x?.details)===null||S===void 0)&&S.includes("0 rows"))&&(x=null,D=200,B="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:k,count:E,status:D,statusText:B}});return this.shouldThrowOnError||(h=h.catch(m=>{var b,v,_;return{error:{message:`${(b=m?.name)!==null&&b!==void 0?b:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return Zc.default=i,Zc}var K0;function qE(){if(K0)return Qc;K0=1,Object.defineProperty(Qc,"__esModule",{value:!0});const e=Ia.__importDefault($E());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",b=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${b?`${b},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var b;const v=[o?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Qc.default=r,Qc}var W0;function Xm(){if(W0)return Jc;W0=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=Ia.__importDefault(qE()),r=new RegExp("[,()]");class i extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const b=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${b}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return Jc.default=i,Jc}var X0;function FE(){if(X0)return Xc;X0=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=Ia.__importDefault(Xm());class r{constructor(o,{headers:l={},schema:u,fetch:f}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(o,l){const{head:u=!1,count:f}=l??{},h=u?"HEAD":"GET";let m=!1;const b=(o??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",b),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(m.length>0){const b=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var m;const b="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(v.length>0){const _=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Xc.default=r,Xc}var J0;function h3(){if(J0)return Wc;J0=1,Object.defineProperty(Wc,"__esModule",{value:!0});const t=Ia,e=t.__importDefault(FE()),r=t.__importDefault(Xm());class i{constructor(l,{headers:u={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:h=!1,count:m}={}){var b;let v;const _=new URL(`${this.url}/rpc/${l}`);let S;f||h?(v=f?"HEAD":"GET",Object.entries(u).filter(([k,E])=>E!==void 0).map(([k,E])=>[k,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([k,E])=>{_.searchParams.append(k,E)})):(v="POST",S=u);const x=new Headers(this.headers);return m&&x.set("Prefer",`count=${m}`),new r.default({method:v,url:_,headers:x,schema:this.schemaName,body:S,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Wc.default=i,Wc}var Q0;function p3(){if(Q0)return Mt;Q0=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const t=Ia,e=t.__importDefault(h3());Mt.PostgrestClient=e.default;const r=t.__importDefault(FE());Mt.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Xm());Mt.PostgrestFilterBuilder=i.default;const o=t.__importDefault(qE());Mt.PostgrestTransformBuilder=o.default;const l=t.__importDefault($E());Mt.PostgrestBuilder=l.default;const u=t.__importDefault(PE());return Mt.PostgrestError=u.default,Mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Mt}var GE=p3();const VE=Yk(GE),m3=wA({__proto__:null,default:VE},[GE]),{PostgrestClient:g3,PostgrestQueryBuilder:a4,PostgrestFilterBuilder:o4,PostgrestTransformBuilder:l4,PostgrestBuilder:c4,PostgrestError:u4}=VE||m3;class y3{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const b3="2.78.0",v3=`realtime-js/${b3}`,_3="1.0.0",Up=1e4,S3=1e3,w3=100;var $o;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($o||($o={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var qn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qn||(qn={}));var zp;(function(t){t.websocket="websocket"})(zp||(zp={}));var Ys;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ys||(Ys={}));class x3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(e.slice(u,u+o));u=u+o;const h=i.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class YE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const Z0=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=E3(u,t,e,o),l),{}):{}},E3=(t,e,r,i)=>{const o=e.find(f=>f.name===t),l=o?.type,u=r[t];return l&&!i.includes(l)?KE(l,u):Bp(u)},KE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return C3(e,r)}switch(t){case Qe.bool:return T3(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return k3(e);case Qe.json:case Qe.jsonb:return A3(e);case Qe.timestamp:return N3(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Bp(e);default:return Bp(e)}},Bp=t=>t,T3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},k3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},C3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>KE(e,f))}return t},N3=t=>typeof t=="string"?t.replace(" ","T"):t,WE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hh{constructor(e,r,i={},o=Up){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eS;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eS||(eS={}));class qo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=qo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=qo.syncDiff(this.state,o,l,u),f())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const l=this.cloneDeep(e),u=this.transformState(r),f={},h={};return this.map(l,(m,b)=>{u[m]||(h[m]=b)}),this.map(u,(m,b)=>{const v=l[m];if(v){const _=b.map(E=>E.presence_ref),S=v.map(E=>E.presence_ref),x=b.filter(E=>S.indexOf(E.presence_ref)<0),k=v.filter(E=>_.indexOf(E.presence_ref)<0);x.length>0&&(f[m]=x),k.length>0&&(h[m]=k)}else f[m]=b}),this.syncDiff(l,{joins:f,leaves:h},i,o)}static syncDiff(e,r,i,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(f,h)=>{var m;const b=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),b.length>0){const v=e[f].map(S=>S.presence_ref),_=b.filter(S=>v.indexOf(S.presence_ref)<0);e[f].unshift(..._)}i(f,b,h)}),this.map(u,(f,h)=>{let m=e[f];if(!m)return;const b=h.map(v=>v.presence_ref);m=m.filter(v=>b.indexOf(v.presence_ref)<0),e[f]=m,o(f,m,h),m.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tS;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tS||(tS={}));var Fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fo||(Fo={}));var xr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(xr||(xr={}));class Jm{constructor(e,r={config:{}},i){var o,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hh(this,qn.join,this.params,this.timeout),this.rejoinTimer=new YE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new qo(this),this.broadcastEndpointURL=WE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Fo.PRESENCE]&&this.bindings[Fo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:b}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(xr.CHANNEL_ERROR,S)),this._onClose(()=>e?.(xr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var x;if(this.socket.setAuth(),S===void 0){e?.(xr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(x=k?.length)!==null&&x!==void 0?x:0,D=[];for(let B=0;B<E;B++){const N=k[B],{filter:{event:q,schema:K,table:G,filter:U}}=N,P=S&&S[B];if(P&&P.event===q&&P.schema===K&&P.table===G&&P.filter===U)D.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),this.state=_t.errored,e?.(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(xr.SUBSCRIBED);return}}).receive("error",S=>{this.state=_t.errored,e?.(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===_t.joined&&e===Fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Hh(this,qn.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Hh(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>w3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,l;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:b}=qn;if(i&&[f,h,m,b].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var x,k,E;return((x=S.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(k=S.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(S=>S.callback(_,i)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var x,k,E,D,B,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const q=S.id,K=(x=S.filter)===null||x===void 0?void 0:x.event;return q&&((k=r.ids)===null||k===void 0?void 0:k.includes(q))&&(K==="*"||K?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const q=(B=(D=S?.filter)===null||D===void 0?void 0:D.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return q==="*"||q===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof _=="object"&&"ids"in _){const x=_.data,{schema:k,table:E,commit_timestamp:D,type:B,errors:N}=x;_=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:D,eventType:B,new:{},old:{},errors:N}),this._getPayloadRecords(x))}S.callback(_,i)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Jm.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qn.close,{},e)}_onError(e){this._on(qn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Z0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Z0(e.columns,e.old_record)),r}}const Ph=()=>{},tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O3=[1e3,2e3,5e3,1e4],R3=1e4,j3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class M3{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Up,this.transport=null,this.heartbeatIntervalMs=tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ph,this.ref=0,this.reconnectTimer=null,this.logger=Ph,this.conn=null,this.sendBuffer=[],this.serializer=new x3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>nt(async()=>{const{default:f}=await Promise.resolve().then(()=>ci);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${zp.websocket}`,this.httpEndpoint=WE(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_3}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case $o.connecting:return Ys.Connecting;case $o.open:return Ys.Open;case $o.closing:return Ys.Closing;default:return Ys.Closed}}isConnected(){return this.connectionState()===Ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new Jm(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(S3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:u}=r,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([j3],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:v3};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(qn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new YE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,l,u,f,h,m,b;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Up,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:tu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Ph,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>O3[v-1]||R3),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((v,_)=>_(JSON.stringify(v))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Qm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class I3 extends Qm{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hp extends Qm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Zm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},D3=()=>re(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nt(()=>Promise.resolve().then(()=>ci),void 0)).Response:Response}),Pp=t=>{if(Array.isArray(t))return t.map(r=>Pp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Pp(i)}),e},L3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$h=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},U3=(t,e,r)=>re(void 0,void 0,void 0,function*(){const i=yield D3();t instanceof i&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new I3($h(o),l,u))}).catch(o=>{e(new Hp($h(o),o))}):e(new Hp($h(t),t))}),z3=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!i?o:(L3(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function gl(t,e,r,i,o,l){return re(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(r,z3(e,i,o,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>U3(h,f,i))})})}function tl(t,e,r,i){return re(this,void 0,void 0,function*(){return gl(t,"GET",e,r,i)})}function Hn(t,e,r,i,o){return re(this,void 0,void 0,function*(){return gl(t,"POST",e,i,o,r)})}function $p(t,e,r,i,o){return re(this,void 0,void 0,function*(){return gl(t,"PUT",e,i,o,r)})}function B3(t,e,r,i){return re(this,void 0,void 0,function*(){return gl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function eg(t,e,r,i,o){return re(this,void 0,void 0,function*(){return gl(t,"DELETE",e,i,o,r)})}class H3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var XE;class P3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[XE]="BlobDownloadBuilder",this.promise=null}asStream(){return new H3(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}XE=Symbol.toStringTag;const $3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q3{constructor(e,r={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Zm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,o){return re(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},nS),o);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(f=Object.assign(Object.assign({},f),o.headers));const m=this._removeEmptyFolders(r),b=this._getFinalPath(m),v=yield(e=="PUT"?$p:Hn)(this.fetch,`${this.url}/object/${b}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}upload(e,r,i){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,o){return re(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:nS.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType);const v=yield $p(this.fetch,f.toString(),h,{headers:b});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(st(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Hn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new Qm("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}update(e,r,i){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return re(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}copy(e,r,i){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,i){return re(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Hn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,i){return re(this,void 0,void 0,function*(){try{const o=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),h=()=>tl(this.fetch,`${this.url}/${o}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new P3(h,this.shouldThrowOnError)}info(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield tl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pp(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}exists(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield B3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i)&&i instanceof Hp){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(e,r,i){return re(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},$3),r),{prefix:e||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}listV2(e,r){return re(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const JE="2.78.0",QE={"X-Client-Info":`storage-js/${JE}`};class F3{constructor(e,r={},i,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),r),this.fetch=Zm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield tl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(e){return re(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}emptyBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class G3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),r),this.fetch=Zm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield tl(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}const tg={"X-Client-Info":`storage-js/${JE}`,"Content-Type":"application/json"};class ZE extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class qh extends ZE{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V3 extends ZE{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var rS;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(rS||(rS={}));const ng=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},Y3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K3=(t,e,r)=>re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const f=u?.statusCode||u?.code||o+"";e(new qh(sS(u),o,f))}).catch(()=>{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new qh(f,o,u))});else{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new qh(f,o,u))}}else e(new V3(sS(t),t))}),W3=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return i?(Y3(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),r)):o};function X3(t,e,r,i,o,l){return re(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(r,W3(e,i,o,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>K3(h,f,i))})})}function mn(t,e,r,i,o){return re(this,void 0,void 0,function*(){return X3(t,"POST",e,i,o,r)})}class J3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tg),r),this.fetch=ng(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return re(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}listIndexes(e){return re(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}})}}class Q3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tg),r),this.fetch=ng(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}getVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}listVectors(e){return re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield mn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}queryVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}}class Z3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tg),r),this.fetch=ng(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}listBuckets(){return re(this,arguments,void 0,function*(e={}){try{return{data:yield mn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield mn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}})}}class eU extends Z3{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new tU(this.url,this.headers,e,this.fetch)}}class tU extends J3{constructor(e,r,i,o){super(e,r,o),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new nU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class nU extends Q3{constructor(e,r,i,o,l){super(e,r,l),this.vectorBucketName=i,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class rU extends F3{constructor(e,r={},i,o){super(e,r,i,o)}from(e){return new q3(this.url,this.headers,e,this.fetch)}get vectors(){return new eU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new G3(this.url+"/iceberg",this.headers,this.fetch)}}const sU="2.78.0";let Lo="";typeof Deno<"u"?Lo="deno":typeof document<"u"?Lo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lo="react-native":Lo="node";const iU={"X-Client-Info":`supabase-js-${Lo}/${sU}`},aU={headers:iU},oU={schema:"public"},lU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cU={},uU=t=>{let e;return t?e=t:typeof fetch>"u"?e=BE:e=fetch,(...r)=>e(...r)},dU=()=>typeof Headers>"u"?HE:Headers,fU=(t,e,r)=>{const i=uU(r),o=dU();return async(l,u)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:t;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},u),{headers:m}))}};function hU(t){return t.endsWith("/")?t:t+"/"}function pU(t,e){var r,i;const{db:o,auth:l,realtime:u,global:f}=t,{db:h,auth:m,realtime:b,global:v}=e,_={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},b),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function mU(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const eT="2.78.0",sa=30*1e3,qp=3,Fh=qp*sa,gU="http://localhost:9999",yU="supabase.auth.token",bU={"X-Client-Info":`gotrue-js/${eT}`},Fp="X-Supabase-Api-Version",tT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_U=600*1e3;class nl extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class SU extends nl{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function wU(t){return ae(t)&&t.name==="AuthApiError"}class Ks extends nl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bs extends nl{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class zn extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xU(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Xi extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nu extends bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ru extends bs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EU(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class iS extends bs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gp extends bs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Gh(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class aS extends bs{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Vp extends bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oS=` 	
\r=`.split(""),TU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<oS.length;e+=1)t[oS[e].charCodeAt(0)]=-2;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=e;return t})();function lS(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Uu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Uu[i]),e.queuedBits-=6}}function nT(t,e,r){const i=TU[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cS(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{CU(u,i,r)};for(let u=0;u<t.length;u+=1)nT(t.charCodeAt(u),o,l);return e.join("")}function kU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function AU(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}kU(i,e)}}function CU(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function da(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)nT(t.charCodeAt(o),r,i);return new Uint8Array(e)}function NU(t){const e=[];return AU(t,r=>e.push(r)),new Uint8Array(e)}function Js(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>lS(o,r,i)),lS(null,r,i),e.join("")}function OU(t){return Math.round(Date.now()/1e3)+t}function RU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",$s={tested:!1,writable:!1},rT=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($s.tested)return $s.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$s.tested=!0,$s.writable=!0}catch{$s.tested=!0,$s.writable=!1}return $s.writable};function jU(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const sT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>nt(async()=>{const{default:i}=await Promise.resolve().then(()=>ci);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},MU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ia=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},qs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},is=async(t,e)=>{await t.removeItem(e)};class nd{constructor(){this.promise=new nd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}nd.promiseConstructor=Promise;function Vh(t){const e=t.split(".");if(e.length!==3)throw new Vp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!vU.test(e[i]))throw new Vp("JWT not in base64url format");return{header:JSON.parse(cS(e[0])),payload:JSON.parse(cS(e[1])),signature:da(e[2]),raw:{header:e[0],payload:e[1]}}}async function IU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function DU(t,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function LU(t){return("0"+t.toString(16)).substr(-2)}function UU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,LU).join("")}async function zU(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function BU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zU(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ji(t,e,r=!1){const i=UU();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await ia(t,`${e}-code-verifier`,o);const l=await BU(i);return[l,i===l?"plain":"s256"]}const HU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PU(t){const e=t.headers.get(Fp);if(!e||!e.match(HU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $U(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qi(t){if(!FU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GU(t,e){return new Proxy(t,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function uS(t){return JSON.parse(JSON.stringify(t))}const Gs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VU=[502,503,504];async function dS(t){var e;if(!MU(t))throw new Gp(Gs(t),0);if(VU.includes(t.status))throw new Gp(Gs(t),t.status);let r;try{r=await t.json()}catch(l){throw new Ks(Gs(l),l)}let i;const o=PU(t);if(o&&o.getTime()>=tT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new aS(Gs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new zn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new aS(Gs(r),t.status,r.weak_password.reasons);throw new SU(Gs(r),t.status||500,i)}const YU=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function fe(t,e,r,i){var o;const l=Object.assign({},i?.headers);l[Fp]||(l[Fp]=tT["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await KU(t,e,r+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function KU(t,e,r,i,o,l){const u=YU(e,i,o,l);let f;try{f=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Gp(Gs(h),0)}if(f.ok||await dS(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await dS(h)}}function Bn(t){var e;let r=null;JU(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=OU(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function fS(t){const e=Bn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function WU(t){return{data:t,error:null}}function XU(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l}=t,u=Ma(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function hS(t){return t}function JU(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kh=["global","local","others"];class QU{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=sT(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Kh[0]){if(Kh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kh.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cs})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Ma(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:XU,redirectTo:r?.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},b=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:hS});if(b.error)throw b.error;const v=await b.json(),_=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=b.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);m[`${E}Page`]=k}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Qi(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qi(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cs})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Qi(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cs})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Qi(e.userId);try{const{data:r,error:i}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qi(e.userId),Qi(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},b=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:hS});if(b.error)throw b.error;const v=await b.json(),_=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=b.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);m[`${E}Page`]=k}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ae(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function pS(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Zi={debug:!!(globalThis&&rT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZU extends iT{}async function ez(t,e,r){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nz(t){return parseInt(t,16)}function rz(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function sz(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:m,scheme:b,uri:v,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=aT(t.address),x=b?`${b}://${i}`:i,k=t.statement?`${t.statement}
`:"",E=`${x} wants you to sign in with your Ethereum account:
${S}

${k}`;let D=`URI: ${v}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(D+=`
Expiration Time: ${o.toISOString()}`),f&&(D+=`
Not Before: ${f.toISOString()}`),h&&(D+=`
Request ID: ${h}`),m){let B=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);B+=`
- ${N}`}D+=B}return`${E}
${D}`}class mt extends Error{constructor({message:e,code:r,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class zu extends mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function iz({error:t,options:e}){var r,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(oT(u)){if(l.rp.id!==u)return new mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function az({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(oT(i)){if(r.rpId!==i)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class oz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lz=new oz;function cz(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,o=Ma(t,["challenge","user","excludeCredentials"]),l=da(e).buffer,u=Object.assign(Object.assign({},r),{id:da(r.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:da(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function uz(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Ma(t,["challenge","allowCredentials"]),o=da(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:da(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function dz(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Js(new Uint8Array(t.response.attestationObject)),clientDataJSON:Js(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fz(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Js(new Uint8Array(o.authenticatorData)),clientDataJSON:Js(new Uint8Array(o.clientDataJSON)),signature:Js(new Uint8Array(o.signature)),userHandle:o.userHandle?Js(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mS(){var t,e;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hz(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zu("Browser returned unexpected credential type",e)}:{data:null,error:new zu("Empty credential response",e)}}catch(e){return{data:null,error:iz({error:e,options:t})}}}async function pz(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zu("Browser returned unexpected credential type",e)}:{data:null,error:new zu("Empty credential response",e)}}catch(e){return{data:null,error:az({error:e,options:t})}}}const mz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gz={userVerification:"preferred",hints:["security-key"]};function Bu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(e(u)){const f=i[l];e(f)?i[l]=Bu(f,u):i[l]=Bu(u)}else i[l]=u}return i}function yz(t,e){return Bu(mz,t,e||{})}function bz(t,e){return Bu(gz,t,e||{})}class vz{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:f};const h=o??lz.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=yz(u.webauthn.credential_options.publicKey,l?.create),{data:b,error:v}=await hz({publicKey:m,signal:h});return b?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const m=bz(u.webauthn.credential_options.publicKey,l?.request),{data:b,error:v}=await pz(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return b?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new nl("rpId is required for WebAuthn authentication")};try{if(!mS())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new nl("rpId is required for WebAuthn registration")};try{if(!mS())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(b=>{var v;return(v=b.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Ks("Unexpected error in register",u)}}}}tz();const _z={url:gU,storageKey:yU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gS(t,e,r){return await r()}const ea={};class rl{get jwks(){var e,r;return(r=(e=ea[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ea[this.storageKey]=Object.assign(Object.assign({},ea[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ea[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ea[this.storageKey]=Object.assign(Object.assign({},ea[this.storageKey]),{cachedAt:e})}constructor(e){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rl.nextInstanceID,rl.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},_z),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new QU({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=sT(o.fetch),this.lock=o.lock||gS,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Bt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ez:this.lock=gS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:rT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pS(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=pS(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=jU(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Bt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),EU(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new Ks("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Bn}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,i,o;try{let l;if("email"in e){const{email:b,password:v,options:_}=e;let S=null,x=null;this.flowType==="pkce"&&([S,x]=await Ji(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:b,password:v,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:x},xform:Bn})}else if("phone"in e){const{phone:b,password:v,options:_}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:v,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Bn})}else throw new nu("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:f}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:fS})}else if("phone"in e){const{phone:l,password:u,options:f}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:fS})}else throw new nu("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Xi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,l,u,f,h,m,b,v,_;let S,x;if("message"in e)S=e.message,x=e.signature;else{const{chain:k,wallet:E,statement:D,options:B}=e;let N;if(Bt())if(typeof E=="object")N=E;else{const ce=window;if("ethereum"in ce&&typeof ce.ethereum=="object"&&"request"in ce.ethereum&&typeof ce.ethereum.request=="function")N=ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const q=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href),K=await N.request({method:"eth_requestAccounts"}).then(ce=>ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=aT(K[0]);let U=(i=B?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!U){const ce=await N.request({method:"eth_chainId"});U=nz(ce)}const P={domain:q.host,address:G,statement:D,uri:q.href,version:"1",chainId:U,nonce:(o=B?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=B?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(b=B?.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=sz(P),x=await N.request({method:"personal_sign",params:[rz(S),G]})}try{const{data:k,error:E}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:x},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Bn});if(E)throw E;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Xi}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:E})}catch(k){if(ae(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(e){var r,i,o,l,u,f,h,m,b,v,_,S;let x,k;if("message"in e)x=e.message,k=e.signature;else{const{chain:E,wallet:D,statement:B,options:N}=e;let q;if(Bt())if(typeof D=="object")q=D;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))q=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=D}const K=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const G=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),B?{statement:B}:null));let U;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")U=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)U=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)x=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),k=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${K.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(i=N?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=N?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(b=N?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const G=await q.signMessage(new TextEncoder().encode(x),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=G}}try{const{data:E,error:D}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Js(k)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Bn});if(D)throw D;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Xi}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:D})}catch(E){if(ae(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const r=await qs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Bn});if(await is(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Xi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:l,nonce:u}=e,f=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Bn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Xi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,l,u;try{if("email"in e){const{email:f,options:h}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Ji(this.storage,this.storageKey));const{error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:b}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:b}}throw new nu("You must provide either an email or phone number.")}catch(f){if(ae(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var r,i;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Bn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Ji(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:WU})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new zn;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:f}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new nu("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Fh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await qs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Yh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=GU(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cs}):await this._useSession(async r=>{var i,o,l;const{data:u,error:f}=r;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:cs})})}catch(r){if(ae(r))return xU(r)&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new zn;const u=o.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await Ji(this.storage,this.storageKey));const{data:m,error:b}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:cs});if(b)throw b;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zn;const r=Date.now()/1e3;let i=r,o=!0,l=null;const{payload:u}=Vh(e.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:f}=r;if(f)throw f;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new zn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Bt())throw new ru("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ru(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new iS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ru("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iS("No code detected.");const{data:B,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:m}=e;if(!l||!f||!u||!m)throw new ru("No session defined in URL");const b=Math.round(Date.now()/1e3),v=parseInt(f);let _=b+v;h&&(_=parseInt(h));const S=_-b;S*1e3<=sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const x=_-v;b-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,_,b):b-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,_,b);const{data:k,error:E}=await this._getUser(l);if(E)throw E;const D={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:_,refresh_token:u,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(i){if(ae(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{error:l};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(wU(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=RU(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Ji(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async l=>{var u,f,h,m,b;const{data:v,error:_}=l;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return Bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ae(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:f,token:h,access_token:m,nonce:b}=e,v=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:m,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Bn}),{data:_,error:S}=v;return S?{data:{user:null,session:null},error:S}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new Xi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:S})}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)throw u;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await DU(async o=>(o>0&&await IU(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Gh(l)&&Date.now()+u-i<sa})}catch(i){if(this._debug(r,"error",i),ae(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Bt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await qs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ia(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Yh()}else if(o&&!o.user&&!o.user){const u=await qs(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await is(this.storage,this.storageKey+"-user"),await ia(this.storage,this.storageKey,o)):o.user=Yh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fh;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Fh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Gh(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(o.access_token);!f&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nd;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new zn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return Gh(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ia(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=uS(o);await ia(this.storage,this.storageKey,l)}else{const o=uS(r);await ia(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await is(this.storage,this.storageKey),await is(this.storage,this.storageKey+"-code-verifier"),await is(this.storage,this.storageKey+"-user"),this.userStorage&&await is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${sa}ms, refresh threshold is ${qp} ticks`),o<=qp&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof iT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Ji(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?{data:null,error:l}:await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dz(e.webauthn.credential_response):fz(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:h})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:cz(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:uz(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Vh(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?{data:null,error:o}:i?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new zn}})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return{data:null,error:l};if(!o)return{data:null,error:new zn};const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Bt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return{data:null,error:l};if(!o)return{data:null,error:new zn};const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Bt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(f=>f.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+_U>o)return i;const{data:l,error:u}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:S,error:x}=await this.getSession();if(x||!S.session)return{data:null,error:x};i=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:f,payload:h}}=Vh(i);r?.allowExpired||$U(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const b=qU(o.alg),v=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,v,u,NU(`${f}.${h}`)))throw new Vp("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}}rl.nextInstanceID=0;const Sz=rl;class wz extends Sz{constructor(e){super(e)}}class xz{constructor(e,r,i){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const f=mU(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:oU,realtime:cU,auth:Object.assign(Object.assign({},lU),{storageKey:h}),global:aU},b=pU(i??{},m);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=b.global.headers)!==null&&l!==void 0?l:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=b.auth)!==null&&u!==void 0?u:{},this.headers,b.global.fetch),this.fetch=fU(r,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new g3(new URL("rest/v1",f).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new rU(this.storageUrl.href,this.headers,this.fetch,i?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new o3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,storageKey:u,flowType:f,lock:h,debug:m},b,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wz({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),b),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,flowType:f,lock:h,debug:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new M3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ez=(t,e,r)=>new xz(t,e,r);function Tz(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Tz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kz="https://pkacbcohrygpyapgtzpq.supabase.co",Az="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBrYWNiY29ocnlncHlhcGd0enBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzc5NzEsImV4cCI6MjA3NTg1Mzk3MX0.BJZulmGejOPa5mv4jLUKqDamBdLyjDEBP2RVTswga8c",gn=Ez(kz,Az);async function Cz(t="all"){try{const e=gn.from("featured_content").select("*").eq("active",!0).order("display_order",{ascending:!0}),{data:r,error:i}=await e;if(i)return console.error("Error fetching featured content:",i),[];if(!r)return[];console.log("Raw featured content from DB:",r);const o=r.filter(f=>{console.log("Checking item:",f.title,"bases_served:",f.bases_served);let h=[];if(Array.isArray(f.bases_served))h=f.bases_served;else if(typeof f.bases_served=="string")try{h=JSON.parse(f.bases_served)}catch{h=[f.bases_served]}return console.log("   basesArray:",h),h.includes("all")?(console.log('   Included (has "all")'),!0):t!=="all"&&h.includes(t)?(console.log("   Included (matches base)"),!0):t==="all"?(console.log("   Included (showing all)"),!0):(console.log("   Excluded"),!1)});console.log("Filtered featured content count:",o.length);const l=new Date,u=o.filter(f=>{const h=f.start_date?new Date(f.start_date):null,m=f.end_date?new Date(f.end_date):null;return console.log("Date check for:",f.title,{startDate:h?.toISOString(),endDate:m?.toISOString(),now:l.toISOString()}),h&&h>l?(console.log("   Excluded (not started yet)"),!1):m&&m<l?(console.log("   Excluded (already ended)"),!1):(console.log("   Included (date valid)"),!0)});return console.log("After date filter:",u.length),u.slice(0,3)}catch(e){return console.error("Unexpected error fetching featured content:",e),[]}}async function d4(){try{const{data:t,error:e}=await gn.from("featured_content").select("*").order("display_order",{ascending:!0});return e?(console.error("Error fetching all featured content:",e),[]):t||[]}catch(t){return console.error("Unexpected error:",t),[]}}async function f4(t){try{const{data:e,error:r}=await gn.from("featured_content").insert([t]).select().single();return r?(console.error("Error creating featured content:",r),null):e}catch(e){return console.error("Unexpected error:",e),null}}async function h4(t,e){try{const{data:r,error:i}=await gn.from("featured_content").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return i?(console.error("Error updating featured content:",i),null):r}catch(r){return console.error("Unexpected error:",r),null}}async function p4(t){try{const{error:e}=await gn.from("featured_content").delete().eq("id",t);return e?(console.error("Error deleting featured content:",e),!1):!0}catch(e){return console.error("Unexpected error:",e),!1}}function Nz(){const{selectedBase:t}=Ym(),[e,r]=J.useState([]),[i,o]=J.useState(!0),l=async()=>{o(!0);const u=await Cz(t);console.log("Loaded featured items:",u),r(u),o(!1)};return J.useEffect(()=>{l()},[t]),!i&&e.length===0?null:g.jsx("section",{className:"py-16 bg-gradient-to-b from-[var(--brand-bg)] to-[var(--brand-bg-alt)]",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--brand-dark)] mb-4",children:" Featured This Week"}),g.jsx("p",{className:"text-lg text-[var(--muted-foreground)] max-w-2xl mx-auto",children:"Don't miss these timely recommendations and special content curated for you"})]}),i?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(u=>g.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg animate-pulse",children:[g.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),g.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),g.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),g.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},u))}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>g.jsxs("a",{href:u.link_url||"#",target:u.link_url?.startsWith("http")?"_blank":"_self",rel:u.link_url?.startsWith("http")?"noopener noreferrer":"",className:"group bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-[var(--border)] hover:border-[var(--brand-primary)] transform hover:-translate-y-1",children:[u.image_url?g.jsx("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)]",children:g.jsx("img",{src:u.image_url,alt:u.title,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-300"})}):g.jsx("div",{className:"h-48 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)] flex items-center justify-center",children:g.jsx(o_,{className:"w-16 h-16 text-[var(--brand-light)] opacity-50"})}),g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-[var(--brand-dark)] mb-3 group-hover:text-[var(--brand-primary)] transition-colors line-clamp-2",children:u.title}),g.jsx("p",{className:"text-[var(--muted-foreground)] text-sm mb-4 line-clamp-3",children:u.description}),g.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[var(--muted-foreground)] mb-4",children:[(u.start_date||u.end_date)&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(aA,{size:14,className:"text-[var(--brand-primary)]"}),g.jsxs("span",{children:[u.start_date&&new Date(u.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),u.start_date&&u.end_date&&" - ",u.end_date&&new Date(u.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),u.type&&g.jsx("div",{className:"px-2 py-1 bg-[var(--muted)] rounded text-xs capitalize",children:u.type}),u.is_sponsored&&u.sponsor_name&&g.jsxs("div",{className:"text-xs text-[var(--muted-foreground)]",children:["Sponsored by ",u.sponsor_name]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-[var(--brand-primary)] font-semibold text-sm group-hover:text-[var(--brand-dark)] transition-colors",children:u.cta_text||"Learn More"}),g.jsx(o_,{size:16,className:"text-[var(--brand-primary)] group-hover:translate-x-1 transition-transform"})]})]})]},u.id))})]})})}function Oz(){const[t,e]=J.useState([]),[r,i]=J.useState(0),[o,l]=J.useState(!0),u=Pu();J.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:E,error:D}=await gn.from("articles").select("*").eq("category","City Guides").order("created_at",{ascending:!1});if(D)throw console.error("Destinations Supabase error:",D),D;console.log(" DESTINATIONS - City Guides from articles:",E),e(E||[]),l(!1)}catch(E){console.error("Error fetching destinations:",E),l(!1)}},h=()=>{t.length!==0&&i(E=>{const D=E-3;return D<0?Math.max(0,t.length-3):D})},m=()=>{t.length!==0&&i(E=>{const D=E+3;return D>=t.length?0:D})},b=t.slice(r,r+3);for(;b.length<3&&t.length>b.length;)b.push(t[b.length]);const v=E=>E.title||E.name||E.destination||E.city||"Unnamed Destination",_=E=>E.location?E.location:E.city&&E.country?`${E.city}, ${E.country}`:E.country?E.country:"",S=E=>E.distance?E.distance:E.distance_km?`${E.distance_km} km`:"",x=E=>E.image_url||E.featured_image_url||E.hero_image_url,k=E=>E.category||E.type;return o?g.jsx("section",{className:"py-16 bg-[#F5F5F5]",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#2C5282]"}),g.jsx("p",{className:"mt-4 text-[#1A202C]",children:"Loading destinations..."})]})})}):t.length===0?g.jsx("section",{id:"destinations",className:"py-16 bg-[#F5F5F5]",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Explore Destinations"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Discover amazing places within driving distance from your base"})]}),g.jsx("div",{className:"text-center p-12 bg-white rounded-2xl",children:g.jsx("p",{className:"text-[#1A202C] mb-4",children:"No destinations available yet. Check back soon!"})})]})}):g.jsx("section",{className:"py-16 bg-[#F5F5F5]",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Explore Destinations"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Discover amazing places within driving distance from your base"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:b.map(E=>{const D=v(E),B=_(E),N=S(E),q=x(E),K=k(E);return g.jsxs("div",{onClick:()=>u(`/articles/${E.slug}`),className:"group bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 border border-[#E2E8F0]",children:[g.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-200",children:[q?g.jsx("img",{src:q,alt:D,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:G=>{const U=G.target;U.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?q=80&w=800"}}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#2C5282] to-[#4A90C5]",children:g.jsx("span",{className:"text-white text-lg font-semibold px-4 text-center",children:D})}),K&&g.jsx("div",{}),E.rating&&g.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 px-3 py-1 bg-white/95 backdrop-blur-sm rounded-full border border-[#E2E8F0]",children:[g.jsx(oA,{className:"w-4 h-4 fill-[#D69E2E] text-[#D69E2E]"}),g.jsx("span",{className:"text-xs font-semibold text-[#1A202C]",children:E.rating})]})]}),g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-[#1A202C] mb-2 group-hover:text-[#2C5282] transition-colors",children:D}),B&&g.jsx("p",{className:"text-sm text-[#718096] mb-4",children:B}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#718096]",children:[N&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(tm,{className:"w-4 h-4"}),g.jsx("span",{children:N})]}),E.duration&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(lA,{className:"w-4 h-4"}),g.jsx("span",{children:E.duration})]})]}),g.jsx("div",{className:"mt-4 pt-4 border-t border-[#E2E8F0]",children:g.jsxs("div",{className:"flex items-center justify-between text-[#2C5282] font-semibold group-hover:text-[#4A90C5]",children:[g.jsx("span",{children:"View Details"}),g.jsx(gu,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]},E.id)})}),t.length>3&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:h,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Previous destinations",children:g.jsx(LS,{className:"w-6 h-6 text-[#1A202C]"})}),g.jsx("button",{onClick:m,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Next destinations",children:g.jsx(gu,{className:"w-6 h-6 text-[#1A202C]"})})]}),t.length>3&&g.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:Math.ceil(t.length/3)}).map((E,D)=>g.jsx("button",{onClick:()=>i(D*3),className:`h-2 rounded-full transition-all ${Math.floor(r/3)===D?"w-8 bg-[#2C5282]":"w-2 bg-[#CBD5E0]"}`,"aria-label":`Go to page ${D+1}`},D))})]}),g.jsxs("div",{className:"mt-12 p-6 bg-[#2C5282] rounded-2xl text-center",children:[g.jsx("p",{className:"text-white text-lg mb-4",children:"Don't see your favorite destination? Let us know!"}),g.jsx("button",{onClick:()=>u("/about"),className:"px-6 py-3 bg-white text-[#2C5282] font-semibold rounded-full hover:bg-[#F5F5F5] transition-colors",children:"Request a Destination"})]})]})})}function Rz(){const[t,e]=J.useState([]),[r,i]=J.useState(0),[o,l]=J.useState(!0),u=Pu();J.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:v,error:_}=await gn.from("articles").select("*").neq("category","City Guides").order("created_at",{ascending:!1});if(_)throw console.error("Travel Tips Supabase error:",_),_;console.log(" TRAVEL TIPS - Fetched from articles (excluding City Guides):",v),e(v||[]),l(!1)}catch(v){console.error("Error fetching travel tips:",v),l(!1)}},h=()=>{t.length!==0&&i(v=>{const _=v-3;return _<0?Math.max(0,t.length-3):_})},m=()=>{t.length!==0&&i(v=>{const _=v+3;return _>=t.length?0:_})},b=t.slice(r,r+3);for(;b.length<3&&t.length>b.length;)b.push(t[b.length]);return o?g.jsx("section",{id:"travel-tips",className:"py-16 bg-white",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#2C5282]"}),g.jsx("p",{className:"mt-4 text-[#1A202C]",children:"Loading travel tips..."})]})})}):t.length===0?g.jsx("section",{className:"py-16 bg-white",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Travel Tips & Essentials"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Expert guidance for living and traveling in Europe"})]}),g.jsx("div",{className:"text-center p-12 bg-[#F5F5F5] rounded-2xl",children:g.jsx("p",{className:"text-[#1A202C] mb-4",children:"No articles available yet. Check back soon!"})})]})}):g.jsx("section",{className:"py-16 bg-white",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Travel Tips & Essentials"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Expert guidance for living and traveling in Europe"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:b.map(v=>g.jsxs("div",{onClick:()=>u(`/articles/${v.slug}`),className:"group bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 border border-[#E2E8F0]",children:[g.jsxs("div",{className:"relative h-56 overflow-hidden bg-gray-200",children:[v.image_url||v.featured_image_url?g.jsx("img",{src:v.image_url||v.featured_image_url,alt:v.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:_=>{const S=_.target;S.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?q=80&w=800"}}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#2C5282] to-[#4A90C5]",children:g.jsx("span",{className:"text-white text-lg font-semibold px-4 text-center",children:v.title})}),v.category&&g.jsx("div",{})]}),g.jsxs("div",{className:"p-6 bg-[#FAFAFA]",children:[g.jsx("h3",{className:"text-xl font-bold text-[#1A202C] mb-2 group-hover:text-[#2C5282] transition-colors line-clamp-2",children:v.title}),(v.description||v.excerpt)&&g.jsx("p",{className:"text-sm text-[#718096] line-clamp-2",children:v.description||v.excerpt}),g.jsx("div",{className:"mt-4 pt-4 border-t border-[#E2E8F0]",children:g.jsxs("div",{className:"flex items-center justify-between text-[#2C5282] font-semibold group-hover:text-[#4A90C5]",children:[g.jsx("span",{children:"Read More"}),g.jsx(gu,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]},v.id))}),t.length>3&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:h,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Previous articles",children:g.jsx(LS,{className:"w-6 h-6 text-[#1A202C]"})}),g.jsx("button",{onClick:m,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Next articles",children:g.jsx(gu,{className:"w-6 h-6 text-[#1A202C]"})})]}),t.length>3&&g.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:Math.ceil(t.length/3)}).map((v,_)=>g.jsx("button",{onClick:()=>i(_*3),className:`h-2 rounded-full transition-all ${Math.floor(r/3)===_?"w-8 bg-[#2C5282]":"w-2 bg-[#CBD5E0]"}`,"aria-label":`Go to page ${_+1}`},_))})]}),g.jsxs("div",{className:"mt-12 p-6 bg-[#2C5282] rounded-2xl text-center",children:[g.jsx("p",{className:"text-white text-lg mb-4",children:"Have a topic you'd like us to cover?"}),g.jsx("button",{onClick:()=>u("/about"),className:"px-6 py-3 bg-white text-[#2C5282] font-semibold rounded-full hover:bg-[#F5F5F5] transition-colors",children:"Suggest a Topic"})]})]})})}function lT(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=lT(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function jz(){for(var t,e,r=0,i="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=lT(t))&&(i&&(i+=" "),i+=e);return i}const rg="-",Mz=t=>{const e=Dz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const f=u.split(rg);return f[0]===""&&f.length!==1&&f.shift(),cT(f,e)||Iz(u)},getConflictingClassGroupIds:(u,f)=>{const h=r[u]||[];return f&&i[u]?[...h,...i[u]]:h}}},cT=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),o=i?cT(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(rg);return e.validators.find(({validator:u})=>u(l))?.classGroupId},yS=/^\[(.+)\]$/,Iz=t=>{if(yS.test(t)){const e=yS.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Dz=t=>{const{theme:e,classGroups:r}=t,i={nextPart:new Map,validators:[]};for(const o in r)Yp(r[o],i,o,e);return i},Yp=(t,e,r,i)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:bS(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(Lz(o)){Yp(o(i),e,r,i);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,u])=>{Yp(u,bS(e,l),r,i)})})},bS=(t,e)=>{let r=t;return e.split(rg).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},Lz=t=>t.isThemeGetter,Uz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;const o=(l,u)=>{r.set(l,u),e++,e>t&&(e=0,i=r,r=new Map)};return{get(l){let u=r.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return o(l,u),u},set(l,u){r.has(l)?r.set(l,u):o(l,u)}}},Kp="!",Wp=":",zz=Wp.length,Bz=t=>{const{prefix:e,experimentalParseClassName:r}=t;let i=o=>{const l=[];let u=0,f=0,h=0,m;for(let x=0;x<o.length;x++){let k=o[x];if(u===0&&f===0){if(k===Wp){l.push(o.slice(h,x)),h=x+zz;continue}if(k==="/"){m=x;continue}}k==="["?u++:k==="]"?u--:k==="("?f++:k===")"&&f--}const b=l.length===0?o:o.substring(h),v=Hz(b),_=v!==b,S=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:S}};if(e){const o=e+Wp,l=i;i=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const o=i;i=l=>r({className:l,parseClassName:o})}return i},Hz=t=>t.endsWith(Kp)?t.substring(0,t.length-1):t.startsWith(Kp)?t.substring(1):t,Pz=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},$z=t=>({cache:Uz(t.cacheSize),parseClassName:Bz(t),sortModifiers:Pz(t),...Mz(t)}),qz=/\s+/,Fz=(t,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],f=t.trim().split(qz);let h="";for(let m=f.length-1;m>=0;m-=1){const b=f[m],{isExternal:v,modifiers:_,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:k}=r(b);if(v){h=b+(h.length>0?" "+h:h);continue}let E=!!k,D=i(E?x.substring(0,k):x);if(!D){if(!E){h=b+(h.length>0?" "+h:h);continue}if(D=i(x),!D){h=b+(h.length>0?" "+h:h);continue}E=!1}const B=l(_).join(":"),N=S?B+Kp:B,q=N+D;if(u.includes(q))continue;u.push(q);const K=o(D,E);for(let G=0;G<K.length;++G){const U=K[G];u.push(N+U)}h=b+(h.length>0?" "+h:h)}return h};function Gz(){let t=0,e,r,i="";for(;t<arguments.length;)(e=arguments[t++])&&(r=uT(e))&&(i&&(i+=" "),i+=r);return i}const uT=t=>{if(typeof t=="string")return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=uT(t[i]))&&(r&&(r+=" "),r+=e);return r};function Vz(t,...e){let r,i,o,l=u;function u(h){const m=e.reduce((b,v)=>v(b),t());return r=$z(m),i=r.cache.get,o=r.cache.set,l=f,f(h)}function f(h){const m=i(h);if(m)return m;const b=Fz(h,r);return o(h,b),b}return function(){return l(Gz.apply(null,arguments))}}const vt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},dT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,fT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yz=/^\d+\/\d+$/,Kz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Jz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ta=t=>Yz.test(t),xe=t=>!!t&&!Number.isNaN(Number(t)),as=t=>!!t&&Number.isInteger(Number(t)),Wh=t=>t.endsWith("%")&&xe(t.slice(0,-1)),Sr=t=>Kz.test(t),Zz=()=>!0,eB=t=>Wz.test(t)&&!Xz.test(t),hT=()=>!1,tB=t=>Jz.test(t),nB=t=>Qz.test(t),rB=t=>!Z(t)&&!ee(t),sB=t=>Da(t,gT,hT),Z=t=>dT.test(t),Fs=t=>Da(t,yT,eB),Xh=t=>Da(t,cB,xe),vS=t=>Da(t,pT,hT),iB=t=>Da(t,mT,nB),su=t=>Da(t,bT,tB),ee=t=>fT.test(t),Io=t=>La(t,yT),aB=t=>La(t,uB),_S=t=>La(t,pT),oB=t=>La(t,gT),lB=t=>La(t,mT),iu=t=>La(t,bT,!0),Da=(t,e,r)=>{const i=dT.exec(t);return i?i[1]?e(i[1]):r(i[2]):!1},La=(t,e,r=!1)=>{const i=fT.exec(t);return i?i[1]?e(i[1]):r:!1},pT=t=>t==="position"||t==="percentage",mT=t=>t==="image"||t==="url",gT=t=>t==="length"||t==="size"||t==="bg-size",yT=t=>t==="length",cB=t=>t==="number",uB=t=>t==="family-name",bT=t=>t==="shadow",dB=()=>{const t=vt("color"),e=vt("font"),r=vt("text"),i=vt("font-weight"),o=vt("tracking"),l=vt("leading"),u=vt("breakpoint"),f=vt("container"),h=vt("spacing"),m=vt("radius"),b=vt("shadow"),v=vt("inset-shadow"),_=vt("text-shadow"),S=vt("drop-shadow"),x=vt("blur"),k=vt("perspective"),E=vt("aspect"),D=vt("ease"),B=vt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...q(),ee,Z],G=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],P=()=>[ee,Z,h],ce=()=>[ta,"full","auto",...P()],W=()=>[as,"none","subgrid",ee,Z],te=()=>["auto",{span:["full",as,ee,Z]},as,ee,Z],le=()=>[as,"auto",ee,Z],he=()=>["auto","min","max","fr",ee,Z],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...P()],F=()=>[ta,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],O=()=>[t,ee,Z],se=()=>[...q(),_S,vS,{position:[ee,Z]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ve=()=>["auto","cover","contain",oB,sB,{size:[ee,Z]}],ue=()=>[Wh,Io,Fs],X=()=>["","none","full",m,ee,Z],ge=()=>["",xe,Io,Fs],qe=()=>["solid","dashed","dotted","double"],xt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[xe,Wh,_S,vS],$t=()=>["","none",x,ee,Z],jt=()=>["none",xe,ee,Z],qt=()=>["none",xe,ee,Z],jn=()=>[xe,ee,Z],Vn=()=>[ta,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sr],breakpoint:[Sr],color:[Zz],container:[Sr],"drop-shadow":[Sr],ease:["in","out","in-out"],font:[rB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sr],shadow:[Sr],spacing:["px",xe],text:[Sr],"text-shadow":[Sr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ta,Z,ee,E]}],container:["container"],columns:[{columns:[xe,Z,ee,f]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ce()}],"inset-x":[{"inset-x":ce()}],"inset-y":[{"inset-y":ce()}],start:[{start:ce()}],end:[{end:ce()}],top:[{top:ce()}],right:[{right:ce()}],bottom:[{bottom:ce()}],left:[{left:ce()}],visibility:["visible","invisible","collapse"],z:[{z:[as,"auto",ee,Z]}],basis:[{basis:[ta,"full","auto",f,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xe,ta,"auto","initial","none",Z]}],grow:[{grow:["",xe,ee,Z]}],shrink:[{shrink:["",xe,ee,Z]}],order:[{order:[as,"first","last","none",ee,Z]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[f,"screen",...F()]}],"min-w":[{"min-w":[f,"screen","none",...F()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",r,Io,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ee,Xh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wh,Z]}],"font-family":[{font:[aB,Z,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ee,Z]}],"line-clamp":[{"line-clamp":[xe,"none",ee,Xh]}],leading:[{leading:[l,...P()]}],"list-image":[{"list-image":["none",ee,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ee,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qe(),"wavy"]}],"text-decoration-thickness":[{decoration:[xe,"from-font","auto",ee,Fs]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[xe,"auto",ee,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ve()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},as,ee,Z],radial:["",ee,Z],conic:[as,ee,Z]},lB,iB]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...qe(),"hidden","none"]}],"divide-style":[{divide:[...qe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...qe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xe,ee,Z]}],"outline-w":[{outline:["",xe,Io,Fs]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",b,iu,su]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",v,iu,su]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[xe,Fs]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",_,iu,su]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[xe,ee,Z]}],"mix-blend":[{"mix-blend":[...xt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ee,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ve()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ee,Z]}],filter:[{filter:["","none",ee,Z]}],blur:[{blur:$t()}],brightness:[{brightness:[xe,ee,Z]}],contrast:[{contrast:[xe,ee,Z]}],"drop-shadow":[{"drop-shadow":["","none",S,iu,su]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",xe,ee,Z]}],"hue-rotate":[{"hue-rotate":[xe,ee,Z]}],invert:[{invert:["",xe,ee,Z]}],saturate:[{saturate:[xe,ee,Z]}],sepia:[{sepia:["",xe,ee,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",ee,Z]}],"backdrop-blur":[{"backdrop-blur":$t()}],"backdrop-brightness":[{"backdrop-brightness":[xe,ee,Z]}],"backdrop-contrast":[{"backdrop-contrast":[xe,ee,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xe,ee,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xe,ee,Z]}],"backdrop-invert":[{"backdrop-invert":["",xe,ee,Z]}],"backdrop-opacity":[{"backdrop-opacity":[xe,ee,Z]}],"backdrop-saturate":[{"backdrop-saturate":[xe,ee,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",xe,ee,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ee,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xe,"initial",ee,Z]}],ease:[{ease:["linear","initial",D,ee,Z]}],delay:[{delay:[xe,ee,Z]}],animate:[{animate:["none",B,ee,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ee,Z]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:jt()}],"rotate-x":[{"rotate-x":jt()}],"rotate-y":[{"rotate-y":jt()}],"rotate-z":[{"rotate-z":jt()}],scale:[{scale:qt()}],"scale-x":[{"scale-x":qt()}],"scale-y":[{"scale-y":qt()}],"scale-z":[{"scale-z":qt()}],"scale-3d":["scale-3d"],skew:[{skew:jn()}],"skew-x":[{"skew-x":jn()}],"skew-y":[{"skew-y":jn()}],transform:[{transform:[ee,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vn()}],"translate-x":[{"translate-x":Vn()}],"translate-y":[{"translate-y":Vn()}],"translate-z":[{"translate-z":Vn()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee,Z]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[xe,Io,Fs,Xh]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fB=Vz(dB);function vT(...t){return fB(jz(t))}function m4(t){return t?t.replace(/[-_]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function SS({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:vT("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}const hB="inline-flex items-center justify-center px-4 py-2 rounded-xl font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",pB={default:"bg-brand-green text-brand-black hover:bg-brand-black hover:text-brand-green focus:ring-brand-green",outline:"border border-brand-green text-brand-green hover:bg-brand-green hover:text-brand-black focus:ring-brand-green",ghost:"text-brand-green hover:text-brand-black hover:bg-brand-green/10 focus:ring-brand-green"},_T=J.forwardRef((t,e)=>{const{variant:r="default",className:i,children:o,as:l="button",...u}=t,f=vT(hB,pB[r],i);return l==="link"?g.jsx(Zt,{ref:e,className:f,...u,children:o}):g.jsx("button",{ref:e,className:f,...u,children:o})});_T.displayName="Button";const Jh=[{code:"de",name:"German",flag:""},{code:"fr",name:"French",flag:""},{code:"it",name:"Italian",flag:""},{code:"es",name:"Spanish",flag:""},{code:"nl",name:"Dutch",flag:""},{code:"cs",name:"Czech",flag:""}];class mB{async getCategories(){const{data:e,error:r}=await gn.from("phrase_categories").select("*").order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching categories:",r),r;return e||[]}async getPhrasesByCategory(e){console.log(" Querying Supabase for category:",e);const{data:r,error:i}=await gn.from("phrases").select("*").eq("category_id",e).order("sort_order",{ascending:!0});if(console.log(" Raw data from Supabase:",r),console.log(" Error (if any):",i),i)throw console.error("Error fetching phrases:",i),i;const o=this.groupPhrases(r||[]);return console.log(" Grouped phrases:",o),o}async getAllPhrases(){const{data:e,error:r}=await gn.from("phrases").select("*").order("category_id",{ascending:!0}).order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching all phrases:",r),r;const i={},o=e||[];return new Set(o.map(u=>u.category_id)).forEach(u=>{const f=o.filter(h=>h.category_id===u);i[u]=this.groupPhrases(f)}),i}async searchPhrases(e,r){let i=gn.from("phrases").select("*");r&&(i=i.eq("language_code",r)),i=i.or(`english.ilike.%${e}%,translation.ilike.%${e}%`);const{data:o,error:l}=await i;if(l)throw console.error("Error searching phrases:",l),l;return this.groupPhrases(o||[])}groupPhrases(e){const r=new Map;return e.forEach(i=>{r.has(i.english)||r.set(i.english,{english:i.english,icon:i.icon,sort_order:i.sort_order,translations:{}});const o=r.get(i.english);o.translations[i.language_code]={text:i.translation,pronunciation:i.pronunciation}}),Array.from(r.values()).sort((i,o)=>i.sort_order-o.sort_order)}async getPhraseByEnglish(e){const{data:r,error:i}=await gn.from("phrases").select("*").eq("english",e);if(i)throw console.error("Error fetching phrase:",i),i;return!r||r.length===0?null:this.groupPhrases(r)[0]||null}}const Qh=new mB;function gB(){const[t,e]=J.useState(Jh[0].code),[r,i]=J.useState(null),[o,l]=J.useState([]),[u,f]=J.useState([]),[h,m]=J.useState(!0),[b,v]=J.useState(null),[_,S]=J.useState("");J.useEffect(()=>{x()},[]),J.useEffect(()=>{r&&k(r)},[r]);const x=async()=>{try{m(!0);const N=await Qh.getCategories();l(N),N.length>0&&i(N[0].id)}catch(N){console.error("Error loading categories:",N),v(`Failed to load categories: ${N instanceof Error?N.message:"Unknown error"}`)}finally{m(!1)}},k=async N=>{try{m(!0);const q=await Qh.getPhrasesByCategory(N);f(q),v(null)}catch(q){console.error("Error loading phrases:",q),v(`Failed to load phrases: ${q instanceof Error?q.message:"Unknown error"}`)}finally{m(!1)}},E=async()=>{if(!_.trim()){r&&k(r);return}try{m(!0);const N=await Qh.searchPhrases(_,t);f(N),v(null)}catch(N){v("Search failed"),console.error(N)}finally{m(!1)}},D=(N,q)=>{if("speechSynthesis"in window){const K=new SpeechSynthesisUtterance(N),G={de:"de-DE",fr:"fr-FR",it:"it-IT",es:"es-ES",nl:"nl-NL",cs:"cs-CZ"};K.lang=G[q]||q,K.rate=.8,window.speechSynthesis.speak(K)}},B=Jh.find(N=>N.code===t);return h&&o.length===0?g.jsx("section",{id:"german-phrases",className:"py-16 bg-[var(--brand-bg-alt)]",children:g.jsx("div",{className:"container mx-auto px-4",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}}),g.jsx("p",{className:"mt-4 text-[var(--brand-text-muted)]",children:"Loading phrases..."})]})})}):b?g.jsx("section",{className:"py-16 bg-[var(--brand-bg-alt)]",children:g.jsx("div",{className:"container mx-auto px-4",children:g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs(SS,{className:"p-8 bg-[var(--brand-bg-card)] border border-[var(--brand-border)]",children:[g.jsx("h3",{className:"text-xl font-bold mb-4 text-[var(--brand-text)]",children:"Error Loading Phrases"}),g.jsx("p",{className:"mb-4 text-[var(--brand-text-muted)]",children:b}),g.jsx(_T,{onClick:x,className:"bg-[var(--brand-primary)] text-white hover:bg-[var(--brand-primary-light)]",children:"Retry Loading"})]})})})}):g.jsx("section",{className:"py-16 bg-[var(--brand-bg-alt)]",children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl font-bold mb-4 text-[var(--brand-text)]",children:"Essential Travel Phrases"}),g.jsx("p",{className:"text-xl text-[var(--brand-text-muted)] max-w-2xl mx-auto",children:"Master key phrases in multiple European languages for your travels"})]}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:Jh.map(N=>g.jsxs("button",{onClick:()=>e(N.code),className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base border-2",style:{background:t===N.code?"var(--brand-primary)":"var(--brand-bg-card)",color:t===N.code?"white":"var(--brand-text)",borderColor:t===N.code?"var(--brand-primary)":"var(--brand-border)"},children:[g.jsx("span",{className:"mr-1 sm:mr-2 text-base sm:text-lg",children:N.flag}),N.name]},N.code))}),g.jsx("div",{className:"max-w-2xl mx-auto mb-8 px-2",children:g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx("input",{type:"text",placeholder:"Search phrases...",value:_,onChange:N=>S(N.target.value),onKeyDown:N=>N.key==="Enter"&&E(),className:"flex-1 px-4 py-3 border-2 rounded-lg focus:outline-none text-base bg-[var(--brand-bg-card)]",style:{borderColor:"var(--brand-border)",color:"var(--brand-text)"}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:E,className:"flex-1 sm:flex-none px-6 py-3 rounded-lg font-semibold transition-all hover:opacity-90 bg-[var(--brand-primary)] text-white",children:"Search"}),_&&g.jsx("button",{onClick:()=>{S(""),r&&k(r)},className:"flex-1 sm:flex-none px-4 py-3 rounded-lg font-semibold transition-all hover:opacity-90 bg-[var(--brand-bg-card)] text-[var(--brand-text)] border border-[var(--brand-border)]",children:"Clear"})]})]})}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:o.map(N=>g.jsxs("button",{onClick:()=>{i(N.id),S("")},className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base whitespace-nowrap border-2",style:{background:r===N.id?"var(--brand-primary)":"var(--brand-bg-card)",color:r===N.id?"white":"var(--brand-text)",borderColor:r===N.id?"var(--brand-primary)":"var(--brand-border)"},children:[g.jsx("span",{className:"mr-1 sm:mr-2",children:N.icon}),g.jsx("span",{className:"hidden sm:inline",children:N.name}),g.jsx("span",{className:"sm:hidden",children:N.name.split(" ")[0]})]},N.id))}),h?g.jsx("div",{className:"text-center py-12",children:g.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}})}):g.jsx("div",{className:"max-w-4xl mx-auto px-2",children:u.length===0?g.jsx(SS,{className:"p-8 text-center bg-[var(--brand-bg-card)] border border-[var(--brand-border)]",children:g.jsx("p",{className:"text-[var(--brand-text-muted)]",children:_?"No phrases found matching your search.":"No phrases available for this category."})}):g.jsx("div",{className:"overflow-y-auto space-y-3 sm:space-y-4 pr-1 sm:pr-2",style:{maxHeight:"400px",scrollbarWidth:"thin",scrollbarColor:"var(--brand-primary) var(--brand-bg-alt)"},children:u.map((N,q)=>{const K=N.translations[t];return K?g.jsx("div",{className:"p-4 sm:p-6 rounded-xl transition-shadow hover:shadow-lg bg-[var(--brand-bg-card)] border border-[var(--brand-border)]",children:g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[g.jsxs("div",{className:"flex items-start gap-3 w-full sm:hidden",children:[N.icon&&g.jsx("span",{className:"text-2xl flex-shrink-0",children:N.icon}),g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-base font-semibold text-[var(--brand-text)]",children:N.english}),g.jsx("p",{className:"text-xs text-[var(--brand-text-muted)]",children:"English"})]}),g.jsxs("div",{className:"pt-3 border-t-2",style:{borderColor:"var(--brand-primary)"},children:[g.jsx("p",{className:"text-lg font-bold mb-1 text-[var(--brand-primary)]",children:K.text}),g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)] italic",children:K.pronunciation}),g.jsx("p",{className:"text-xs text-[var(--brand-text-muted)] mt-1",children:B?.name})]})]}),g.jsx("button",{onClick:()=>D(K.text,t),className:"shrink-0 w-10 h-10 rounded-lg transition-all hover:opacity-90 flex items-center justify-center bg-[var(--brand-secondary)] text-[var(--brand-text)]",title:"Listen to pronunciation",children:g.jsx("span",{className:"text-lg",children:""})})]}),g.jsxs("div",{className:"hidden sm:flex items-center gap-4 w-full",children:[N.icon&&g.jsx("span",{className:"text-3xl flex-shrink-0",children:N.icon}),g.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"flex flex-col justify-center",children:[g.jsx("p",{className:"text-lg font-semibold text-[var(--brand-text)]",children:N.english}),g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)] mt-1",children:"English"})]}),g.jsxs("div",{className:"flex flex-col justify-center pl-4",style:{borderLeft:"4px solid var(--brand-primary)"},children:[g.jsx("p",{className:"text-xl font-bold mb-1 text-[var(--brand-primary)]",children:K.text}),g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)] italic",children:K.pronunciation}),g.jsx("p",{className:"text-xs text-[var(--brand-text-muted)] mt-1",children:B?.name})]})]}),g.jsx("button",{onClick:()=>D(K.text,t),className:"shrink-0 w-12 h-12 rounded-lg transition-all hover:opacity-90 flex items-center justify-center bg-[var(--brand-secondary)] text-[var(--brand-text)]",title:"Listen to pronunciation",children:g.jsx("span",{className:"text-xl",children:""})})]})]})},q):null})})}),g.jsx("div",{className:"mt-12 text-center",children:g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)]",children:" Tip: Click the speaker icon to hear the native pronunciation"})})]})})}function yB(t){return{id:t.id,name:t.name,category:t.category,subcategory:t.subcategory,description:t.description,location:t.location,address:t.address,city:t.city,latitude:t.latitude,longitude:t.longitude,basesServed:t.bases_served,baseDistance:t.base_distance,googleMapsUrl:t.google_maps_url,phone:t.phone,email:t.email,website:t.website,englishFluency:t.english_fluency,sofaFamiliar:t.sofa_familiar,militaryDiscount:t.military_discount,discountPercent:t.discount_percent,verified:t.verified,featured:t.featured,featuredTier:t.featured_tier,status:t.status,priceRange:t.price_range,rating:t.rating,reviewCount:t.review_count,imageUrl:t.image_url,images:t.images,notes:t.notes,tags:t.tags,isOnBase:t.is_on_base,createdAt:t.created_at,updatedAt:t.updated_at}}function g4(t){return{id:t.id,businessId:t.business_id,authorName:t.author_name,rating:t.rating,comment:t.comment,createdAt:t.created_at}}function bB(){return Xk({queryKey:["businesses"],queryFn:async()=>{const{data:t,error:e}=await gn.from("businesses").select("*").eq("status","active").order("featured",{ascending:!1}).order("name",{ascending:!0});if(e)throw console.error("Error fetching businesses:",e),e;return(t||[]).map(yB)},staleTime:300*1e3})}const vB=[{id:"automotive",title:"Automotive Services",icon:cA,description:"Car dealers, mechanics, and auto services that work with Americans"},{id:"healthcare",title:"Healthcare",icon:uA,description:"English-speaking doctors, dentists, and specialists near European US Bases"},{id:"restaurants",title:"Restaurants & Dining",icon:dA,description:"English-friendly restaurants throughout Europe serving American living abroad"},{id:"shopping",title:"Shopping",icon:fA,description:"Stores and shops with English-speaking staff"},{id:"home-services",title:"Home Services",icon:hA,description:"Plumbers, electricians, and handymen who work with American families"},{id:"real-estate",title:"Real Estate",icon:pA,description:"Housing agents familiar with American military housing needs"},{id:"legal",title:"Legal Services",icon:mA,description:"Lawyers who understand SOFA status and military regulations"},{id:"education",title:"Education",icon:gA,description:"International schools and tutors for military families"},{id:"business",title:"Business Services",icon:yA,description:"Tax advisors and accountants familiar with US/German requirements"}],_B="default-app-id";function SB({selectedBase:t}){const e=t&&t!==_B,{data:r=[],isLoading:i}=bB(),o=J.useMemo(()=>{const l={};return r.forEach(u=>{u.category&&(l[u.category]=(l[u.category]||0)+1)}),l},[r]);return i?g.jsx("section",{className:"relative bg-[var(--brand-bg-card)] py-20",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:g.jsxs("p",{className:"text-[var(--brand-text)]",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[var(--brand-gold)] mx-auto mb-4"}),"Loading trusted services and business counts..."]})})}):e?g.jsxs("section",{id:"english-services",className:"relative bg-[var(--brand-bg-card)] py-20",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/services.jpg')] bg-cover bg-center"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),g.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Trusted English-Speaking Services Helping Americans Feel at Home in Europe"}),g.jsx("p",{className:"text-lg text-white/90 font-medium max-w-3xl mx-auto",children:"Find personally verified, English-speaking businesses across Europe that understand U.S. military, civilian, and contractors, and their families  offering trusted local support and peace of mind wherever you're stationed."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:vB.map(l=>{const u=l.icon,f=o[l.id]||0;return g.jsxs(Zt,{to:f>0?`/services/${l.id}?base=${t}`:"#",className:`bg-[var(--brand-bg-card)] rounded-xl p-6 border border-[var(--brand-border)] transition-all ${f>0?"hover:shadow-xl hover:-translate-y-1 cursor-pointer":"opacity-60 cursor-not-allowed pointer-events-none"}`,children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:`p-3 rounded-lg ${f>0?"bg-[var(--brand-primary)]":"bg-[var(--brand-gray)]/50"}`,children:g.jsx(u,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-[var(--brand-text)]",children:l.title}),g.jsxs("p",{className:"text-sm text-[var(--brand-text-muted)]",children:[f," ",f===1?"business":"businesses"]})]})]}),g.jsx("p",{className:"text-[var(--brand-text-muted)] mb-4",children:l.description}),f>0?g.jsxs("div",{className:"w-full bg-[var(--brand-primary)] text-white py-2 px-4 rounded-lg hover:bg-[var(--brand-primary-light)] transition font-medium text-center",children:["View ",f," ",f===1?"Business":"Businesses"]}):g.jsx("div",{className:"w-full bg-[var(--brand-bg-alt)] text-[var(--brand-text-muted)] py-2 px-4 rounded-lg font-medium text-center border border-[var(--brand-border)]",children:"Coming Soon"})]},l.id)})}),g.jsx("div",{className:"bg-[var(--brand-primary-dark)] rounded-xl p-8 mb-8 shadow-xl",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Do You Own a Business Near a US Military Base?"}),g.jsx("p",{className:"text-white/80 mb-6 max-w-2xl mx-auto",children:"If your business serves American military families and you speak English, we'd love to feature you in our directory."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx(Zt,{to:"/submit-business",className:"inline-block bg-[var(--brand-secondary)] text-[var(--brand-text)] px-8 py-3 rounded-lg hover:bg-[var(--brand-secondary-light)] transition font-semibold",children:"List Your Business"}),g.jsx("a",{href:"mailto:european.living.live@gmail.com?subject=Business Listing Inquiry",className:"inline-block bg-white text-[var(--brand-text)] px-8 py-3 rounded-lg hover:bg-[var(--brand-bg-alt)] transition font-semibold",children:"Email Us"})]})]})}),g.jsxs("div",{className:"text-center bg-[var(--brand-bg-card)] rounded-xl p-8 shadow-lg border border-[var(--brand-border)]",children:[g.jsx("h3",{className:"text-2xl font-bold text-[var(--brand-text)] mb-4",children:"Need More Help Finding Services?"}),g.jsx("p",{className:"text-[var(--brand-text-muted)] mb-6 max-w-2xl mx-auto",children:"Check out our comprehensive guide with tips for finding English-speaking professionals throughout Germany."}),g.jsx(Zt,{to:"/articles/services",className:"inline-block bg-[var(--brand-primary)] text-white px-8 py-3 rounded-lg hover:bg-[var(--brand-primary-light)] transition font-semibold",children:"Read Full Services Guide "})]})]})]}):g.jsxs("section",{id:"english-services",className:"relative bg-[var(--brand-bg-card)] py-20",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/services.jpg')] bg-cover bg-center"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),g.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center py-16 rounded-xl bg-black/40 shadow-2xl",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Services Awaiting Base Selection"}),g.jsx("p",{className:"text-lg text-white/90 font-medium max-w-3xl mx-auto mb-8",children:"Please select your primary military base to view locally verified, English-speaking businesses tailored to your area."}),g.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openBaseSelectionModal")),className:"inline-block bg-[var(--brand-secondary)] text-[var(--brand-text)] px-8 py-3 rounded-lg hover:bg-[var(--brand-secondary-light)] transition font-semibold text-lg",children:"Select Your Base"})]})]})}function wB(){const[t,e]=J.useState(!1);return g.jsx("section",{id:"contact",className:"bg-[var(--brand-bg)] py-16 px-6 text-[#131312]",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl font-semibold mb-4 tracking-tight",children:"Get in Touch"}),g.jsx("p",{className:"text-lg text-[#131312]/80 mb-8",children:"Whether youre an American relocating to Europe, already living here, or simply exploring, were here to make your experience smoother."}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6 mb-10",children:[g.jsxs("a",{href:"mailto:european.living.live@gmail.com",className:"flex items-center gap-2 bg-[var(--brand-button)] text-[#f7f7ec] px-5 py-3 rounded-xl hover:bg-[#131312] transition",children:[g.jsx(np,{size:20}),"european.living.live@gmail.com"]}),g.jsxs("a",{href:"https://wa.me/4915165227520",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[var(--brand-dark)] text-[#f4f5f0] px-5 py-3 rounded-xl hover:bg-[#9da586] transition",children:[g.jsx(bA,{size:20}),"Chat on WhatsApp"]})]}),g.jsx("button",{onClick:()=>e(!t),className:"bg-[var(--brand-button)] text-[#f7f7ec] px-6 py-3 rounded-xl font-medium hover:bg-[#131312] hover:text-[#f4f5f0] transition",children:t?"Close Form":"Ask a Question"}),g.jsx(Go,{children:t&&g.jsx(Jn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:g.jsxs("form",{action:"https://formspree.io/f/mnngzrdn",method:"POST",className:"mt-8 bg-[#f4f5f0] p-8 rounded-2xl shadow-sm border border-[#9da586]/30 text-left",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Name"}),g.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Email"}),g.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Message"}),g.jsx("textarea",{name:"message",rows:4,required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),g.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#131312] text-[#f7f7ec] px-6 py-3 rounded-xl hover:bg-[#9da586] transition",children:[g.jsx(vA,{size:18}),"Send Message"]})]})})})]})})}function xB({variant:t="homepage",title:e,description:r}){const[i,o]=J.useState(""),[l,u]=J.useState(!1),[f,h]=J.useState(!1),[m,b]=J.useState(""),v=async x=>{x.preventDefault(),u(!0),b("");try{if((await fetch("https://formspree.io/f/xeeloovy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,_subject:"New European Living - Stay Updated Signup",signup_source:t,message:`New signup from ${t} section - Stay Updated list`})})).ok)h(!0),o("");else throw new Error("Failed to subscribe")}catch(k){console.error("Signup error:",k),b("Something went wrong. Please try again.")}finally{u(!1)}};f&&setTimeout(()=>h(!1),5e3);const S=(()=>{switch(t){case"homepage":return{container:"bg-gradient-to-r from-[var(--brand-primary)] to-[var(--brand-dark)] text-[#f7f7ec] rounded-2xl p-8 shadow-xl",input:"bg-white/10 border-white/20 text-white placeholder:text-white/60 focus:bg-white/20 focus:border-white/40",button:"bg-[var(--brand-gold)] text-[#131312] hover:bg-[var(--brand-button)] font-bold"};case"article":return{container:"bg-[#f4f5f0] border border-[#9da586]/30 rounded-xl p-6",input:"bg-white border-[#9da586]/40 focus:border-[var(--brand-primary)] text-[#131312]",button:"bg-[var(--brand-primary)] text-white hover:bg-[var(--brand-dark)] font-medium"};case"footer":return{container:"bg-[#131312] text-[#f4f5f0] rounded-lg p-6",input:"bg-white/10 border-white/20 text-white placeholder:text-white/60 focus:border-white/40",button:"bg-[var(--brand-button)] text-[#f7f7ec] hover:bg-[#9da586] font-medium"}}})();return g.jsx("div",{className:S.container,children:g.jsx(Go,{mode:"wait",children:f?g.jsxs(Jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-center py-4",children:[g.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(_A,{className:"w-8 h-8 text-green-500"})}),g.jsx("h3",{className:"text-2xl font-bold mb-2",children:" You're In!"}),g.jsx("p",{className:"opacity-90",children:"We'll keep you posted when we add new destinations and guides. Thanks for joining us!"})]}):g.jsxs(Jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[g.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${t==="homepage"?"bg-white/10":t==="article"?"bg-[var(--brand-primary)]/10":"bg-white/10"}`,children:g.jsx(np,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-2xl font-bold mb-2",children:e||" Stay in the Loop"}),g.jsx("p",{className:"text-lg opacity-90",children:r||"Get updates when we add new destinations, travel guides, and tips. No spam - just the good stuff when we have something worth sharing."})]})]}),g.jsxs("form",{onSubmit:v,className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[g.jsx("input",{type:"email",value:i,onChange:x=>o(x.target.value),placeholder:"your@email.com",required:!0,disabled:l,className:`flex-1 px-4 py-3 rounded-lg border focus:ring-2 focus:ring-offset-2 focus:outline-none transition-all disabled:opacity-50 ${S.input}`}),g.jsx("button",{type:"submit",disabled:l,className:`px-8 py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 flex items-center justify-center gap-2 whitespace-nowrap ${S.button}`,children:l?g.jsxs(g.Fragment,{children:[g.jsx(SA,{className:"w-5 h-5 animate-spin"}),"Joining..."]}):g.jsxs(g.Fragment,{children:["Stay Updated",g.jsx(np,{className:"w-5 h-5"})]})})]}),m&&g.jsx("p",{className:"text-red-400 text-sm",children:m}),g.jsxs("div",{className:"text-xs flex flex-wrap items-center gap-x-4 gap-y-1 opacity-70",children:[g.jsx("span",{className:"flex items-center gap-1",children:" No spam, ever"}),g.jsx("span",{className:"flex items-center gap-1",children:" Unsubscribe anytime"}),g.jsx("span",{className:"flex items-center gap-1",children:" Updates only when we have something new"})]})]})]})})})}function EB(){return g.jsx("section",{className:"py-16 px-6 bg-[var(--brand-bg)]",children:g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsx(xB,{variant:"homepage"})})})}const wS=t=>{const e=document.getElementById(t);if(e){const i=e.offsetTop-64;window.scrollTo({top:i,behavior:"smooth"}),console.log(`[HOMEPAGE DEBUG]  Scroll successful to ID: ${t}. Element found.`)}else console.error(`[HOMEPAGE DEBUG]  Scroll failed! Target ID='${t}' element was NOT found in the DOM.`)};function TB(){const{selectedBase:t}=Ym(),e=Zp();return J.useEffect(()=>{if(!(e.state?.scrollTo||e.hash)){window.scrollTo(0,0);return}let i=null,o=!1;if(e.state?.scrollTo?(i=e.state.scrollTo,o=!0,console.log(`[HOMEPAGE DEBUG]  State received! Scroll target is: ${i}`),window.history.replaceState({},document.title)):e.hash&&(i=e.hash.substring(1),console.log(`[HOMEPAGE DEBUG]  Hash received! Scroll target is: ${i}`)),i)if(o){const l=setTimeout(()=>{wS(i)},300);return()=>clearTimeout(l)}else wS(i)},[e.state,e.hash]),g.jsxs("main",{className:"pt-16",children:[g.jsx("div",{id:"home",children:g.jsx(t3,{})}),g.jsx("div",{id:"destinations",children:g.jsx(Oz,{})}),g.jsx("div",{id:"featured-content",children:g.jsx(Nz,{})}),g.jsx("div",{id:"email-signup",children:g.jsx(EB,{})}),g.jsx("div",{id:"travel-tips",children:g.jsx(Rz,{})}),g.jsx("div",{id:"german-phrases",children:g.jsx(gB,{})}),g.jsx("div",{id:"english-services",children:g.jsx(SB,{selectedBase:t})}),g.jsx("div",{id:"contact",children:g.jsx(wB,{})})]})}const kB=J.lazy(()=>nt(()=>import("./ArticlePage--jbeiKI5.js"),__vite__mapDeps([0,1,2,3,4,5]))),AB=J.lazy(()=>nt(()=>import("./DestinationPage-BWvl-UT5.js"),__vite__mapDeps([6,1,2,3,4,5]))),CB=J.lazy(()=>nt(()=>import("./BusinessDetailPage-Bs6QAtW_.js"),__vite__mapDeps([7,1,2,8,9,10,4,5]))),xS=J.lazy(()=>nt(()=>import("./ServiceCategoryPage-DuUD-cc-.js"),__vite__mapDeps([11,1,2,12,4,8,9,10,5]))),NB=J.lazy(()=>nt(()=>import("./ServicesDirectory-LvUD8czA.js"),__vite__mapDeps([13,1,2,12,4,5]))),OB=J.lazy(()=>nt(()=>import("./BusinessSubmissionForm-CyVi_sBY.js"),__vite__mapDeps([14,1,2,4,5]))),RB=J.lazy(()=>nt(()=>import("./BusinessDataEntry-nIfeP-jb.js"),__vite__mapDeps([15,1,2,4,5]))),jB=J.lazy(()=>nt(()=>import("./PrivacyPolicy-C5EYempo.js"),__vite__mapDeps([16,1,2]))),MB=J.lazy(()=>nt(()=>import("./DayTripsPage-Dh4-goAk.js"),__vite__mapDeps([17,1,2,18,19,4,5]))),IB=J.lazy(()=>nt(()=>import("./AboutPage-B0fMbTeB.js"),__vite__mapDeps([20,1,2,19,4]))),DB=J.lazy(()=>nt(()=>import("./FeaturedContentAdmin-BnU59QHY.js"),__vite__mapDeps([21,1,2,19,4,5]))),LB=J.lazy(()=>nt(()=>import("./DayTripDetailPage-BYnCWlCk.js"),__vite__mapDeps([22,1,2,18,19,4,5]))),UB=()=>{const[t,e]=J.useState(0);return J.useEffect(()=>{const r=()=>{const i=window.scrollY,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,l=i/o*100;e(l)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),g.jsx(Jn.div,{className:"fixed top-0 left-0 h-1 bg-blue-600 z-[9999]",style:{width:`${t}%`},initial:{width:0},animate:{width:t},transition:{ease:"easeOut",duration:.1}})},zB=()=>g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)]",children:g.jsx(e3,{size:"lg",message:"Loading page..."})});function BB(){const t=Zp();return J.useEffect(()=>{KL(t.pathname+t.search,document.title)},[t]),J.useEffect(()=>{t.pathname!=="/"&&window.scrollTo(0,0)},[t.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(JL,{}),g.jsx(ZL,{}),g.jsx(UB,{}),g.jsx(WL,{}),g.jsx(J.Suspense,{fallback:g.jsx(zB,{}),children:g.jsxs(Kk,{children:[g.jsx(Jt,{path:"/",element:g.jsx(TB,{})}),g.jsx(Jt,{path:"/day-trips",element:g.jsx("div",{className:"pt-16",children:g.jsx(MB,{})})}),g.jsx(Jt,{path:"/day-trips/:id",element:g.jsx("div",{className:"pt-16",children:g.jsx(LB,{})})}),g.jsx(Jt,{path:"/admin/data-entry",element:g.jsx("div",{className:"pt-16",children:g.jsx(RB,{})})}),g.jsx(Jt,{path:"/admin/featured-content",element:g.jsx("div",{className:"pt-16",children:g.jsx(DB,{})})}),g.jsx(Jt,{path:"/services-directory",element:g.jsx("div",{className:"pt-16",children:g.jsx(NB,{})})}),g.jsx(Jt,{path:"/services/:category",element:g.jsx(xS,{})}),g.jsx(Jt,{path:"/services/:category/:subcategory",element:g.jsx(xS,{})}),g.jsx(Jt,{path:"/submit-business",element:g.jsx("div",{className:"pt-16",children:g.jsx(OB,{})})}),g.jsx(Jt,{path:"/articles/:slug",element:g.jsx(kB,{})}),g.jsx(Jt,{path:"/destinations/:id",element:g.jsx(AB,{})}),g.jsx(Jt,{path:"/businesses/:id",element:g.jsx(CB,{})}),g.jsx(Jt,{path:"/privacy-policy",element:g.jsx(jB,{})}),g.jsx(Jt,{path:"/about",element:g.jsx("div",{className:"pt-16",children:g.jsx(IB,{})})})]})}),g.jsx(XL,{})]})}class HB extends J.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),il(i=>{i.setContext("errorInfo",{componentStack:r.componentStack}),ym(e)})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[g.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:g.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),g.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We've been notified and are working on a fix. Please try refreshing the page."}),this.state.error&&!1,g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Refresh Page"}),g.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded transition-colors",children:"Go Home"})]})]})}):this.props.children}}const ES={"/articles":()=>nt(()=>import("./ArticlePage--jbeiKI5.js"),__vite__mapDeps([0,1,2,3,4,5])),"/destinations":()=>nt(()=>import("./DestinationPage-BWvl-UT5.js"),__vite__mapDeps([6,1,2,3,4,5])),"/businesses":()=>nt(()=>import("./BusinessDetailPage-Bs6QAtW_.js"),__vite__mapDeps([7,1,2,8,9,10,4,5])),"/services":()=>nt(()=>import("./ServiceCategoryPage-DuUD-cc-.js"),__vite__mapDeps([11,1,2,12,4,8,9,10,5])),"/services-directory":()=>nt(()=>import("./ServicesDirectory-LvUD8czA.js"),__vite__mapDeps([13,1,2,12,4,5])),"/submit-business":()=>nt(()=>import("./BusinessSubmissionForm-CyVi_sBY.js"),__vite__mapDeps([14,1,2,4,5])),"/privacy-policy":()=>nt(()=>import("./PrivacyPolicy-C5EYempo.js"),__vite__mapDeps([16,1,2]))},Zh=new Set;function Hu(t){const e=Object.keys(ES).find(i=>t.startsWith(i));if(!e||Zh.has(e))return;const r=ES[e];Zh.add(e),r().catch(i=>{console.error(`Failed to preload route: ${e}`,i),Zh.delete(e)})}function PB(){const t=r=>{const o=r.target.closest("a[href]");if(o&&o.href){const l=new URL(o.href);l.origin===window.location.origin&&Hu(l.pathname)}},e=r=>{const i=r.target;if(i.tagName==="A"){const o=i;if(o.href){const l=new URL(o.href);l.origin===window.location.origin&&Hu(l.pathname)}}};return document.addEventListener("mouseover",t,!0),document.addEventListener("focusin",e,!0),()=>{document.removeEventListener("mouseover",t,!0),document.removeEventListener("focusin",e,!0)}}function $B(){document.readyState==="complete"?TS():window.addEventListener("load",TS,{once:!0})}function TS(){setTimeout(()=>{Hu("/services-directory"),setTimeout(()=>{Hu("/services")},2e3)},1e3)}let ST=-1;const Ua=t=>{addEventListener("pageshow",(e=>{e.persisted&&(ST=e.timeStamp,t(e))}),!0)},er=(t,e,r,i)=>{let o,l;return u=>{e.value>=0&&(u||i)&&(l=e.value-(o??0),(l||o===void 0)&&(o=e.value,e.delta=l,e.rating=((f,h)=>f>h[1]?"poor":f>h[0]?"needs-improvement":"good")(e.value,r),t(e)))}},sg=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},ig=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},yl=()=>ig()?.activationStart??0,tr=(t,e=-1)=>{const r=ig();let i="navigate";return ST>=0?i="back-forward-cache":r&&(document.prerendering||yl()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},ep=new WeakMap;function ag(t,e){return ep.get(t)||ep.set(t,new e),ep.get(t)}class qB{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const r=this.o[0],i=this.o.at(-1);this.i&&r&&i&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const bl=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return i.observe({type:t,buffered:!0,...r}),i}}catch{}},og=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let ua=-1;const wT=new Set,kS=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Xp=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(const e of wT)e();isFinite(ua)||(ua=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",Xp,!0))}},rd=()=>{if(ua<0){const t=yl();ua=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter((r=>r.name==="hidden"&&r.startTime>t))[0]?.startTime)??kS(),addEventListener("visibilitychange",Xp,!0),addEventListener("prerenderingchange",Xp,!0),Ua((()=>{setTimeout((()=>{ua=kS()}))}))}return{get firstHiddenTime(){return ua},onHidden(t){wT.add(t)}}},sd=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},AS=[1800,3e3],xT=(t,e={})=>{sd((()=>{const r=rd();let i,o=tr("FCP");const l=bl("paint",(u=>{for(const f of u)f.name==="first-contentful-paint"&&(l.disconnect(),f.startTime<r.firstHiddenTime&&(o.value=Math.max(f.startTime-yl(),0),o.entries.push(f),i(!0)))}));l&&(i=er(t,o,AS,e.reportAllChanges),Ua((u=>{o=tr("FCP"),i=er(t,o,AS,e.reportAllChanges),sg((()=>{o.value=performance.now()-u.timeStamp,i(!0)}))})))}))},CS=[.1,.25],FB=(t,e={})=>{const r=rd();xT(og((()=>{let i,o=tr("CLS",0);const l=ag(e,qB),u=h=>{for(const m of h)l.h(m);l.i>o.value&&(o.value=l.i,o.entries=l.o,i())},f=bl("layout-shift",u);f&&(i=er(t,o,CS,e.reportAllChanges),r.onHidden((()=>{u(f.takeRecords()),i(!0)})),Ua((()=>{l.i=0,o=tr("CLS",0),i=er(t,o,CS,e.reportAllChanges),sg((()=>i()))})),setTimeout(i))})))};let ET=0,tp=1/0,au=0;const GB=t=>{for(const e of t)e.interactionId&&(tp=Math.min(tp,e.interactionId),au=Math.max(au,e.interactionId),ET=au?(au-tp)/7+1:0)};let Jp;const NS=()=>Jp?ET:performance.interactionCount??0,VB=()=>{"interactionCount"in performance||Jp||(Jp=bl("event",GB,{type:"event",buffered:!0,durationThreshold:0}))};let OS=0;class YB{u=[];l=new Map;m;p;v(){OS=NS(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((NS()-OS)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&e.entryType!=="first-input")return;const r=this.u.at(-1);let i=this.l.get(e.interactionId);if(i||this.u.length<10||e.duration>r.P){if(i?e.duration>i.P?(i.entries=[e],i.P=e.duration):e.duration===i.P&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],P:e.duration},this.l.set(i.id,i),this.u.push(i)),this.u.sort(((o,l)=>l.P-o.P)),this.u.length>10){const o=this.u.splice(10);for(const l of o)this.l.delete(l.id)}this.p?.(i)}}}const TT=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=og(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},RS=[200,500],KB=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=rd();sd((()=>{VB();let i,o=tr("INP");const l=ag(e,YB),u=h=>{TT((()=>{for(const b of h)l.h(b);const m=l.L();m&&m.P!==o.value&&(o.value=m.P,o.entries=m.entries,i())}))},f=bl("event",u,{durationThreshold:e.durationThreshold??40});i=er(t,o,RS,e.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{u(f.takeRecords()),i(!0)})),Ua((()=>{l.v(),o=tr("INP"),i=er(t,o,RS,e.reportAllChanges)})))}))};class WB{m;h(e){this.m?.(e)}}const jS=[2500,4e3],XB=(t,e={})=>{sd((()=>{const r=rd();let i,o=tr("LCP");const l=ag(e,WB),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)l.h(m),m.startTime<r.firstHiddenTime&&(o.value=Math.max(m.startTime-yl(),0),o.entries=[m],i())},f=bl("largest-contentful-paint",u);if(f){i=er(t,o,jS,e.reportAllChanges);const h=og((()=>{u(f.takeRecords()),f.disconnect(),i(!0)})),m=b=>{b.isTrusted&&(TT(h),removeEventListener(b.type,m,{capture:!0}))};for(const b of["keydown","click","visibilitychange"])addEventListener(b,m,{capture:!0});Ua((b=>{o=tr("LCP"),i=er(t,o,jS,e.reportAllChanges),sg((()=>{o.value=performance.now()-b.timeStamp,i(!0)}))}))}}))},MS=[800,1800],Qp=t=>{document.prerendering?sd((()=>Qp(t))):document.readyState!=="complete"?addEventListener("load",(()=>Qp(t)),!0):setTimeout(t)},JB=(t,e={})=>{let r=tr("TTFB"),i=er(t,r,MS,e.reportAllChanges);Qp((()=>{const o=ig();o&&(r.value=Math.max(o.responseStart-yl(),0),r.entries=[o],i(!0),Ua((()=>{r=tr("TTFB",0),i=er(t,r,MS,e.reportAllChanges),i(!0)})))}))},QB=t=>{typeof window.gtag>"u"||window.gtag("event",t.name,{value:Math.round(t.name==="CLS"?t.value*1e3:t.value),event_category:"Web Vitals",event_label:t.id,non_interaction:!0,metric_rating:t.rating})},ZB=t=>{if(typeof window.Sentry>"u")return;const e={};e[t.name]={value:t.value,unit:t.name==="CLS"?"ratio":"millisecond"},window.Sentry?.getCurrentScope().setMeasurement(t.name,t.value,t.name==="CLS"?"ratio":"millisecond")},Do=t=>{QB(t),ZB(t)},e4=()=>{FB(Do),KB(Do),xT(Do),XB(Do),JB(Do),console.log("[Web Vitals] Performance monitoring initialized")};GL({dsn:"https://30c87b24943cef5dc27e660cf0a960d9@o4510359033085952.ingest.de.sentry.io/4510359035117648",integrations:[HL(),SL({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:"production",sendDefaultPii:!1,enabled:!0,ignoreErrors:["ResizeObserver loop limit exceeded","Non-Error promise rejection captured","Network request failed"]});Mp();e4();const t4=new Jk({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}}});PB();$B();AA.createRoot(document.getElementById("root")).render(g.jsx(J.StrictMode,{children:g.jsx(HB,{children:g.jsx(Qk,{client:t4,children:g.jsx(Wk,{children:g.jsx(QL,{children:g.jsx(BB,{})})})})})}));export{e3 as L,g4 as a,bB as b,h4 as c,f4 as d,p4 as e,m4 as f,d4 as g,yB as m,gn as s,Ym as u};
