const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ArticlePage-C-lXOx9g.js","assets/vendor-markdown-BC8sZGMk.js","assets/vendor-react-BDu5rya1.js","assets/TableOfContents-BwZVkIpx.js","assets/vendor-ui-CDd0elD4.js","assets/vendor-query-DenH8THg.js","assets/DestinationPage-Dmap52LC.js","assets/BusinessDetailPage-6nJQfvE-.js","assets/MapView-C7LNufRJ.js","assets/vendor-maps-Bnz1BGCy.js","assets/MapView-CIGW-MKW.css","assets/ServiceCategoryPage-DmvQg2-4.js","assets/ErrorMessage-X4KBcVDD.js","assets/ServicesDirectory-_m3bA_mj.js","assets/BusinessSubmissionForm-DQawhzu_.js","assets/BusinessDataEntry-D8MLqIFq.js","assets/PrivacyPolicy-Bpx0blaS.js","assets/DayTripsPage-C03IGRxL.js","assets/SEO-C0mUeiKB.js","assets/AboutPage-Bf5g5yKm.js","assets/FeaturedContentAdmin-TLv8svoC.js"])))=>i.map(i=>d[i]);
import{j as v}from"./vendor-markdown-BC8sZGMk.js";import{b as qk,c as Fk,r as ce,u as RS,d as NS,e as jS,g as Gk,L as Fn,f as Vk,h as dn,B as Yk}from"./vendor-react-BDu5rya1.js";import{u as Kk,Q as Wk,a as Xk}from"./vendor-query-DenH8THg.js";import{X as Qp,M as Jk,E as i_,C as Qk,B as Zk,H as eA,a as tA,L as nA,P as rA,b as sA,m as xr,c as iA,S as aA,U as oA,d as lA,W as cA,e as uA,f as dA,G as fA,g as hA,h as pA,i as mA,A as gu,j as gA,k as MS,l as yA,n as bA,o as vA,T as _A,p as SA}from"./vendor-ui-CDd0elD4.js";function wA(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var bh={exports:{}},Mo={},vh={exports:{}},_h={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function EA(){return a_||(a_=1,(function(t){function e(M,q){var C=M.length;M.push(q);e:for(;0<C;){var re=C-1>>>1,V=M[re];if(0<o(V,q))M[re]=q,M[C]=V,C=re;else break e}}function r(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var q=M[0],C=M.pop();if(C!==q){M[0]=C;e:for(var re=0,V=M.length,ve=V>>>1;re<ve;){var ue=2*(re+1)-1,X=M[ue],ge=ue+1,qe=M[ge];if(0>o(X,C))ge<V&&0>o(qe,X)?(M[re]=qe,M[ge]=C,re=ge):(M[re]=X,M[ue]=C,re=ue);else if(ge<V&&0>o(qe,C))M[re]=qe,M[ge]=C,re=ge;else break e}}return q}function o(M,q){var C=M.sortIndex-q.sortIndex;return C!==0?C:M.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],y=1,b=null,_=3,S=!1,E=!1,T=!1,A=!1,U=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function F(M){for(var q=r(m);q!==null;){if(q.callback===null)i(m);else if(q.startTime<=M)i(m),q.sortIndex=q.expirationTime,e(h,q);else break;q=r(m)}}function K(M){if(T=!1,F(M),!E)if(r(h)!==null)E=!0,G||(G=!0,oe());else{var q=r(m);q!==null&&ke(K,q.startTime-M)}}var G=!1,L=-1,P=5,le=-1;function W(){return A?!0:!(t.unstable_now()-le<P)}function ee(){if(A=!1,G){var M=t.unstable_now();le=M;var q=!0;try{e:{E=!1,T&&(T=!1,z(L),L=-1),S=!0;var C=_;try{t:{for(F(M),b=r(h);b!==null&&!(b.expirationTime>M&&W());){var re=b.callback;if(typeof re=="function"){b.callback=null,_=b.priorityLevel;var V=re(b.expirationTime<=M);if(M=t.unstable_now(),typeof V=="function"){b.callback=V,F(M),q=!0;break t}b===r(h)&&i(h),F(M)}else i(h);b=r(h)}if(b!==null)q=!0;else{var ve=r(m);ve!==null&&ke(K,ve.startTime-M),q=!1}}break e}finally{b=null,_=C,S=!1}q=void 0}}finally{q?oe():G=!1}}}var oe;if(typeof R=="function")oe=function(){R(ee)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Te=he.port2;he.port1.onmessage=ee,oe=function(){Te.postMessage(null)}}else oe=function(){U(ee,0)};function ke(M,q){L=U(function(){M(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(M){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var C=_;_=q;try{return M()}finally{_=C}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var C=_;_=M;try{return q()}finally{_=C}},t.unstable_scheduleCallback=function(M,q,C){var re=t.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?re+C:re):C=re,M){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=C+V,M={id:y++,callback:q,priorityLevel:M,startTime:C,expirationTime:V,sortIndex:-1},C>re?(M.sortIndex=C,e(m,M),r(h)===null&&M===r(m)&&(T?(z(L),L=-1):T=!0,ke(K,C-re))):(M.sortIndex=V,e(h,M),E||S||(E=!0,G||(G=!0,oe()))),M},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(M){var q=_;return function(){var C=_;_=q;try{return M.apply(this,arguments)}finally{_=C}}}})(_h)),_h}var o_;function xA(){return o_||(o_=1,vh.exports=EA()),vh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function TA(){if(l_)return Mo;l_=1;var t=xA(),e=qk(),r=Fk();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(i(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return h(d),n;if(p===c)return h(d),s;p=p.sibling}throw Error(i(188))}if(a.return!==c.return)a=d,c=p;else{for(var g=!1,w=d.child;w;){if(w===a){g=!0,a=d,c=p;break}if(w===c){g=!0,c=d,a=p;break}w=w.sibling}if(!g){for(w=p.child;w;){if(w===a){g=!0,a=p,c=d;break}if(w===c){g=!0,c=p,a=d;break}w=w.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var he=Symbol.for("react.client.reference");function Te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===he?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case U:return"Profiler";case A:return"StrictMode";case K:return"Suspense";case G:return"SuspenseList";case le:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case R:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case L:return s=n.displayName||null,s!==null?s:Te(n.type)||"Memo";case P:s=n._payload,n=n._init;try{return Te(n(s))}catch{}}return null}var ke=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C={pending:!1,data:null,method:null,action:null},re=[],V=-1;function ve(n){return{current:n}}function ue(n){0>V||(n.current=re[V],re[V]=null,V--)}function X(n,s){V++,re[V]=n.current,n.current=s}var ge=ve(null),qe=ve(null),Et=ve(null),Ue=ve(null);function $t(n,s){switch(X(Et,s),X(qe,n),X(ge,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Ov(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Ov(s),n=Cv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ge),X(ge,n)}function jt(){ue(ge),ue(qe),ue(Et)}function qt(n){n.memoizedState!==null&&X(Ue,n);var s=ge.current,a=Cv(s,n.type);s!==a&&(X(qe,n),X(ge,a))}function jn(n){qe.current===n&&(ue(ge),ue(qe)),Ue.current===n&&(ue(Ue),Co._currentValue=C)}var Yn,vl;function Dt(n){if(Yn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Yn=s&&s[1]||"",vl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yn+n+vl}var Mn=!1;function _s(n,s){if(!n||Mn)return"";Mn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(D){var I=D}Reflect.construct(n,[],$)}else{try{$.call()}catch(D){I=D}n.call($.prototype)}}else{try{throw Error()}catch(D){I=D}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(D){if(D&&I&&typeof D.stack=="string")return[D.stack,I.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),g=p[0],w=p[1];if(g&&w){var x=g.split(`
`),j=w.split(`
`);for(d=c=0;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(c===x.length||d===j.length)for(c=x.length-1,d=j.length-1;1<=c&&0<=d&&x[c]!==j[d];)d--;for(;1<=c&&0<=d;c--,d--)if(x[c]!==j[d]){if(c!==1||d!==1)do if(c--,d--,0>d||x[c]!==j[d]){var B=`
`+x[c].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=c&&0<=d);break}}}finally{Mn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Dt(a):""}function za(n,s){switch(n.tag){case 26:case 27:case 5:return Dt(n.type);case 16:return Dt("Lazy");case 13:return n.child!==s&&s!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return _s(n.type,!1);case 11:return _s(n.type.render,!1);case 1:return _s(n.type,!0);case 31:return Dt("Activity");default:return""}}function Ss(n){try{var s="",a=null;do s+=za(n,a),a=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ws=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Lt=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,yt=t.unstable_requestPaint,ye=t.unstable_now,Es=t.unstable_getCurrentPriorityLevel,ag=t.unstable_ImmediatePriority,og=t.unstable_UserBlockingPriority,_l=t.unstable_NormalPriority,xT=t.unstable_LowPriority,lg=t.unstable_IdlePriority,TT=t.log,kT=t.unstable_setDisableYieldValue,Ha=null,tn=null;function Ir(n){if(typeof TT=="function"&&kT(n),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Ha,n)}catch{}}var nn=Math.clz32?Math.clz32:CT,AT=Math.log,OT=Math.LN2;function CT(n){return n>>>=0,n===0?32:31-(AT(n)/OT|0)|0}var Sl=256,wl=262144,El=4194304;function xs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xl(n,s,a){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,g=n.pingedLanes;n=n.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?d=xs(c):(g&=w,g!==0?d=xs(g):a||(a=w&~n,a!==0&&(d=xs(a))))):(w=c&~p,w!==0?d=xs(w):g!==0?d=xs(g):a||(a=c&~n,a!==0&&(d=xs(a)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:d}function Pa(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function RT(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cg(){var n=El;return El<<=1,(El&62914560)===0&&(El=4194304),n}function id(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function $a(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function NT(n,s,a,c,d,p){var g=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,x=n.expirationTimes,j=n.hiddenUpdates;for(a=g&~a;0<a;){var B=31-nn(a),$=1<<B;w[B]=0,x[B]=-1;var I=j[B];if(I!==null)for(j[B]=null,B=0;B<I.length;B++){var D=I[B];D!==null&&(D.lane&=-536870913)}a&=~$}c!==0&&ug(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(g&~s))}function ug(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-nn(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function dg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-nn(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}function fg(n,s){var a=s&-s;return a=(a&42)!==0?1:ad(a),(a&(n.suspendedLanes|s))!==0?0:a}function ad(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function od(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hg(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:Qv(n.type))}function pg(n,s){var a=q.p;try{return q.p=n,s()}finally{q.p=a}}var Dr=Math.random().toString(36).slice(2),At="__reactFiber$"+Dr,Ft="__reactProps$"+Dr,di="__reactContainer$"+Dr,ld="__reactEvents$"+Dr,jT="__reactListeners$"+Dr,MT="__reactHandles$"+Dr,mg="__reactResources$"+Dr,qa="__reactMarker$"+Dr;function cd(n){delete n[At],delete n[Ft],delete n[ld],delete n[jT],delete n[MT]}function fi(n){var s=n[At];if(s)return s;for(var a=n.parentNode;a;){if(s=a[di]||a[At]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Lv(n);n!==null;){if(a=n[At])return a;n=Lv(n)}return s}n=a,a=n.parentNode}return null}function hi(n){if(n=n[At]||n[di]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Fa(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function pi(n){var s=n[mg];return s||(s=n[mg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(n){n[qa]=!0}var gg=new Set,yg={};function Ts(n,s){mi(n,s),mi(n+"Capture",s)}function mi(n,s){for(yg[n]=s,n=0;n<s.length;n++)gg.add(s[n])}var IT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bg={},vg={};function DT(n){return ws.call(vg,n)?!0:ws.call(bg,n)?!1:IT.test(n)?vg[n]=!0:(bg[n]=!0,!1)}function Tl(n,s,a){if(DT(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function kl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function rr(n,s,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+c)}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _g(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function LT(n,s,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,p.call(this,g)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ud(n){if(!n._valueTracker){var s=_g(n)?"checked":"value";n._valueTracker=LT(n,s,""+n[s])}}function Sg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=_g(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Al(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var UT=/[\n"\\]/g;function vn(n){return n.replace(UT,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dd(n,s,a,c,d,p,g,w){n.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?n.type=g:n.removeAttribute("type"),s!=null?g==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+bn(s)):n.value!==""+bn(s)&&(n.value=""+bn(s)):g!=="submit"&&g!=="reset"||n.removeAttribute("value"),s!=null?fd(n,g,bn(s)):a!=null?fd(n,g,bn(a)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+bn(w):n.removeAttribute("name")}function wg(n,s,a,c,d,p,g,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){ud(n);return}a=a!=null?""+bn(a):"",s=s!=null?""+bn(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=w?n.checked:!!c,n.defaultChecked=!!c,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.name=g),ud(n)}function fd(n,s,a){s==="number"&&Al(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function gi(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+bn(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Eg(n,s,a){if(s!=null&&(s=""+bn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+bn(a):""}function xg(n,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(ke(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=bn(s),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),ud(n)}function yi(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var BT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tg(n,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,a):typeof a!="number"||a===0||BT.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function kg(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&a[d]!==c&&Tg(n,d,c)}else for(var p in s)s.hasOwnProperty(p)&&Tg(n,p,s[p])}function hd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(n){return HT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function sr(){}var pd=null;function md(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bi=null,vi=null;function Ag(n){var s=hi(n);if(s&&(n=s.stateNode)){var a=n[Ft]||null;e:switch(n=s.stateNode,s.type){case"input":if(dd(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=c[Ft]||null;if(!d)throw Error(i(90));dd(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===n.form&&Sg(c)}break e;case"textarea":Eg(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&gi(n,!!a.multiple,s,!1)}}}var gd=!1;function Og(n,s,a){if(gd)return n(s,a);gd=!0;try{var c=n(s);return c}finally{if(gd=!1,(bi!==null||vi!==null)&&(mc(),bi&&(s=bi,n=vi,vi=bi=null,Ag(s),n)))for(s=0;s<n.length;s++)Ag(n[s])}}function Ga(n,s){var a=n.stateNode;if(a===null)return null;var c=a[Ft]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=!1;if(ir)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){yd=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{yd=!1}var Lr=null,bd=null,Cl=null;function Cg(){if(Cl)return Cl;var n,s=bd,a=s.length,c,d="value"in Lr?Lr.value:Lr.textContent,p=d.length;for(n=0;n<a&&s[n]===d[n];n++);var g=a-n;for(c=1;c<=g&&s[a-c]===d[p-c];c++);return Cl=d.slice(n,1<c?1-c:void 0)}function Rl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Nl(){return!0}function Rg(){return!1}function Gt(n){function s(a,c,d,p,g){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=g,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Nl:Rg,this.isPropagationStopped=Rg,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),s}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Gt(ks),Ya=b({},ks,{view:0,detail:0}),PT=Gt(Ya),vd,_d,Ka,Ml=b({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ka&&(Ka&&n.type==="mousemove"?(vd=n.screenX-Ka.screenX,_d=n.screenY-Ka.screenY):_d=vd=0,Ka=n),vd)},movementY:function(n){return"movementY"in n?n.movementY:_d}}),Ng=Gt(Ml),$T=b({},Ml,{dataTransfer:0}),qT=Gt($T),FT=b({},Ya,{relatedTarget:0}),Sd=Gt(FT),GT=b({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),VT=Gt(GT),YT=b({},ks,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),KT=Gt(YT),WT=b({},ks,{data:0}),jg=Gt(WT),XT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZT(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=QT[n])?!!s[n]:!1}function wd(){return ZT}var e1=b({},Ya,{key:function(n){if(n.key){var s=XT[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Rl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?JT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(n){return n.type==="keypress"?Rl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Rl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),t1=Gt(e1),n1=b({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mg=Gt(n1),r1=b({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),s1=Gt(r1),i1=b({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),a1=Gt(i1),o1=b({},Ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),l1=Gt(o1),c1=b({},ks,{newState:0,oldState:0}),u1=Gt(c1),d1=[9,13,27,32],Ed=ir&&"CompositionEvent"in window,Wa=null;ir&&"documentMode"in document&&(Wa=document.documentMode);var f1=ir&&"TextEvent"in window&&!Wa,Ig=ir&&(!Ed||Wa&&8<Wa&&11>=Wa),Dg=" ",Lg=!1;function Ug(n,s){switch(n){case"keyup":return d1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _i=!1;function h1(n,s){switch(n){case"compositionend":return Bg(s);case"keypress":return s.which!==32?null:(Lg=!0,Dg);case"textInput":return n=s.data,n===Dg&&Lg?null:n;default:return null}}function p1(n,s){if(_i)return n==="compositionend"||!Ed&&Ug(n,s)?(n=Cg(),Cl=bd=Lr=null,_i=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ig&&s.locale!=="ko"?null:s.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!m1[n.type]:s==="textarea"}function Hg(n,s,a,c){bi?vi?vi.push(c):vi=[c]:bi=c,s=wc(s,"onChange"),0<s.length&&(a=new jl("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Xa=null,Ja=null;function g1(n){wv(n,0)}function Il(n){var s=Fa(n);if(Sg(s))return n}function Pg(n,s){if(n==="change")return s}var $g=!1;if(ir){var xd;if(ir){var Td="oninput"in document;if(!Td){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Td=typeof qg.oninput=="function"}xd=Td}else xd=!1;$g=xd&&(!document.documentMode||9<document.documentMode)}function Fg(){Xa&&(Xa.detachEvent("onpropertychange",Gg),Ja=Xa=null)}function Gg(n){if(n.propertyName==="value"&&Il(Ja)){var s=[];Hg(s,Ja,n,md(n)),Og(g1,s)}}function y1(n,s,a){n==="focusin"?(Fg(),Xa=s,Ja=a,Xa.attachEvent("onpropertychange",Gg)):n==="focusout"&&Fg()}function b1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Il(Ja)}function v1(n,s){if(n==="click")return Il(s)}function _1(n,s){if(n==="input"||n==="change")return Il(s)}function S1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var rn=typeof Object.is=="function"?Object.is:S1;function Qa(n,s){if(rn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!ws.call(s,d)||!rn(n[d],s[d]))return!1}return!0}function Vg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yg(n,s){var a=Vg(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vg(a)}}function Kg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Kg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Wg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Al(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Al(n.document)}return s}function kd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var w1=ir&&"documentMode"in document&&11>=document.documentMode,Si=null,Ad=null,Za=null,Od=!1;function Xg(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Od||Si==null||Si!==Al(c)||(c=Si,"selectionStart"in c&&kd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Za&&Qa(Za,c)||(Za=c,c=wc(Ad,"onSelect"),0<c.length&&(s=new jl("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Si)))}function As(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var wi={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Cd={},Jg={};ir&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Os(n){if(Cd[n])return Cd[n];if(!wi[n])return n;var s=wi[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jg)return Cd[n]=s[a];return n}var Qg=Os("animationend"),Zg=Os("animationiteration"),ey=Os("animationstart"),E1=Os("transitionrun"),x1=Os("transitionstart"),T1=Os("transitioncancel"),ty=Os("transitionend"),ny=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function In(n,s){ny.set(n,s),Ts(s,[n])}var Dl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},_n=[],Ei=0,Nd=0;function Ll(){for(var n=Ei,s=Nd=Ei=0;s<n;){var a=_n[s];_n[s++]=null;var c=_n[s];_n[s++]=null;var d=_n[s];_n[s++]=null;var p=_n[s];if(_n[s++]=null,c!==null&&d!==null){var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}p!==0&&ry(a,d,p)}}function Ul(n,s,a,c){_n[Ei++]=n,_n[Ei++]=s,_n[Ei++]=a,_n[Ei++]=c,Nd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function jd(n,s,a,c){return Ul(n,s,a,c),Bl(n)}function Cs(n,s){return Ul(n,null,null,s),Bl(n)}function ry(n,s,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var d=!1,p=n.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&s!==null&&(d=31-nn(a),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[s]:c.push(s),s.lane=a|536870912),p):null}function Bl(n){if(50<wo)throw wo=0,$f=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var xi={};function k1(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(n,s,a,c){return new k1(n,s,a,c)}function Md(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ar(n,s){var a=n.alternate;return a===null?(a=sn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function sy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function zl(n,s,a,c,d,p){var g=0;if(c=n,typeof n=="function")Md(n)&&(g=1);else if(typeof n=="string")g=Nk(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case le:return n=sn(31,a,s,d),n.elementType=le,n.lanes=p,n;case T:return Rs(a.children,d,p,s);case A:g=8,d|=24;break;case U:return n=sn(12,a,s,d|2),n.elementType=U,n.lanes=p,n;case K:return n=sn(13,a,s,d),n.elementType=K,n.lanes=p,n;case G:return n=sn(19,a,s,d),n.elementType=G,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:g=10;break e;case z:g=9;break e;case F:g=11;break e;case L:g=14;break e;case P:g=16,c=null;break e}g=29,a=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=sn(g,a,s,d),s.elementType=n,s.type=c,s.lanes=p,s}function Rs(n,s,a,c){return n=sn(7,n,c,s),n.lanes=a,n}function Id(n,s,a){return n=sn(6,n,null,s),n.lanes=a,n}function iy(n){var s=sn(18,null,null,0);return s.stateNode=n,s}function Dd(n,s,a){return s=sn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ay=new WeakMap;function Sn(n,s){if(typeof n=="object"&&n!==null){var a=ay.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Ss(s)},ay.set(n,s),s)}return{value:n,source:s,stack:Ss(s)}}var Ti=[],ki=0,Hl=null,eo=0,wn=[],En=0,Ur=null,Kn=1,Wn="";function or(n,s){Ti[ki++]=eo,Ti[ki++]=Hl,Hl=n,eo=s}function oy(n,s,a){wn[En++]=Kn,wn[En++]=Wn,wn[En++]=Ur,Ur=n;var c=Kn;n=Wn;var d=32-nn(c)-1;c&=~(1<<d),a+=1;var p=32-nn(s)+d;if(30<p){var g=d-d%5;p=(c&(1<<g)-1).toString(32),c>>=g,d-=g,Kn=1<<32-nn(s)+d|a<<d|c,Wn=p+n}else Kn=1<<p|a<<d|c,Wn=n}function Ld(n){n.return!==null&&(or(n,1),oy(n,1,0))}function Ud(n){for(;n===Hl;)Hl=Ti[--ki],Ti[ki]=null,eo=Ti[--ki],Ti[ki]=null;for(;n===Ur;)Ur=wn[--En],wn[En]=null,Wn=wn[--En],wn[En]=null,Kn=wn[--En],wn[En]=null}function ly(n,s){wn[En++]=Kn,wn[En++]=Wn,wn[En++]=Ur,Kn=s.id,Wn=s.overflow,Ur=n}var Ot=null,et=null,Me=!1,Br=null,xn=!1,Bd=Error(i(519));function zr(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(Sn(s,n)),Bd}function cy(n){var s=n.stateNode,a=n.type,c=n.memoizedProps;switch(s[At]=n,s[Ft]=c,a){case"dialog":Ce("cancel",s),Ce("close",s);break;case"iframe":case"object":case"embed":Ce("load",s);break;case"video":case"audio":for(a=0;a<xo.length;a++)Ce(xo[a],s);break;case"source":Ce("error",s);break;case"img":case"image":case"link":Ce("error",s),Ce("load",s);break;case"details":Ce("toggle",s);break;case"input":Ce("invalid",s),wg(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ce("invalid",s);break;case"textarea":Ce("invalid",s),xg(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||kv(s.textContent,a)?(c.popover!=null&&(Ce("beforetoggle",s),Ce("toggle",s)),c.onScroll!=null&&Ce("scroll",s),c.onScrollEnd!=null&&Ce("scrollend",s),c.onClick!=null&&(s.onclick=sr),s=!0):s=!1,s||zr(n,!0)}function uy(n){for(Ot=n.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Ot=Ot.return}}function Ai(n){if(n!==Ot)return!1;if(!Me)return uy(n),Me=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||rh(n.type,n.memoizedProps)),a=!a),a&&et&&zr(n),uy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=Dv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=Dv(n)}else s===27?(s=et,Zr(n.type)?(n=lh,lh=null,et=n):et=s):et=Ot?kn(n.stateNode.nextSibling):null;return!0}function Ns(){et=Ot=null,Me=!1}function zd(){var n=Br;return n!==null&&(Wt===null?Wt=n:Wt.push.apply(Wt,n),Br=null),n}function to(n){Br===null?Br=[n]:Br.push(n)}var Hd=ve(null),js=null,lr=null;function Hr(n,s,a){X(Hd,s._currentValue),s._currentValue=a}function cr(n){n._currentValue=Hd.current,ue(Hd)}function Pd(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function $d(n,s,a,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var g=d.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=d;for(var x=0;x<s.length;x++)if(w.context===s[x]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),Pd(p.return,a,n),c||(g=null);break e}p=w.next}}else if(d.tag===18){if(g=d.return,g===null)throw Error(i(341));g.lanes|=a,p=g.alternate,p!==null&&(p.lanes|=a),Pd(g,a,n),g=null}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===n){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}}function Oi(n,s,a,c){n=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var g=d.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var w=d.type;rn(d.pendingProps.value,g.value)||(n!==null?n.push(w):n=[w])}}else if(d===Ue.current){if(g=d.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Co):n=[Co])}d=d.return}n!==null&&$d(s,n,a,c),s.flags|=262144}function Pl(n){for(n=n.firstContext;n!==null;){if(!rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ms(n){js=n,lr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ct(n){return dy(js,n)}function $l(n,s){return js===null&&Ms(n),dy(n,s)}function dy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},lr===null){if(n===null)throw Error(i(308));lr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else lr=lr.next=s;return a}var A1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},O1=t.unstable_scheduleCallback,C1=t.unstable_NormalPriority,dt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new A1,data:new Map,refCount:0}}function no(n){n.refCount--,n.refCount===0&&O1(C1,function(){n.controller.abort()})}var ro=null,Fd=0,Ci=0,Ri=null;function R1(n,s){if(ro===null){var a=ro=[];Fd=0,Ci=Kf(),Ri={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Fd++,s.then(fy,fy),s}function fy(){if(--Fd===0&&ro!==null){Ri!==null&&(Ri.status="fulfilled");var n=ro;ro=null,Ci=0,Ri=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function N1(n,s){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var hy=M.S;M.S=function(n,s){Xb=ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&R1(n,s),hy!==null&&hy(n,s)};var Is=ve(null);function Gd(){var n=Is.current;return n!==null?n:Xe.pooledCache}function ql(n,s){s===null?X(Is,Is.current):X(Is,s.pool)}function py(){var n=Gd();return n===null?null:{parent:dt._currentValue,pool:n}}var Ni=Error(i(460)),Vd=Error(i(474)),Fl=Error(i(542)),Gl={then:function(){}};function my(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(sr,sr),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,by(n),n;default:if(typeof s.status=="string")s.then(sr,sr);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,by(n),n}throw Ls=s,Ni}}function Ds(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Ni):a}}var Ls=null;function yy(){if(Ls===null)throw Error(i(459));var n=Ls;return Ls=null,n}function by(n){if(n===Ni||n===Fl)throw Error(i(483))}var ji=null,so=0;function Vl(n){var s=so;return so+=1,ji===null&&(ji=[]),gy(ji,n,s)}function io(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Yl(n,s){throw s.$$typeof===_?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function vy(n){function s(O,k){if(n){var N=O.deletions;N===null?(O.deletions=[k],O.flags|=16):N.push(k)}}function a(O,k){if(!n)return null;for(;k!==null;)s(O,k),k=k.sibling;return null}function c(O){for(var k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function d(O,k){return O=ar(O,k),O.index=0,O.sibling=null,O}function p(O,k,N){return O.index=N,n?(N=O.alternate,N!==null?(N=N.index,N<k?(O.flags|=67108866,k):N):(O.flags|=67108866,k)):(O.flags|=1048576,k)}function g(O){return n&&O.alternate===null&&(O.flags|=67108866),O}function w(O,k,N,H){return k===null||k.tag!==6?(k=Id(N,O.mode,H),k.return=O,k):(k=d(k,N),k.return=O,k)}function x(O,k,N,H){var ae=N.type;return ae===T?B(O,k,N.props.children,H,N.key):k!==null&&(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===P&&Ds(ae)===k.type)?(k=d(k,N.props),io(k,N),k.return=O,k):(k=zl(N.type,N.key,N.props,null,O.mode,H),io(k,N),k.return=O,k)}function j(O,k,N,H){return k===null||k.tag!==4||k.stateNode.containerInfo!==N.containerInfo||k.stateNode.implementation!==N.implementation?(k=Dd(N,O.mode,H),k.return=O,k):(k=d(k,N.children||[]),k.return=O,k)}function B(O,k,N,H,ae){return k===null||k.tag!==7?(k=Rs(N,O.mode,H,ae),k.return=O,k):(k=d(k,N),k.return=O,k)}function $(O,k,N){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Id(""+k,O.mode,N),k.return=O,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return N=zl(k.type,k.key,k.props,null,O.mode,N),io(N,k),N.return=O,N;case E:return k=Dd(k,O.mode,N),k.return=O,k;case P:return k=Ds(k),$(O,k,N)}if(ke(k)||oe(k))return k=Rs(k,O.mode,N,null),k.return=O,k;if(typeof k.then=="function")return $(O,Vl(k),N);if(k.$$typeof===R)return $(O,$l(O,k),N);Yl(O,k)}return null}function I(O,k,N,H){var ae=k!==null?k.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ae!==null?null:w(O,k,""+N,H);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return N.key===ae?x(O,k,N,H):null;case E:return N.key===ae?j(O,k,N,H):null;case P:return N=Ds(N),I(O,k,N,H)}if(ke(N)||oe(N))return ae!==null?null:B(O,k,N,H,null);if(typeof N.then=="function")return I(O,k,Vl(N),H);if(N.$$typeof===R)return I(O,k,$l(O,N),H);Yl(O,N)}return null}function D(O,k,N,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return O=O.get(N)||null,w(k,O,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return O=O.get(H.key===null?N:H.key)||null,x(k,O,H,ae);case E:return O=O.get(H.key===null?N:H.key)||null,j(k,O,H,ae);case P:return H=Ds(H),D(O,k,N,H,ae)}if(ke(H)||oe(H))return O=O.get(N)||null,B(k,O,H,ae,null);if(typeof H.then=="function")return D(O,k,N,Vl(H),ae);if(H.$$typeof===R)return D(O,k,N,$l(k,H),ae);Yl(k,H)}return null}function J(O,k,N,H){for(var ae=null,He=null,te=k,we=k=0,Ne=null;te!==null&&we<N.length;we++){te.index>we?(Ne=te,te=null):Ne=te.sibling;var Pe=I(O,te,N[we],H);if(Pe===null){te===null&&(te=Ne);break}n&&te&&Pe.alternate===null&&s(O,te),k=p(Pe,k,we),He===null?ae=Pe:He.sibling=Pe,He=Pe,te=Ne}if(we===N.length)return a(O,te),Me&&or(O,we),ae;if(te===null){for(;we<N.length;we++)te=$(O,N[we],H),te!==null&&(k=p(te,k,we),He===null?ae=te:He.sibling=te,He=te);return Me&&or(O,we),ae}for(te=c(te);we<N.length;we++)Ne=D(te,O,we,N[we],H),Ne!==null&&(n&&Ne.alternate!==null&&te.delete(Ne.key===null?we:Ne.key),k=p(Ne,k,we),He===null?ae=Ne:He.sibling=Ne,He=Ne);return n&&te.forEach(function(ss){return s(O,ss)}),Me&&or(O,we),ae}function de(O,k,N,H){if(N==null)throw Error(i(151));for(var ae=null,He=null,te=k,we=k=0,Ne=null,Pe=N.next();te!==null&&!Pe.done;we++,Pe=N.next()){te.index>we?(Ne=te,te=null):Ne=te.sibling;var ss=I(O,te,Pe.value,H);if(ss===null){te===null&&(te=Ne);break}n&&te&&ss.alternate===null&&s(O,te),k=p(ss,k,we),He===null?ae=ss:He.sibling=ss,He=ss,te=Ne}if(Pe.done)return a(O,te),Me&&or(O,we),ae;if(te===null){for(;!Pe.done;we++,Pe=N.next())Pe=$(O,Pe.value,H),Pe!==null&&(k=p(Pe,k,we),He===null?ae=Pe:He.sibling=Pe,He=Pe);return Me&&or(O,we),ae}for(te=c(te);!Pe.done;we++,Pe=N.next())Pe=D(te,O,we,Pe.value,H),Pe!==null&&(n&&Pe.alternate!==null&&te.delete(Pe.key===null?we:Pe.key),k=p(Pe,k,we),He===null?ae=Pe:He.sibling=Pe,He=Pe);return n&&te.forEach(function($k){return s(O,$k)}),Me&&or(O,we),ae}function We(O,k,N,H){if(typeof N=="object"&&N!==null&&N.type===T&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case S:e:{for(var ae=N.key;k!==null;){if(k.key===ae){if(ae=N.type,ae===T){if(k.tag===7){a(O,k.sibling),H=d(k,N.props.children),H.return=O,O=H;break e}}else if(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===P&&Ds(ae)===k.type){a(O,k.sibling),H=d(k,N.props),io(H,N),H.return=O,O=H;break e}a(O,k);break}else s(O,k);k=k.sibling}N.type===T?(H=Rs(N.props.children,O.mode,H,N.key),H.return=O,O=H):(H=zl(N.type,N.key,N.props,null,O.mode,H),io(H,N),H.return=O,O=H)}return g(O);case E:e:{for(ae=N.key;k!==null;){if(k.key===ae)if(k.tag===4&&k.stateNode.containerInfo===N.containerInfo&&k.stateNode.implementation===N.implementation){a(O,k.sibling),H=d(k,N.children||[]),H.return=O,O=H;break e}else{a(O,k);break}else s(O,k);k=k.sibling}H=Dd(N,O.mode,H),H.return=O,O=H}return g(O);case P:return N=Ds(N),We(O,k,N,H)}if(ke(N))return J(O,k,N,H);if(oe(N)){if(ae=oe(N),typeof ae!="function")throw Error(i(150));return N=ae.call(N),de(O,k,N,H)}if(typeof N.then=="function")return We(O,k,Vl(N),H);if(N.$$typeof===R)return We(O,k,$l(O,N),H);Yl(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,k!==null&&k.tag===6?(a(O,k.sibling),H=d(k,N),H.return=O,O=H):(a(O,k),H=Id(N,O.mode,H),H.return=O,O=H),g(O)):a(O,k)}return function(O,k,N,H){try{so=0;var ae=We(O,k,N,H);return ji=null,ae}catch(te){if(te===Ni||te===Fl)throw te;var He=sn(29,te,null,O.mode);return He.lanes=H,He.return=O,He}finally{}}}var Us=vy(!0),_y=vy(!1),Pr=!1;function Yd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qr(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Bl(n),ry(n,null,a),s}return Ul(n,c,s,a),Bl(n)}function ao(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,dg(n,a)}}function Wd(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=g:p=p.next=g,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Xd=!1;function oo(){if(Xd){var n=Ri;if(n!==null)throw n}}function lo(n,s,a,c){Xd=!1;var d=n.updateQueue;Pr=!1;var p=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var x=w,j=x.next;x.next=null,g===null?p=j:g.next=j,g=x;var B=n.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==g&&(w===null?B.firstBaseUpdate=j:w.next=j,B.lastBaseUpdate=x))}if(p!==null){var $=d.baseState;g=0,B=j=x=null,w=p;do{var I=w.lane&-536870913,D=I!==w.lane;if(D?(Re&I)===I:(c&I)===I){I!==0&&I===Ci&&(Xd=!0),B!==null&&(B=B.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var J=n,de=w;I=s;var We=a;switch(de.tag){case 1:if(J=de.payload,typeof J=="function"){$=J.call(We,$,I);break e}$=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=de.payload,I=typeof J=="function"?J.call(We,$,I):J,I==null)break e;$=b({},$,I);break e;case 2:Pr=!0}}I=w.callback,I!==null&&(n.flags|=64,D&&(n.flags|=8192),D=d.callbacks,D===null?d.callbacks=[I]:D.push(I))}else D={lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(j=B=D,x=$):B=B.next=D,g|=I;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;D=w,w=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);B===null&&(x=$),d.baseState=x,d.firstBaseUpdate=j,d.lastBaseUpdate=B,p===null&&(d.shared.lanes=0),Kr|=g,n.lanes=g,n.memoizedState=$}}function Sy(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function wy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Sy(a[n],s)}var Mi=ve(null),Kl=ve(0);function Ey(n,s){n=br,X(Kl,n),X(Mi,s),br=n|s.baseLanes}function Jd(){X(Kl,br),X(Mi,Mi.current)}function Qd(){br=Kl.current,ue(Mi),ue(Kl)}var an=ve(null),Tn=null;function Fr(n){var s=n.alternate;X(ct,ct.current&1),X(an,n),Tn===null&&(s===null||Mi.current!==null||s.memoizedState!==null)&&(Tn=n)}function Zd(n){X(ct,ct.current),X(an,n),Tn===null&&(Tn=n)}function xy(n){n.tag===22?(X(ct,ct.current),X(an,n),Tn===null&&(Tn=n)):Gr()}function Gr(){X(ct,ct.current),X(an,an.current)}function on(n){ue(an),Tn===n&&(Tn=null),ue(ct)}var ct=ve(0);function Wl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ah(a)||oh(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ur=0,Se=null,Ye=null,ft=null,Xl=!1,Ii=!1,Bs=!1,Jl=0,co=0,Di=null,j1=0;function it(){throw Error(i(321))}function ef(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!rn(n[a],s[a]))return!1;return!0}function tf(n,s,a,c,d,p){return ur=p,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=n===null||n.memoizedState===null?ob:yf,Bs=!1,p=a(c,d),Bs=!1,Ii&&(p=ky(s,a,c,d)),Ty(n),p}function Ty(n){M.H=ho;var s=Ye!==null&&Ye.next!==null;if(ur=0,ft=Ye=Se=null,Xl=!1,co=0,Di=null,s)throw Error(i(300));n===null||ht||(n=n.dependencies,n!==null&&Pl(n)&&(ht=!0))}function ky(n,s,a,c){Se=n;var d=0;do{if(Ii&&(Di=null),co=0,Ii=!1,25<=d)throw Error(i(301));if(d+=1,ft=Ye=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}M.H=lb,p=s(a,c)}while(Ii);return p}function M1(){var n=M.H,s=n.useState()[0];return s=typeof s.then=="function"?uo(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Se.flags|=1024),s}function nf(){var n=Jl!==0;return Jl=0,n}function rf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function sf(n){if(Xl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xl=!1}ur=0,ft=Ye=Se=null,Ii=!1,co=Jl=0,Di=null}function Ut(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Se.memoizedState=ft=n:ft=ft.next=n,ft}function ut(){if(Ye===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=ft===null?Se.memoizedState:ft.next;if(s!==null)ft=s,Ye=n;else{if(n===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ft===null?Se.memoizedState=ft=n:ft=ft.next=n}return ft}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(n){var s=co;return co+=1,Di===null&&(Di=[]),n=gy(Di,n,s),s=Se,(ft===null?s.memoizedState:ft.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?ob:yf),n}function Zl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return uo(n);if(n.$$typeof===R)return Ct(n)}throw Error(i(438,String(n)))}function af(n){var s=null,a=Se.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Se.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ql(),Se.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),c=0;c<n;c++)a[c]=W;return s.index++,a}function dr(n,s){return typeof s=="function"?s(n):s}function ec(n){var s=ut();return of(s,Ye,n)}function of(n,s,a){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var g=d.next;d.next=p.next,p.next=g}s.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{s=d.next;var w=g=null,x=null,j=s,B=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Re&$)===$:(ur&$)===$){var I=j.revertLane;if(I===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ci&&(B=!0);else if((ur&I)===I){j=j.next,I===Ci&&(B=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(w=x=$,g=p):x=x.next=$,Se.lanes|=I,Kr|=I;$=j.action,Bs&&a(p,$),p=j.hasEagerState?j.eagerState:a(p,$)}else I={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(w=x=I,g=p):x=x.next=I,Se.lanes|=$,Kr|=$;j=j.next}while(j!==null&&j!==s);if(x===null?g=p:x.next=w,!rn(p,n.memoizedState)&&(ht=!0,B&&(a=Ri,a!==null)))throw a;n.memoizedState=p,n.baseState=g,n.baseQueue=x,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function lf(n){var s=ut(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var g=d=d.next;do p=n(p,g.action),g=g.next;while(g!==d);rn(p,s.memoizedState)||(ht=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function Ay(n,s,a){var c=Se,d=ut(),p=Me;if(p){if(a===void 0)throw Error(i(407));a=a()}else a=s();var g=!rn((Ye||d).memoizedState,a);if(g&&(d.memoizedState=a,ht=!0),d=d.queue,df(Ry.bind(null,c,d,n),[n]),d.getSnapshot!==s||g||ft!==null&&ft.memoizedState.tag&1){if(c.flags|=2048,Li(9,{destroy:void 0},Cy.bind(null,c,d,a,s),null),Xe===null)throw Error(i(349));p||(ur&127)!==0||Oy(c,s,a)}return a}function Oy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Se.updateQueue,s===null?(s=Ql(),Se.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Cy(n,s,a,c){s.value=a,s.getSnapshot=c,Ny(s)&&jy(n)}function Ry(n,s,a){return a(function(){Ny(s)&&jy(n)})}function Ny(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!rn(n,a)}catch{return!0}}function jy(n){var s=Cs(n,2);s!==null&&Xt(s,n,2)}function cf(n){var s=Ut();if(typeof n=="function"){var a=n;if(n=a(),Bs){Ir(!0);try{a()}finally{Ir(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:n},s}function My(n,s,a,c){return n.baseState=a,of(n,Ye,typeof c=="function"?c:dr)}function I1(n,s,a,c,d){if(rc(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){p.listeners.push(g)}};M.T!==null?a(!0):p.isTransition=!1,c(p),a=s.pending,a===null?(p.next=s.pending=p,Iy(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Iy(n,s){var a=s.action,c=s.payload,d=n.state;if(s.isTransition){var p=M.T,g={};M.T=g;try{var w=a(d,c),x=M.S;x!==null&&x(g,w),Dy(n,s,w)}catch(j){uf(n,s,j)}finally{p!==null&&g.types!==null&&(p.types=g.types),M.T=p}}else try{p=a(d,c),Dy(n,s,p)}catch(j){uf(n,s,j)}}function Dy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Ly(n,s,c)},function(c){return uf(n,s,c)}):Ly(n,s,a)}function Ly(n,s,a){s.status="fulfilled",s.value=a,Uy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Iy(n,a)))}function uf(n,s,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,Uy(s),s=s.next;while(s!==c)}n.action=null}function Uy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function By(n,s){return s}function zy(n,s){if(Me){var a=Xe.formState;if(a!==null){e:{var c=Se;if(Me){if(et){t:{for(var d=et,p=xn;d.nodeType!==8;){if(!p){d=null;break t}if(d=kn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){et=kn(d.nextSibling),c=d.data==="F!";break e}}zr(c)}c=!1}c&&(s=a[0])}}return a=Ut(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:s},a.queue=c,a=sb.bind(null,Se,c),c.dispatch=a,c=cf(!1),p=gf.bind(null,Se,!1,c.queue),c=Ut(),d={state:s,dispatch:null,action:n,pending:null},c.queue=d,a=I1.bind(null,Se,d,p,a),d.dispatch=a,c.memoizedState=n,[s,a,!1]}function Hy(n){var s=ut();return Py(s,Ye,n)}function Py(n,s,a){if(s=of(n,s,By)[0],n=ec(dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=uo(s)}catch(g){throw g===Ni?Fl:g}else c=s;s=ut();var d=s.queue,p=d.dispatch;return a!==s.memoizedState&&(Se.flags|=2048,Li(9,{destroy:void 0},D1.bind(null,d,a),null)),[c,p,n]}function D1(n,s){n.action=s}function $y(n){var s=ut(),a=Ye;if(a!==null)return Py(s,a,n);ut(),s=s.memoizedState,a=ut();var c=a.queue.dispatch;return a.memoizedState=n,[s,c,!1]}function Li(n,s,a,c){return n={tag:n,create:a,deps:c,inst:s,next:null},s=Se.updateQueue,s===null&&(s=Ql(),Se.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n),n}function qy(){return ut().memoizedState}function tc(n,s,a,c){var d=Ut();Se.flags|=n,d.memoizedState=Li(1|s,{destroy:void 0},a,c===void 0?null:c)}function nc(n,s,a,c){var d=ut();c=c===void 0?null:c;var p=d.memoizedState.inst;Ye!==null&&c!==null&&ef(c,Ye.memoizedState.deps)?d.memoizedState=Li(s,p,a,c):(Se.flags|=n,d.memoizedState=Li(1|s,p,a,c))}function Fy(n,s){tc(8390656,8,n,s)}function df(n,s){nc(2048,8,n,s)}function L1(n){Se.flags|=4;var s=Se.updateQueue;if(s===null)s=Ql(),Se.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Gy(n){var s=ut().memoizedState;return L1({ref:s,nextImpl:n}),function(){if(($e&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Vy(n,s){return nc(4,2,n,s)}function Yy(n,s){return nc(4,4,n,s)}function Ky(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Wy(n,s,a){a=a!=null?a.concat([n]):null,nc(4,4,Ky.bind(null,s,n),a)}function ff(){}function Xy(n,s){var a=ut();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&ef(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Jy(n,s){var a=ut();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&ef(s,c[1]))return c[0];if(c=n(),Bs){Ir(!0);try{n()}finally{Ir(!1)}}return a.memoizedState=[c,s],c}function hf(n,s,a){return a===void 0||(ur&1073741824)!==0&&(Re&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Qb(),Se.lanes|=n,Kr|=n,a)}function Qy(n,s,a,c){return rn(a,s)?a:Mi.current!==null?(n=hf(n,a,c),rn(n,s)||(ht=!0),n):(ur&42)===0||(ur&1073741824)!==0&&(Re&261930)===0?(ht=!0,n.memoizedState=a):(n=Qb(),Se.lanes|=n,Kr|=n,s)}function Zy(n,s,a,c,d){var p=q.p;q.p=p!==0&&8>p?p:8;var g=M.T,w={};M.T=w,gf(n,!1,s,a);try{var x=d(),j=M.S;if(j!==null&&j(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=N1(x,c);fo(n,s,B,un(n))}else fo(n,s,c,un(n))}catch($){fo(n,s,{then:function(){},status:"rejected",reason:$},un())}finally{q.p=p,g!==null&&w.types!==null&&(g.types=w.types),M.T=g}}function U1(){}function pf(n,s,a,c){if(n.tag!==5)throw Error(i(476));var d=eb(n).queue;Zy(n,d,s,C,a===null?U1:function(){return tb(n),a(c)})}function eb(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:C},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function tb(n){var s=eb(n);s.next===null&&(s=n.alternate.memoizedState),fo(n,s.next.queue,{},un())}function mf(){return Ct(Co)}function nb(){return ut().memoizedState}function rb(){return ut().memoizedState}function B1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=un();n=$r(a);var c=qr(s,n,a);c!==null&&(Xt(c,s,a),ao(c,s,a)),s={cache:qd()},n.payload=s;return}s=s.return}}function z1(n,s,a){var c=un();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(n)?ib(s,a):(a=jd(n,s,a,c),a!==null&&(Xt(a,n,c),ab(a,s,c)))}function sb(n,s,a){var c=un();fo(n,s,a,c)}function fo(n,s,a,c){var d={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(n))ib(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var g=s.lastRenderedState,w=p(g,a);if(d.hasEagerState=!0,d.eagerState=w,rn(w,g))return Ul(n,s,d,0),Xe===null&&Ll(),!1}catch{}finally{}if(a=jd(n,s,d,c),a!==null)return Xt(a,n,c),ab(a,s,c),!0}return!1}function gf(n,s,a,c){if(c={lane:2,revertLane:Kf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},rc(n)){if(s)throw Error(i(479))}else s=jd(n,a,c,2),s!==null&&Xt(s,n,2)}function rc(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function ib(n,s){Ii=Xl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function ab(n,s,a){if((a&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,dg(n,a)}}var ho={readContext:Ct,use:Zl,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};ho.useEffectEvent=it;var ob={readContext:Ct,use:Zl,useCallback:function(n,s){return Ut().memoizedState=[n,s===void 0?null:s],n},useContext:Ct,useEffect:Fy,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,tc(4194308,4,Ky.bind(null,s,n),a)},useLayoutEffect:function(n,s){return tc(4194308,4,n,s)},useInsertionEffect:function(n,s){tc(4,2,n,s)},useMemo:function(n,s){var a=Ut();s=s===void 0?null:s;var c=n();if(Bs){Ir(!0);try{n()}finally{Ir(!1)}}return a.memoizedState=[c,s],c},useReducer:function(n,s,a){var c=Ut();if(a!==void 0){var d=a(s);if(Bs){Ir(!0);try{a(s)}finally{Ir(!1)}}}else d=s;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=z1.bind(null,Se,n),[c.memoizedState,n]},useRef:function(n){var s=Ut();return n={current:n},s.memoizedState=n},useState:function(n){n=cf(n);var s=n.queue,a=sb.bind(null,Se,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(n,s){var a=Ut();return hf(a,n,s)},useTransition:function(){var n=cf(!1);return n=Zy.bind(null,Se,n.queue,!0,!1),Ut().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var c=Se,d=Ut();if(Me){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Xe===null)throw Error(i(349));(Re&127)!==0||Oy(c,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,Fy(Ry.bind(null,c,p,n),[n]),c.flags|=2048,Li(9,{destroy:void 0},Cy.bind(null,c,p,a,s),null),a},useId:function(){var n=Ut(),s=Xe.identifierPrefix;if(Me){var a=Wn,c=Kn;a=(c&~(1<<32-nn(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Jl++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=j1++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:mf,useFormState:zy,useActionState:zy,useOptimistic:function(n){var s=Ut();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=gf.bind(null,Se,!0,a),a.dispatch=s,[n,s]},useMemoCache:af,useCacheRefresh:function(){return Ut().memoizedState=B1.bind(null,Se)},useEffectEvent:function(n){var s=Ut(),a={impl:n};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},yf={readContext:Ct,use:Zl,useCallback:Xy,useContext:Ct,useEffect:df,useImperativeHandle:Wy,useInsertionEffect:Vy,useLayoutEffect:Yy,useMemo:Jy,useReducer:ec,useRef:qy,useState:function(){return ec(dr)},useDebugValue:ff,useDeferredValue:function(n,s){var a=ut();return Qy(a,Ye.memoizedState,n,s)},useTransition:function(){var n=ec(dr)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:uo(n),s]},useSyncExternalStore:Ay,useId:nb,useHostTransitionStatus:mf,useFormState:Hy,useActionState:Hy,useOptimistic:function(n,s){var a=ut();return My(a,Ye,n,s)},useMemoCache:af,useCacheRefresh:rb};yf.useEffectEvent=Gy;var lb={readContext:Ct,use:Zl,useCallback:Xy,useContext:Ct,useEffect:df,useImperativeHandle:Wy,useInsertionEffect:Vy,useLayoutEffect:Yy,useMemo:Jy,useReducer:lf,useRef:qy,useState:function(){return lf(dr)},useDebugValue:ff,useDeferredValue:function(n,s){var a=ut();return Ye===null?hf(a,n,s):Qy(a,Ye.memoizedState,n,s)},useTransition:function(){var n=lf(dr)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:uo(n),s]},useSyncExternalStore:Ay,useId:nb,useHostTransitionStatus:mf,useFormState:$y,useActionState:$y,useOptimistic:function(n,s){var a=ut();return Ye!==null?My(a,Ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:af,useCacheRefresh:rb};lb.useEffectEvent=Gy;function bf(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:b({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vf={enqueueSetState:function(n,s,a){n=n._reactInternals;var c=un(),d=$r(c);d.payload=s,a!=null&&(d.callback=a),s=qr(n,d,c),s!==null&&(Xt(s,n,c),ao(s,n,c))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=un(),d=$r(c);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=qr(n,d,c),s!==null&&(Xt(s,n,c),ao(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=un(),c=$r(a);c.tag=2,s!=null&&(c.callback=s),s=qr(n,c,a),s!==null&&(Xt(s,n,a),ao(s,n,a))}};function cb(n,s,a,c,d,p,g){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,g):s.prototype&&s.prototype.isPureReactComponent?!Qa(a,c)||!Qa(d,p):!0}function ub(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&vf.enqueueReplaceState(s,s.state,null)}function zs(n,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(n=n.defaultProps){a===s&&(a=b({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function db(n){Dl(n)}function fb(n){console.error(n)}function hb(n){Dl(n)}function sc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function pb(n,s,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _f(n,s,a){return a=$r(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(n,s)},a}function mb(n){return n=$r(n),n.tag=3,n}function gb(n,s,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){pb(s,a,c)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(n.callback=function(){pb(s,a,c),typeof d!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function H1(n,s,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Oi(s,a,d,!0),a=an.current,a!==null){switch(a.tag){case 31:case 13:return Tn===null?gc():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===Gl?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Gf(n,c,d)),!1;case 22:return a.flags|=65536,c===Gl?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Gf(n,c,d)),!1}throw Error(i(435,a.tag))}return Gf(n,c,d),gc(),!1}if(Me)return s=an.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Bd&&(n=Error(i(422),{cause:c}),to(Sn(n,a)))):(c!==Bd&&(s=Error(i(423),{cause:c}),to(Sn(s,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Sn(c,a),d=_f(n.stateNode,c,d),Wd(n,d),at!==4&&(at=2)),!1;var p=Error(i(520),{cause:c});if(p=Sn(p,a),So===null?So=[p]:So.push(p),at!==4&&(at=2),s===null)return!0;c=Sn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=_f(a.stateNode,c,n),Wd(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wr===null||!Wr.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=mb(d),gb(d,n,a,c),Wd(a,d),!1}a=a.return}while(a!==null);return!1}var Sf=Error(i(461)),ht=!1;function Rt(n,s,a,c){s.child=n===null?_y(s,null,a,c):Us(s,n.child,a,c)}function yb(n,s,a,c,d){a=a.render;var p=s.ref;if("ref"in c){var g={};for(var w in c)w!=="ref"&&(g[w]=c[w])}else g=c;return Ms(s),c=tf(n,s,a,g,p,d),w=nf(),n!==null&&!ht?(rf(n,s,d),fr(n,s,d)):(Me&&w&&Ld(s),s.flags|=1,Rt(n,s,c,d),s.child)}function bb(n,s,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!Md(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,vb(n,s,p,c,d)):(n=zl(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Cf(n,d)){var g=p.memoizedProps;if(a=a.compare,a=a!==null?a:Qa,a(g,c)&&n.ref===s.ref)return fr(n,s,d)}return s.flags|=1,n=ar(p,c),n.ref=s.ref,n.return=s,s.child=n}function vb(n,s,a,c,d){if(n!==null){var p=n.memoizedProps;if(Qa(p,c)&&n.ref===s.ref)if(ht=!1,s.pendingProps=c=p,Cf(n,d))(n.flags&131072)!==0&&(ht=!0);else return s.lanes=n.lanes,fr(n,s,d)}return wf(n,s,a,c,d)}function _b(n,s,a,c){var d=c.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(c=s.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,s.child=null;return Sb(n,s,p,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ql(s,p!==null?p.cachePool:null),p!==null?Ey(s,p):Jd(),xy(s);else return c=s.lanes=536870912,Sb(n,s,p!==null?p.baseLanes|a:a,a,c)}else p!==null?(ql(s,p.cachePool),Ey(s,p),Gr(),s.memoizedState=null):(n!==null&&ql(s,null),Jd(),Gr());return Rt(n,s,d,a),s.child}function po(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Sb(n,s,a,c,d){var p=Gd();return p=p===null?null:{parent:dt._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&ql(s,null),Jd(),xy(s),n!==null&&Oi(n,s,c,!0),s.childLanes=d,null}function ic(n,s){return s=oc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function wb(n,s,a){return Us(s,n.child,null,a),n=ic(s,s.pendingProps),n.flags|=2,on(s),s.memoizedState=null,n}function P1(n,s,a){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Me){if(c.mode==="hidden")return n=ic(s,c),s.lanes=536870912,po(null,n);if(Zd(s),(n=et)?(n=Iv(n,xn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Kn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},a=iy(n),a.return=s,s.child=a,Ot=s,et=null)):n=null,n===null)throw zr(s);return s.lanes=536870912,null}return ic(s,c)}var p=n.memoizedState;if(p!==null){var g=p.dehydrated;if(Zd(s),d)if(s.flags&256)s.flags&=-257,s=wb(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(ht||Oi(n,s,a,!1),d=(a&n.childLanes)!==0,ht||d){if(c=Xe,c!==null&&(g=fg(c,a),g!==0&&g!==p.retryLane))throw p.retryLane=g,Cs(n,g),Xt(c,n,g),Sf;gc(),s=wb(n,s,a)}else n=p.treeContext,et=kn(g.nextSibling),Ot=s,Me=!0,Br=null,xn=!1,n!==null&&ly(s,n),s=ic(s,c),s.flags|=4096;return s}return n=ar(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ac(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function wf(n,s,a,c,d){return Ms(s),a=tf(n,s,a,c,void 0,d),c=nf(),n!==null&&!ht?(rf(n,s,d),fr(n,s,d)):(Me&&c&&Ld(s),s.flags|=1,Rt(n,s,a,d),s.child)}function Eb(n,s,a,c,d,p){return Ms(s),s.updateQueue=null,a=ky(s,c,a,d),Ty(n),c=nf(),n!==null&&!ht?(rf(n,s,p),fr(n,s,p)):(Me&&c&&Ld(s),s.flags|=1,Rt(n,s,a,p),s.child)}function xb(n,s,a,c,d){if(Ms(s),s.stateNode===null){var p=xi,g=a.contextType;typeof g=="object"&&g!==null&&(p=Ct(g)),p=new a(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=vf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},Yd(s),g=a.contextType,p.context=typeof g=="object"&&g!==null?Ct(g):xi,p.state=s.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(bf(s,a,g,c),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(g=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),g!==p.state&&vf.enqueueReplaceState(p,p.state,null),lo(s,c,p,d),oo(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){p=s.stateNode;var w=s.memoizedProps,x=zs(a,w);p.props=x;var j=p.context,B=a.contextType;g=xi,typeof B=="object"&&B!==null&&(g=Ct(B));var $=a.getDerivedStateFromProps;B=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||j!==g)&&ub(s,p,c,g),Pr=!1;var I=s.memoizedState;p.state=I,lo(s,c,p,d),oo(),j=s.memoizedState,w||I!==j||Pr?(typeof $=="function"&&(bf(s,a,$,c),j=s.memoizedState),(x=Pr||cb(s,a,x,c,I,j,g))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=j),p.props=c,p.state=j,p.context=g,c=x):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,Kd(n,s),g=s.memoizedProps,B=zs(a,g),p.props=B,$=s.pendingProps,I=p.context,j=a.contextType,x=xi,typeof j=="object"&&j!==null&&(x=Ct(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==$||I!==x)&&ub(s,p,c,x),Pr=!1,I=s.memoizedState,p.state=I,lo(s,c,p,d),oo();var D=s.memoizedState;g!==$||I!==D||Pr||n!==null&&n.dependencies!==null&&Pl(n.dependencies)?(typeof w=="function"&&(bf(s,a,w,c),D=s.memoizedState),(B=Pr||cb(s,a,B,c,I,D,x)||n!==null&&n.dependencies!==null&&Pl(n.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,D,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,D,x)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=D),p.props=c,p.state=D,p.context=x,c=B):(typeof p.componentDidUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&I===n.memoizedState||(s.flags|=1024),c=!1)}return p=c,ac(n,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&c?(s.child=Us(s,n.child,null,d),s.child=Us(s,null,a,d)):Rt(n,s,a,d),s.memoizedState=p.state,n=s.child):n=fr(n,s,d),n}function Tb(n,s,a,c){return Ns(),s.flags|=256,Rt(n,s,a,c),s.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(n){return{baseLanes:n,cachePool:py()}}function Tf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=cn),n}function kb(n,s,a){var c=s.pendingProps,d=!1,p=(s.flags&128)!==0,g;if((g=p)||(g=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),g&&(d=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,n===null){if(Me){if(d?Fr(s):Gr(),(n=et)?(n=Iv(n,xn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Kn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},a=iy(n),a.return=s,s.child=a,Ot=s,et=null)):n=null,n===null)throw zr(s);return oh(n)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(Gr(),d=s.mode,w=oc({mode:"hidden",children:w},d),c=Rs(c,d,a,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=xf(a),c.childLanes=Tf(n,g,a),s.memoizedState=Ef,po(null,c)):(Fr(s),kf(s,w))}var x=n.memoizedState;if(x!==null&&(w=x.dehydrated,w!==null)){if(p)s.flags&256?(Fr(s),s.flags&=-257,s=Af(n,s,a)):s.memoizedState!==null?(Gr(),s.child=n.child,s.flags|=128,s=null):(Gr(),w=c.fallback,d=s.mode,c=oc({mode:"visible",children:c.children},d),w=Rs(w,d,a,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Us(s,n.child,null,a),c=s.child,c.memoizedState=xf(a),c.childLanes=Tf(n,g,a),s.memoizedState=Ef,s=po(null,c));else if(Fr(s),oh(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var j=g.dgst;g=j,c=Error(i(419)),c.stack="",c.digest=g,to({value:c,source:null,stack:null}),s=Af(n,s,a)}else if(ht||Oi(n,s,a,!1),g=(a&n.childLanes)!==0,ht||g){if(g=Xe,g!==null&&(c=fg(g,a),c!==0&&c!==x.retryLane))throw x.retryLane=c,Cs(n,c),Xt(g,n,c),Sf;ah(w)||gc(),s=Af(n,s,a)}else ah(w)?(s.flags|=192,s.child=n.child,s=null):(n=x.treeContext,et=kn(w.nextSibling),Ot=s,Me=!0,Br=null,xn=!1,n!==null&&ly(s,n),s=kf(s,c.children),s.flags|=4096);return s}return d?(Gr(),w=c.fallback,d=s.mode,x=n.child,j=x.sibling,c=ar(x,{mode:"hidden",children:c.children}),c.subtreeFlags=x.subtreeFlags&65011712,j!==null?w=ar(j,w):(w=Rs(w,d,a,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,po(null,c),c=s.child,w=n.child.memoizedState,w===null?w=xf(a):(d=w.cachePool,d!==null?(x=dt._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=py(),w={baseLanes:w.baseLanes|a,cachePool:d}),c.memoizedState=w,c.childLanes=Tf(n,g,a),s.memoizedState=Ef,po(n.child,c)):(Fr(s),a=n.child,n=a.sibling,a=ar(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,n!==null&&(g=s.deletions,g===null?(s.deletions=[n],s.flags|=16):g.push(n)),s.child=a,s.memoizedState=null,a)}function kf(n,s){return s=oc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function oc(n,s){return n=sn(22,n,null,s),n.lanes=0,n}function Af(n,s,a){return Us(s,n.child,null,a),n=kf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ab(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Pd(n.return,s,a)}function Of(n,s,a,c,d,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d,treeForkCount:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d,g.treeForkCount=p)}function Ob(n,s,a){var c=s.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var g=ct.current,w=(g&2)!==0;if(w?(g=g&1|2,s.flags|=128):g&=1,X(ct,g),Rt(n,s,c,a),c=Me?eo:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ab(n,a,s);else if(n.tag===19)Ab(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Wl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Of(s,!1,d,a,p,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Wl(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Of(s,!0,a,null,p,c);break;case"together":Of(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function fr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Kr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Oi(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=ar(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ar(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Cf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Pl(n)))}function $1(n,s,a){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),Hr(s,dt,n.memoizedState.cache),Ns();break;case 27:case 5:qt(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:Hr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Fr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?kb(n,s,a):(Fr(s),n=fr(n,s,a),n!==null?n.sibling:null);Fr(s);break;case 19:var d=(n.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Oi(n,s,a,!1),c=(a&s.childLanes)!==0),d){if(c)return Ob(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(ct,ct.current),c)break;return null;case 22:return s.lanes=0,_b(n,s,a,s.pendingProps);case 24:Hr(s,dt,n.memoizedState.cache)}return fr(n,s,a)}function Cb(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ht=!0;else{if(!Cf(n,a)&&(s.flags&128)===0)return ht=!1,$1(n,s,a);ht=(n.flags&131072)!==0}else ht=!1,Me&&(s.flags&1048576)!==0&&oy(s,eo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Ds(s.elementType),s.type=n,typeof n=="function")Md(n)?(c=zs(n,c),s.tag=1,s=xb(null,s,n,c,a)):(s.tag=0,s=wf(null,s,n,c,a));else{if(n!=null){var d=n.$$typeof;if(d===F){s.tag=11,s=yb(null,s,n,c,a);break e}else if(d===L){s.tag=14,s=bb(null,s,n,c,a);break e}}throw s=Te(n)||n,Error(i(306,s,""))}}return s;case 0:return wf(n,s,s.type,s.pendingProps,a);case 1:return c=s.type,d=zs(c,s.pendingProps),xb(n,s,c,d,a);case 3:e:{if($t(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;d=p.element,Kd(n,s),lo(s,c,null,a);var g=s.memoizedState;if(c=g.cache,Hr(s,dt,c),c!==p.cache&&$d(s,[dt],a,!0),oo(),c=g.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Tb(n,s,c,a);break e}else if(c!==d){d=Sn(Error(i(424)),s),to(d),s=Tb(n,s,c,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(et=kn(n.firstChild),Ot=s,Me=!0,Br=null,xn=!0,a=_y(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ns(),c===d){s=fr(n,s,a);break e}Rt(n,s,c,a)}s=s.child}return s;case 26:return ac(n,s),n===null?(a=Hv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Me||(a=s.type,n=s.pendingProps,c=Ec(Et.current).createElement(a),c[At]=s,c[Ft]=n,Nt(c,a,n),xt(c),s.stateNode=c):s.memoizedState=Hv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return qt(s),n===null&&Me&&(c=s.stateNode=Uv(s.type,s.pendingProps,Et.current),Ot=s,xn=!0,d=et,Zr(s.type)?(lh=d,et=kn(c.firstChild)):et=d),Rt(n,s,s.pendingProps.children,a),ac(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Me&&((d=c=et)&&(c=bk(c,s.type,s.pendingProps,xn),c!==null?(s.stateNode=c,Ot=s,et=kn(c.firstChild),xn=!1,d=!0):d=!1),d||zr(s)),qt(s),d=s.type,p=s.pendingProps,g=n!==null?n.memoizedProps:null,c=p.children,rh(d,p)?c=null:g!==null&&rh(d,g)&&(s.flags|=32),s.memoizedState!==null&&(d=tf(n,s,M1,null,null,a),Co._currentValue=d),ac(n,s),Rt(n,s,c,a),s.child;case 6:return n===null&&Me&&((n=a=et)&&(a=vk(a,s.pendingProps,xn),a!==null?(s.stateNode=a,Ot=s,et=null,n=!0):n=!1),n||zr(s)),null;case 13:return kb(n,s,a);case 4:return $t(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Us(s,null,c,a):Rt(n,s,c,a),s.child;case 11:return yb(n,s,s.type,s.pendingProps,a);case 7:return Rt(n,s,s.pendingProps,a),s.child;case 8:return Rt(n,s,s.pendingProps.children,a),s.child;case 12:return Rt(n,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Hr(s,s.type,c.value),Rt(n,s,c.children,a),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Ms(s),d=Ct(d),c=c(d),s.flags|=1,Rt(n,s,c,a),s.child;case 14:return bb(n,s,s.type,s.pendingProps,a);case 15:return vb(n,s,s.type,s.pendingProps,a);case 19:return Ob(n,s,a);case 31:return P1(n,s,a);case 22:return _b(n,s,a,s.pendingProps);case 24:return Ms(s),c=Ct(dt),n===null?(d=Gd(),d===null&&(d=Xe,p=qd(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),s.memoizedState={parent:c,cache:d},Yd(s),Hr(s,dt,d)):((n.lanes&a)!==0&&(Kd(n,s),lo(s,null,null,a),oo()),d=n.memoizedState,p=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Hr(s,dt,c)):(c=p.cache,Hr(s,dt,c),c!==d.cache&&$d(s,[dt],a,!0))),Rt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function hr(n){n.flags|=4}function Rf(n,s,a,c,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(nv())n.flags|=8192;else throw Ls=Gl,Vd}else n.flags&=-16777217}function Rb(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Gv(s))if(nv())n.flags|=8192;else throw Ls=Gl,Vd}function lc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?cg():536870912,n.lanes|=s,Hi|=s)}function mo(n,s){if(!Me)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function tt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function q1(n,s,a){var c=s.pendingProps;switch(Ud(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return a=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),cr(dt),jt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ai(s)?hr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zd())),tt(s),null;case 26:var d=s.type,p=s.memoizedState;return n===null?(hr(s),p!==null?(tt(s),Rb(s,p)):(tt(s),Rf(s,d,null,c,a))):p?p!==n.memoizedState?(hr(s),tt(s),Rb(s,p)):(tt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&hr(s),tt(s),Rf(s,d,n,c,a)),null;case 27:if(jn(s),a=Et.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&hr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}n=ge.current,Ai(s)?cy(s):(n=Uv(d,c,a),s.stateNode=n,hr(s))}return tt(s),null;case 5:if(jn(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&hr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}if(p=ge.current,Ai(s))cy(s);else{var g=Ec(Et.current);switch(p){case 1:p=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=g.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?g.createElement(d,{is:c.is}):g.createElement(d)}}p[At]=s,p[Ft]=c;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)p.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=p;e:switch(Nt(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&hr(s)}}return tt(s),Rf(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&hr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=Et.current,Ai(s)){if(n=s.stateNode,a=s.memoizedProps,c=null,d=Ot,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[At]=s,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||kv(n.nodeValue,a)),n||zr(s,!0)}else n=Ec(n).createTextNode(c),n[At]=s,s.stateNode=n}return tt(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(c=Ai(s),a!==null){if(n===null){if(!c)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[At]=s}else Ns(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),n=!1}else a=zd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(on(s),s):(on(s),null);if((s.flags&128)!==0)throw Error(i(558))}return tt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ai(s),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[At]=s}else Ns(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),d=!1}else d=zd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(on(s),s):(on(s),null)}return on(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),lc(s,s.updateQueue),tt(s),null);case 4:return jt(),n===null&&Qf(s.stateNode.containerInfo),tt(s),null;case 10:return cr(s.type),tt(s),null;case 19:if(ue(ct),c=s.memoizedState,c===null)return tt(s),null;if(d=(s.flags&128)!==0,p=c.rendering,p===null)if(d)mo(c,!1);else{if(at!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Wl(n),p!==null){for(s.flags|=128,mo(c,!1),n=p.updateQueue,s.updateQueue=n,lc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)sy(a,n),a=a.sibling;return X(ct,ct.current&1|2),Me&&or(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&ye()>hc&&(s.flags|=128,d=!0,mo(c,!1),s.lanes=4194304)}else{if(!d)if(n=Wl(p),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,lc(s,n),mo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Me)return tt(s),null}else 2*ye()-c.renderingStartTime>hc&&a!==536870912&&(s.flags|=128,d=!0,mo(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(n=c.last,n!==null?n.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ye(),n.sibling=null,a=ct.current,X(ct,d?a&1|2:a&1),Me&&or(s,c.treeForkCount),n):(tt(s),null);case 22:case 23:return on(s),Qd(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),a=s.updateQueue,a!==null&&lc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),n!==null&&ue(Is),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),cr(dt),tt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function F1(n,s){switch(Ud(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return cr(dt),jt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return jn(s),null;case 31:if(s.memoizedState!==null){if(on(s),s.alternate===null)throw Error(i(340));Ns()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(on(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ns()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(ct),null;case 4:return jt(),null;case 10:return cr(s.type),null;case 22:case 23:return on(s),Qd(),n!==null&&ue(Is),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return cr(dt),null;case 25:return null;default:return null}}function Nb(n,s){switch(Ud(s),s.tag){case 3:cr(dt),jt();break;case 26:case 27:case 5:jn(s);break;case 4:jt();break;case 31:s.memoizedState!==null&&on(s);break;case 13:on(s);break;case 19:ue(ct);break;case 10:cr(s.type);break;case 22:case 23:on(s),Qd(),n!==null&&ue(Is);break;case 24:cr(dt)}}function go(n,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&n)===n){c=void 0;var p=a.create,g=a.inst;c=p(),g.destroy=c}a=a.next}while(a!==d)}}catch(w){Ge(s,s.return,w)}}function Vr(n,s,a){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var g=c.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,d=s;var x=a,j=w;try{j()}catch(B){Ge(d,x,B)}}}c=c.next}while(c!==p)}}catch(B){Ge(s,s.return,B)}}function jb(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{wy(s,a)}catch(c){Ge(n,n.return,c)}}}function Mb(n,s,a){a.props=zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Ge(n,s,c)}}function yo(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(d){Ge(n,s,d)}}function Xn(n,s){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){Ge(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ge(n,s,d)}else a.current=null}function Ib(n){var s=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){Ge(n,n.return,d)}}function Nf(n,s,a){try{var c=n.stateNode;fk(c,n.type,a,s),c[Ft]=s}catch(d){Ge(n,n.return,d)}}function Db(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Zr(n.type)||n.tag===4}function jf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Db(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Zr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mf(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=sr));else if(c!==4&&(c===27&&Zr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Mf(n,s,a),n=n.sibling;n!==null;)Mf(n,s,a),n=n.sibling}function cc(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(c===27&&Zr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(cc(n,s,a),n=n.sibling;n!==null;)cc(n,s,a),n=n.sibling}function Lb(n){var s=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Nt(s,c,a),s[At]=n,s[Ft]=a}catch(p){Ge(n,n.return,p)}}var pr=!1,pt=!1,If=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function G1(n,s){if(n=n.containerInfo,th=Rc,n=Wg(n),kd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var g=0,w=-1,x=-1,j=0,B=0,$=n,I=null;t:for(;;){for(var D;$!==a||d!==0&&$.nodeType!==3||(w=g+d),$!==p||c!==0&&$.nodeType!==3||(x=g+c),$.nodeType===3&&(g+=$.nodeValue.length),(D=$.firstChild)!==null;)I=$,$=D;for(;;){if($===n)break t;if(I===a&&++j===d&&(w=g),I===p&&++B===c&&(x=g),(D=$.nextSibling)!==null)break;$=I,I=$.parentNode}$=D}a=w===-1||x===-1?null:{start:w,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:n,selectionRange:a},Rc=!1,Tt=s;Tt!==null;)if(s=Tt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Tt=n;else for(;Tt!==null;){switch(s=Tt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,d=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var J=zs(a.type,d);n=c.getSnapshotBeforeUpdate(J,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(de){Ge(a,a.return,de)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)ih(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ih(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Tt=n;break}Tt=s.return}}function Bb(n,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:gr(n,a),c&4&&go(5,a);break;case 1:if(gr(n,a),c&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(g){Ge(a,a.return,g)}else{var d=zs(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(g){Ge(a,a.return,g)}}c&64&&jb(a),c&512&&yo(a,a.return);break;case 3:if(gr(n,a),c&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{wy(n,s)}catch(g){Ge(a,a.return,g)}}break;case 27:s===null&&c&4&&Lb(a);case 26:case 5:gr(n,a),s===null&&c&4&&Ib(a),c&512&&yo(a,a.return);break;case 12:gr(n,a);break;case 31:gr(n,a),c&4&&Pb(n,a);break;case 13:gr(n,a),c&4&&$b(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=ek.bind(null,a),_k(n,a))));break;case 22:if(c=a.memoizedState!==null||pr,!c){s=s!==null&&s.memoizedState!==null||pt,d=pr;var p=pt;pr=c,(pt=s)&&!p?yr(n,a,(a.subtreeFlags&8772)!==0):gr(n,a),pr=d,pt=p}break;case 30:break;default:gr(n,a)}}function zb(n){var s=n.alternate;s!==null&&(n.alternate=null,zb(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&cd(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,Vt=!1;function mr(n,s,a){for(a=a.child;a!==null;)Hb(n,s,a),a=a.sibling}function Hb(n,s,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ha,a)}catch{}switch(a.tag){case 26:pt||Xn(a,s),mr(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||Xn(a,s);var c=nt,d=Vt;Zr(a.type)&&(nt=a.stateNode,Vt=!1),mr(n,s,a),ko(a.stateNode),nt=c,Vt=d;break;case 5:pt||Xn(a,s);case 6:if(c=nt,d=Vt,nt=null,mr(n,s,a),nt=c,Vt=d,nt!==null)if(Vt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(p){Ge(a,s,p)}else try{nt.removeChild(a.stateNode)}catch(p){Ge(a,s,p)}break;case 18:nt!==null&&(Vt?(n=nt,jv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ki(n)):jv(nt,a.stateNode));break;case 4:c=nt,d=Vt,nt=a.stateNode.containerInfo,Vt=!0,mr(n,s,a),nt=c,Vt=d;break;case 0:case 11:case 14:case 15:Vr(2,a,s),pt||Vr(4,a,s),mr(n,s,a);break;case 1:pt||(Xn(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Mb(a,s,c)),mr(n,s,a);break;case 21:mr(n,s,a);break;case 22:pt=(c=pt)||a.memoizedState!==null,mr(n,s,a),pt=c;break;default:mr(n,s,a)}}function Pb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ki(n)}catch(a){Ge(s,s.return,a)}}}function $b(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ki(n)}catch(a){Ge(s,s.return,a)}}function V1(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Ub),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Ub),s;default:throw Error(i(435,n.tag))}}function uc(n,s){var a=V1(n);s.forEach(function(c){if(!a.has(c)){a.add(c);var d=tk.bind(null,n,c);c.then(d,d)}})}function Yt(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],p=n,g=s,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Zr(w.type)){nt=w.stateNode,Vt=!1;break e}break;case 5:nt=w.stateNode,Vt=!1;break e;case 3:case 4:nt=w.stateNode.containerInfo,Vt=!0;break e}w=w.return}if(nt===null)throw Error(i(160));Hb(p,g,d),nt=null,Vt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)qb(s,n),s=s.sibling}var Dn=null;function qb(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Yt(s,n),Kt(n),c&4&&(Vr(3,n,n.return),go(3,n),Vr(5,n,n.return));break;case 1:Yt(s,n),Kt(n),c&512&&(pt||a===null||Xn(a,a.return)),c&64&&pr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=Dn;if(Yt(s,n),Kt(n),c&512&&(pt||a===null||Xn(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[qa]||p[At]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),Nt(p,c,a),p[At]=n,xt(p),c=p;break e;case"link":var g=qv("link","href",d).get(c+(a.href||""));if(g){for(var w=0;w<g.length;w++)if(p=g[w],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(w,1);break t}}p=d.createElement(c),Nt(p,c,a),d.head.appendChild(p);break;case"meta":if(g=qv("meta","content",d).get(c+(a.content||""))){for(w=0;w<g.length;w++)if(p=g[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(w,1);break t}}p=d.createElement(c),Nt(p,c,a),d.head.appendChild(p);break;default:throw Error(i(468,c))}p[At]=n,xt(p),c=p}n.stateNode=c}else Fv(d,n.type,n.stateNode);else n.stateNode=$v(d,c,n.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?Fv(d,n.type,n.stateNode):$v(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Nf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Yt(s,n),Kt(n),c&512&&(pt||a===null||Xn(a,a.return)),a!==null&&c&4&&Nf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Yt(s,n),Kt(n),c&512&&(pt||a===null||Xn(a,a.return)),n.flags&32){d=n.stateNode;try{yi(d,"")}catch(J){Ge(n,n.return,J)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Nf(n,d,a!==null?a.memoizedProps:d)),c&1024&&(If=!0);break;case 6:if(Yt(s,n),Kt(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(J){Ge(n,n.return,J)}}break;case 3:if(kc=null,d=Dn,Dn=xc(s.containerInfo),Yt(s,n),Dn=d,Kt(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ki(s.containerInfo)}catch(J){Ge(n,n.return,J)}If&&(If=!1,Fb(n));break;case 4:c=Dn,Dn=xc(n.stateNode.containerInfo),Yt(s,n),Kt(n),Dn=c;break;case 12:Yt(s,n),Kt(n);break;case 31:Yt(s,n),Kt(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,uc(n,c)));break;case 13:Yt(s,n),Kt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=ye()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,uc(n,c)));break;case 22:d=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=pr,B=pt;if(pr=j||d,pt=B||x,Yt(s,n),pt=B,pr=j,Kt(n),c&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||x||pr||pt||Hs(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){x=a=s;try{if(p=x.stateNode,d)g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=x.stateNode;var $=x.memoizedProps.style,I=$!=null&&$.hasOwnProperty("display")?$.display:null;w.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(J){Ge(x,x.return,J)}}}else if(s.tag===6){if(a===null){x=s;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(J){Ge(x,x.return,J)}}}else if(s.tag===18){if(a===null){x=s;try{var D=x.stateNode;d?Mv(D,!0):Mv(x.stateNode,!1)}catch(J){Ge(x,x.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,uc(n,a))));break;case 19:Yt(s,n),Kt(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,uc(n,c)));break;case 30:break;case 21:break;default:Yt(s,n),Kt(n)}}function Kt(n){var s=n.flags;if(s&2){try{for(var a,c=n.return;c!==null;){if(Db(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,p=jf(n);cc(n,p,d);break;case 5:var g=a.stateNode;a.flags&32&&(yi(g,""),a.flags&=-33);var w=jf(n);cc(n,w,g);break;case 3:case 4:var x=a.stateNode.containerInfo,j=jf(n);Mf(n,j,x);break;default:throw Error(i(161))}}catch(B){Ge(n,n.return,B)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Fb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Fb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function gr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bb(n,s.alternate,s),s=s.sibling}function Hs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Vr(4,s,s.return),Hs(s);break;case 1:Xn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Mb(s,s.return,a),Hs(s);break;case 27:ko(s.stateNode);case 26:case 5:Xn(s,s.return),Hs(s);break;case 22:s.memoizedState===null&&Hs(s);break;case 30:Hs(s);break;default:Hs(s)}n=n.sibling}}function yr(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=n,p=s,g=p.flags;switch(p.tag){case 0:case 11:case 15:yr(d,p,a),go(4,p);break;case 1:if(yr(d,p,a),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){Ge(c,c.return,j)}if(c=p,d=c.updateQueue,d!==null){var w=c.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)Sy(x[d],w)}catch(j){Ge(c,c.return,j)}}a&&g&64&&jb(p),yo(p,p.return);break;case 27:Lb(p);case 26:case 5:yr(d,p,a),a&&c===null&&g&4&&Ib(p),yo(p,p.return);break;case 12:yr(d,p,a);break;case 31:yr(d,p,a),a&&g&4&&Pb(d,p);break;case 13:yr(d,p,a),a&&g&4&&$b(d,p);break;case 22:p.memoizedState===null&&yr(d,p,a),yo(p,p.return);break;case 30:break;default:yr(d,p,a)}s=s.sibling}}function Df(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&no(a))}function Lf(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&no(n))}function Ln(n,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gb(n,s,a,c),s=s.sibling}function Gb(n,s,a,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(n,s,a,c),d&2048&&go(9,s);break;case 1:Ln(n,s,a,c);break;case 3:Ln(n,s,a,c),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&no(n)));break;case 12:if(d&2048){Ln(n,s,a,c),n=s.stateNode;try{var p=s.memoizedProps,g=p.id,w=p.onPostCommit;typeof w=="function"&&w(g,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){Ge(s,s.return,x)}}else Ln(n,s,a,c);break;case 31:Ln(n,s,a,c);break;case 13:Ln(n,s,a,c);break;case 23:break;case 22:p=s.stateNode,g=s.alternate,s.memoizedState!==null?p._visibility&2?Ln(n,s,a,c):bo(n,s):p._visibility&2?Ln(n,s,a,c):(p._visibility|=2,Ui(n,s,a,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Df(g,s);break;case 24:Ln(n,s,a,c),d&2048&&Lf(s.alternate,s);break;default:Ln(n,s,a,c)}}function Ui(n,s,a,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,g=s,w=a,x=c,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ui(p,g,w,x,d),go(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?Ui(p,g,w,x,d):bo(p,g):(B._visibility|=2,Ui(p,g,w,x,d)),d&&j&2048&&Df(g.alternate,g);break;case 24:Ui(p,g,w,x,d),d&&j&2048&&Lf(g.alternate,g);break;default:Ui(p,g,w,x,d)}s=s.sibling}}function bo(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,c=s,d=c.flags;switch(c.tag){case 22:bo(a,c),d&2048&&Df(c.alternate,c);break;case 24:bo(a,c),d&2048&&Lf(c.alternate,c);break;default:bo(a,c)}s=s.sibling}}var vo=8192;function Bi(n,s,a){if(n.subtreeFlags&vo)for(n=n.child;n!==null;)Vb(n,s,a),n=n.sibling}function Vb(n,s,a){switch(n.tag){case 26:Bi(n,s,a),n.flags&vo&&n.memoizedState!==null&&jk(a,Dn,n.memoizedState,n.memoizedProps);break;case 5:Bi(n,s,a);break;case 3:case 4:var c=Dn;Dn=xc(n.stateNode.containerInfo),Bi(n,s,a),Dn=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=vo,vo=16777216,Bi(n,s,a),vo=c):Bi(n,s,a));break;default:Bi(n,s,a)}}function Yb(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function _o(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Tt=c,Wb(c,n)}Yb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kb(n),n=n.sibling}function Kb(n){switch(n.tag){case 0:case 11:case 15:_o(n),n.flags&2048&&Vr(9,n,n.return);break;case 3:_o(n);break;case 12:_o(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,dc(n)):_o(n);break;default:_o(n)}}function dc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Tt=c,Wb(c,n)}Yb(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Vr(8,s,s.return),dc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,dc(s));break;default:dc(s)}n=n.sibling}}function Wb(n,s){for(;Tt!==null;){var a=Tt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:no(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Tt=c;else e:for(a=n;Tt!==null;){c=Tt;var d=c.sibling,p=c.return;if(zb(c),c===a){Tt=null;break e}if(d!==null){d.return=p,Tt=d;break e}Tt=p}}}var Y1={getCacheForType:function(n){var s=Ct(dt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Ct(dt).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,$e=0,Xe=null,Oe=null,Re=0,Fe=0,ln=null,Yr=!1,zi=!1,Uf=!1,br=0,at=0,Kr=0,Ps=0,Bf=0,cn=0,Hi=0,So=null,Wt=null,zf=!1,fc=0,Xb=0,hc=1/0,pc=null,Wr=null,bt=0,Xr=null,Pi=null,vr=0,Hf=0,Pf=null,Jb=null,wo=0,$f=null;function un(){return($e&2)!==0&&Re!==0?Re&-Re:M.T!==null?Kf():hg()}function Qb(){if(cn===0)if((Re&536870912)===0||Me){var n=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),cn=n}else cn=536870912;return n=an.current,n!==null&&(n.flags|=32),cn}function Xt(n,s,a){(n===Xe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&($i(n,0),Jr(n,Re,cn,!1)),$a(n,a),(($e&2)===0||n!==Xe)&&(n===Xe&&(($e&2)===0&&(Ps|=a),at===4&&Jr(n,Re,cn,!1)),Jn(n))}function Zb(n,s,a){if(($e&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Pa(n,s),d=c?J1(n,s):Ff(n,s,!0),p=c;do{if(d===0){zi&&!c&&Jr(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!W1(a)){d=Ff(n,s,!1),p=!1;continue}if(d===2){if(p=s,n.errorRecoveryDisabledLanes&p)var g=0;else g=n.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var w=n;d=So;var x=w.current.memoizedState.isDehydrated;if(x&&($i(w,g).flags|=256),g=Ff(w,g,!1),g!==2){if(Uf&&!x){w.errorRecoveryDisabledLanes|=p,Ps|=p,d=4;break e}p=Wt,Wt=d,p!==null&&(Wt===null?Wt=p:Wt.push.apply(Wt,p))}d=g}if(p=!1,d!==2)continue}}if(d===1){$i(n,0),Jr(n,s,0,!0);break}e:{switch(c=n,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Jr(c,s,cn,!Yr);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=fc+300-ye(),10<d)){if(Jr(c,s,cn,!Yr),xl(c,0,!0)!==0)break e;vr=s,c.timeoutHandle=Rv(ev.bind(null,c,a,Wt,pc,zf,s,cn,Ps,Hi,Yr,p,"Throttled",-0,0),d);break e}ev(c,a,Wt,pc,zf,s,cn,Ps,Hi,Yr,p,null,-0,0)}}break}while(!0);Jn(n)}function ev(n,s,a,c,d,p,g,w,x,j,B,$,I,D){if(n.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},Vb(s,p,$);var J=(p&62914560)===p?fc-ye():(p&4194048)===p?Xb-ye():0;if(J=Mk($,J),J!==null){vr=p,n.cancelPendingCommit=J(lv.bind(null,n,s,p,a,c,d,g,w,x,B,$,null,I,D)),Jr(n,p,g,!j);return}}lv(n,s,p,a,c,d,g,w,x)}function W1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!rn(p(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jr(n,s,a,c){s&=~Bf,s&=~Ps,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var d=s;0<d;){var p=31-nn(d),g=1<<p;c[p]=-1,d&=~g}a!==0&&ug(n,a,s)}function mc(){return($e&6)===0?(Eo(0),!1):!0}function qf(){if(Oe!==null){if(Fe===0)var n=Oe.return;else n=Oe,lr=js=null,sf(n),ji=null,so=0,n=Oe;for(;n!==null;)Nb(n.alternate,n),n=n.return;Oe=null}}function $i(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,mk(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),vr=0,qf(),Xe=n,Oe=a=ar(n.current,null),Re=s,Fe=0,ln=null,Yr=!1,zi=Pa(n,s),Uf=!1,Hi=cn=Bf=Ps=Kr=at=0,Wt=So=null,zf=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var d=31-nn(c),p=1<<d;s|=n[d],c&=~p}return br=s,Ll(),a}function tv(n,s){Se=null,M.H=ho,s===Ni||s===Fl?(s=yy(),Fe=3):s===Vd?(s=yy(),Fe=4):Fe=s===Sf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ln=s,Oe===null&&(at=1,sc(n,Sn(s,n.current)))}function nv(){var n=an.current;return n===null?!0:(Re&4194048)===Re?Tn===null:(Re&62914560)===Re||(Re&536870912)!==0?n===Tn:!1}function rv(){var n=M.H;return M.H=ho,n===null?ho:n}function sv(){var n=M.A;return M.A=Y1,n}function gc(){at=4,Yr||(Re&4194048)!==Re&&an.current!==null||(zi=!0),(Kr&134217727)===0&&(Ps&134217727)===0||Xe===null||Jr(Xe,Re,cn,!1)}function Ff(n,s,a){var c=$e;$e|=2;var d=rv(),p=sv();(Xe!==n||Re!==s)&&(pc=null,$i(n,s)),s=!1;var g=at;e:do try{if(Fe!==0&&Oe!==null){var w=Oe,x=ln;switch(Fe){case 8:qf(),g=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(s=!0);var j=Fe;if(Fe=0,ln=null,qi(n,w,x,j),a&&zi){g=0;break e}break;default:j=Fe,Fe=0,ln=null,qi(n,w,x,j)}}X1(),g=at;break}catch(B){tv(n,B)}while(!0);return s&&n.shellSuspendCounter++,lr=js=null,$e=c,M.H=d,M.A=p,Oe===null&&(Xe=null,Re=0,Ll()),g}function X1(){for(;Oe!==null;)iv(Oe)}function J1(n,s){var a=$e;$e|=2;var c=rv(),d=sv();Xe!==n||Re!==s?(pc=null,hc=ye()+500,$i(n,s)):zi=Pa(n,s);e:do try{if(Fe!==0&&Oe!==null){s=Oe;var p=ln;t:switch(Fe){case 1:Fe=0,ln=null,qi(n,s,p,1);break;case 2:case 9:if(my(p)){Fe=0,ln=null,av(s);break}s=function(){Fe!==2&&Fe!==9||Xe!==n||(Fe=7),Jn(n)},p.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:my(p)?(Fe=0,ln=null,av(s)):(Fe=0,ln=null,qi(n,s,p,7));break;case 5:var g=null;switch(Oe.tag){case 26:g=Oe.memoizedState;case 5:case 27:var w=Oe;if(g?Gv(g):w.stateNode.complete){Fe=0,ln=null;var x=w.sibling;if(x!==null)Oe=x;else{var j=w.return;j!==null?(Oe=j,yc(j)):Oe=null}break t}}Fe=0,ln=null,qi(n,s,p,5);break;case 6:Fe=0,ln=null,qi(n,s,p,6);break;case 8:qf(),at=6;break e;default:throw Error(i(462))}}Q1();break}catch(B){tv(n,B)}while(!0);return lr=js=null,M.H=c,M.A=d,$e=a,Oe!==null?0:(Xe=null,Re=0,Ll(),at)}function Q1(){for(;Oe!==null&&!Ae();)iv(Oe)}function iv(n){var s=Cb(n.alternate,n,br);n.memoizedProps=n.pendingProps,s===null?yc(n):Oe=s}function av(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Eb(a,s,s.pendingProps,s.type,void 0,Re);break;case 11:s=Eb(a,s,s.pendingProps,s.type.render,s.ref,Re);break;case 5:sf(s);default:Nb(a,s),s=Oe=sy(s,br),s=Cb(a,s,br)}n.memoizedProps=n.pendingProps,s===null?yc(n):Oe=s}function qi(n,s,a,c){lr=js=null,sf(s),ji=null,so=0;var d=s.return;try{if(H1(n,d,s,a,Re)){at=1,sc(n,Sn(a,n.current)),Oe=null;return}}catch(p){if(d!==null)throw Oe=d,p;at=1,sc(n,Sn(a,n.current)),Oe=null;return}s.flags&32768?(Me||c===1?n=!0:zi||(Re&536870912)!==0?n=!1:(Yr=n=!0,(c===2||c===9||c===3||c===6)&&(c=an.current,c!==null&&c.tag===13&&(c.flags|=16384))),ov(s,n)):yc(s)}function yc(n){var s=n;do{if((s.flags&32768)!==0){ov(s,Yr);return}n=s.return;var a=q1(s.alternate,s,br);if(a!==null){Oe=a;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=n}while(s!==null);at===0&&(at=5)}function ov(n,s){do{var a=F1(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);at=6,Oe=null}function lv(n,s,a,c,d,p,g,w,x){n.cancelPendingCommit=null;do bc();while(bt!==0);if(($e&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Nd,NT(n,a,p,g,w,x),n===Xe&&(Oe=Xe=null,Re=0),Pi=s,Xr=n,vr=a,Hf=p,Pf=d,Jb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,nk(_l,function(){return hv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,d=q.p,q.p=2,g=$e,$e|=4;try{G1(n,s,a)}finally{$e=g,q.p=d,M.T=c}}bt=1,cv(),uv(),dv()}}function cv(){if(bt===1){bt=0;var n=Xr,s=Pi,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var c=q.p;q.p=2;var d=$e;$e|=4;try{qb(s,n);var p=nh,g=Wg(n.containerInfo),w=p.focusedElem,x=p.selectionRange;if(g!==w&&w&&w.ownerDocument&&Kg(w.ownerDocument.documentElement,w)){if(x!==null&&kd(w)){var j=x.start,B=x.end;if(B===void 0&&(B=j),"selectionStart"in w)w.selectionStart=j,w.selectionEnd=Math.min(B,w.value.length);else{var $=w.ownerDocument||document,I=$&&$.defaultView||window;if(I.getSelection){var D=I.getSelection(),J=w.textContent.length,de=Math.min(x.start,J),We=x.end===void 0?de:Math.min(x.end,J);!D.extend&&de>We&&(g=We,We=de,de=g);var O=Yg(w,de),k=Yg(w,We);if(O&&k&&(D.rangeCount!==1||D.anchorNode!==O.node||D.anchorOffset!==O.offset||D.focusNode!==k.node||D.focusOffset!==k.offset)){var N=$.createRange();N.setStart(O.node,O.offset),D.removeAllRanges(),de>We?(D.addRange(N),D.extend(k.node,k.offset)):(N.setEnd(k.node,k.offset),D.addRange(N))}}}}for($=[],D=w;D=D.parentNode;)D.nodeType===1&&$.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<$.length;w++){var H=$[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Rc=!!th,nh=th=null}finally{$e=d,q.p=c,M.T=a}}n.current=s,bt=2}}function uv(){if(bt===2){bt=0;var n=Xr,s=Pi,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var c=q.p;q.p=2;var d=$e;$e|=4;try{Bb(n,s.alternate,s)}finally{$e=d,q.p=c,M.T=a}}bt=3}}function dv(){if(bt===4||bt===3){bt=0,yt();var n=Xr,s=Pi,a=vr,c=Jb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bt=5:(bt=0,Pi=Xr=null,fv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Wr=null),od(a),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ha,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=M.T,d=q.p,q.p=2,M.T=null;try{for(var p=n.onRecoverableError,g=0;g<c.length;g++){var w=c[g];p(w.value,{componentStack:w.stack})}}finally{M.T=s,q.p=d}}(vr&3)!==0&&bc(),Jn(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===$f?wo++:(wo=0,$f=n):wo=0,Eo(0)}}function fv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,no(s)))}function bc(){return cv(),uv(),dv(),hv()}function hv(){if(bt!==5)return!1;var n=Xr,s=Hf;Hf=0;var a=od(vr),c=M.T,d=q.p;try{q.p=32>a?32:a,M.T=null,a=Pf,Pf=null;var p=Xr,g=vr;if(bt=0,Pi=Xr=null,vr=0,($e&6)!==0)throw Error(i(331));var w=$e;if($e|=4,Kb(p.current),Gb(p,p.current,g,a),$e=w,Eo(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ha,p)}catch{}return!0}finally{q.p=d,M.T=c,fv(n,s)}}function pv(n,s,a){s=Sn(a,s),s=_f(n.stateNode,s,2),n=qr(n,s,2),n!==null&&($a(n,2),Jn(n))}function Ge(n,s,a){if(n.tag===3)pv(n,n,a);else for(;s!==null;){if(s.tag===3){pv(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wr===null||!Wr.has(c))){n=Sn(a,n),a=mb(2),c=qr(s,a,2),c!==null&&(gb(a,c,s,n),$a(c,2),Jn(c));break}}s=s.return}}function Gf(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new K1;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(Uf=!0,d.add(a),n=Z1.bind(null,n,s,a),s.then(n,n))}function Z1(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Re&a)===a&&(at===4||at===3&&(Re&62914560)===Re&&300>ye()-fc?($e&2)===0&&$i(n,0):Bf|=a,Hi===Re&&(Hi=0)),Jn(n)}function mv(n,s){s===0&&(s=cg()),n=Cs(n,s),n!==null&&($a(n,s),Jn(n))}function ek(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),mv(n,a)}function tk(n,s){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),mv(n,a)}function nk(n,s){return je(n,s)}var vc=null,Fi=null,Vf=!1,_c=!1,Yf=!1,Qr=0;function Jn(n){n!==Fi&&n.next===null&&(Fi===null?vc=Fi=n:Fi=Fi.next=n),_c=!0,Vf||(Vf=!0,sk())}function Eo(n,s){if(!Yf&&_c){Yf=!0;do for(var a=!1,c=vc;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var g=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-nn(42|n)+1)-1,p&=d&~(g&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,vv(c,p))}else p=Re,p=xl(c,c===Xe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Pa(c,p)||(a=!0,vv(c,p));c=c.next}while(a);Yf=!1}}function rk(){gv()}function gv(){_c=Vf=!1;var n=0;Qr!==0&&pk()&&(n=Qr);for(var s=ye(),a=null,c=vc;c!==null;){var d=c.next,p=yv(c,s);p===0?(c.next=null,a===null?vc=d:a.next=d,d===null&&(Fi=a)):(a=c,(n!==0||(p&3)!==0)&&(_c=!0)),c=d}bt!==0&&bt!==5||Eo(n),Qr!==0&&(Qr=0)}function yv(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var g=31-nn(p),w=1<<g,x=d[g];x===-1?((w&a)===0||(w&c)!==0)&&(d[g]=RT(w,s)):x<=s&&(n.expiredLanes|=w),p&=~w}if(s=Xe,a=Re,a=xl(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Lt(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Pa(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(c!==null&&Lt(c),od(a)){case 2:case 8:a=og;break;case 32:a=_l;break;case 268435456:a=lg;break;default:a=_l}return c=bv.bind(null,n),a=je(a,c),n.callbackPriority=s,n.callbackNode=a,s}return c!==null&&c!==null&&Lt(c),n.callbackPriority=2,n.callbackNode=null,2}function bv(n,s){if(bt!==0&&bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(bc()&&n.callbackNode!==a)return null;var c=Re;return c=xl(n,n===Xe?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Zb(n,c,s),yv(n,ye()),n.callbackNode!=null&&n.callbackNode===a?bv.bind(null,n):null)}function vv(n,s){if(bc())return null;Zb(n,s,!0)}function sk(){gk(function(){($e&6)!==0?je(ag,rk):gv()})}function Kf(){if(Qr===0){var n=Ci;n===0&&(n=Sl,Sl<<=1,(Sl&261888)===0&&(Sl=256)),Qr=n}return Qr}function _v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ol(""+n)}function Sv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function ik(n,s,a,c,d){if(s==="submit"&&a&&a.stateNode===d){var p=_v((d[Ft]||null).action),g=c.submitter;g&&(s=(s=g[Ft]||null)?_v(s.formAction):g.getAttribute("formAction"),s!==null&&(p=s,g=null));var w=new jl("action","action",null,c,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qr!==0){var x=g?Sv(d,g):new FormData(d);pf(a,{pending:!0,data:x,method:d.method,action:p},null,x)}}else typeof p=="function"&&(w.preventDefault(),x=g?Sv(d,g):new FormData(d),pf(a,{pending:!0,data:x,method:d.method,action:p},p,x))},currentTarget:d}]})}}for(var Wf=0;Wf<Rd.length;Wf++){var Xf=Rd[Wf],ak=Xf.toLowerCase(),ok=Xf[0].toUpperCase()+Xf.slice(1);In(ak,"on"+ok)}In(Qg,"onAnimationEnd"),In(Zg,"onAnimationIteration"),In(ey,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(E1,"onTransitionRun"),In(x1,"onTransitionStart"),In(T1,"onTransitionCancel"),In(ty,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function wv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var g=c.length-1;0<=g;g--){var w=c[g],x=w.instance,j=w.currentTarget;if(w=w.listener,x!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=j;try{p(d)}catch(B){Dl(B)}d.currentTarget=null,p=x}else for(g=0;g<c.length;g++){if(w=c[g],x=w.instance,j=w.currentTarget,w=w.listener,x!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=j;try{p(d)}catch(B){Dl(B)}d.currentTarget=null,p=x}}}}function Ce(n,s){var a=s[ld];a===void 0&&(a=s[ld]=new Set);var c=n+"__bubble";a.has(c)||(Ev(s,n,2,!1),a.add(c))}function Jf(n,s,a){var c=0;s&&(c|=4),Ev(a,n,c,s)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Qf(n){if(!n[Sc]){n[Sc]=!0,gg.forEach(function(a){a!=="selectionchange"&&(lk.has(a)||Jf(a,!1,n),Jf(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Sc]||(s[Sc]=!0,Jf("selectionchange",!1,s))}}function Ev(n,s,a,c){switch(Qv(s)){case 2:var d=Lk;break;case 8:d=Uk;break;default:d=hh}a=d.bind(null,s,a,n),d=void 0,!yd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Zf(n,s,a,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var w=c.stateNode.containerInfo;if(w===d)break;if(g===4)for(g=c.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===d)return;g=g.return}for(;w!==null;){if(g=fi(w),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){c=p=g;continue e}w=w.parentNode}}c=c.return}Og(function(){var j=p,B=md(a),$=[];e:{var I=ny.get(n);if(I!==void 0){var D=jl,J=n;switch(n){case"keypress":if(Rl(a)===0)break e;case"keydown":case"keyup":D=t1;break;case"focusin":J="focus",D=Sd;break;case"focusout":J="blur",D=Sd;break;case"beforeblur":case"afterblur":D=Sd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=qT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=s1;break;case Qg:case Zg:case ey:D=VT;break;case ty:D=a1;break;case"scroll":case"scrollend":D=PT;break;case"wheel":D=l1;break;case"copy":case"cut":case"paste":D=KT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Mg;break;case"toggle":case"beforetoggle":D=u1}var de=(s&4)!==0,We=!de&&(n==="scroll"||n==="scrollend"),O=de?I!==null?I+"Capture":null:I;de=[];for(var k=j,N;k!==null;){var H=k;if(N=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||N===null||O===null||(H=Ga(k,O),H!=null&&de.push(To(k,H,N))),We)break;k=k.return}0<de.length&&(I=new D(I,J,null,a,B),$.push({event:I,listeners:de}))}}if((s&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",D=n==="mouseout"||n==="pointerout",I&&a!==pd&&(J=a.relatedTarget||a.fromElement)&&(fi(J)||J[di]))break e;if((D||I)&&(I=B.window===B?B:(I=B.ownerDocument)?I.defaultView||I.parentWindow:window,D?(J=a.relatedTarget||a.toElement,D=j,J=J?fi(J):null,J!==null&&(We=l(J),de=J.tag,J!==We||de!==5&&de!==27&&de!==6)&&(J=null)):(D=null,J=j),D!==J)){if(de=Ng,H="onMouseLeave",O="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(de=Mg,H="onPointerLeave",O="onPointerEnter",k="pointer"),We=D==null?I:Fa(D),N=J==null?I:Fa(J),I=new de(H,k+"leave",D,a,B),I.target=We,I.relatedTarget=N,H=null,fi(B)===j&&(de=new de(O,k+"enter",J,a,B),de.target=N,de.relatedTarget=We,H=de),We=H,D&&J)t:{for(de=ck,O=D,k=J,N=0,H=O;H;H=de(H))N++;H=0;for(var ae=k;ae;ae=de(ae))H++;for(;0<N-H;)O=de(O),N--;for(;0<H-N;)k=de(k),H--;for(;N--;){if(O===k||k!==null&&O===k.alternate){de=O;break t}O=de(O),k=de(k)}de=null}else de=null;D!==null&&xv($,I,D,de,!1),J!==null&&We!==null&&xv($,We,J,de,!0)}}e:{if(I=j?Fa(j):window,D=I.nodeName&&I.nodeName.toLowerCase(),D==="select"||D==="input"&&I.type==="file")var He=Pg;else if(zg(I))if($g)He=_1;else{He=b1;var te=y1}else D=I.nodeName,!D||D.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?j&&hd(j.elementType)&&(He=Pg):He=v1;if(He&&(He=He(n,j))){Hg($,He,a,B);break e}te&&te(n,I,j),n==="focusout"&&j&&I.type==="number"&&j.memoizedProps.value!=null&&fd(I,"number",I.value)}switch(te=j?Fa(j):window,n){case"focusin":(zg(te)||te.contentEditable==="true")&&(Si=te,Ad=j,Za=null);break;case"focusout":Za=Ad=Si=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,Xg($,a,B);break;case"selectionchange":if(w1)break;case"keydown":case"keyup":Xg($,a,B)}var we;if(Ed)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else _i?Ug(n,a)&&(Ne="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ig&&a.locale!=="ko"&&(_i||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&_i&&(we=Cg()):(Lr=B,bd="value"in Lr?Lr.value:Lr.textContent,_i=!0)),te=wc(j,Ne),0<te.length&&(Ne=new jg(Ne,n,null,a,B),$.push({event:Ne,listeners:te}),we?Ne.data=we:(we=Bg(a),we!==null&&(Ne.data=we)))),(we=f1?h1(n,a):p1(n,a))&&(Ne=wc(j,"onBeforeInput"),0<Ne.length&&(te=new jg("onBeforeInput","beforeinput",null,a,B),$.push({event:te,listeners:Ne}),te.data=we)),ik($,n,j,a,B)}wv($,s)})}function To(n,s,a){return{instance:n,listener:s,currentTarget:a}}function wc(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ga(n,a),d!=null&&c.unshift(To(n,d,p)),d=Ga(n,s),d!=null&&c.push(To(n,d,p))),n.tag===3)return c;n=n.return}return[]}function ck(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xv(n,s,a,c,d){for(var p=s._reactName,g=[];a!==null&&a!==c;){var w=a,x=w.alternate,j=w.stateNode;if(w=w.tag,x!==null&&x===c)break;w!==5&&w!==26&&w!==27||j===null||(x=j,d?(j=Ga(a,p),j!=null&&g.unshift(To(a,j,x))):d||(j=Ga(a,p),j!=null&&g.push(To(a,j,x)))),a=a.return}g.length!==0&&n.push({event:s,listeners:g})}var uk=/\r\n?/g,dk=/\u0000|\uFFFD/g;function Tv(n){return(typeof n=="string"?n:""+n).replace(uk,`
`).replace(dk,"")}function kv(n,s){return s=Tv(s),Tv(n)===s}function Ke(n,s,a,c,d,p){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||yi(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&yi(n,""+c);break;case"className":kl(n,"class",c);break;case"tabIndex":kl(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(n,a,c);break;case"style":kg(n,c,p);break;case"data":if(s!=="object"){kl(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Ol(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&Ke(n,s,"name",d.name,d,null),Ke(n,s,"formEncType",d.formEncType,d,null),Ke(n,s,"formMethod",d.formMethod,d,null),Ke(n,s,"formTarget",d.formTarget,d,null)):(Ke(n,s,"encType",d.encType,d,null),Ke(n,s,"method",d.method,d,null),Ke(n,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Ol(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=sr);break;case"onScroll":c!=null&&Ce("scroll",n);break;case"onScrollEnd":c!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=Ol(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),Tl(n,"popover",c);break;case"xlinkActuate":rr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":rr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":rr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":rr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":rr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":rr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":rr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":rr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":rr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Tl(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zT.get(a)||a,Tl(n,a,c))}}function eh(n,s,a,c,d,p){switch(a){case"style":kg(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof c=="string"?yi(n,c):(typeof c=="number"||typeof c=="bigint")&&yi(n,""+c);break;case"onScroll":c!=null&&Ce("scroll",n);break;case"onScrollEnd":c!=null&&Ce("scrollend",n);break;case"onClick":c!=null&&(n.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),p=n[Ft]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,c,d);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):Tl(n,a,c)}}}function Nt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var c=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var g=a[p];if(g!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,p,g,a,null)}}d&&Ke(n,s,"srcSet",a.srcSet,a,null),c&&Ke(n,s,"src",a.src,a,null);return;case"input":Ce("invalid",n);var w=p=g=d=null,x=null,j=null;for(c in a)if(a.hasOwnProperty(c)){var B=a[c];if(B!=null)switch(c){case"name":d=B;break;case"type":g=B;break;case"checked":x=B;break;case"defaultChecked":j=B;break;case"value":p=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,s));break;default:Ke(n,s,c,B,a,null)}}wg(n,p,w,x,j,g,d,!1);return;case"select":Ce("invalid",n),c=g=p=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":p=w;break;case"defaultValue":g=w;break;case"multiple":c=w;default:Ke(n,s,d,w,a,null)}s=p,a=g,n.multiple=!!c,s!=null?gi(n,!!c,s,!1):a!=null&&gi(n,!!c,a,!0);return;case"textarea":Ce("invalid",n),p=d=c=null;for(g in a)if(a.hasOwnProperty(g)&&(w=a[g],w!=null))switch(g){case"value":c=w;break;case"defaultValue":d=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Ke(n,s,g,w,a,null)}xg(n,c,d,p);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(c=a[x],c!=null))switch(x){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ke(n,s,x,c,a,null)}return;case"dialog":Ce("beforetoggle",n),Ce("toggle",n),Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(c=0;c<xo.length;c++)Ce(xo[c],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(c=a[j],c!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,j,c,a,null)}return;default:if(hd(s)){for(B in a)a.hasOwnProperty(B)&&(c=a[B],c!==void 0&&eh(n,s,B,c,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(c=a[w],c!=null&&Ke(n,s,w,c,a,null))}function fk(n,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,g=null,w=null,x=null,j=null,B=null;for(D in a){var $=a[D];if(a.hasOwnProperty(D)&&$!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":x=$;default:c.hasOwnProperty(D)||Ke(n,s,D,null,c,$)}}for(var I in c){var D=c[I];if($=a[I],c.hasOwnProperty(I)&&(D!=null||$!=null))switch(I){case"type":p=D;break;case"name":d=D;break;case"checked":j=D;break;case"defaultChecked":B=D;break;case"value":g=D;break;case"defaultValue":w=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,s));break;default:D!==$&&Ke(n,s,I,D,c,$)}}dd(n,g,w,x,j,B,p,d);return;case"select":D=g=w=I=null;for(p in a)if(x=a[p],a.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":D=x;default:c.hasOwnProperty(p)||Ke(n,s,p,null,c,x)}for(d in c)if(p=c[d],x=a[d],c.hasOwnProperty(d)&&(p!=null||x!=null))switch(d){case"value":I=p;break;case"defaultValue":w=p;break;case"multiple":g=p;default:p!==x&&Ke(n,s,d,p,c,x)}s=w,a=g,c=D,I!=null?gi(n,!!a,I,!1):!!c!=!!a&&(s!=null?gi(n,!!a,s,!0):gi(n,!!a,a?[]:"",!1));return;case"textarea":D=I=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ke(n,s,w,null,c,d)}for(g in c)if(d=c[g],p=a[g],c.hasOwnProperty(g)&&(d!=null||p!=null))switch(g){case"value":I=d;break;case"defaultValue":D=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Ke(n,s,g,d,c,p)}Eg(n,I,D);return;case"option":for(var J in a)if(I=a[J],a.hasOwnProperty(J)&&I!=null&&!c.hasOwnProperty(J))switch(J){case"selected":n.selected=!1;break;default:Ke(n,s,J,null,c,I)}for(x in c)if(I=c[x],D=a[x],c.hasOwnProperty(x)&&I!==D&&(I!=null||D!=null))switch(x){case"selected":n.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ke(n,s,x,I,c,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)I=a[de],a.hasOwnProperty(de)&&I!=null&&!c.hasOwnProperty(de)&&Ke(n,s,de,null,c,I);for(j in c)if(I=c[j],D=a[j],c.hasOwnProperty(j)&&I!==D&&(I!=null||D!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,s));break;default:Ke(n,s,j,I,c,D)}return;default:if(hd(s)){for(var We in a)I=a[We],a.hasOwnProperty(We)&&I!==void 0&&!c.hasOwnProperty(We)&&eh(n,s,We,void 0,c,I);for(B in c)I=c[B],D=a[B],!c.hasOwnProperty(B)||I===D||I===void 0&&D===void 0||eh(n,s,B,I,c,D);return}}for(var O in a)I=a[O],a.hasOwnProperty(O)&&I!=null&&!c.hasOwnProperty(O)&&Ke(n,s,O,null,c,I);for($ in c)I=c[$],D=a[$],!c.hasOwnProperty($)||I===D||I==null&&D==null||Ke(n,s,$,I,c,D)}function Av(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var d=a[c],p=d.transferSize,g=d.initiatorType,w=d.duration;if(p&&w&&Av(g)){for(g=0,w=d.responseEnd,c+=1;c<a.length;c++){var x=a[c],j=x.startTime;if(j>w)break;var B=x.transferSize,$=x.initiatorType;B&&Av($)&&(x=x.responseEnd,g+=B*(x<w?1:(w-j)/(x-j)))}if(--c,s+=8*(p+g)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var th=null,nh=null;function Ec(n){return n.nodeType===9?n:n.ownerDocument}function Ov(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function rh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sh=null;function pk(){var n=window.event;return n&&n.type==="popstate"?n===sh?!1:(sh=n,!0):(sh=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,mk=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(n){return Nv.resolve(null).then(n).catch(yk)}:Rv;function yk(n){setTimeout(function(){throw n})}function Zr(n){return n==="head"}function jv(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(d),Ki(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")ko(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ko(a);for(var p=a.firstChild;p;){var g=p.nextSibling,w=p.nodeName;p[qa]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=g}}else a==="body"&&ko(n.ownerDocument.body);a=d}while(a);Ki(s)}function Mv(n,s){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function ih(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ih(a),cd(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function bk(n,s,a,c){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[qa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=kn(n.nextSibling),n===null)break}return null}function vk(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=kn(n.nextSibling),n===null))return null;return n}function Iv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=kn(n.nextSibling),n===null))return null;return n}function ah(n){return n.data==="$?"||n.data==="$~"}function oh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function _k(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function kn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var lh=null;function Dv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return kn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function Lv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function Uv(n,s,a){switch(s=Ec(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ko(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);cd(n)}var An=new Map,Bv=new Set;function xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _r=q.d;q.d={f:Sk,r:wk,D:Ek,C:xk,L:Tk,m:kk,X:Ok,S:Ak,M:Ck};function Sk(){var n=_r.f(),s=mc();return n||s}function wk(n){var s=hi(n);s!==null&&s.tag===5&&s.type==="form"?tb(s):_r.r(n)}var Gi=typeof document>"u"?null:document;function zv(n,s,a){var c=Gi;if(c&&typeof s=="string"&&s){var d=vn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Bv.has(d)||(Bv.add(d),n={rel:n,crossOrigin:a,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),Nt(s,"link",n),xt(s),c.head.appendChild(s)))}}function Ek(n){_r.D(n),zv("dns-prefetch",n,null)}function xk(n,s){_r.C(n,s),zv("preconnect",n,s)}function Tk(n,s,a){_r.L(n,s,a);var c=Gi;if(c&&n&&s){var d='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+vn(a.imageSizes)+'"]')):d+='[href="'+vn(n)+'"]';var p=d;switch(s){case"style":p=Vi(n);break;case"script":p=Yi(n)}An.has(p)||(n=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),An.set(p,n),c.querySelector(d)!==null||s==="style"&&c.querySelector(Ao(p))||s==="script"&&c.querySelector(Oo(p))||(s=c.createElement("link"),Nt(s,"link",n),xt(s),c.head.appendChild(s)))}}function kk(n,s){_r.m(n,s);var a=Gi;if(a&&n){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Yi(n)}if(!An.has(p)&&(n=b({rel:"modulepreload",href:n},s),An.set(p,n),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(p)))return}c=a.createElement("link"),Nt(c,"link",n),xt(c),a.head.appendChild(c)}}}function Ak(n,s,a){_r.S(n,s,a);var c=Gi;if(c&&n){var d=pi(c).hoistableStyles,p=Vi(n);s=s||"default";var g=d.get(p);if(!g){var w={loading:0,preload:null};if(g=c.querySelector(Ao(p)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},a),(a=An.get(p))&&ch(n,a);var x=g=c.createElement("link");xt(x),Nt(x,"link",n),x._p=new Promise(function(j,B){x.onload=j,x.onerror=B}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Tc(g,s,c)}g={type:"stylesheet",instance:g,count:1,state:w},d.set(p,g)}}}function Ok(n,s){_r.X(n,s);var a=Gi;if(a&&n){var c=pi(a).hoistableScripts,d=Yi(n),p=c.get(d);p||(p=a.querySelector(Oo(d)),p||(n=b({src:n,async:!0},s),(s=An.get(d))&&uh(n,s),p=a.createElement("script"),xt(p),Nt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Ck(n,s){_r.M(n,s);var a=Gi;if(a&&n){var c=pi(a).hoistableScripts,d=Yi(n),p=c.get(d);p||(p=a.querySelector(Oo(d)),p||(n=b({src:n,async:!0,type:"module"},s),(s=An.get(d))&&uh(n,s),p=a.createElement("script"),xt(p),Nt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Hv(n,s,a,c){var d=(d=Et.current)?xc(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Vi(a.href),a=pi(d).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Vi(a.href);var p=pi(d).hoistableStyles,g=p.get(n);if(g||(d=d.ownerDocument||d,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,g),(p=d.querySelector(Ao(n)))&&!p._p&&(g.instance=p,g.state.loading=5),An.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(n,a),p||Rk(d,n,a,g.state))),s&&c===null)throw Error(i(528,""));return g}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yi(a),a=pi(d).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Vi(n){return'href="'+vn(n)+'"'}function Ao(n){return'link[rel="stylesheet"]['+n+"]"}function Pv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function Rk(n,s,a,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Nt(s,"link",a),xt(s),n.head.appendChild(s))}function Yi(n){return'[src="'+vn(n)+'"]'}function Oo(n){return"script[async]"+n}function $v(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+vn(a.href)+'"]');if(c)return s.instance=c,xt(c),c;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),xt(c),Nt(c,"style",d),Tc(c,a.precedence,n),s.instance=c;case"stylesheet":d=Vi(a.href);var p=n.querySelector(Ao(d));if(p)return s.state.loading|=4,s.instance=p,xt(p),p;c=Pv(a),(d=An.get(d))&&ch(c,d),p=(n.ownerDocument||n).createElement("link"),xt(p);var g=p;return g._p=new Promise(function(w,x){g.onload=w,g.onerror=x}),Nt(p,"link",c),s.state.loading|=4,Tc(p,a.precedence,n),s.instance=p;case"script":return p=Yi(a.src),(d=n.querySelector(Oo(p)))?(s.instance=d,xt(d),d):(c=a,(d=An.get(p))&&(c=b({},a),uh(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),xt(d),Nt(d,"link",c),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Tc(c,a.precedence,n));return s.instance}function Tc(n,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,g=0;g<c.length;g++){var w=c[g];if(w.dataset.precedence===s)p=w;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function ch(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function uh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var kc=null;function qv(n,s,a){if(kc===null){var c=new Map,d=kc=new Map;d.set(a,c)}else d=kc,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var p=a[d];if(!(p[qa]||p[At]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var g=p.getAttribute(s)||"";g=n+g;var w=c.get(g);w?w.push(p):c.set(g,[p])}}return c}function Fv(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Nk(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function jk(n,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Vi(c.href),p=s.querySelector(Ao(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Ac.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,xt(p);return}p=s.ownerDocument||s,c=Pv(c),(d=An.get(d))&&ch(c,d),p=p.createElement("link"),xt(p);var g=p;g._p=new Promise(function(w,x){g.onload=w,g.onerror=x}),Nt(p,"link",c),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Ac.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var dh=0;function Mk(n,s){return n.stylesheets&&n.count===0&&Cc(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&Cc(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&dh===0&&(dh=62500*hk());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Cc(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>dh?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Oc=null;function Cc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Oc=new Map,s.forEach(Ik,n),Oc=null,Ac.call(n))}function Ik(n,s){if(!(s.state.loading&4)){var a=Oc.get(n);if(a)var c=a.get(null);else{a=new Map,Oc.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var g=d[p];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),c=g)}c&&a.set(null,c)}d=s.instance,g=d.getAttribute("data-precedence"),p=a.get(g)||c,p===c&&a.set(null,d),a.set(g,d),this.count++,c=Ac.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Co={$$typeof:R,Provider:null,Consumer:null,_currentValue:C,_currentValue2:C,_threadCount:0};function Dk(n,s,a,c,d,p,g,w,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=id(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=id(0),this.hiddenUpdates=id(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Vv(n,s,a,c,d,p,g,w,x,j,B,$){return n=new Dk(n,s,a,g,x,j,B,$,w),s=1,p===!0&&(s|=24),p=sn(3,null,null,s),n.current=p,p.stateNode=n,s=qd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:s},Yd(p),n}function Yv(n){return n?(n=xi,n):xi}function Kv(n,s,a,c,d,p){d=Yv(d),c.context===null?c.context=d:c.pendingContext=d,c=$r(s),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=qr(n,c,s),a!==null&&(Xt(a,n,s),ao(a,n,s))}function Wv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function fh(n,s){Wv(n,s),(n=n.alternate)&&Wv(n,s)}function Xv(n){if(n.tag===13||n.tag===31){var s=Cs(n,67108864);s!==null&&Xt(s,n,67108864),fh(n,67108864)}}function Jv(n){if(n.tag===13||n.tag===31){var s=un();s=ad(s);var a=Cs(n,s);a!==null&&Xt(a,n,s),fh(n,s)}}var Rc=!0;function Lk(n,s,a,c){var d=M.T;M.T=null;var p=q.p;try{q.p=2,hh(n,s,a,c)}finally{q.p=p,M.T=d}}function Uk(n,s,a,c){var d=M.T;M.T=null;var p=q.p;try{q.p=8,hh(n,s,a,c)}finally{q.p=p,M.T=d}}function hh(n,s,a,c){if(Rc){var d=ph(c);if(d===null)Zf(n,s,c,Nc,a),Zv(n,c);else if(zk(d,n,s,a,c))c.stopPropagation();else if(Zv(n,c),s&4&&-1<Bk.indexOf(n)){for(;d!==null;){var p=hi(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var g=xs(p.pendingLanes);if(g!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var x=1<<31-nn(g);w.entanglements[1]|=x,g&=~x}Jn(p),($e&6)===0&&(hc=ye()+500,Eo(0))}}break;case 31:case 13:w=Cs(p,2),w!==null&&Xt(w,p,2),mc(),fh(p,2)}if(p=ph(c),p===null&&Zf(n,s,c,Nc,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Zf(n,s,c,null,a)}}function ph(n){return n=md(n),mh(n)}var Nc=null;function mh(n){if(Nc=null,n=fi(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=f(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Nc=n,null}function Qv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case ag:return 2;case og:return 8;case _l:case xT:return 32;case lg:return 268435456;default:return 32}default:return 32}}var gh=!1,es=null,ts=null,ns=null,Ro=new Map,No=new Map,rs=[],Bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(n,s){switch(n){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Ro.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(s.pointerId)}}function jo(n,s,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=hi(s),s!==null&&Xv(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function zk(n,s,a,c,d){switch(s){case"focusin":return es=jo(es,n,s,a,c,d),!0;case"dragenter":return ts=jo(ts,n,s,a,c,d),!0;case"mouseover":return ns=jo(ns,n,s,a,c,d),!0;case"pointerover":var p=d.pointerId;return Ro.set(p,jo(Ro.get(p)||null,n,s,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,No.set(p,jo(No.get(p)||null,n,s,a,c,d)),!0}return!1}function e_(n){var s=fi(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,pg(n.priority,function(){Jv(a)});return}}else if(s===31){if(s=f(a),s!==null){n.blockedOn=s,pg(n.priority,function(){Jv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=ph(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);pd=c,a.target.dispatchEvent(c),pd=null}else return s=hi(a),s!==null&&Xv(s),n.blockedOn=a,!1;s.shift()}return!0}function t_(n,s,a){jc(n)&&a.delete(s)}function Hk(){gh=!1,es!==null&&jc(es)&&(es=null),ts!==null&&jc(ts)&&(ts=null),ns!==null&&jc(ns)&&(ns=null),Ro.forEach(t_),No.forEach(t_)}function Mc(n,s){n.blockedOn===s&&(n.blockedOn=null,gh||(gh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hk)))}var Ic=null;function n_(n){Ic!==n&&(Ic=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ic===n&&(Ic=null);for(var s=0;s<n.length;s+=3){var a=n[s],c=n[s+1],d=n[s+2];if(typeof c!="function"){if(mh(c||a)===null)continue;break}var p=hi(a);p!==null&&(n.splice(s,3),s-=3,pf(p,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function Ki(n){function s(x){return Mc(x,n)}es!==null&&Mc(es,n),ts!==null&&Mc(ts,n),ns!==null&&Mc(ns,n),Ro.forEach(s),No.forEach(s);for(var a=0;a<rs.length;a++){var c=rs[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&rs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],p=a[c+1],g=d[Ft]||null;if(typeof p=="function")g||n_(a);else if(g){var w=null;if(p&&p.hasAttribute("formAction")){if(d=p,g=p[Ft]||null)w=g.formAction;else if(mh(d)!==null)continue}else w=g.action;typeof w=="function"?a[c+1]=w:(a.splice(c,3),c-=3),n_(a)}}}function r_(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(g){return d=g})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function yh(n){this._internalRoot=n}Dc.prototype.render=yh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=un();Kv(a,c,n,s,null,null)},Dc.prototype.unmount=yh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Kv(n.current,2,null,n,null,null),mc(),s[di]=null}};function Dc(n){this._internalRoot=n}Dc.prototype.unstable_scheduleHydration=function(n){if(n){var s=hg();n={blockedOn:null,target:n,priority:s};for(var a=0;a<rs.length&&s!==0&&s<rs[a].priority;a++);rs.splice(a,0,n),a===0&&e_(n)}};var s_=e.version;if(s_!=="19.2.0")throw Error(i(527,s_,"19.2.0"));q.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var Pk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Ha=Lc.inject(Pk),tn=Lc}catch{}}return Mo.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,c="",d=db,p=fb,g=hb;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=Vv(n,1,!1,null,null,a,c,null,d,p,g,r_),n[di]=s.current,Qf(n),new yh(s)},Mo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var c=!1,d="",p=db,g=fb,w=hb,x=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),s=Vv(n,1,!0,s,a??null,c,d,x,p,g,w,r_),s.context=Yv(null),a=s.current,c=un(),c=ad(c),d=$r(c),d.callback=null,qr(a,d,c),a=c,s.current.lanes=a,$a(s,a),Jn(s),n[di]=s.current,Qf(n),new Dc(s)},Mo.version="19.2.0",Mo}var c_;function kA(){if(c_)return bh.exports;c_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bh.exports=TA(),bh.exports}var AA=kA();const se=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Le=globalThis,Zs="10.25.0";function oi(){return $u(Le),Le}function $u(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Zs,e[Zs]=e[Zs]||{}}function xa(t,e,r=Le){const i=r.__SENTRY__=r.__SENTRY__||{},o=i[Zs]=i[Zs]||{};return o[t]||(o[t]=e())}const OA=["debug","info","warn","error","log","assert","trace"],CA="Sentry Logger ",yu={};function li(t){if(!("console"in Le))return t();const e=Le.console,r={},i=Object.keys(yu);i.forEach(o=>{const l=yu[o];r[o]=e[o],e[o]=l});try{return t()}finally{i.forEach(o=>{e[o]=r[o]})}}function RA(){em().enabled=!0}function NA(){em().enabled=!1}function IS(){return em().enabled}function jA(...t){Zp("log",...t)}function MA(...t){Zp("warn",...t)}function IA(...t){Zp("error",...t)}function Zp(t,...e){se&&IS()&&li(()=>{Le.console[t](`${CA}[${t}]:`,...e)})}function em(){return se?xa("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Y={enable:RA,disable:NA,isEnabled:IS,log:jA,warn:MA,error:IA},DS=50,ri="?",u_=/\(error: (.*)\)/,d_=/captureMessage|captureException/;function LS(...t){const e=t.sort((r,i)=>r[0]-i[0]).map(r=>r[1]);return(r,i=0,o=0)=>{const l=[],u=r.split(`
`);for(let f=i;f<u.length;f++){let h=u[f];h.length>1024&&(h=h.slice(0,1024));const m=u_.test(h)?h.replace(u_,"$1"):h;if(!m.match(/\S*Error: /)){for(const y of e){const b=y(m);if(b){l.push(b);break}}if(l.length>=DS+o)break}}return LA(l.slice(o))}}function DA(t){return Array.isArray(t)?LS(...t):t}function LA(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Uc(e).function||"")&&e.pop(),e.reverse(),d_.test(Uc(e).function||"")&&(e.pop(),d_.test(Uc(e).function||"")&&e.pop()),e.slice(0,DS).map(r=>({...r,filename:r.filename||Uc(e).filename,function:r.function||ri}))}function Uc(t){return t[t.length-1]||{}}const Sh="<anonymous>";function Cr(t){try{return!t||typeof t!="function"?Sh:t.name||Sh}catch{return Sh}}function f_(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(i=>{i.stacktrace.frames&&r.push(...i.stacktrace.frames)}),r}catch{return}}}const ou={},h_={};function ms(t,e){ou[t]=ou[t]||[],ou[t].push(e)}function gs(t,e){if(!h_[t]){h_[t]=!0;try{e()}catch(r){se&&Y.error(`Error while instrumenting ${t}`,r)}}}function Rn(t,e){const r=t&&ou[t];if(r)for(const i of r)try{i(e)}catch(o){se&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Cr(i)}
Error:`,o)}}let wh=null;function US(t){const e="error";ms(e,t),gs(e,UA)}function UA(){wh=Le.onerror,Le.onerror=function(t,e,r,i,o){return Rn("error",{column:i,error:o,line:r,msg:t,url:e}),wh?wh.apply(this,arguments):!1},Le.onerror.__SENTRY_INSTRUMENTED__=!0}let Eh=null;function BS(t){const e="unhandledrejection";ms(e,t),gs(e,BA)}function BA(){Eh=Le.onunhandledrejection,Le.onunhandledrejection=function(t){return Rn("unhandledrejection",t),Eh?Eh.apply(this,arguments):!0},Le.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const zS=Object.prototype.toString;function tm(t){switch(zS.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Rr(t,Error)}}function Ta(t,e){return zS.call(t)===`[object ${e}]`}function HS(t){return Ta(t,"ErrorEvent")}function p_(t){return Ta(t,"DOMError")}function zA(t){return Ta(t,"DOMException")}function Tr(t){return Ta(t,"String")}function nm(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function ha(t){return t===null||nm(t)||typeof t!="object"&&typeof t!="function"}function Vo(t){return Ta(t,"Object")}function qu(t){return typeof Event<"u"&&Rr(t,Event)}function HA(t){return typeof Element<"u"&&Rr(t,Element)}function PA(t){return Ta(t,"RegExp")}function ka(t){return!!(t?.then&&typeof t.then=="function")}function $A(t){return Vo(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Rr(t,e){try{return t instanceof e}catch{return!1}}function PS(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function $S(t){return typeof Request<"u"&&Rr(t,Request)}const rm=Le,qA=80;function Zt(t,e={}){if(!t)return"<unknown>";try{let r=t;const i=5,o=[];let l=0,u=0;const f=" > ",h=f.length;let m;const y=Array.isArray(e)?e:e.keyAttrs,b=!Array.isArray(e)&&e.maxStringLength||qA;for(;r&&l++<i&&(m=FA(r,y),!(m==="html"||l>1&&u+o.length*h+m.length>=b));)o.push(m),u+=m.length,r=r.parentNode;return o.reverse().join(f)}catch{return"<unknown>"}}function FA(t,e){const r=t,i=[];if(!r?.tagName)return"";if(rm.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}i.push(r.tagName.toLowerCase());const o=e?.length?e.filter(u=>r.getAttribute(u)).map(u=>[u,r.getAttribute(u)]):null;if(o?.length)o.forEach(u=>{i.push(`[${u[0]}="${u[1]}"]`)});else{r.id&&i.push(`#${r.id}`);const u=r.className;if(u&&Tr(u)){const f=u.split(/\s+/);for(const h of f)i.push(`.${h}`)}}const l=["aria-label","type","name","title","alt"];for(const u of l){const f=r.getAttribute(u);f&&i.push(`[${u}="${f}"]`)}return i.join("")}function Aa(){try{return rm.document.location.href}catch{return""}}function qS(t){if(!rm.HTMLElement)return null;let e=t;const r=5;for(let i=0;i<r;i++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Qt(t,e,r){if(!(e in t))return;const i=t[e];if(typeof i!="function")return;const o=r(i);typeof o=="function"&&FS(o,i);try{t[e]=o}catch{se&&Y.log(`Failed to replace method "${e}" in object`,t)}}function yn(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{se&&Y.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function FS(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,yn(t,"__sentry_original__",e)}catch{}}function sm(t){return t.__sentry_original__}function GS(t){if(tm(t))return{message:t.message,name:t.name,stack:t.stack,...g_(t)};if(qu(t)){const e={type:t.type,target:m_(t.target),currentTarget:m_(t.currentTarget),...g_(t)};return typeof CustomEvent<"u"&&Rr(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function m_(t){try{return HA(t)?Zt(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function g_(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function GA(t){const e=Object.keys(GS(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}function VS(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function y_(t,e){if(!Array.isArray(t))return"";const r=[];for(let i=0;i<t.length;i++){const o=t[i];try{PS(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function lu(t,e,r=!1){return Tr(t)?PA(e)?e.test(t):Tr(e)?r?t===e:t.includes(e):!1:!1}function kr(t,e=[],r=!1){return e.some(i=>lu(t,i,r))}function VA(){const t=Le;return t.crypto||t.msCrypto}let xh;function YA(){return Math.random()*16}function gn(t=VA()){try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return xh||(xh="10000000100040008000"+1e11),xh.replace(/[018]/g,e=>(e^(YA()&15)>>e/4).toString(16))}function YS(t){return t.exception?.values?.[0]}function Ys(t){const{message:e,event_id:r}=t;if(e)return e;const i=YS(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||r||"<unknown>":r||"<unknown>"}function np(t,e,r){const i=t.exception=t.exception||{},o=i.values=i.values||[],l=o[0]=o[0]||{};l.value||(l.value=e||""),l.type||(l.type="Error")}function pa(t,e){const r=YS(t);if(!r)return;const i={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...i,...o,...e},e&&"data"in e){const l={...o?.data,...e.data};r.mechanism.data=l}}function b_(t){if(KA(t))return!0;try{yn(t,"__sentry_captured__",!0)}catch{}return!1}function KA(t){try{return t.__sentry_captured__}catch{}}const KS=1e3;function ci(){return Date.now()/KS}function WA(){const{performance:t}=Le;if(!t?.now||!t.timeOrigin)return ci;const e=t.timeOrigin;return()=>(e+t.now())/KS}let v_;function kt(){return(v_??(v_=WA()))()}let Th;function XA(){const{performance:t}=Le;if(!t?.now)return[void 0,"none"];const e=3600*1e3,r=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-i):e,l=o<e,u=t.timing?.navigationStart,h=typeof u=="number"?Math.abs(u+r-i):e,m=h<e;return l||m?o<=h?[t.timeOrigin,"timeOrigin"]:[u,"navigationStart"]:[i,"dateNow"]}function en(){return Th||(Th=XA()),Th[0]}function JA(t){const e=kt(),r={sid:gn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ZA(r)};return t&&ma(r,t),r}function ma(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||kt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:gn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function QA(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),ma(t,r)}function ZA(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function sl(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const i={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=sl(i[o],e[o],r-1));return i}function Nr(){return gn()}function Ar(){return gn().substring(16)}const rp="_sentrySpan";function ga(t,e){e?yn(t,rp,e):delete t[rp]}function bu(t){return t[rp]}const eO=100;class Zn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Nr(),sampleRand:Math.random()}}clone(){const e=new Zn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ga(e,bu(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ma(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,i=r instanceof Zn?r.getScopeData():Vo(r)?e:void 0,{tags:o,extra:l,user:u,contexts:f,level:h,fingerprint:m=[],propagationContext:y}=i||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...l},this._contexts={...this._contexts,...f},u&&Object.keys(u).length&&(this._user=u),h&&(this._level=h),m.length&&(this._fingerprint=m),y&&(this._propagationContext=y),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ga(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Nr(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const i=typeof r=="number"?r:eO;if(i<=0)return this;const o={timestamp:ci(),...e,message:e.message?VS(e.message,2048):e.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:bu(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=sl(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const i=r?.event_id||gn();if(!this._client)return se&&Y.warn("No client configured on scope - will not capture exception!"),i;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:i},this),i}captureMessage(e,r,i){const o=i?.event_id||gn();if(!this._client)return se&&Y.warn("No client configured on scope - will not capture message!"),o;const l=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:l,...i,event_id:o},this),o}captureEvent(e,r){const i=r?.event_id||gn();return this._client?(this._client.captureEvent(e,{...r,event_id:i},this),i):(se&&Y.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function tO(){return xa("defaultCurrentScope",()=>new Zn)}function nO(){return xa("defaultIsolationScope",()=>new Zn)}class rO{constructor(e,r){let i;e?i=e:i=new Zn;let o;r?o=r:o=new Zn,this._stack=[{scope:i}],this._isolationScope=o}withScope(e){const r=this._pushScope();let i;try{i=e(r)}catch(o){throw this._popScope(),o}return ka(i)?i.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ya(){const t=oi(),e=$u(t);return e.stack=e.stack||new rO(tO(),nO())}function sO(t){return ya().withScope(t)}function iO(t,e){const r=ya();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function __(t){return ya().withScope(()=>t(ya().getIsolationScope()))}function aO(){return{withIsolationScope:__,withScope:sO,withSetScope:iO,withSetIsolationScope:(t,e)=>__(e),getCurrentScope:()=>ya().getScope(),getIsolationScope:()=>ya().getIsolationScope()}}function Oa(t){const e=$u(t);return e.acs?e.acs:aO()}function Ve(){const t=oi();return Oa(t).getCurrentScope()}function nr(){const t=oi();return Oa(t).getIsolationScope()}function oO(){return xa("globalScope",()=>new Zn)}function il(...t){const e=oi(),r=Oa(e);if(t.length===2){const[i,o]=t;return i?r.withSetScope(i,o):r.withScope(o)}return r.withScope(t[0])}function Ie(){return Ve().getClient()}function lO(t){const e=t.getPropagationContext(),{traceId:r,parentSpanId:i,propagationSpanId:o}=e,l={trace_id:r,span_id:o||Ar()};return i&&(l.parent_span_id=i),l}const Gn="sentry.source",im="sentry.sample_rate",WS="sentry.previous_trace_sample_rate",jr="sentry.op",wt="sentry.origin",Yo="sentry.idle_span_finish_reason",al="sentry.measurement_unit",ol="sentry.measurement_value",S_="sentry.custom_span_name",am="sentry.profile_id",Ca="sentry.exclusive_time",cO="sentry.link.type",uO=0,XS=1,St=2;function dO(t){if(t<400&&t>=100)return{code:XS};if(t>=400&&t<500)switch(t){case 401:return{code:St,message:"unauthenticated"};case 403:return{code:St,message:"permission_denied"};case 404:return{code:St,message:"not_found"};case 409:return{code:St,message:"already_exists"};case 413:return{code:St,message:"failed_precondition"};case 429:return{code:St,message:"resource_exhausted"};case 499:return{code:St,message:"cancelled"};default:return{code:St,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:St,message:"unimplemented"};case 503:return{code:St,message:"unavailable"};case 504:return{code:St,message:"deadline_exceeded"};default:return{code:St,message:"internal_error"}}return{code:St,message:"internal_error"}}function JS(t,e){t.setAttribute("http.response.status_code",e);const r=dO(e);r.message!=="unknown_error"&&t.setStatus(r)}const QS="_sentryScope",ZS="_sentryIsolationScope";function fO(t){try{const e=Le.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}function hO(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function pO(t,e,r){t&&(yn(t,ZS,fO(r)),yn(t,QS,e))}function vu(t){const e=t;return{scope:e[QS],isolationScope:hO(e[ZS])}}const om="sentry-",mO=/^sentry-/,gO=8192;function ew(t){const e=bO(t);if(!e)return;const r=Object.entries(e).reduce((i,[o,l])=>{if(o.match(mO)){const u=o.slice(om.length);i[u]=l}return i},{});if(Object.keys(r).length>0)return r}function yO(t){if(!t)return;const e=Object.entries(t).reduce((r,[i,o])=>(o&&(r[`${om}${i}`]=o),r),{});return vO(e)}function bO(t){if(!(!t||!Tr(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{const i=w_(r);return Object.entries(i).forEach(([o,l])=>{e[o]=l}),e},{}):w_(t)}function w_(t){return t.split(",").map(e=>{const r=e.indexOf("=");if(r===-1)return[];const i=e.slice(0,r),o=e.slice(r+1);return[i,o].map(l=>{try{return decodeURIComponent(l.trim())}catch{return}})}).reduce((e,[r,i])=>(r&&i&&(e[r]=i),e),{})}function vO(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,i],o)=>{const l=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`,u=o===0?l:`${e},${l}`;return u.length>gO?(se&&Y.warn(`Not adding key: ${r} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):u},"")}const _O=/^o(\d+)\./,SO=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wO(t){return t==="http"||t==="https"}function Ra(t,e=!1){const{host:r,path:i,pass:o,port:l,projectId:u,protocol:f,publicKey:h}=t;return`${f}://${h}${e&&o?`:${o}`:""}@${r}${l?`:${l}`:""}/${i&&`${i}/`}${u}`}function EO(t){const e=SO.exec(t);if(!e){li(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[r,i,o="",l="",u="",f=""]=e.slice(1);let h="",m=f;const y=m.split("/");if(y.length>1&&(h=y.slice(0,-1).join("/"),m=y.pop()),m){const b=m.match(/^\d+/);b&&(m=b[0])}return tw({host:l,pass:o,path:h,projectId:m,port:u,protocol:r,publicKey:i})}function tw(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function xO(t){if(!se)return!0;const{port:e,projectId:r,protocol:i}=t;return["protocol","publicKey","host","projectId"].find(u=>t[u]?!1:(Y.error(`Invalid Sentry Dsn: ${u} missing`),!0))?!1:r.match(/^\d+$/)?wO(i)?e&&isNaN(parseInt(e,10))?(Y.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Y.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(Y.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function TO(t){return t.match(_O)?.[1]}function kO(t){const e=t.getOptions(),{host:r}=t.getDsn()||{};let i;return e.orgId?i=String(e.orgId):r&&(i=TO(r)),i}function AO(t){const e=typeof t=="string"?EO(t):tw(t);if(!(!e||!xO(e)))return e}function si(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const nw=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function OO(t){if(!t)return;const e=t.match(nw);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function CO(t,e){const r=OO(t),i=ew(e);if(!r?.traceId)return{traceId:Nr(),sampleRand:Math.random()};const o=RO(r,i);i&&(i.sample_rand=o.toString());const{traceId:l,parentSpanId:u,parentSampled:f}=r;return{traceId:l,parentSpanId:u,sampled:f,dsc:i||{},sampleRand:o}}function rw(t=Nr(),e=Ar(),r){let i="";return r!==void 0&&(i=r?"-1":"-0"),`${t}-${e}${i}`}function sw(t=Nr(),e=Ar(),r){return`00-${t}-${e}-${r?"01":"00"}`}function RO(t,e){const r=si(e?.sample_rand);if(r!==void 0)return r;const i=si(e?.sample_rate);return i&&t?.parentSampled!==void 0?t.parentSampled?Math.random()*i:i+Math.random()*(1-i):Math.random()}const iw=0,lm=1;let E_=!1;function NO(t){const{spanId:e,traceId:r}=t.spanContext(),{data:i,op:o,parent_span_id:l,status:u,origin:f,links:h}=Be(t);return{parent_span_id:l,span_id:e,trace_id:r,data:i,op:o,status:u,origin:f,links:h}}function jO(t){const{spanId:e,traceId:r,isRemote:i}=t.spanContext(),o=i?e:Be(t).parent_span_id,l=vu(t).scope,u=i?l?.getPropagationContext().propagationSpanId||Ar():e;return{parent_span_id:o,span_id:u,trace_id:r}}function MO(t){const{traceId:e,spanId:r}=t.spanContext(),i=ys(t);return rw(e,r,i)}function IO(t){const{traceId:e,spanId:r}=t.spanContext(),i=ys(t);return sw(e,r,i)}function aw(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:r,traceFlags:i,...o},attributes:l})=>({span_id:e,trace_id:r,sampled:i===lm,attributes:l,...o}))}function ei(t){return typeof t=="number"?x_(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?x_(t.getTime()):kt()}function x_(t){return t>9999999999?t/1e3:t}function Be(t){if(LO(t))return t.getSpanJSON();const{spanId:e,traceId:r}=t.spanContext();if(DO(t)){const{attributes:i,startTime:o,name:l,endTime:u,status:f,links:h}=t,m="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:r,data:i,description:l,parent_span_id:m,start_timestamp:ei(o),timestamp:ei(u)||void 0,status:ow(f),op:i[jr],origin:i[wt],links:aw(h)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function DO(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function LO(t){return typeof t.getSpanJSON=="function"}function ys(t){const{traceFlags:e}=t.spanContext();return e===lm}function ow(t){if(!(!t||t.code===uO))return t.code===XS?"ok":t.message||"internal_error"}const ti="_sentryChildSpans",sp="_sentryRootSpan";function lw(t,e){const r=t[sp]||t;yn(e,sp,r),t[ti]?t[ti].add(e):yn(t,ti,new Set([e]))}function UO(t,e){t[ti]&&t[ti].delete(e)}function cu(t){const e=new Set;function r(i){if(!e.has(i)&&ys(i)){e.add(i);const o=i[ti]?Array.from(i[ti]):[];for(const l of o)r(l)}}return r(t),Array.from(e)}function It(t){return t[sp]||t}function Pt(){const t=oi(),e=Oa(t);return e.getActiveSpan?e.getActiveSpan():bu(Ve())}function ip(){E_||(li(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),E_=!0)}let T_=!1;function BO(){if(T_)return;function t(){const e=Pt(),r=e&&It(e);if(r){const i="internal_error";se&&Y.log(`[Tracing] Root span: ${i} -> Global error occurred`),r.setStatus({code:St,message:i})}}t.tag="sentry_tracingErrorCallback",T_=!0,US(t),BS(t)}function Vn(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||Ie()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function k_(t){Y.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function _u(t,e){if(!e?.length||!t.description)return!1;for(const r of e){if(HO(r)){if(lu(t.description,r))return se&&k_(t),!0;continue}if(!r.name&&!r.op)continue;const i=r.name?lu(t.description,r.name):!0,o=r.op?t.op&&lu(t.op,r.op):!0;if(i&&o)return se&&k_(t),!0}return!1}function zO(t,e){const r=e.parent_span_id,i=e.span_id;if(r)for(const o of t)o.parent_span_id===i&&(o.parent_span_id=r)}function HO(t){return typeof t=="string"||t instanceof RegExp}const cm="production",cw="_frozenDsc";function uu(t,e){yn(t,cw,e)}function uw(t,e){const r=e.getOptions(),{publicKey:i}=e.getDsn()||{},o={environment:r.environment||cm,release:r.release,public_key:i,trace_id:t,org_id:kO(e)};return e.emit("createDsc",o),o}function dw(t,e){const r=e.getPropagationContext();return r.dsc||uw(r.traceId,t)}function Mr(t){const e=Ie();if(!e)return{};const r=It(t),i=Be(r),o=i.data,l=r.spanContext().traceState,u=l?.get("sentry.sample_rate")??o[im]??o[WS];function f(E){return(typeof u=="number"||typeof u=="string")&&(E.sample_rate=`${u}`),E}const h=r[cw];if(h)return f(h);const m=l?.get("sentry.dsc"),y=m&&ew(m);if(y)return f(y);const b=uw(t.spanContext().traceId,e),_=o[Gn],S=i.description;return _!=="url"&&S&&(b.transaction=S),Vn()&&(b.sampled=String(ys(r)),b.sample_rand=l?.get("sentry.sample_rand")??vu(r).scope?.getPropagationContext().sampleRand.toString()),f(b),e.emit("createDsc",b,r),b}class fs{constructor(e={}){this._traceId=e.traceId||Nr(),this._spanId=e.spanId||Ar()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:iw}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,i){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}}function Pn(t,e=100,r=1/0){try{return ap("",t,e,r)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function fw(t,e=3,r=100*1024){const i=Pn(t,e);return FO(i)>r?fw(t,e-1,r):i}function ap(t,e,r=1/0,i=1/0,o=GO()){const[l,u]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const f=PO(t,e);if(!f.startsWith("[object "))return f;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(h===0)return f.replace("object ","");if(l(e))return"[Circular ~]";const m=e;if(m&&typeof m.toJSON=="function")try{const S=m.toJSON();return ap("",S,h-1,i,o)}catch{}const y=Array.isArray(e)?[]:{};let b=0;const _=GS(e);for(const S in _){if(!Object.prototype.hasOwnProperty.call(_,S))continue;if(b>=i){y[S]="[MaxProperties ~]";break}const E=_[S];y[S]=ap(S,E,h-1,i,o),b++}return u(e),y}function PO(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(PS(e))return"[VueViewModel]";if($A(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Cr(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=$O(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function $O(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function qO(t){return~-encodeURI(t).split(/%..|./).length}function FO(t){return qO(JSON.stringify(t))}function GO(){const t=new WeakSet;function e(i){return t.has(i)?!0:(t.add(i),!1)}function r(i){t.delete(i)}return[e,r]}function bs(t,e=[]){return[t,e]}function VO(t,e){const[r,i]=t;return[r,[...i,e]]}function A_(t,e){const r=t[1];for(const i of r){const o=i[0].type;if(e(i,o))return!0}return!1}function op(t){const e=$u(Le);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function YO(t){const[e,r]=t;let i=JSON.stringify(e);function o(l){typeof i=="string"?i=typeof l=="string"?i+l:[op(i),l]:i.push(typeof l=="string"?op(l):l)}for(const l of r){const[u,f]=l;if(o(`
${JSON.stringify(u)}
`),typeof f=="string"||f instanceof Uint8Array)o(f);else{let h;try{h=JSON.stringify(f)}catch{h=JSON.stringify(Pn(f))}o(h)}}return typeof i=="string"?i:KO(i)}function KO(t){const e=t.reduce((o,l)=>o+l.length,0),r=new Uint8Array(e);let i=0;for(const o of t)r.set(o,i),i+=o.length;return r}function WO(t){return[{type:"span"},t]}function XO(t){const e=typeof t.data=="string"?op(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const JO={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function O_(t){return JO[t]}function um(t){if(!t?.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function hw(t,e,r,i){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&i&&{dsn:Ra(i)},...o&&{trace:o}}}function QO(t,e){if(!e)return t;const r=t.sdk||{};return t.sdk={...r,name:r.name||e.name,version:r.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}function ZO(t,e,r,i){const o=um(r),l={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!i&&e&&{dsn:Ra(e)}},u="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return bs(l,[u])}function eC(t,e,r,i){const o=um(r),l=t.type&&t.type!=="replay_event"?t.type:"event";QO(t,r?.sdk);const u=hw(t,o,i,e);return delete t.sdkProcessingMetadata,bs(u,[[{type:l},t]])}function tC(t,e){function r(S){return!!S.trace_id&&!!S.public_key}const i=Mr(t[0]),o=e?.getDsn(),l=e?.getOptions().tunnel,u={sent_at:new Date().toISOString(),...r(i)&&{trace:i},...!!l&&o&&{dsn:Ra(o)}},{beforeSendSpan:f,ignoreSpans:h}=e?.getOptions()||{},m=h?.length?t.filter(S=>!_u(Be(S),h)):t,y=t.length-m.length;y&&e?.recordDroppedEvent("before_send","span",y);const b=f?S=>{const E=Be(S),T=f(E);return T||(ip(),E)}:Be,_=[];for(const S of m){const E=b(S);E&&_.push(WO(E))}return bs(u,_)}function nC(t){if(!se)return;const{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:i}=Be(t),{spanId:o}=t.spanContext(),l=ys(t),u=It(t),f=u===t,h=`[Tracing] Starting ${l?"sampled":"unsampled"} ${f?"root ":""}span`,m=[`op: ${r}`,`name: ${e}`,`ID: ${o}`];if(i&&m.push(`parent ID: ${i}`),!f){const{op:y,description:b}=Be(u);m.push(`root ID: ${u.spanContext().spanId}`),y&&m.push(`root op: ${y}`),b&&m.push(`root description: ${b}`)}Y.log(`${h}
  ${m.join(`
  `)}`)}function rC(t){if(!se)return;const{description:e="< unknown name >",op:r="< unknown op >"}=Be(t),{spanId:i}=t.spanContext(),l=It(t)===t,u=`[Tracing] Finishing "${r}" ${l?"root ":""}span "${e}" with ID ${i}`;Y.log(u)}function sC(t,e,r,i=Pt()){const o=i&&It(i);o&&(se&&Y.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),o.addEvent(t,{[ol]:e,[al]:r}))}function C_(t){if(!t||t.length===0)return;const e={};return t.forEach(r=>{const i=r.attributes||{},o=i[al],l=i[ol];typeof o=="string"&&typeof l=="number"&&(e[r.name]={value:l,unit:o})}),e}const R_=1e3;class Fu{constructor(e={}){this._traceId=e.traceId||Nr(),this._spanId=e.spanId||Ar(),this._startTime=e.startTimestamp||kt(),this._links=e.links,this._attributes={},this.setAttributes({[wt]:"manual",[jr]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,r){}spanContext(){const{_spanId:e,_traceId:r,_sampled:i}=this;return{spanId:e,traceId:r,traceFlags:i?lm:iw}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=ei(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Gn,"custom"),this}end(e){this._endTime||(this._endTime=ei(e),rC(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[jr],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:ow(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[wt],profile_id:this._attributes[am],exclusive_time:this._attributes[Ca],measurements:C_(this._events),is_segment:this._isStandaloneSpan&&It(this)===this||void 0,segment_id:this._isStandaloneSpan?It(this).spanContext().spanId:void 0,links:aw(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,i){se&&Y.log("[Tracing] Adding an event to span:",e);const o=N_(r)?r:i||kt(),l=N_(r)?{}:r||{},u={name:e,time:ei(o),attributes:l};return this._events.push(u),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Ie();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===It(this)))return;if(this._isStandaloneSpan){this._sampled?aC(tC([this],e)):(se&&Y.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const i=this._convertSpanToTransaction();i&&(vu(this).scope||Ve()).captureEvent(i)}_convertSpanToTransaction(){if(!j_(Be(this)))return;this._name||(se&&Y.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:r}=vu(this),i=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const l=cu(this).filter(y=>y!==this&&!iC(y)).map(y=>Be(y)).filter(j_),u=this._attributes[Gn];delete this._attributes[S_],l.forEach(y=>{delete y.data[S_]});const f={contexts:{trace:NO(this)},spans:l.length>R_?l.sort((y,b)=>y.start_timestamp-b.start_timestamp).slice(0,R_):l,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,dynamicSamplingContext:Mr(this)},request:i,...u&&{transaction_info:{source:u}}},h=C_(this._events);return h&&Object.keys(h).length&&(se&&Y.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),f.measurements=h),f}}function N_(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function j_(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function iC(t){return t instanceof Fu&&t.isStandaloneSpan()}function aC(t){const e=Ie();if(!e)return;const r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function oC(t,e,r=()=>{},i=()=>{}){let o;try{o=t()}catch(l){throw e(l),r(),l}return lC(o,e,r,i)}function lC(t,e,r,i){return ka(t)?t.then(o=>(r(),i(o),o),o=>{throw e(o),r(),o}):(r(),i(t),t)}function cC(t,e,r){if(!Vn(t))return[!1];let i,o;typeof t.tracesSampler=="function"?(o=t.tracesSampler({...e,inheritOrSampleWith:f=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):f}),i=!0):e.parentSampled!==void 0?o=e.parentSampled:typeof t.tracesSampleRate<"u"&&(o=t.tracesSampleRate,i=!0);const l=si(o);if(l===void 0)return se&&Y.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!l)return se&&Y.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,l,i];const u=r<l;return u||se&&Y.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[u,l,i]}const pw="__SENTRY_SUPPRESS_TRACING__";function uC(t,e){const r=fm();if(r.startSpan)return r.startSpan(t,e);const i=gw(t),{forceTransaction:o,parentSpan:l,scope:u}=t,f=u?.clone();return il(f,()=>fC(l)(()=>{const m=Ve(),y=yw(m,l),_=t.onlyIfParent&&!y?new fs:mw({parentSpan:y,spanArguments:i,forceTransaction:o,scope:m});return ga(m,_),oC(()=>e(_),()=>{const{status:S}=Be(_);_.isRecording()&&(!S||S==="ok")&&_.setStatus({code:St,message:"internal_error"})},()=>{_.end()})}))}function Na(t){const e=fm();if(e.startInactiveSpan)return e.startInactiveSpan(t);const r=gw(t),{forceTransaction:i,parentSpan:o}=t;return(t.scope?u=>il(t.scope,u):o!==void 0?u=>dm(o,u):u=>u())(()=>{const u=Ve(),f=yw(u,o);return t.onlyIfParent&&!f?new fs:mw({parentSpan:f,spanArguments:r,forceTransaction:i,scope:u})})}function dm(t,e){const r=fm();return r.withActiveSpan?r.withActiveSpan(t,e):il(i=>(ga(i,t||void 0),e(i)))}function mw({parentSpan:t,spanArguments:e,forceTransaction:r,scope:i}){if(!Vn()){const u=new fs;if(r||!t){const f={sampled:"false",sample_rate:"0",transaction:e.name,...Mr(u)};uu(u,f)}return u}const o=nr();let l;if(t&&!r)l=dC(t,i,e),lw(t,l);else if(t){const u=Mr(t),{traceId:f,spanId:h}=t.spanContext(),m=ys(t);l=M_({traceId:f,parentSpanId:h,...e},i,m),uu(l,u)}else{const{traceId:u,dsc:f,parentSpanId:h,sampled:m}={...o.getPropagationContext(),...i.getPropagationContext()};l=M_({traceId:u,parentSpanId:h,...e},i,m),f&&uu(l,f)}return nC(l),pO(l,i,o),l}function gw(t){const r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const i={...r};return i.startTimestamp=ei(t.startTime),delete i.startTime,i}return r}function fm(){const t=oi();return Oa(t)}function M_(t,e,r){const i=Ie(),o=i?.getOptions()||{},{name:l=""}=t,u={spanAttributes:{...t.attributes},spanName:l,parentSampled:r};i?.emit("beforeSampling",u,{decision:!1});const f=u.parentSampled??r,h=u.spanAttributes,m=e.getPropagationContext(),[y,b,_]=e.getScopeData().sdkProcessingMetadata[pw]?[!1]:cC(o,{name:l,parentSampled:f,attributes:h,parentSampleRate:si(m.dsc?.sample_rate)},m.sampleRand),S=new Fu({...t,attributes:{[Gn]:"custom",[im]:b!==void 0&&_?b:void 0,...h},sampled:y});return!y&&i&&(se&&Y.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),i.recordDroppedEvent("sample_rate","transaction")),i&&i.emit("spanStart",S),S}function dC(t,e,r){const{spanId:i,traceId:o}=t.spanContext(),l=e.getScopeData().sdkProcessingMetadata[pw]?!1:ys(t),u=l?new Fu({...r,parentSpanId:i,traceId:o,sampled:l}):new fs({traceId:o});lw(t,u);const f=Ie();return f&&(f.emit("spanStart",u),r.endTimestamp&&f.emit("spanEnd",u)),u}function yw(t,e){if(e)return e;if(e===null)return;const r=bu(t);if(!r)return;const i=Ie();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?It(r):r}function fC(t){return t!==void 0?e=>dm(t,e):e=>e()}const du={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},hC="heartbeatFailed",pC="idleTimeout",mC="finalTimeout",gC="externalFinish";function bw(t,e={}){const r=new Map;let i=!1,o,l=gC,u=!e.disableAutoFinish;const f=[],{idleTimeout:h=du.idleTimeout,finalTimeout:m=du.finalTimeout,childSpanTimeout:y=du.childSpanTimeout,beforeSpanEnd:b,trimIdleSpanEndTimestamp:_=!0}=e,S=Ie();if(!S||!Vn()){const L=new fs,P={sample_rate:"0",sampled:"false",...Mr(L)};return uu(L,P),L}const E=Ve(),T=Pt(),A=yC(t);A.end=new Proxy(A.end,{apply(L,P,le){if(b&&b(A),P instanceof fs)return;const[W,...ee]=le,oe=W||kt(),he=ei(oe),Te=cu(A).filter(V=>V!==A),ke=Be(A);if(!Te.length||!_)return G(he),Reflect.apply(L,P,[he,...ee]);const M=S.getOptions().ignoreSpans,q=Te?.reduce((V,ve)=>{const ue=Be(ve);return!ue.timestamp||M&&_u(ue,M)?V:V?Math.max(V,ue.timestamp):ue.timestamp},void 0),C=ke.start_timestamp,re=Math.min(C?C+m/1e3:1/0,Math.max(C||-1/0,Math.min(he,q||1/0)));return G(re),Reflect.apply(L,P,[re,...ee])}});function U(){o&&(clearTimeout(o),o=void 0)}function z(L){U(),o=setTimeout(()=>{!i&&r.size===0&&u&&(l=pC,A.end(L))},h)}function R(L){o=setTimeout(()=>{!i&&u&&(l=hC,A.end(L))},y)}function F(L){U(),r.set(L,!0);const P=kt();R(P+y/1e3)}function K(L){if(r.has(L)&&r.delete(L),r.size===0){const P=kt();z(P+h/1e3)}}function G(L){i=!0,r.clear(),f.forEach(he=>he()),ga(E,T);const P=Be(A),{start_timestamp:le}=P;if(!le)return;P.data[Yo]||A.setAttribute(Yo,l),Y.log(`[Tracing] Idle span "${P.op}" finished`);const ee=cu(A).filter(he=>he!==A);let oe=0;ee.forEach(he=>{he.isRecording()&&(he.setStatus({code:St,message:"cancelled"}),he.end(L),se&&Y.log("[Tracing] Cancelling span since span ended early",JSON.stringify(he,void 0,2)));const Te=Be(he),{timestamp:ke=0,start_timestamp:M=0}=Te,q=M<=L,C=(m+h)/1e3,re=ke-M<=C;if(se){const V=JSON.stringify(he,void 0,2);q?re||Y.log("[Tracing] Discarding span since it finished after idle span final timeout",V):Y.log("[Tracing] Discarding span since it happened after idle span was finished",V)}(!re||!q)&&(UO(A,he),oe++)}),oe>0&&A.setAttribute("sentry.idle_span_discarded_spans",oe)}return f.push(S.on("spanStart",L=>{if(i||L===A||Be(L).timestamp||L instanceof Fu&&L.isStandaloneSpan())return;cu(A).includes(L)&&F(L.spanContext().spanId)})),f.push(S.on("spanEnd",L=>{i||K(L.spanContext().spanId)})),f.push(S.on("idleSpanEnableAutoFinish",L=>{L===A&&(u=!0,z(),r.size&&R())})),e.disableAutoFinish||z(),setTimeout(()=>{i||(A.setStatus({code:St,message:"deadline_exceeded"}),l=mC,A.end())},m),A}function yC(t){const e=Na(t);return ga(Ve(),e),se&&Y.log("[Tracing] Started span is an idle span"),e}const kh=0,I_=1,D_=2;function Gu(t){return new Ko(e=>{e(t)})}function hm(t){return new Ko((e,r)=>{r(t)})}class Ko{constructor(e){this._state=kh,this._handlers=[],this._runExecutor(e)}then(e,r){return new Ko((i,o)=>{this._handlers.push([!1,l=>{if(!e)i(l);else try{i(e(l))}catch(u){o(u)}},l=>{if(!r)o(l);else try{i(r(l))}catch(u){o(u)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Ko((r,i)=>{let o,l;return this.then(u=>{l=!1,o=u,e&&e()},u=>{l=!0,o=u,e&&e()}).then(()=>{if(l){i(o);return}r(o)})})}_executeHandlers(){if(this._state===kh)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===I_&&r[1](this._value),this._state===D_&&r[2](this._value),r[0]=!0)})}_runExecutor(e){const r=(l,u)=>{if(this._state===kh){if(ka(u)){u.then(i,o);return}this._state=l,this._value=u,this._executeHandlers()}},i=l=>{r(I_,l)},o=l=>{r(D_,l)};try{e(i,o)}catch(l){o(l)}}}function bC(t,e,r,i=0){try{const o=lp(e,r,t,i);return ka(o)?o:Gu(o)}catch(o){return hm(o)}}function lp(t,e,r,i){const o=r[i];if(!t||!o)return t;const l=o({...t},e);return se&&l===null&&Y.log(`Event processor "${o.id||"?"}" dropped event`),ka(l)?l.then(u=>lp(u,e,r,i+1)):lp(l,e,r,i+1)}function vC(t,e){const{fingerprint:r,span:i,breadcrumbs:o,sdkProcessingMetadata:l}=e;_C(t,e),i&&EC(t,i),xC(t,r),SC(t,o),wC(t,l)}function L_(t,e){const{extra:r,tags:i,user:o,contexts:l,level:u,sdkProcessingMetadata:f,breadcrumbs:h,fingerprint:m,eventProcessors:y,attachments:b,propagationContext:_,transactionName:S,span:E}=e;Bc(t,"extra",r),Bc(t,"tags",i),Bc(t,"user",o),Bc(t,"contexts",l),t.sdkProcessingMetadata=sl(t.sdkProcessingMetadata,f,2),u&&(t.level=u),S&&(t.transactionName=S),E&&(t.span=E),h.length&&(t.breadcrumbs=[...t.breadcrumbs,...h]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),y.length&&(t.eventProcessors=[...t.eventProcessors,...y]),b.length&&(t.attachments=[...t.attachments,...b]),t.propagationContext={...t.propagationContext,..._}}function Bc(t,e,r){t[e]=sl(t[e],r,1)}function _C(t,e){const{extra:r,tags:i,user:o,contexts:l,level:u,transactionName:f}=e;Object.keys(r).length&&(t.extra={...r,...t.extra}),Object.keys(i).length&&(t.tags={...i,...t.tags}),Object.keys(o).length&&(t.user={...o,...t.user}),Object.keys(l).length&&(t.contexts={...l,...t.contexts}),u&&(t.level=u),f&&t.type!=="transaction"&&(t.transaction=f)}function SC(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function wC(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function EC(t,e){t.contexts={trace:jO(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Mr(e),...t.sdkProcessingMetadata};const r=It(e),i=Be(r).description;i&&!t.transaction&&t.type==="transaction"&&(t.transaction=i)}function xC(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let $s,U_,B_,is;function TC(t){const e=Le._sentryDebugIds,r=Le._debugIds;if(!e&&!r)return{};const i=e?Object.keys(e):[],o=r?Object.keys(r):[];if(is&&i.length===U_&&o.length===B_)return is;U_=i.length,B_=o.length,is={},$s||($s={});const l=(u,f)=>{for(const h of u){const m=f[h],y=$s?.[h];if(y&&is&&m)is[y[0]]=m,$s&&($s[h]=[y[0],m]);else if(m){const b=t(h);for(let _=b.length-1;_>=0;_--){const E=b[_]?.filename;if(E&&is&&$s){is[E]=m,$s[h]=[E,m];break}}}}};return e&&l(i,e),r&&l(o,r),is}function vw(t,e,r,i,o,l){const{normalizeDepth:u=3,normalizeMaxBreadth:f=1e3}=t,h={...e,event_id:e.event_id||r.event_id||gn(),timestamp:e.timestamp||ci()},m=r.integrations||t.integrations.map(A=>A.name);kC(h,t),CC(h,m),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&AC(h,t.stackParser);const y=NC(i,r.captureContext);r.mechanism&&pa(h,r.mechanism);const b=o?o.getEventProcessors():[],_=oO().getScopeData();if(l){const A=l.getScopeData();L_(_,A)}if(y){const A=y.getScopeData();L_(_,A)}const S=[...r.attachments||[],..._.attachments];S.length&&(r.attachments=S),vC(h,_);const E=[...b,..._.eventProcessors];return bC(E,h,r).then(A=>(A&&OC(A),typeof u=="number"&&u>0?RC(A,u,f):A))}function kC(t,e){const{environment:r,release:i,dist:o,maxValueLength:l}=e;t.environment=t.environment||r||cm,!t.release&&i&&(t.release=i),!t.dist&&o&&(t.dist=o);const u=t.request;u?.url&&(u.url=l?VS(u.url,l):u.url)}function AC(t,e){const r=TC(e);t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=r[o.filename])})})}function OC(t){const e={};if(t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?e[o.abs_path]=o.debug_id:o.filename&&(e[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach(([i,o])=>{r.push({type:"sourcemap",code_file:i,debug_id:o})})}function CC(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function RC(t,e,r){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>({...o,...o.data&&{data:Pn(o.data,e,r)}}))},...t.user&&{user:Pn(t.user,e,r)},...t.contexts&&{contexts:Pn(t.contexts,e,r)},...t.extra&&{extra:Pn(t.extra,e,r)}};return t.contexts?.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=Pn(t.contexts.trace.data,e,r))),t.spans&&(i.spans=t.spans.map(o=>({...o,...o.data&&{data:Pn(o.data,e,r)}}))),t.contexts?.flags&&i.contexts&&(i.contexts.flags=Pn(t.contexts.flags,3,r)),i}function NC(t,e){if(!e)return t;const r=t?t.clone():new Zn;return r.update(e),r}function jC(t){if(t)return MC(t)?{captureContext:t}:DC(t)?{captureContext:t}:t}function MC(t){return t instanceof Zn||typeof t=="function"}const IC=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function DC(t){return Object.keys(t).some(e=>IC.includes(e))}function pm(t,e){return Ve().captureException(t,jC(e))}function _w(t,e){return Ve().captureEvent(t,e)}function Sw(t,e){nr().setContext(t,e)}function LC(){const t=Ie();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}function UC(t){nr().addEventProcessor(t)}function z_(t){const e=nr(),r=Ve(),{userAgent:i}=Le.navigator||{},o=JA({user:r.getUser()||e.getUser(),...i&&{userAgent:i},...t}),l=e.getSession();return l?.status==="ok"&&ma(l,{status:"exited"}),ww(),e.setSession(o),o}function ww(){const t=nr(),r=Ve().getSession()||t.getSession();r&&QA(r),Ew(),t.setSession()}function Ew(){const t=nr(),e=Ie(),r=t.getSession();r&&e&&e.captureSession(r)}function H_(t=!1){if(t){ww();return}Ew()}const BC="7";function zC(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function HC(t){return`${zC(t)}${t.projectId}/envelope/`}function PC(t,e){const r={sentry_version:BC};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function $C(t,e,r){return e||`${HC(t)}?${PC(t,r)}`}const P_=[];function qC(t){const e={};return t.forEach(r=>{const{name:i}=r,o=e[i];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[i]=r)}),Object.values(e)}function FC(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let i;if(Array.isArray(r))i=[...e,...r];else if(typeof r=="function"){const o=r(e);i=Array.isArray(o)?o:[o]}else i=e;return qC(i)}function GC(t,e){const r={};return e.forEach(i=>{i&&xw(t,i,r)}),r}function $_(t,e){for(const r of e)r?.afterAllSetup&&r.afterAllSetup(t)}function xw(t,e,r){if(r[e.name]){se&&Y.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,P_.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),P_.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const i=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,l)=>i(o,l,t))}if(typeof e.processEvent=="function"){const i=e.processEvent.bind(e),o=Object.assign((l,u)=>i(l,u,t),{id:e.name});t.addEventProcessor(o)}se&&Y.log(`Integration installed: ${e.name}`)}function VC(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function YC(t,e,r,i){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&i&&(o.dsn=Ra(i)),bs(o,[VC(t)])}function Tw(t,e){const r=e??KC(t)??[];if(r.length===0)return;const i=t.getOptions(),o=YC(r,i._metadata,i.tunnel,t.getDsn());kw().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function KC(t){return kw().get(t)}function kw(){return xa("clientToLogBufferMap",()=>new WeakMap)}function WC(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function XC(t,e,r,i){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&i&&(o.dsn=Ra(i)),bs(o,[WC(t)])}function Aw(t,e){const r=e??JC(t)??[];if(r.length===0)return;const i=t.getOptions(),o=XC(r,i._metadata,i.tunnel,t.getDsn());Ow().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(o)}function JC(t){return Ow().get(t)}function Ow(){return xa("clientToMetricBufferMap",()=>new WeakMap)}function QC(t,e,r){const i=[{type:"client_report"},{timestamp:ci(),discarded_events:t}];return bs(e?{dsn:e}:{},[i])}function Cw(t){const e=[];t.message&&e.push(t.message);try{const r=t.exception.values[t.exception.values.length-1];r?.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch{}return e}function ZC(t){const{trace_id:e,parent_span_id:r,span_id:i,status:o,origin:l,data:u,op:f}=t.contexts?.trace??{};return{data:u??{},description:t.transaction,op:f,parent_span_id:r,span_id:i??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:l,profile_id:u?.[am],exclusive_time:u?.[Ca],measurements:t.measurements,is_segment:!0}}function eR(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[am]:t.profile_id},...t.exclusive_time&&{[Ca]:t.exclusive_time}}}},measurements:t.measurements}}const q_="Not capturing exception because it's already been captured.",F_="Discarded session because of missing or non-string release",Rw=Symbol.for("SentryInternalError"),Nw=Symbol.for("SentryDoNotSendEventError"),tR=5e3;function fu(t){return{message:t,[Rw]:!0}}function Ah(t){return{message:t,[Nw]:!0}}function G_(t){return!!t&&typeof t=="object"&&Rw in t}function V_(t){return!!t&&typeof t=="object"&&Nw in t}function Y_(t,e,r,i,o){let l=0,u;t.on(r,()=>{l=0,clearTimeout(u)}),t.on(e,f=>{l+=i(f),l>=8e5?o(t):(clearTimeout(u),u=setTimeout(()=>{o(t)},tR))}),t.on("flush",()=>{o(t)})}class nR{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=AO(e.dsn):se&&Y.warn("No DSN provided, client will not send events."),this._dsn){const i=$C(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}this._options.enableLogs&&Y_(this,"afterCaptureLog","flushLogs",aR,Tw),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&Y_(this,"afterCaptureMetric","flushMetrics",iR,Aw)}captureException(e,r,i){const o=gn();if(b_(e))return se&&Y.log(q_),o;const l={event_id:o,...r};return this._process(this.eventFromException(e,l).then(u=>this._captureEvent(u,l,i))),l.event_id}captureMessage(e,r,i,o){const l={event_id:gn(),...i},u=nm(e)?e:String(e),f=ha(e)?this.eventFromMessage(u,r,l):this.eventFromException(e,l);return this._process(f.then(h=>this._captureEvent(h,l,o))),l.event_id}captureEvent(e,r,i){const o=gn();if(r?.originalException&&b_(r.originalException))return se&&Y.log(q_),o;const l={event_id:o,...r},u=e.sdkProcessingMetadata||{},f=u.capturedSpanScope,h=u.capturedSpanIsolationScope;return this._process(this._captureEvent(e,l,f||i,h)),l.event_id}captureSession(e){this.sendSession(e),ma(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const r=this._transport;if(!r)return!0;this.emit("flush");const i=await this._isClientDoneProcessing(e),o=await r.flush(e);return i&&o}async close(e){const r=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];xw(this,e,this._integrations),r||$_(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let i=eC(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])i=VO(i,XO(o));this.sendEnvelope(i).then(o=>this.emit("afterSendEvent",e,o))}sendSession(e){const{release:r,environment:i=cm}=this._options;if("aggregates"in e){const l=e.attrs||{};if(!l.release&&!r){se&&Y.warn(F_);return}l.release=l.release||r,l.environment=l.environment||i,e.attrs=l}else{if(!e.release&&!r){se&&Y.warn(F_);return}e.release=e.release||r,e.environment=e.environment||i}this.emit("beforeSendSession",e);const o=ZO(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(e,r,i=1){if(this._options.sendClientReports){const o=`${e}:${r}`;se&&Y.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(e,r){const i=this._hooks[e]=this._hooks[e]||new Set,o=(...l)=>r(...l);return i.add(o),()=>{i.delete(o)}}emit(e,...r){const i=this._hooks[e];i&&i.forEach(o=>o(...r))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(r){return se&&Y.error("Error while sending envelope:",r),{}}return se&&Y.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=GC(this,e),$_(this,e)}_updateSessionFromEvent(e,r){let i=r.level==="fatal",o=!1;const l=r.exception?.values;if(l){o=!0,i=!1;for(const h of l)if(h.mechanism?.handled===!1){i=!0;break}}const u=e.status==="ok";(u&&e.errors===0||u&&i)&&(ma(e,{...i&&{status:"crashed"},errors:e.errors||Number(o||i)}),this.captureSession(e))}async _isClientDoneProcessing(e){let r=0;for(;!e||r<e;){if(await new Promise(i=>setTimeout(i,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,i,o){const l=this.getOptions(),u=Object.keys(this._integrations);return!r.integrations&&u?.length&&(r.integrations=u),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),vw(l,e,r,i,this,o).then(f=>{if(f===null)return f;this.emit("postprocessEvent",f,r),f.contexts={trace:lO(i),...f.contexts};const h=dw(this,i);return f.sdkProcessingMetadata={dynamicSamplingContext:h,...f.sdkProcessingMetadata},f})}_captureEvent(e,r={},i=Ve(),o=nr()){return se&&cp(e)&&Y.log(`Captured error event \`${Cw(e)[0]||"<unknown>"}\``),this._processEvent(e,r,i,o).then(l=>l.event_id,l=>{se&&(V_(l)?Y.log(l.message):G_(l)?Y.warn(l.message):Y.warn(l))})}_processEvent(e,r,i,o){const l=this.getOptions(),{sampleRate:u}=l,f=jw(e),h=cp(e),m=e.type||"error",y=`before send for type \`${m}\``,b=typeof u>"u"?void 0:si(u);if(h&&typeof b=="number"&&Math.random()>b)return this.recordDroppedEvent("sample_rate","error"),hm(Ah(`Discarding event because it's not included in the random sample (sampling rate = ${u})`));const _=m==="replay_event"?"replay":m;return this._prepareEvent(e,r,i,o).then(S=>{if(S===null)throw this.recordDroppedEvent("event_processor",_),Ah("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return S;const T=sR(this,l,S,r);return rR(T,y)}).then(S=>{if(S===null){if(this.recordDroppedEvent("before_send",_),f){const U=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",U)}throw Ah(`${y} returned \`null\`, will not send event.`)}const E=i.getSession()||o.getSession();if(h&&E&&this._updateSessionFromEvent(E,S),f){const A=S.sdkProcessingMetadata?.spanCountBeforeProcessing||0,U=S.spans?S.spans.length:0,z=A-U;z>0&&this.recordDroppedEvent("before_send","span",z)}const T=S.transaction_info;if(f&&T&&S.transaction!==e.transaction){const A="custom";S.transaction_info={...T,source:A}}return this.sendEvent(S,r),S}).then(null,S=>{throw V_(S)||G_(S)?S:(this.captureException(S,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:S}),fu(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${S}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,i])=>{const[o,l]=r.split(":");return{reason:o,category:l,quantity:i}})}_flushOutcomes(){se&&Y.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){se&&Y.log("No outcomes to send");return}if(!this._dsn){se&&Y.log("No dsn provided, will not send outcomes");return}se&&Y.log("Sending outcomes:",e);const r=QC(e,this._options.tunnel&&Ra(this._dsn));this.sendEnvelope(r)}}function rR(t,e){const r=`${e} must return \`null\` or a valid event.`;if(ka(t))return t.then(i=>{if(!Vo(i)&&i!==null)throw fu(r);return i},i=>{throw fu(`${e} rejected with ${i}`)});if(!Vo(t)&&t!==null)throw fu(r);return t}function sR(t,e,r,i){const{beforeSend:o,beforeSendTransaction:l,beforeSendSpan:u,ignoreSpans:f}=e;let h=r;if(cp(h)&&o)return o(h,i);if(jw(h)){if(u||f){const m=ZC(h);if(f?.length&&_u(m,f))return null;if(u){const y=u(m);y?h=sl(r,eR(y)):ip()}if(h.spans){const y=[],b=h.spans;for(const S of b){if(f?.length&&_u(S,f)){zO(b,S);continue}if(u){const E=u(S);E?y.push(E):(ip(),y.push(S))}else y.push(S)}const _=h.spans.length-y.length;_&&t.recordDroppedEvent("before_send","span",_),h.spans=y}}if(l){if(h.spans){const m=h.spans.length;h.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:m}}return l(h,i)}}return h}function cp(t){return t.type===void 0}function jw(t){return t.type==="transaction"}function iR(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+Mw(t.attributes)}function aR(t){let e=0;return t.message&&(e+=t.message.length*2),e+Mw(t.attributes)}function Mw(t){if(!t)return 0;let e=0;return Object.values(t).forEach(r=>{Array.isArray(r)?e+=r.length*K_(r[0]):ha(r)?e+=K_(r):e+=100}),e}function K_(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function oR(t,e){e.debug===!0&&(se?Y.enable():li(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ve().update(e.initialScope);const i=new t(e);return lR(i),i.init(),i}function lR(t){Ve().setClient(t)}const Iw=Symbol.for("SentryBufferFullError");function Dw(t=100){const e=new Set;function r(){return e.size<t}function i(u){e.delete(u)}function o(u){if(!r())return hm(Iw);const f=u();return e.add(f),f.then(()=>i(f),()=>i(f)),f}function l(u){if(!e.size)return Gu(!0);const f=Promise.allSettled(Array.from(e)).then(()=>!0);if(!u)return f;const h=[f,new Promise(m=>setTimeout(()=>m(!1),u))];return Promise.race(h)}return{get $(){return Array.from(e)},add:o,drain:l}}const cR=60*1e3;function uR(t,e=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const i=Date.parse(`${t}`);return isNaN(i)?cR:i-e}function dR(t,e){return t[e]||t.all||0}function Lw(t,e,r=Date.now()){return dR(t,e)>r}function Uw(t,{statusCode:e,headers:r},i=Date.now()){const o={...t},l=r?.["x-sentry-rate-limits"],u=r?.["retry-after"];if(l)for(const f of l.trim().split(",")){const[h,m,,,y]=f.split(":",5),b=parseInt(h,10),_=(isNaN(b)?60:b)*1e3;if(!m)o.all=i+_;else for(const S of m.split(";"))S==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(o[S]=i+_):o[S]=i+_}else u?o.all=i+uR(u,i):e===429&&(o.all=i+60*1e3);return o}const fR=64;function hR(t,e,r=Dw(t.bufferSize||fR)){let i={};const o=u=>r.drain(u);function l(u){const f=[];if(A_(u,(b,_)=>{const S=O_(_);Lw(i,S)?t.recordDroppedEvent("ratelimit_backoff",S):f.push(b)}),f.length===0)return Promise.resolve({});const h=bs(u[0],f),m=b=>{A_(h,(_,S)=>{t.recordDroppedEvent(b,O_(S))})},y=()=>e({body:YO(h)}).then(b=>(b.statusCode!==void 0&&(b.statusCode<200||b.statusCode>=300)&&se&&Y.warn(`Sentry responded with status code ${b.statusCode} to sent event.`),i=Uw(i,b),b),b=>{throw m("network_error"),se&&Y.error("Encountered error running transport request:",b),b});return r.add(y).then(b=>b,b=>{if(b===Iw)return se&&Y.error("Skipped sending event because buffer is full."),m("queue_overflow"),Promise.resolve({});throw b})}return{send:l,flush:o}}const pR="thismessage:/";function mm(t){return"isRelative"in t}function gm(t,e){const r=t.indexOf("://")<=0&&t.indexOf("//")!==0,i=r?pR:void 0;try{if("canParse"in URL&&!URL.canParse(t,i))return;const o=new URL(t,i);return r?{isRelative:r,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function mR(t){if(mm(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function ni(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:i,relative:e[5]+r+i}}function gR(t){return t.split(/[?#]/,1)[0]}function yR(t,e){const r=e?.getDsn(),i=e?.getOptions().tunnel;return vR(t,r)||bR(t,i)}function bR(t,e){return e?W_(t)===W_(e):!1}function vR(t,e){const r=gm(t);return!r||mm(r)?!1:e?r.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(r.search):!1}function W_(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function _R(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function Bw(t,e,r=[e],i="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:r.map(l=>({name:`${i}:@sentry/${l}`,version:Zs})),version:Zs}),t._metadata=o}function zw(t={}){const e=t.client||Ie();if(!LC()||!e)return{};const r=oi(),i=Oa(r);if(i.getTraceData)return i.getTraceData(t);const o=t.scope||Ve(),l=t.span||Pt(),u=l?MO(l):SR(o),f=l?Mr(l):dw(e,o),h=yO(f);if(!nw.test(u))return Y.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const y={"sentry-trace":u,baggage:h};if(t.propagateTraceparent){const b=l?IO(l):wR(o);b&&(y.traceparent=b)}return y}function SR(t){const{traceId:e,sampled:r,propagationSpanId:i}=t.getPropagationContext();return rw(e,i,r)}function wR(t){const{traceId:e,sampled:r,propagationSpanId:i}=t.getPropagationContext();return sw(e,i,r)}function ER(t,e,r){let i,o,l;const u=r?.maxWait?Math.max(r.maxWait,e):0,f=r?.setTimeoutImpl||setTimeout;function h(){return m(),i=t(),i}function m(){o!==void 0&&clearTimeout(o),l!==void 0&&clearTimeout(l),o=l=void 0}function y(){return o!==void 0||l!==void 0?h():i}function b(){return o&&clearTimeout(o),o=f(h,e),u&&l===void 0&&(l=f(h,u)),i}return b.cancel=m,b.flush=y,b}const xR=100;function hs(t,e){const r=Ie(),i=nr();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:l=xR}=r.getOptions();if(l<=0)return;const f={timestamp:ci(),...t},h=o?li(()=>o(f,e)):f;h!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",h,e),i.addBreadcrumb(h,l))}let X_;const TR="FunctionToString",J_=new WeakMap,kR=(()=>({name:TR,setupOnce(){X_=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=sm(this),r=J_.has(Ie())&&e!==void 0?e:this;return X_.apply(r,t)}}catch{}},setup(t){J_.set(t,!0)}})),AR=kR,OR=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],CR="EventFilters",RR=(t={})=>{let e;return{name:CR,setup(r){const i=r.getOptions();e=Q_(t,i)},processEvent(r,i,o){if(!e){const l=o.getOptions();e=Q_(t,l)}return jR(r,e)?null:r}}},NR=((t={})=>({...RR(t),name:"InboundFilters"}));function Q_(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:OR],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function jR(t,e){if(t.type){if(t.type==="transaction"&&IR(t,e.ignoreTransactions))return se&&Y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ys(t)}`),!0}else{if(MR(t,e.ignoreErrors))return se&&Y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ys(t)}`),!0;if(BR(t))return se&&Y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ys(t)}`),!0;if(DR(t,e.denyUrls))return se&&Y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ys(t)}.
Url: ${Su(t)}`),!0;if(!LR(t,e.allowUrls))return se&&Y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ys(t)}.
Url: ${Su(t)}`),!0}return!1}function MR(t,e){return e?.length?Cw(t).some(r=>kr(r,e)):!1}function IR(t,e){if(!e?.length)return!1;const r=t.transaction;return r?kr(r,e):!1}function DR(t,e){if(!e?.length)return!1;const r=Su(t);return r?kr(r,e):!1}function LR(t,e){if(!e?.length)return!0;const r=Su(t);return r?kr(r,e):!0}function UR(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Su(t){try{const r=[...t.exception?.values??[]].reverse().find(i=>i.mechanism?.parent_id===void 0&&i.stacktrace?.frames?.length)?.stacktrace?.frames;return r?UR(r):null}catch{return se&&Y.error(`Cannot extract url for event ${Ys(t)}`),null}}function BR(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function zR(t,e,r,i,o,l){if(!o.exception?.values||!l||!Rr(l.originalException,Error))return;const u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=up(t,e,i,l.originalException,r,o.exception.values,u,0))}function up(t,e,r,i,o,l,u,f){if(l.length>=r+1)return l;let h=[...l];if(Rr(i[o],Error)){Z_(u,f);const m=t(e,i[o]),y=h.length;e0(m,o,y,f),h=up(t,e,r,i[o],o,[m,...h],m,y)}return Array.isArray(i.errors)&&i.errors.forEach((m,y)=>{if(Rr(m,Error)){Z_(u,f);const b=t(e,m),_=h.length;e0(b,`errors[${y}]`,_,f),h=up(t,e,r,m,o,[b,...h],b,_)}}),h}function Z_(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function e0(t,e,r,i){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:i}}function HR(t){const e="console";ms(e,t),gs(e,PR)}function PR(){"console"in Le&&OA.forEach(function(t){t in Le.console&&Qt(Le.console,t,function(e){return yu[t]=e,function(...r){Rn("console",{args:r,level:t}),yu[t]?.apply(Le.console,r)}})})}function Hw(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const $R="Dedupe",qR=(()=>{let t;return{name:$R,processEvent(e){if(e.type)return e;try{if(GR(e,t))return se&&Y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),FR=qR;function GR(t,e){return e?!!(VR(t,e)||YR(t,e)):!1}function VR(t,e){const r=t.message,i=e.message;return!(!r&&!i||r&&!i||!r&&i||r!==i||!$w(t,e)||!Pw(t,e))}function YR(t,e){const r=t0(e),i=t0(t);return!(!r||!i||r.type!==i.type||r.value!==i.value||!$w(t,e)||!Pw(t,e))}function Pw(t,e){let r=f_(t),i=f_(e);if(!r&&!i)return!0;if(r&&!i||!r&&i||(r=r,i=i,i.length!==r.length))return!1;for(let o=0;o<i.length;o++){const l=i[o],u=r[o];if(l.filename!==u.filename||l.lineno!==u.lineno||l.colno!==u.colno||l.function!==u.function)return!1}return!0}function $w(t,e){let r=t.fingerprint,i=e.fingerprint;if(!r&&!i)return!0;if(r&&!i||!r&&i)return!1;r=r,i=i;try{return r.join("")===i.join("")}catch{return!1}}function t0(t){return t.exception?.values?.[0]}function KR(t,e,r,i,o){if(!t.fetchData)return;const{method:l,url:u}=t.fetchData,f=Vn()&&e(u);if(t.endTimestamp&&f){const S=t.fetchData.__span;if(!S)return;const E=i[S];E&&(JR(E,t),WR(E,t,o),delete i[S]);return}const{spanOrigin:h="auto.http.browser",propagateTraceparent:m=!1}=typeof o=="object"?o:{spanOrigin:o},y=!!Pt(),b=f&&y?Na(ZR(u,l,h)):new fs;if(t.fetchData.__span=b.spanContext().spanId,i[b.spanContext().spanId]=b,r(t.fetchData.url)){const S=t.args[0],E=t.args[1]||{},T=XR(S,E,Vn()&&y?b:void 0,m);T&&(t.args[1]=E,E.headers=T)}const _=Ie();if(_){const S={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};_.emit("beforeOutgoingRequestSpan",b,S)}return b}function WR(t,e,r){(typeof r=="object"&&r!==null?r.onRequestSpanEnd:void 0)?.(t,{headers:e.response?.headers,error:e.error})}function XR(t,e,r,i){const o=zw({span:r,propagateTraceparent:i}),l=o["sentry-trace"],u=o.baggage,f=o.traceparent;if(!l)return;const h=e.headers||($S(t)?t.headers:void 0);if(h)if(QR(h)){const m=new Headers(h);if(m.get("sentry-trace")||m.set("sentry-trace",l),i&&f&&!m.get("traceparent")&&m.set("traceparent",f),u){const y=m.get("baggage");y?zc(y)||m.set("baggage",`${y},${u}`):m.set("baggage",u)}return m}else if(Array.isArray(h)){const m=[...h];h.find(b=>b[0]==="sentry-trace")||m.push(["sentry-trace",l]),i&&f&&!h.find(b=>b[0]==="traceparent")&&m.push(["traceparent",f]);const y=h.find(b=>b[0]==="baggage"&&zc(b[1]));return u&&!y&&m.push(["baggage",u]),m}else{const m="sentry-trace"in h?h["sentry-trace"]:void 0,y="traceparent"in h?h.traceparent:void 0,b="baggage"in h?h.baggage:void 0,_=b?Array.isArray(b)?[...b]:[b]:[],S=b&&(Array.isArray(b)?b.find(T=>zc(T)):zc(b));u&&!S&&_.push(u);const E={...h,"sentry-trace":m??l,baggage:_.length>0?_.join(","):void 0};return i&&f&&!y&&(E.traceparent=f),E}else return{...o}}function JR(t,e){if(e.response){JS(t,e.response.status);const r=e.response?.headers?.get("content-length");if(r){const i=parseInt(r);i>0&&t.setAttribute("http.response_content_length",i)}}else e.error&&t.setStatus({code:St,message:"internal_error"});t.end()}function zc(t){return t.split(",").some(e=>e.trim().startsWith(om))}function QR(t){return typeof Headers<"u"&&Rr(t,Headers)}function ZR(t,e,r){const i=gm(t);return{name:i?`${e} ${mR(i)}`:e,attributes:eN(t,i,e,r)}}function eN(t,e,r,i){const o={url:t,type:"fetch","http.method":r,[wt]:i,[jr]:"http.client"};return e&&(mm(e)||(o["http.url"]=e.href,o["server.address"]=e.host),e.search&&(o["http.query"]=e.search),e.hash&&(o["http.fragment"]=e.hash)),o}function qw(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const Wo=Le;function tN(){return"history"in Wo&&!!Wo.history}function nN(){if(!("fetch"in Wo))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function dp(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function rN(){if(typeof EdgeRuntime=="string")return!0;if(!nN())return!1;if(dp(Wo.fetch))return!0;let t=!1;const e=Wo.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow?.fetch&&(t=dp(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){se&&Y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Fw(t,e){const r="fetch";ms(r,t),gs(r,()=>Gw(void 0,e))}function sN(t){const e="fetch-body-resolved";ms(e,t),gs(e,()=>Gw(aN))}function Gw(t,e=!1){e&&!rN()||Qt(Le,"fetch",function(r){return function(...i){const o=new Error,{method:l,url:u}=oN(i),f={args:i,fetchData:{method:l,url:u},startTimestamp:kt()*1e3,virtualError:o,headers:lN(i)};return t||Rn("fetch",{...f}),r.apply(Le,i).then(async h=>(t?t(h):Rn("fetch",{...f,endTimestamp:kt()*1e3,response:h}),h),h=>{if(Rn("fetch",{...f,endTimestamp:kt()*1e3,error:h}),tm(h)&&h.stack===void 0&&(h.stack=o.stack,yn(h,"framesToPop",1)),h instanceof TypeError&&(h.message==="Failed to fetch"||h.message==="Load failed"||h.message==="NetworkError when attempting to fetch resource."))try{const m=new URL(f.fetchData.url);h.message=`${h.message} (${m.host})`}catch{}throw h})}})}async function iN(t,e){if(t?.body){const r=t.body,i=r.getReader(),o=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3);let l=!0;for(;l;){let u;try{u=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);const{done:f}=await i.read();clearTimeout(u),f&&(e(),l=!1)}catch{l=!1}finally{clearTimeout(u)}}clearTimeout(o),i.releaseLock(),r.cancel().then(null,()=>{})}}function aN(t){let e;try{e=t.clone()}catch{return}iN(e,()=>{Rn("fetch-body-resolved",{endTimestamp:kt()*1e3,response:t})})}function fp(t,e){return!!t&&typeof t=="object"&&!!t[e]}function n0(t){return typeof t=="string"?t:t?fp(t,"url")?t.url:t.toString?t.toString():"":""}function oN(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,i]=t;return{url:n0(r),method:fp(i,"method")?String(i.method).toUpperCase():"GET"}}const e=t[0];return{url:n0(e),method:fp(e,"method")?String(e.method).toUpperCase():"GET"}}function lN(t){const[e,r]=t;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if($S(e))return new Headers(e.headers)}catch{}}function cN(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function uN(){return"npm"}function dN(){return!cN()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function hp(){return typeof window<"u"&&(!dN()||fN())}function fN(){return Le.process?.type==="renderer"}const ze=Le;let pp=0;function Vw(){return pp>0}function hN(){pp++,setTimeout(()=>{pp--})}function ba(t,e={}){function r(o){return typeof o=="function"}if(!r(t))return t;try{const o=t.__sentry_wrapped__;if(o)return typeof o=="function"?o:t;if(sm(t))return t}catch{return t}const i=function(...o){try{const l=o.map(u=>ba(u,e));return t.apply(this,l)}catch(l){throw hN(),il(u=>{u.addEventProcessor(f=>(e.mechanism&&(np(f,void 0),pa(f,e.mechanism)),f.extra={...f.extra,arguments:o},f)),pm(l)}),l}};try{for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch{}FS(i,t),yn(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return t.name}})}catch{}return i}function ym(){const t=Aa(),{referrer:e}=ze.document||{},{userAgent:r}=ze.navigator||{},i={...e&&{Referer:e},...r&&{"User-Agent":r}};return{url:t,headers:i}}function bm(t,e){const r=vm(t,e),i={type:bN(e),value:vN(e)};return r.length&&(i.stacktrace={frames:r}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function pN(t,e,r,i){const l=Ie()?.getOptions().normalizeDepth,u=xN(e),f={__serialized__:fw(e,l)};if(u)return{exception:{values:[bm(t,u)]},extra:f};const h={exception:{values:[{type:qu(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:wN(e,{isUnhandledRejection:i})}]},extra:f};if(r){const m=vm(t,r);m.length&&(h.exception.values[0].stacktrace={frames:m})}return h}function Oh(t,e){return{exception:{values:[bm(t,e)]}}}function vm(t,e){const r=e.stacktrace||e.stack||"",i=gN(e),o=yN(e);try{return t(r,i,o)}catch{}return[]}const mN=/Minified React error #\d+;/i;function gN(t){return t&&mN.test(t.message)?1:0}function yN(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function Yw(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function bN(t){const e=t?.name;return!e&&Yw(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function vN(t){const e=t?.message;return Yw(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function _N(t,e,r,i){const o=r?.syntheticException||void 0,l=_m(t,e,o,i);return pa(l),l.level="error",r?.event_id&&(l.event_id=r.event_id),Gu(l)}function SN(t,e,r="info",i,o){const l=i?.syntheticException||void 0,u=mp(t,e,l,o);return u.level=r,i?.event_id&&(u.event_id=i.event_id),Gu(u)}function _m(t,e,r,i,o){let l;if(HS(e)&&e.error)return Oh(t,e.error);if(p_(e)||zA(e)){const u=e;if("stack"in e)l=Oh(t,e);else{const f=u.name||(p_(u)?"DOMError":"DOMException"),h=u.message?`${f}: ${u.message}`:f;l=mp(t,h,r,i),np(l,h)}return"code"in u&&(l.tags={...l.tags,"DOMException.code":`${u.code}`}),l}return tm(e)?Oh(t,e):Vo(e)||qu(e)?(l=pN(t,e,r,o),pa(l,{synthetic:!0}),l):(l=mp(t,e,r,i),np(l,`${e}`),pa(l,{synthetic:!0}),l)}function mp(t,e,r,i){const o={};if(i&&r){const l=vm(t,r);l.length&&(o.exception={values:[{value:e,stacktrace:{frames:l}}]}),pa(o,{synthetic:!0})}if(nm(e)){const{__sentry_template_string__:l,__sentry_template_values__:u}=e;return o.logentry={message:l,params:u},o}return o.message=e,o}function wN(t,{isUnhandledRejection:e}){const r=GA(t),i=e?"promise rejection":"exception";return HS(t)?`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``:qu(t)?`Event \`${EN(t)}\` (type=${t.type}) captured as ${i}`:`Object captured as ${i} with keys: ${r}`}function EN(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}}class TN extends nR{constructor(e){const r=kN(e),i=ze.SENTRY_SDK_SOURCE||uN();Bw(r,"browser",["browser"],i),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:l,enableLogs:u,_experiments:f,enableMetrics:h}=this._options,m=h??f?.enableMetrics??!0;ze.document&&(l||u||m)&&ze.document.addEventListener("visibilitychange",()=>{ze.document.visibilityState==="hidden"&&(l&&this._flushOutcomes(),u&&Tw(this),m&&Aw(this))}),o&&this.on("beforeSendSession",_R)}eventFromException(e,r){return _N(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",i){return SN(this._options.stackParser,e,r,i,this._options.attachStacktrace)}_prepareEvent(e,r,i,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,i,o)}}function kN(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ze.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const ii=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_e=Le,AN=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",ll=(t,e,r,i)=>{let o,l;return u=>{e.value>=0&&(u||i)&&(l=e.value-(o??0),(l||o===void 0)&&(o=e.value,e.delta=l,e.rating=AN(e.value,r),t(e)))}},ON=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,cl=(t=!0)=>{const e=_e.performance?.getEntriesByType?.("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},ja=()=>cl()?.activationStart??0,ul=(t,e=-1)=>{const r=cl();let i="navigate";return r&&(_e.document?.prerendering||ja()>0?i="prerender":_e.document?.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:ON(),navigationType:i}},Ch=new WeakMap;function Sm(t,e){return Ch.get(t)||Ch.set(t,new e),Ch.get(t)}class wu{constructor(){wu.prototype.__init.call(this),wu.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const r=this._sessionEntries[0],i=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&r&&i&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const Ma=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver(o=>{Promise.resolve().then(()=>{e(o.getEntries())})});return i.observe({type:t,buffered:!0,...r}),i}}catch{}},wm=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let Bo=-1;const CN=()=>_e.document?.visibilityState==="hidden"&&!_e.document?.prerendering?0:1/0,Eu=t=>{_e.document.visibilityState==="hidden"&&Bo>-1&&(Bo=t.type==="visibilitychange"?t.timeStamp:0,NN())},RN=()=>{addEventListener("visibilitychange",Eu,!0),addEventListener("prerenderingchange",Eu,!0)},NN=()=>{removeEventListener("visibilitychange",Eu,!0),removeEventListener("prerenderingchange",Eu,!0)},Em=()=>{if(_e.document&&Bo<0){const t=ja();Bo=(_e.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0]?.startTime)??CN(),RN()}return{get firstHiddenTime(){return Bo}}},Vu=t=>{_e.document?.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},jN=[1800,3e3],MN=(t,e={})=>{Vu(()=>{const r=Em(),i=ul("FCP");let o;const u=Ma("paint",f=>{for(const h of f)h.name==="first-contentful-paint"&&(u.disconnect(),h.startTime<r.firstHiddenTime&&(i.value=Math.max(h.startTime-ja(),0),i.entries.push(h),o(!0)))});u&&(o=ll(t,i,jN,e.reportAllChanges))})},IN=[.1,.25],DN=(t,e={})=>{MN(wm(()=>{const r=ul("CLS",0);let i;const o=Sm(e,wu),l=f=>{for(const h of f)o._processEntry(h);o._sessionValue>r.value&&(r.value=o._sessionValue,r.entries=o._sessionEntries,i())},u=Ma("layout-shift",l);u&&(i=ll(t,r,IN,e.reportAllChanges),_e.document?.addEventListener("visibilitychange",()=>{_e.document?.visibilityState==="hidden"&&(l(u.takeRecords()),i(!0))}),_e?.setTimeout?.(i))}))};let Kw=0,Rh=1/0,Hc=0;const LN=t=>{t.forEach(e=>{e.interactionId&&(Rh=Math.min(Rh,e.interactionId),Hc=Math.max(Hc,e.interactionId),Kw=Hc?(Hc-Rh)/7+1:0)})};let gp;const Ww=()=>gp?Kw:performance.interactionCount||0,UN=()=>{"interactionCount"in performance||gp||(gp=Ma("event",LN,{type:"event",buffered:!0,durationThreshold:0}))},Nh=10;let Xw=0;const BN=()=>Ww()-Xw;class xu{constructor(){xu.prototype.__init.call(this),xu.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Xw=Ww(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor(BN()/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||e.entryType==="first-input"))return;const r=this._longestInteractionList.at(-1);let i=this._longestInteractionMap.get(e.interactionId);if(i||this._longestInteractionList.length<Nh||e.duration>r._latency){if(i?e.duration>i._latency?(i.entries=[e],i._latency=e.duration):e.duration===i._latency&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(i.id,i),this._longestInteractionList.push(i)),this._longestInteractionList.sort((o,l)=>l._latency-o._latency),this._longestInteractionList.length>Nh){const o=this._longestInteractionList.splice(Nh);for(const l of o)this._longestInteractionMap.delete(l.id)}this._onAfterProcessingINPCandidate?.(i)}}}const xm=t=>{const e=r=>{(r.type==="pagehide"||_e.document?.visibilityState==="hidden")&&t(r)};_e.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},Jw=t=>{const e=_e.requestIdleCallback||_e.setTimeout;_e.document?.visibilityState==="hidden"?t():(t=wm(t),e(t),xm(t))},zN=[200,500],HN=40,PN=(t,e={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Vu(()=>{UN();const r=ul("INP");let i;const o=Sm(e,xu),l=f=>{Jw(()=>{for(const m of f)o._processEntry(m);const h=o._estimateP98LongestInteraction();h&&h._latency!==r.value&&(r.value=h._latency,r.entries=h.entries,i())})},u=Ma("event",l,{durationThreshold:e.durationThreshold??HN});i=ll(t,r,zN,e.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),xm(()=>{l(u.takeRecords()),i(!0)}))})};class $N{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const qN=[2500,4e3],FN=(t,e={})=>{Vu(()=>{const r=Em(),i=ul("LCP");let o;const l=Sm(e,$N),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)l._processEntry(m),m.startTime<r.firstHiddenTime&&(i.value=Math.max(m.startTime-ja(),0),i.entries=[m],o())},f=Ma("largest-contentful-paint",u);if(f){o=ll(t,i,qN,e.reportAllChanges);const h=wm(()=>{u(f.takeRecords()),f.disconnect(),o(!0)});for(const m of["keydown","click","visibilitychange"])_e.document&&addEventListener(m,()=>Jw(h),{capture:!0,once:!0})}})},GN=[800,1800],yp=t=>{_e.document?.prerendering?Vu(()=>yp(t)):_e.document?.readyState!=="complete"?addEventListener("load",()=>yp(t),!0):setTimeout(t)},VN=(t,e={})=>{const r=ul("TTFB"),i=ll(t,r,GN,e.reportAllChanges);yp(()=>{const o=cl();o&&(r.value=Math.max(o.responseStart-ja(),0),r.entries=[o],i(!0))})},zo={},Tu={};let Qw,Zw,eE,tE;function Tm(t,e=!1){return Yu("cls",t,KN,Qw,e)}function km(t,e=!1){return Yu("lcp",t,WN,Zw,e)}function YN(t){return Yu("ttfb",t,XN,eE)}function nE(t){return Yu("inp",t,JN,tE)}function ai(t,e){return rE(t,e),Tu[t]||(QN(t),Tu[t]=!0),sE(t,e)}function dl(t,e){const r=zo[t];if(r?.length)for(const i of r)try{i(e)}catch(o){ii&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Cr(i)}
Error:`,o)}}function KN(){return DN(t=>{dl("cls",{metric:t}),Qw=t},{reportAllChanges:!0})}function WN(){return FN(t=>{dl("lcp",{metric:t}),Zw=t},{reportAllChanges:!0})}function XN(){return VN(t=>{dl("ttfb",{metric:t}),eE=t})}function JN(){return PN(t=>{dl("inp",{metric:t}),tE=t})}function Yu(t,e,r,i,o=!1){rE(t,e);let l;return Tu[t]||(l=r(),Tu[t]=!0),i&&e({metric:i}),sE(t,e,o?l:void 0)}function QN(t){const e={};t==="event"&&(e.durationThreshold=0),Ma(t,r=>{dl(t,{entries:r})},e)}function rE(t,e){zo[t]=zo[t]||[],zo[t].push(e)}function sE(t,e,r){return()=>{r&&r();const i=zo[t];if(!i)return;const o=i.indexOf(e);o!==-1&&i.splice(o,1)}}function ZN(t){return"duration"in t}function jh(t){return typeof t=="number"&&isFinite(t)}function ps(t,e,r,{...i}){const o=Be(t).start_timestamp;return o&&o>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),dm(t,()=>{const l=Na({startTime:e,...i});return l&&l.end(r),l})}function Am(t){const e=Ie();if(!e)return;const{name:r,transaction:i,attributes:o,startTime:l}=t,{release:u,environment:f,sendDefaultPii:h}=e.getOptions(),y=e.getIntegrationByName("Replay")?.getReplayId(),b=Ve(),_=b.getUser(),S=_!==void 0?_.email||_.id||_.ip_address:void 0;let E;try{E=b.getScopeData().contexts.profile.profile_id}catch{}const T={release:u,environment:f,user:S||void 0,profile_id:E||void 0,replay_id:y||void 0,transaction:i,"user_agent.original":_e.navigator?.userAgent,"client.address":h?"{{auto}}":void 0,...o};return Na({name:r,attributes:T,startTime:l,experimental:{standalone:!0}})}function fl(){return _e.addEventListener&&_e.performance}function lt(t){return t/1e3}function ej(t){let e="unknown",r="unknown",i="";for(const o of t){if(o==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(o))){e=i==="h"?"http":i,r=t.split(i)[1];break}i+=o}return i===t&&(e=i),{name:e,version:r}}function iE(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch{return!1}}function aE(t,e){let r,i=!1;function o(f){!i&&r&&e(f,r),i=!0}xm(()=>{o("pagehide")});const l=t.on("beforeStartNavigationSpan",(f,h)=>{h?.isRedirect||(o("navigation"),l(),u())}),u=t.on("afterStartPageLoadSpan",f=>{r=f.spanContext().spanId,u()})}function tj(t){let e=0,r;if(!iE("layout-shift"))return;const i=Tm(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,r=l)},!0);aE(t,(o,l)=>{nj(e,r,l,o),i()})}function nj(t,e,r,i){ii&&Y.log(`Sending CLS span (${t})`);const o=e?lt((en()||0)+e.startTime):kt(),l=Ve().getScopeData().transactionName,u=e?Zt(e.sources[0]?.node):"Layout shift",f={[wt]:"auto.http.browser.cls",[jr]:"ui.webvital.cls",[Ca]:0,"sentry.pageload.span_id":r,"sentry.report_event":i};e?.sources&&e.sources.forEach((m,y)=>{f[`cls.source.${y+1}`]=Zt(m.node)});const h=Am({name:u,transaction:l,attributes:f,startTime:o});h&&(h.addEvent("cls",{[al]:"",[ol]:t}),h.end(o))}function rj(t){let e=0,r;if(!iE("largest-contentful-paint"))return;const i=km(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,r=l)},!0);aE(t,(o,l)=>{sj(e,r,l,o),i()})}function sj(t,e,r,i){ii&&Y.log(`Sending LCP span (${t})`);const o=lt((en()||0)+(e?.startTime||0)),l=Ve().getScopeData().transactionName,u=e?Zt(e.element):"Largest contentful paint",f={[wt]:"auto.http.browser.lcp",[jr]:"ui.webvital.lcp",[Ca]:0,"sentry.pageload.span_id":r,"sentry.report_event":i};e&&(e.element&&(f["lcp.element"]=Zt(e.element)),e.id&&(f["lcp.id"]=e.id),e.url&&(f["lcp.url"]=e.url),e.loadTime!=null&&(f["lcp.loadTime"]=e.loadTime),e.renderTime!=null&&(f["lcp.renderTime"]=e.renderTime),e.size!=null&&(f["lcp.size"]=e.size));const h=Am({name:u,transaction:l,attributes:f,startTime:o});h&&(h.addEvent("lcp",{[al]:"millisecond",[ol]:t}),h.end(o))}function On(t){return t&&((en()||performance.timeOrigin)+t)/1e3}function oE(t){const e={};if(t.nextHopProtocol!=null){const{name:r,version:i}=ej(t.nextHopProtocol);e["network.protocol.version"]=i,e["network.protocol.name"]=r}return en()||fl()?.timeOrigin?ij({...e,"http.request.redirect_start":On(t.redirectStart),"http.request.redirect_end":On(t.redirectEnd),"http.request.worker_start":On(t.workerStart),"http.request.fetch_start":On(t.fetchStart),"http.request.domain_lookup_start":On(t.domainLookupStart),"http.request.domain_lookup_end":On(t.domainLookupEnd),"http.request.connect_start":On(t.connectStart),"http.request.secure_connection_start":On(t.secureConnectionStart),"http.request.connection_end":On(t.connectEnd),"http.request.request_start":On(t.requestStart),"http.request.response_start":On(t.responseStart),"http.request.response_end":On(t.responseEnd),"http.request.time_to_first_byte":t.responseStart!=null?t.responseStart/1e3:void 0}):e}function ij(t){return Object.fromEntries(Object.entries(t).filter(([,e])=>e!=null))}const aj=2147483647;let r0=0,$n={},Jt,ku;function oj({recordClsStandaloneSpans:t,recordLcpStandaloneSpans:e,client:r}){const i=fl();if(i&&en()){i.mark&&_e.performance.mark("sentry-tracing-init");const o=e?rj(r):fj(),l=hj(),u=t?tj(r):dj();return()=>{o?.(),l(),u?.()}}return()=>{}}function lj(){ai("longtask",({entries:t})=>{const e=Pt();if(!e)return;const{op:r,start_timestamp:i}=Be(e);for(const o of t){const l=lt(en()+o.startTime),u=lt(o.duration);r==="navigation"&&i&&l<i||ps(e,l,l+u,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[wt]:"auto.ui.browser.metrics"}})}})}function cj(){new PerformanceObserver(e=>{const r=Pt();if(r)for(const i of e.getEntries()){if(!i.scripts[0])continue;const o=lt(en()+i.startTime),{start_timestamp:l,op:u}=Be(r);if(u==="navigation"&&l&&o<l)continue;const f=lt(i.duration),h={[wt]:"auto.ui.browser.metrics"},m=i.scripts[0],{invoker:y,invokerType:b,sourceURL:_,sourceFunctionName:S,sourceCharPosition:E}=m;h["browser.script.invoker"]=y,h["browser.script.invoker_type"]=b,_&&(h["code.filepath"]=_),S&&(h["code.function"]=S),E!==-1&&(h["browser.script.source_char_position"]=E),ps(r,o,o+f,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:h})}}).observe({type:"long-animation-frame",buffered:!0})}function uj(){ai("event",({entries:t})=>{const e=Pt();if(e){for(const r of t)if(r.name==="click"){const i=lt(en()+r.startTime),o=lt(r.duration),l={name:Zt(r.target),op:`ui.interaction.${r.name}`,startTime:i,attributes:{[wt]:"auto.ui.browser.metrics"}},u=qS(r.target);u&&(l.attributes["ui.component_name"]=u),ps(e,i,i+o,l)}}})}function dj(){return Tm(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&($n.cls={value:t.value,unit:""},ku=e)},!0)}function fj(){return km(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&($n.lcp={value:t.value,unit:"millisecond"},Jt=e)},!0)}function hj(){return YN(({metric:t})=>{t.entries[t.entries.length-1]&&($n.ttfb={value:t.value,unit:"millisecond"})})}function pj(t,e){const r=fl(),i=en();if(!r?.getEntries||!i)return;const o=lt(i),l=r.getEntries(),{op:u,start_timestamp:f}=Be(t);l.slice(r0).forEach(h=>{const m=lt(h.startTime),y=lt(Math.max(0,h.duration));if(!(u==="navigation"&&f&&o+m<f))switch(h.entryType){case"navigation":{bj(t,h,o);break}case"mark":case"paint":case"measure":{gj(t,h,m,y,o,e.ignorePerformanceApiSpans);const b=Em(),_=h.startTime<b.firstHiddenTime;h.name==="first-paint"&&_&&($n.fp={value:h.startTime,unit:"millisecond"}),h.name==="first-contentful-paint"&&_&&($n.fcp={value:h.startTime,unit:"millisecond"});break}case"resource":{Sj(t,h,h.name,m,y,o,e.ignoreResourceSpans);break}}}),r0=Math.max(l.length-1,0),wj(t),u==="pageload"&&(Tj($n),e.recordClsOnPageloadSpan||delete $n.cls,e.recordLcpOnPageloadSpan||delete $n.lcp,Object.entries($n).forEach(([h,m])=>{sC(h,m.value,m.unit)}),t.setAttribute("performance.timeOrigin",o),t.setAttribute("performance.activationStart",ja()),Ej(t,e)),Jt=void 0,ku=void 0,$n={}}function mj(t){if(t?.entryType==="measure")try{return t.detail.devtools.track==="Components "}catch{return}}function gj(t,e,r,i,o,l){if(mj(e)||["mark","measure"].includes(e.entryType)&&kr(e.name,l))return;const u=cl(!1),f=lt(u?u.requestStart:0),h=o+Math.max(r,f),m=o+r,y=m+i,b={[wt]:"auto.resource.browser.metrics"};h!==m&&(b["sentry.browser.measure_happened_before_request"]=!0,b["sentry.browser.measure_start_time"]=h),yj(b,e),h<=y&&ps(t,h,y,{name:e.name,op:e.entryType,attributes:b})}function yj(t,e){try{const r=e.detail;if(!r)return;if(typeof r=="object"){for(const[i,o]of Object.entries(r))if(o&&ha(o))t[`sentry.browser.measure.detail.${i}`]=o;else if(o!==void 0)try{t[`sentry.browser.measure.detail.${i}`]=JSON.stringify(o)}catch{}return}if(ha(r)){t["sentry.browser.measure.detail"]=r;return}try{t["sentry.browser.measure.detail"]=JSON.stringify(r)}catch{}}catch{}}function bj(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{Pc(t,e,i,r)}),Pc(t,e,"secureConnection",r,"TLS/SSL"),Pc(t,e,"fetch",r,"cache"),Pc(t,e,"domainLookup",r,"DNS"),_j(t,e,r)}function Pc(t,e,r,i,o=r){const l=vj(r),u=e[l],f=e[`${r}Start`];!f||!u||ps(t,i+lt(f),i+lt(u),{op:`browser.${o}`,name:e.name,attributes:{[wt]:"auto.ui.browser.metrics",...r==="redirect"&&e.redirectCount!=null?{"http.redirect_count":e.redirectCount}:{}}})}function vj(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function _j(t,e,r){const i=r+lt(e.requestStart),o=r+lt(e.responseEnd),l=r+lt(e.responseStart);e.responseEnd&&(ps(t,i,o,{op:"browser.request",name:e.name,attributes:{[wt]:"auto.ui.browser.metrics"}}),ps(t,l,o,{op:"browser.response",name:e.name,attributes:{[wt]:"auto.ui.browser.metrics"}}))}function Sj(t,e,r,i,o,l,u){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const f=e.initiatorType?`resource.${e.initiatorType}`:"resource.other";if(u?.includes(f))return;const h={[wt]:"auto.resource.browser.metrics"},m=ni(r);m.protocol&&(h["url.scheme"]=m.protocol.split(":").pop()),m.host&&(h["server.address"]=m.host),h["url.same_origin"]=r.includes(_e.location.origin),xj(e,h,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const y={...h,...oE(e)},b=l+i,_=b+o;ps(t,b,_,{name:r.replace(_e.location.origin,""),op:f,attributes:y})}function wj(t){const e=_e.navigator;if(!e)return;const r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),jh(r.rtt)&&($n["connection.rtt"]={value:r.rtt,unit:"millisecond"})),jh(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),jh(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function Ej(t,e){Jt&&e.recordLcpOnPageloadSpan&&(Jt.element&&t.setAttribute("lcp.element",Zt(Jt.element)),Jt.id&&t.setAttribute("lcp.id",Jt.id),Jt.url&&t.setAttribute("lcp.url",Jt.url.trim().slice(0,200)),Jt.loadTime!=null&&t.setAttribute("lcp.loadTime",Jt.loadTime),Jt.renderTime!=null&&t.setAttribute("lcp.renderTime",Jt.renderTime),t.setAttribute("lcp.size",Jt.size)),ku?.sources&&e.recordClsOnPageloadSpan&&ku.sources.forEach((r,i)=>t.setAttribute(`cls.source.${i+1}`,Zt(r.node)))}function xj(t,e,r){r.forEach(([i,o])=>{const l=t[i];l!=null&&(typeof l=="number"&&l<aj||typeof l=="string")&&(e[o]=l)})}function Tj(t){const e=cl(!1);if(!e)return;const{responseStart:r,requestStart:i}=e;i<=r&&(t["ttfb.requestTime"]={value:r-i,unit:"millisecond"})}function kj(){return fl()&&en()?ai("element",Aj):()=>{}}const Aj=({entries:t})=>{const e=Pt(),r=e?It(e):void 0,i=r?Be(r).description:Ve().getScopeData().transactionName;t.forEach(o=>{const l=o;if(!l.identifier)return;const u=l.name,f=l.renderTime,h=l.loadTime,[m,y]=h?[lt(h),"load-time"]:f?[lt(f),"render-time"]:[kt(),"entry-emission"],b=u==="image-paint"?lt(Math.max(0,(f??0)-(h??0))):0,_={[wt]:"auto.ui.browser.elementtiming",[jr]:"ui.elementtiming",[Gn]:"component","sentry.span_start_time_source":y,"sentry.transaction_name":i,"element.id":l.id,"element.type":l.element?.tagName?.toLowerCase()||"unknown","element.size":l.naturalWidth&&l.naturalHeight?`${l.naturalWidth}x${l.naturalHeight}`:void 0,"element.render_time":f,"element.load_time":h,"element.url":l.url||void 0,"element.identifier":l.identifier,"element.paint_type":u};uC({name:`element[${l.identifier}]`,attributes:_,startTime:m,onlyIfParent:!0},S=>{S.end(m+b)})})},Oj=1e3;let s0,bp,vp;function lE(t){ms("dom",t),gs("dom",Cj)}function Cj(){if(!_e.document)return;const t=Rn.bind(null,"dom"),e=i0(t,!0);_e.document.addEventListener("click",e,!1),_e.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const o=_e[r]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(Qt(o,"addEventListener",function(l){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=m[u]=m[u]||{refCount:0};if(!y.handler){const b=i0(t);y.handler=b,l.call(this,u,b,h)}y.refCount++}catch{}return l.call(this,u,f,h)}}),Qt(o,"removeEventListener",function(l){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__||{},y=m[u];y&&(y.refCount--,y.refCount<=0&&(l.call(this,u,y.handler,h),y.handler=void 0,delete m[u]),Object.keys(m).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return l.call(this,u,f,h)}}))})}function Rj(t){if(t.type!==bp)return!1;try{if(!t.target||t.target._sentryId!==vp)return!1}catch{}return!0}function Nj(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function i0(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const i=jj(r);if(Nj(r.type,i))return;yn(r,"_sentryCaptured",!0),i&&!i._sentryId&&yn(i,"_sentryId",gn());const o=r.type==="keypress"?"input":r.type;Rj(r)||(t({event:r,name:o,global:e}),bp=r.type,vp=i?i._sentryId:void 0),clearTimeout(s0),s0=_e.setTimeout(()=>{vp=void 0,bp=void 0},Oj)}}function jj(t){try{return t.target}catch{return null}}let $c;function Ku(t){const e="history";ms(e,t),gs(e,Mj)}function Mj(){if(_e.addEventListener("popstate",()=>{const e=_e.location.href,r=$c;if($c=e,r===e)return;Rn("history",{from:r,to:e})}),!tN())return;function t(e){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=$c,l=Ij(String(i));if($c=l,o===l)return e.apply(this,r);Rn("history",{from:o,to:l})}return e.apply(this,r)}}Qt(_e.history,"pushState",t),Qt(_e.history,"replaceState",t)}function Ij(t){try{return new URL(t,_e.location.origin).toString()}catch{return t}}const hu={};function cE(t){const e=hu[t];if(e)return e;let r=_e[t];if(dp(r))return hu[t]=r.bind(_e);const i=_e.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l?.[t]&&(r=l[t]),i.head.removeChild(o)}catch(o){ii&&Y.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,o)}return r&&(hu[t]=r.bind(_e))}function Dj(t){hu[t]=void 0}function hl(...t){return cE("setTimeout")(...t)}const Xs="__sentry_xhr_v3__";function uE(t){ms("xhr",t),gs("xhr",Lj)}function Lj(){if(!_e.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,i){const o=new Error,l=kt()*1e3,u=Tr(i[0])?i[0].toUpperCase():void 0,f=Uj(i[1]);if(!u||!f)return e.apply(r,i);r[Xs]={method:u,url:f,request_headers:{}},u==="POST"&&f.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const h=()=>{const m=r[Xs];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}const y={endTimestamp:kt()*1e3,startTimestamp:l,xhr:r,virtualError:o};Rn("xhr",y)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,y,b){return h(),m.apply(y,b)}}):r.addEventListener("readystatechange",h),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,y,b){const[_,S]=b,E=y[Xs];return E&&Tr(_)&&Tr(S)&&(E.request_headers[_.toLowerCase()]=S),m.apply(y,b)}}),e.apply(r,i)}}),t.send=new Proxy(t.send,{apply(e,r,i){const o=r[Xs];if(!o)return e.apply(r,i);i[0]!==void 0&&(o.body=i[0]);const l={startTimestamp:kt()*1e3,xhr:r};return Rn("xhr",l),e.apply(r,i)}})}function Uj(t){if(Tr(t))return t;try{return t.toString()}catch{}}function dE(t){return new URLSearchParams(t).toString()}function fE(t,e=Y){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[dE(t)];if(!t)return[void 0]}catch(r){return ii&&e.error(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return ii&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function hE(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function pE(t){let e;try{e=t.getAllResponseHeaders()}catch(r){return ii&&Y.error(r,"Failed to get xhr response headers",t),{}}return e?e.split(`\r
`).reduce((r,i)=>{const[o,l]=i.split(": ");return l&&(r[o.toLowerCase()]=l),r},{}):{}}const Mh=[],pu=new Map,Wi=new Map,Bj=60;function zj(){if(fl()&&en()){const e=Hj();return()=>{e()}}return()=>{}}const _p={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Hj(){return nE(Pj)}const Pj=({metric:t})=>{if(t.value==null)return;const e=lt(t.value);if(e>Bj)return;const r=t.entries.find(E=>E.duration===t.value&&_p[E.name]);if(!r)return;const{interactionId:i}=r,o=_p[r.name],l=lt(en()+r.startTime),u=Pt(),f=u?It(u):void 0,h=i!=null?pu.get(i):void 0,m=h?.span||f,y=m?Be(m).description:Ve().getScopeData().transactionName,b=h?.elementName||Zt(r.target),_={[wt]:"auto.http.browser.inp",[jr]:`ui.interaction.${o}`,[Ca]:r.duration},S=Am({name:b,transaction:y,attributes:_,startTime:l});S&&(S.addEvent("inp",{[al]:"millisecond",[ol]:t.value}),S.end(l+e))};function $j(){const t=Object.keys(_p);hp()&&t.forEach(o=>{_e.addEventListener(o,e,{capture:!0,passive:!0})});function e(o){const l=o.target;if(!l)return;const u=Zt(l),f=Math.round(o.timeStamp);if(Wi.set(f,u),Wi.size>50){const h=Wi.keys().next().value;h!==void 0&&Wi.delete(h)}}function r(o){const l=Math.round(o.startTime);let u=Wi.get(l);if(!u)for(let f=-5;f<=5;f++){const h=Wi.get(l+f);if(h){u=h;break}}return u||"<unknown>"}const i=({entries:o})=>{const l=Pt(),u=l&&It(l);o.forEach(f=>{if(!ZN(f))return;const h=f.interactionId;if(h==null||pu.has(h))return;const m=f.target?Zt(f.target):r(f);if(Mh.length>10){const y=Mh.shift();pu.delete(y)}Mh.push(h),pu.set(h,{span:u,elementName:m})})};ai("event",i),ai("first-input",i)}const qj=40;function Fj(t,e=cE("fetch")){let r=0,i=0;async function o(l){const u=l.body.length;r+=u,i++;const f={body:l.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&i<15,...t.fetchOptions};try{const h=await e(t.url,f);return{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}}catch(h){throw Dj("fetch"),h}finally{r-=u,i--}}return hR(t,o,Dw(t.bufferSize||qj))}const Gj=30,Vj=50;function Sp(t,e,r,i){const o={filename:t,function:e==="<anonymous>"?ri:e,in_app:!0};return r!==void 0&&(o.lineno=r),i!==void 0&&(o.colno=i),o}const Yj=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Kj=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Wj=/\((\S*)(?::(\d+))(?::(\d+))\)/,Xj=/at (.+?) ?\(data:(.+?),/,Jj=t=>{const e=t.match(Xj);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const r=Yj.exec(t);if(r){const[,o,l,u]=r;return Sp(o,ri,+l,+u)}const i=Kj.exec(t);if(i){if(i[2]&&i[2].indexOf("eval")===0){const f=Wj.exec(i[2]);f&&(i[2]=f[1],i[3]=f[2],i[4]=f[3])}const[l,u]=mE(i[1]||ri,i[2]);return Sp(u,l,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},Qj=[Gj,Jj],Zj=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tM=t=>{const e=Zj.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const l=eM.exec(e[3]);l&&(e[1]=e[1]||"eval",e[3]=l[1],e[4]=l[2],e[5]="")}let i=e[3],o=e[1]||ri;return[o,i]=mE(o,i),Sp(i,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},nM=[Vj,tM],rM=[Qj,nM],sM=LS(...rM),mE=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return r||i?[t.indexOf("@")!==-1?t.split("@")[0]:ri,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Nn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qc=1024,iM="Breadcrumbs",aM=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:iM,setup(r){e.console&&HR(uM(r)),e.dom&&lE(cM(r,e.dom)),e.xhr&&uE(dM(r)),e.fetch&&Fw(fM(r)),e.history&&Ku(hM(r)),e.sentry&&r.on("beforeSendEvent",lM(r))}}}),oM=aM;function lM(t){return function(r){Ie()===t&&hs({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Ys(r)},{event:r})}}function cM(t,e){return function(i){if(Ie()!==t)return;let o,l,u=typeof e=="object"?e.serializeAttribute:void 0,f=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;f&&f>qc&&(Nn&&Y.warn(`\`dom.maxStringLength\` cannot exceed ${qc}, but a value of ${f} was configured. Sentry will use ${qc} instead.`),f=qc),typeof u=="string"&&(u=[u]);try{const m=i.event,y=pM(m)?m.target:m;o=Zt(y,{keyAttrs:u,maxStringLength:f}),l=qS(y)}catch{o="<unknown>"}if(o.length===0)return;const h={category:`ui.${i.name}`,message:o};l&&(h.data={"ui.component_name":l}),hs(h,{event:i.event,name:i.name,global:i.global})}}function uM(t){return function(r){if(Ie()!==t)return;const i={category:"console",data:{arguments:r.args,logger:"console"},level:Hw(r.level),message:y_(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)i.message=`Assertion failed: ${y_(r.args.slice(1)," ")||"console.assert"}`,i.data.arguments=r.args.slice(1);else return;hs(i,{input:r.args,level:r.level})}}function dM(t){return function(r){if(Ie()!==t)return;const{startTimestamp:i,endTimestamp:o}=r,l=r.xhr[Xs];if(!i||!o||!l)return;const{method:u,url:f,status_code:h,body:m}=l,y={method:u,url:f,status_code:h},b={xhr:r.xhr,input:m,startTimestamp:i,endTimestamp:o},_={category:"xhr",data:y,type:"http",level:qw(h)};t.emit("beforeOutgoingRequestBreadcrumb",_,b),hs(_,b)}}function fM(t){return function(r){if(Ie()!==t)return;const{startTimestamp:i,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const l=r.fetchData,u={data:r.error,input:r.args,startTimestamp:i,endTimestamp:o},f={category:"fetch",data:l,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",f,u),hs(f,u)}else{const l=r.response,u={...r.fetchData,status_code:l?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,l?.status;const f={input:r.args,response:l,startTimestamp:i,endTimestamp:o},h={category:"fetch",data:u,type:"http",level:qw(u.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",h,f),hs(h,f)}}}function hM(t){return function(r){if(Ie()!==t)return;let i=r.from,o=r.to;const l=ni(ze.location.href);let u=i?ni(i):void 0;const f=ni(o);u?.path||(u=l),l.protocol===f.protocol&&l.host===f.host&&(o=f.relative),l.protocol===u.protocol&&l.host===u.host&&(i=u.relative),hs({category:"navigation",data:{from:i,to:o}})}}function pM(t){return!!t&&!!t.target}const mM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],gM="BrowserApiErrors",yM=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:gM,setupOnce(){e.setTimeout&&Qt(ze,"setTimeout",a0),e.setInterval&&Qt(ze,"setInterval",a0),e.requestAnimationFrame&&Qt(ze,"requestAnimationFrame",vM),e.XMLHttpRequest&&"XMLHttpRequest"in ze&&Qt(XMLHttpRequest.prototype,"send",_M);const r=e.eventTarget;r&&(Array.isArray(r)?r:mM).forEach(o=>SM(o,e))}}}),bM=yM;function a0(t){return function(...e){const r=e[0];return e[0]=ba(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Cr(t)}`}}),t.apply(this,e)}}function vM(t){return function(e){return t.apply(this,[ba(e,{mechanism:{data:{handler:Cr(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function _M(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&Qt(r,o,function(l){const u={mechanism:{data:{handler:Cr(l)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},f=sm(l);return f&&(u.mechanism.data.handler=Cr(f)),ba(l,u)})}),t.apply(this,e)}}function SM(t,e){const i=ze[t]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(Qt(i,"addEventListener",function(o){return function(l,u,f){try{wM(u)&&(u.handleEvent=ba(u.handleEvent,{mechanism:{data:{handler:Cr(u),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&EM(this,l,u),o.apply(this,[l,ba(u,{mechanism:{data:{handler:Cr(u),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),f])}}),Qt(i,"removeEventListener",function(o){return function(l,u,f){try{const h=u.__sentry_wrapped__;h&&o.call(this,l,h,f)}catch{}return o.call(this,l,u,f)}}))}function wM(t){return typeof t.handleEvent=="function"}function EM(t,e,r){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,r)}const xM=()=>({name:"BrowserSession",setupOnce(){if(typeof ze.document>"u"){Nn&&Y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}z_({ignoreDuration:!0}),H_(),Ku(({from:t,to:e})=>{t!==void 0&&t!==e&&(z_({ignoreDuration:!0}),H_())})}}),TM="GlobalHandlers",kM=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:TM,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(OM(r),o0("onerror")),e.onunhandledrejection&&(CM(r),o0("onunhandledrejection"))}}}),AM=kM;function OM(t){US(e=>{const{stackParser:r,attachStacktrace:i}=gE();if(Ie()!==t||Vw())return;const{msg:o,url:l,line:u,column:f,error:h}=e,m=jM(_m(r,h||o,void 0,i,!1),l,u,f);m.level="error",_w(m,{originalException:h,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function CM(t){BS(e=>{const{stackParser:r,attachStacktrace:i}=gE();if(Ie()!==t||Vw())return;const o=RM(e),l=ha(o)?NM(o):_m(r,o,void 0,i,!0);l.level="error",_w(l,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function RM(t){if(ha(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function NM(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function jM(t,e,r,i){const o=t.exception=t.exception||{},l=o.values=o.values||[],u=l[0]=l[0]||{},f=u.stacktrace=u.stacktrace||{},h=f.frames=f.frames||[],m=i,y=r,b=MM(e)??Aa();return h.length===0&&h.push({colno:m,filename:b,function:ri,in_app:!0,lineno:y}),t}function o0(t){Nn&&Y.log(`Global Handler attached: ${t}`)}function gE(){return Ie()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function MM(t){if(!(!Tr(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),r=e?e[1]:"text/javascript",i=t.includes("base64,");return`<data:${r}${i?",base64":""}>`}return t}}const IM=()=>({name:"HttpContext",preprocessEvent(t){if(!ze.navigator&&!ze.location&&!ze.document)return;const e=ym(),r={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:r}}}),DM="cause",LM=5,UM="LinkedErrors",BM=((t={})=>{const e=t.limit||LM,r=t.key||DM;return{name:UM,preprocessEvent(i,o,l){const u=l.getOptions();zR(bm,u.stackParser,r,e,i,o)}}}),zM=BM;function HM(){return PM()?(Nn&&li(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function PM(){if(typeof ze.window>"u")return!1;const t=ze;if(t.nw||!(t.chrome||t.browser)?.runtime?.id)return!1;const r=Aa(),i=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(ze===ze.top&&i.some(l=>r.startsWith(`${l}://`)))}function $M(t){return[NR(),AR(),bM(),oM(),AM(),zM(),FR(),IM(),xM()]}function qM(t={}){const e=!t.skipBrowserExtensionCheck&&HM();let r=t.defaultIntegrations==null?$M():t.defaultIntegrations;const i={...t,enabled:e?!1:t.enabled,stackParser:DA(t.stackParser||sM),integrations:FC({integrations:t.integrations,defaultIntegrations:r}),transport:t.transport||Fj};return oR(TN,i)}const Ze=Le,Om="sentryReplaySession",FM="replay_event",Cm="Unable to send Replay",GM=3e5,VM=9e5,YM=5e3,KM=5500,WM=6e4,XM=5e3,JM=3,l0=15e4,Fc=5e3,QM=3e3,ZM=300,Rm=2e7,eI=4999,tI=15e3,c0=36e5;var nI=Object.defineProperty,rI=(t,e,r)=>e in t?nI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u0=(t,e,r)=>rI(t,typeof e!="symbol"?e+"":e,r),gt=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(gt||{});function sI(t){return t.nodeType===t.ELEMENT_NODE}function Ho(t){return t?.host?.shadowRoot===t}function Po(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function iI(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function aI(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const r=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}function Au(t){try{const e=t.rules||t.cssRules;return e?iI(Array.from(e,yE).join("")):null}catch{return null}}function oI(t){let e="";for(let r=0;r<t.style.length;r++){const i=t.style,o=i[r],l=i.getPropertyPriority(o);e+=`${o}:${i.getPropertyValue(o)}${l?" !important":""};`}return`${t.selectorText} { ${e} }`}function yE(t){let e;if(cI(t))try{e=Au(t.styleSheet)||aI(t)}catch{}else if(uI(t)){let r=t.cssText;const i=t.selectorText.includes(":"),o=typeof t.style.all=="string"&&t.style.all;if(o&&(r=oI(t)),i&&(r=lI(r)),i||o)return r}return e||t.cssText}function lI(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function cI(t){return"styleSheet"in t}function uI(t){return"selectorText"in t}class bE{constructor(){u0(this,"idNodeMap",new Map),u0(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,r){const i=r.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,r)}replace(e,r){const i=this.getNode(e);if(i){const o=this.nodeMetaMap.get(i);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(e,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function dI(){return new bE}function Wu({maskInputOptions:t,tagName:e,type:r}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||r&&t[r]||r==="password"||e==="INPUT"&&!r&&t.text)}function Xo({isMasked:t,element:e,value:r,maskInputFn:i}){let o=r||"";return t?(i&&(o=i(o,e)),"*".repeat(o.length)):o}function va(t){return t.toLowerCase()}function wp(t){return t.toUpperCase()}const d0="__rrweb_original__";function fI(t){const e=t.getContext("2d");if(!e)return!0;const r=50;for(let i=0;i<t.width;i+=r)for(let o=0;o<t.height;o+=r){const l=e.getImageData,u=d0 in l?l[d0]:l;if(new Uint32Array(u.call(e,i,o,Math.min(r,t.width-i),Math.min(r,t.height-o)).data.buffer).some(h=>h!==0))return!1}return!0}function Nm(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?va(e):null}function Ou(t,e,r){return e==="INPUT"&&(r==="radio"||r==="checkbox")?t.getAttribute("value")||"":t.value}function vE(t,e){let r;try{r=new URL(t,e??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i;return r.pathname.match(i)?.[1]??null}const f0={};function _E(t){const e=f0[t];if(e)return e;const r=window.document;let i=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const l=o.contentWindow;l&&l[t]&&(i=l[t]),r.head.removeChild(o)}catch{}return f0[t]=i.bind(window)}function Ep(...t){return _E("setTimeout")(...t)}function SE(...t){return _E("clearTimeout")(...t)}function wE(t){try{return t.contentDocument}catch{}}let hI=1;const pI=new RegExp("[^a-z0-9-_:]"),Jo=-2;function jm(){return hI++}function mI(t){if(t instanceof HTMLFormElement)return"form";const e=va(t.tagName);return pI.test(e)?"div":e}function gI(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let Xi,h0;const yI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,bI=/^(?:[a-z+]+:)?\/\//i,vI=/^www\..*/i,_I=/^(data:)([^,]*),(.*)/i;function SI(t,e){if(!t||e.size===0)return t;try{const r=t.split(";"),i=[];for(let o of r){if(o=o.trim(),!o)continue;const l=o.indexOf(":");if(l===-1){i.push(o);continue}const u=o.slice(0,l).trim();e.has(u)||i.push(o)}return i.join("; ")+(i.length>0&&t.endsWith(";")?";":"")}catch(r){return console.warn("Error filtering CSS properties:",r),t}}function Cu(t,e){return(t||"").replace(yI,(r,i,o,l,u,f)=>{const h=o||u||f,m=i||l||"";if(!h)return r;if(bI.test(h)||vI.test(h))return`url(${m}${h}${m})`;if(_I.test(h))return`url(${m}${h}${m})`;if(h[0]==="/")return`url(${m}${gI(e)+h}${m})`;const y=e.split("/"),b=h.split("/");y.pop();for(const _ of b)_!=="."&&(_===".."?y.pop():y.push(_));return`url(${m}${y.join("/")}${m})`})}const wI=/^[^ \t\n\r\u000c]+/,EI=/^[, \t\n\r\u000c]+/;function xI(t,e){if(e.trim()==="")return e;let r=0;function i(l){let u;const f=l.exec(e.substring(r));return f?(u=f[0],r+=u.length,u):""}const o=[];for(;i(EI),!(r>=e.length);){let l=i(wI);if(l.slice(-1)===",")l=oa(t,l.substring(0,l.length-1)),o.push(l);else{let u="";l=oa(t,l);let f=!1;for(;;){const h=e.charAt(r);if(h===""){o.push((l+u).trim());break}else if(f)h===")"&&(f=!1);else if(h===","){r+=1,o.push((l+u).trim());break}else h==="("&&(f=!0);u+=h,r+=1}}}return o.join(", ")}const p0=new WeakMap;function oa(t,e){return!e||e.trim()===""?e:Xu(t,e)}function TI(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Xu(t,e){let r=p0.get(t);if(r||(r=t.createElement("a"),p0.set(t,r)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return r.setAttribute("href",e),r.href}function EE(t,e,r,i,o,l,u){if(!i)return i;if(r==="src"||r==="href"&&!(e==="use"&&i[0]==="#"))return oa(t,i);if(r==="xlink:href"&&i[0]!=="#")return oa(t,i);if(r==="background"&&(e==="table"||e==="td"||e==="th"))return oa(t,i);if(r==="srcset")return xI(t,i);if(r==="style"){let f=Cu(i,Xu(t));return u&&u.size>0&&(f=SI(f,u)),f}else if(e==="object"&&r==="data")return oa(t,i);return typeof l=="function"?l(r,i,o):i}function xE(t,e,r){return(t==="video"||t==="audio")&&e==="autoplay"}function kI(t,e,r,i){try{if(i&&t.matches(i))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let o=t.classList.length;o--;){const l=t.classList[o];if(e.test(l))return!0}if(r)return t.matches(r)}catch{}return!1}function AI(t,e){for(let r=t.classList.length;r--;){const i=t.classList[r];if(e.test(i))return!0}return!1}function Js(t,e,r=1/0,i=0){return!t||t.nodeType!==t.ELEMENT_NODE||i>r?-1:e(t)?i:Js(t.parentNode,e,r,i+1)}function la(t,e){return r=>{const i=r;if(i===null)return!1;try{if(t){if(typeof t=="string"){if(i.matches(`.${t}`))return!0}else if(AI(i,t))return!0}return!!(e&&i.matches(e))}catch{return!1}}}function _a(t,e,r,i,o,l){try{const u=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(u===null)return!1;if(u.tagName==="INPUT"){const m=u.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(m))return!0}let f=-1,h=-1;if(l){if(h=Js(u,la(i,o)),h<0)return!0;f=Js(u,la(e,r),h>=0?h:1/0)}else{if(f=Js(u,la(e,r)),f<0)return!1;h=Js(u,la(i,o),f>=0?f:1/0)}return f>=0?h>=0?f<=h:!0:h>=0?!1:!!l}catch{}return!!l}function OI(t,e,r){const i=t.contentWindow;if(!i)return;let o=!1,l;try{l=i.document.readyState}catch{return}if(l!=="complete"){const f=Ep(()=>{o||(e(),o=!0)},r);t.addEventListener("load",()=>{SE(f),o=!0,e()});return}const u="about:blank";if(i.location.href!==u||t.src===u||t.src==="")return Ep(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function CI(t,e,r){let i=!1,o;try{o=t.sheet}catch{return}if(o)return;const l=Ep(()=>{i||(e(),i=!0)},r);t.addEventListener("load",()=>{SE(l),i=!0,e()})}function RI(t,e){const{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskAttributeFn:h,maskTextClass:m,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:_,inlineStylesheet:S,maskInputOptions:E={},maskTextFn:T,maskInputFn:A,dataURLOptions:U={},inlineImages:z,recordCanvas:R,keepIframeSrcFn:F,newlyAddedElement:K=!1,ignoreCSSAttributes:G}=e,L=NI(r,i);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:gt.Document,childNodes:[],compatMode:t.compatMode}:{type:gt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:gt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:L};case t.ELEMENT_NODE:return MI(t,{doc:r,blockClass:o,blockSelector:l,unblockSelector:u,inlineStylesheet:S,maskAttributeFn:h,maskInputOptions:E,maskInputFn:A,dataURLOptions:U,inlineImages:z,recordCanvas:R,keepIframeSrcFn:F,newlyAddedElement:K,rootId:L,maskTextClass:m,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:_,ignoreCSSAttributes:G});case t.TEXT_NODE:return jI(t,{doc:r,maskAllText:f,maskTextClass:m,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:_,maskTextFn:T,maskInputOptions:E,maskInputFn:A,rootId:L});case t.CDATA_SECTION_NODE:return{type:gt.CDATA,textContent:"",rootId:L};case t.COMMENT_NODE:return{type:gt.Comment,textContent:t.textContent||"",rootId:L};default:return!1}}function NI(t,e){if(!e.hasNode(t))return;const r=e.getId(t);return r===1?void 0:r}function jI(t,e){const{maskAllText:r,maskTextClass:i,unmaskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,maskTextFn:f,maskInputOptions:h,maskInputFn:m,rootId:y}=e,b=t.parentNode&&t.parentNode.tagName;let _=t.textContent;const S=b==="STYLE"?!0:void 0,E=b==="SCRIPT"?!0:void 0,T=b==="TEXTAREA"?!0:void 0;if(S&&_){try{t.nextSibling||t.previousSibling||t.parentNode.sheet?.cssRules&&(_=Au(t.parentNode.sheet))}catch(U){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${U}`,t)}_=Cu(_,Xu(e.doc))}E&&(_="SCRIPT_PLACEHOLDER");const A=_a(t,i,l,o,u,r);if(!S&&!E&&!T&&_&&A&&(_=f?f(_,t.parentElement):_.replace(/[\S]/g,"*")),T&&_&&(h.textarea||A)&&(_=m?m(_,t.parentNode):_.replace(/[\S]/g,"*")),b==="OPTION"&&_){const U=Wu({type:null,tagName:b,maskInputOptions:h});_=Xo({isMasked:_a(t,i,l,o,u,U),element:t,value:_,maskInputFn:m})}return{type:gt.Text,textContent:_||"",isStyle:S,rootId:y}}function MI(t,e){const{doc:r,blockClass:i,blockSelector:o,unblockSelector:l,inlineStylesheet:u,maskInputOptions:f={},maskAttributeFn:h,maskInputFn:m,dataURLOptions:y={},inlineImages:b,recordCanvas:_,keepIframeSrcFn:S,newlyAddedElement:E=!1,rootId:T,maskTextClass:A,unmaskTextClass:U,maskTextSelector:z,unmaskTextSelector:R,ignoreCSSAttributes:F}=e,K=kI(t,i,o,l),G=mI(t);let L={};const P=t.attributes.length;for(let W=0;W<P;W++){const ee=t.attributes[W];ee.name&&!xE(G,ee.name,ee.value)&&(L[ee.name]=EE(r,G,va(ee.name),ee.value,t,h,F))}if(G==="link"&&u){const W=Array.from(r.styleSheets).find(oe=>oe.href===t.href);let ee=null;W&&(ee=Au(W)),ee&&(L.rel=null,L.href=null,L.crossorigin=null,L._cssText=Cu(ee,W.href))}if(G==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const W=Au(t.sheet);W&&(L._cssText=Cu(W,Xu(r)))}if(G==="input"||G==="textarea"||G==="select"||G==="option"){const W=t,ee=Nm(W),oe=Ou(W,wp(G),ee),he=W.checked;if(ee!=="submit"&&ee!=="button"&&oe){const Te=_a(W,A,z,U,R,Wu({type:ee,tagName:wp(G),maskInputOptions:f}));L.value=Xo({isMasked:Te,element:W,value:oe,maskInputFn:m})}he&&(L.checked=he)}if(G==="option"&&(t.selected&&!f.select?L.selected=!0:delete L.selected),G==="canvas"&&_){if(t.__context==="2d")fI(t)||(L.rr_dataURL=t.toDataURL(y.type,y.quality));else if(!("__context"in t)){const W=t.toDataURL(y.type,y.quality),ee=r.createElement("canvas");ee.width=t.width,ee.height=t.height;const oe=ee.toDataURL(y.type,y.quality);W!==oe&&(L.rr_dataURL=W)}}if(G==="img"&&b){Xi||(Xi=r.createElement("canvas"),h0=Xi.getContext("2d"));const W=t,ee=W.currentSrc||W.getAttribute("src")||"<unknown-src>",oe=W.crossOrigin,he=()=>{W.removeEventListener("load",he);try{Xi.width=W.naturalWidth,Xi.height=W.naturalHeight,h0.drawImage(W,0,0),L.rr_dataURL=Xi.toDataURL(y.type,y.quality)}catch(Te){if(W.crossOrigin!=="anonymous"){W.crossOrigin="anonymous",W.complete&&W.naturalWidth!==0?he():W.addEventListener("load",he);return}else console.warn(`Cannot inline img src=${ee}! Error: ${Te}`)}W.crossOrigin==="anonymous"&&(oe?L.crossOrigin=oe:W.removeAttribute("crossorigin"))};W.complete&&W.naturalWidth!==0?he():W.addEventListener("load",he)}if((G==="audio"||G==="video")&&(L.rr_mediaState=t.paused?"paused":"played",L.rr_mediaCurrentTime=t.currentTime),E||(t.scrollLeft&&(L.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(L.rr_scrollTop=t.scrollTop)),K){const{width:W,height:ee}=t.getBoundingClientRect();L={class:L.class,rr_width:`${W}px`,rr_height:`${ee}px`}}G==="iframe"&&!S(L.src)&&(!K&&!wE(t)&&(L.rr_src=L.src),delete L.src);let le;try{customElements.get(G)&&(le=!0)}catch{}return{type:gt.Element,tagName:G,attributes:L,childNodes:[],isSVG:TI(t)||void 0,needBlock:K,rootId:T,isCustom:le}}function Je(t){return t==null?"":t.toLowerCase()}function II(t,e){if(e.comment&&t.type===gt.Comment)return!0;if(t.type===gt.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&vE(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Je(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Je(t.attributes.name)==="application-name"||Je(t.attributes.rel)==="icon"||Je(t.attributes.rel)==="apple-touch-icon"||Je(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&Je(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Je(t.attributes.property).match(/^(og|twitter|fb):/)||Je(t.attributes.name).match(/^(og|twitter):/)||Je(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Je(t.attributes.name)==="robots"||Je(t.attributes.name)==="googlebot"||Je(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Je(t.attributes.name)==="author"||Je(t.attributes.name)==="generator"||Je(t.attributes.name)==="framework"||Je(t.attributes.name)==="publisher"||Je(t.attributes.name)==="progid"||Je(t.attributes.property).match(/^article:/)||Je(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Je(t.attributes.name)==="google-site-verification"||Je(t.attributes.name)==="yandex-verification"||Je(t.attributes.name)==="csrf-token"||Je(t.attributes.name)==="p:domain_verify"||Je(t.attributes.name)==="verify-v1"||Je(t.attributes.name)==="verification"||Je(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ca(t,e){const{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:b,skipChild:_=!1,inlineStylesheet:S=!0,maskInputOptions:E={},maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:z,dataURLOptions:R={},inlineImages:F=!1,recordCanvas:K=!1,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P=5e3,onBlockedImageLoad:le,onStylesheetLoad:W,stylesheetLoadTimeout:ee=5e3,keepIframeSrcFn:oe=()=>!1,newlyAddedElement:he=!1,ignoreCSSAttributes:Te}=e;let{preserveWhiteSpace:ke=!0}=e;const M=RI(t,{doc:r,mirror:i,blockClass:o,blockSelector:l,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:b,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,dataURLOptions:R,inlineImages:F,recordCanvas:K,keepIframeSrcFn:oe,newlyAddedElement:he,ignoreCSSAttributes:Te});if(!M)return console.warn(t,"not serialized"),null;let q;i.hasNode(t)?q=i.getId(t):II(M,z)||!ke&&M.type===gt.Text&&!M.isStyle&&!M.textContent.replace(/^\s+|\s+$/gm,"").length?q=Jo:q=jm();const C=Object.assign(M,{id:q});if(i.add(t,C),q===Jo)return null;G&&G(t);let re=!_;if(C.type===gt.Element){re=re&&!C.needBlock;const V=t.shadowRoot;V&&Po(V)&&(C.isShadowHost=!0)}if((C.type===gt.Document||C.type===gt.Element)&&re){z.headWhitespace&&C.type===gt.Element&&C.tagName==="head"&&(ke=!1);const V={doc:r,mirror:i,blockClass:o,blockSelector:l,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:b,skipChild:_,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:z,dataURLOptions:R,inlineImages:F,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P,onBlockedImageLoad:le,onStylesheetLoad:W,stylesheetLoadTimeout:ee,keepIframeSrcFn:oe,ignoreCSSAttributes:Te},ve=t.childNodes?Array.from(t.childNodes):[];for(const ue of ve){const X=ca(ue,V);X&&C.childNodes.push(X)}if(sI(t)&&t.shadowRoot)for(const ue of Array.from(t.shadowRoot.childNodes)){const X=ca(ue,V);X&&(Po(t.shadowRoot)&&(X.isShadow=!0),C.childNodes.push(X))}}if(t.parentNode&&Ho(t.parentNode)&&Po(t.parentNode)&&(C.isShadow=!0),C.type===gt.Element&&C.tagName==="iframe"&&!C.needBlock&&OI(t,()=>{const V=wE(t);if(V&&L){const ve=ca(V,{doc:V,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:b,skipChild:!1,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:z,dataURLOptions:R,inlineImages:F,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P,onStylesheetLoad:W,stylesheetLoadTimeout:ee,keepIframeSrcFn:oe,ignoreCSSAttributes:Te});ve&&L(t,ve)}},P),C.type===gt.Element&&C.tagName==="img"&&!t.complete&&C.needBlock){const V=t,ve=()=>{if(V.isConnected&&!V.complete&&le)try{const ue=V.getBoundingClientRect();ue.width>0&&ue.height>0&&le(V,C,ue)}catch{}V.removeEventListener("load",ve)};V.isConnected&&V.addEventListener("load",ve)}return C.type===gt.Element&&C.tagName==="link"&&typeof C.attributes.rel=="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href=="string"&&vE(C.attributes.href)==="css")&&CI(t,()=>{if(W){const V=ca(t,{doc:r,mirror:i,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:b,skipChild:!1,inlineStylesheet:S,maskInputOptions:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:z,dataURLOptions:R,inlineImages:F,recordCanvas:K,preserveWhiteSpace:ke,onSerialize:G,onIframeLoad:L,iframeLoadTimeout:P,onStylesheetLoad:W,stylesheetLoadTimeout:ee,keepIframeSrcFn:oe,ignoreCSSAttributes:Te});V&&W(t,V)}},ee),C.type===gt.Element&&delete C.needBlock,C}function DI(t,e){const{mirror:r=new bE,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:l=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:h=null,maskTextSelector:m=null,unmaskTextSelector:y=null,inlineStylesheet:b=!0,inlineImages:_=!1,recordCanvas:S=!1,maskAllInputs:E=!1,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOM:z=!1,dataURLOptions:R,preserveWhiteSpace:F,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:L,onBlockedImageLoad:P,onStylesheetLoad:le,stylesheetLoadTimeout:W,keepIframeSrcFn:ee=()=>!1,ignoreCSSAttributes:oe=new Set([])}=e||{};return ca(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,maskAllText:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:y,skipChild:!1,inlineStylesheet:b,maskInputOptions:E===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:E===!1?{}:E,maskAttributeFn:T,maskTextFn:A,maskInputFn:U,slimDOMOptions:z===!0||z==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:z==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:z===!1?{}:z,dataURLOptions:R,inlineImages:_,recordCanvas:S,preserveWhiteSpace:F,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:L,onBlockedImageLoad:P,onStylesheetLoad:le,stylesheetLoadTimeout:W,keepIframeSrcFn:ee,newlyAddedElement:!1,ignoreCSSAttributes:oe})}function Ht(t,e,r=document){const i={capture:!0,passive:!0};return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e,i)}const ra=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let m0={map:{},getId(){return console.error(ra),-1},getNode(){return console.error(ra),null},removeNodeFromMap(){console.error(ra)},has(){return console.error(ra),!1},reset(){console.error(ra)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(m0=new Proxy(m0,{get(t,e,r){return e==="map"&&console.error(ra),Reflect.get(t,e,r)}}));function Qo(t,e,r={}){let i=null,o=0;return function(...l){const u=Date.now();!o&&r.leading===!1&&(o=u);const f=e-(u-o),h=this;f<=0||f>e?(i&&($I(i),i=null),o=u,t.apply(h,l)):!i&&r.trailing!==!1&&(i=Ju(()=>{o=r.leading===!1?0:Date.now(),i=null,t.apply(h,l)},f))}}function TE(t,e,r,i,o=window){const l=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,i?r:{set(u){Ju(()=>{r.set.call(this,u)},0),l&&l.set&&l.set.call(this,u)}}),()=>TE(t,e,l||{},!0)}function Mm(t,e,r){try{if(!(e in t))return()=>{};const i=t[e],o=r(i);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:i}})),t[e]=o,()=>{t[e]=i}}catch{return()=>{}}}let Ru=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ru=()=>new Date().getTime());function kE(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:e?.documentElement.scrollLeft||e?.body?.parentElement?.scrollLeft||e?.body?.scrollLeft||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:e?.documentElement.scrollTop||e?.body?.parentElement?.scrollTop||e?.body?.scrollTop||0}}function AE(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function OE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function CE(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function fn(t,e,r,i,o){if(!t)return!1;const l=CE(t);if(!l)return!1;const u=la(e,r);if(!o){const m=i&&l.matches(i);return u(l)&&!m}const f=Js(l,u);let h=-1;return f<0?!1:(i&&(h=Js(l,la(null,i))),f>-1&&h<0?!0:f<h)}function LI(t,e){return e.getId(t)!==-1}function Ih(t,e){return e.getId(t)===Jo}function RE(t,e){if(Ho(t))return!1;const r=e.getId(t);return e.has(r)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?RE(t.parentNode,e):!0:!0}function xp(t){return!!t.changedTouches}function UI(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let r=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function NE(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function jE(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Tp(t){return!!t?.shadowRoot}class BI{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,r){if(this.has(e))return this.getId(e);let i;return r===void 0?i=this.id++:i=r,this.styleIDMap.set(e,i),this.idStyleMap.set(i,e),i}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ME(t){let e=null;return t.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function zI(t){let e=t,r;for(;r=ME(e);)e=r;return e}function HI(t){const e=t.ownerDocument;if(!e)return!1;const r=zI(t);return e.contains(r)}function IE(t){const e=t.ownerDocument;return e?e.contains(t)||HI(t):!1}const g0={};function Im(t){const e=g0[t];if(e)return e;const r=window.document;let i=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const l=o.contentWindow;l&&l[t]&&(i=l[t]),r.head.removeChild(o)}catch{}return g0[t]=i.bind(window)}function PI(...t){return Im("requestAnimationFrame")(...t)}function Ju(...t){return Im("setTimeout")(...t)}function $I(...t){return Im("clearTimeout")(...t)}var xe=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(xe||{}),be=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(be||{}),Bt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Bt||{}),wr=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(wr||{}),sa=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(sa||{});function Dm(t){try{return t.contentDocument}catch{}}function qI(t){try{return t.contentWindow}catch{}}function y0(t){return"__ln"in t}class FI{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let i=0;i<e;i++)r=r?.next||null;return r}addNode(e){const r={value:e,previous:null,next:null};if(e.__ln=r,e.previousSibling&&y0(e.previousSibling)){const i=e.previousSibling.__ln.next;r.next=i,r.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=r,i&&(i.previous=r)}else if(e.nextSibling&&y0(e.nextSibling)&&e.nextSibling.__ln.previous){const i=e.nextSibling.__ln.previous;r.previous=i,r.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=r,i&&(i.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(e){const r=e.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const b0=(t,e)=>`${t}@${e}`;class GI{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],r=new Set,i=new FI,o=h=>{let m=h,y=Jo;for(;y===Jo;)m=m&&m.nextSibling,y=m&&this.mirror.getId(m);return y},l=h=>{if(!h.parentNode||!IE(h))return;const m=Ho(h.parentNode)?this.mirror.getId(ME(h)):this.mirror.getId(h.parentNode),y=o(h);if(m===-1||y===-1)return i.addNode(h);const b=ca(h,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:_=>{NE(_,this.mirror)&&!fn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(_),jE(_,this.mirror)&&this.stylesheetManager.trackLinkElement(_),Tp(h)&&this.shadowDomManager.addShadowRoot(h.shadowRoot,this.doc)},onIframeLoad:(_,S)=>{fn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(_,S),_.contentWindow&&this.canvasManager.addWindow(_.contentWindow),this.shadowDomManager.observeAttachShadow(_))},onStylesheetLoad:(_,S)=>{this.stylesheetManager.attachLinkElement(_,S)},onBlockedImageLoad:(_,S,{width:E,height:T})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:S.id,attributes:{style:{width:`${E}px`,height:`${T}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});b&&(e.push({parentId:m,nextId:y,node:b}),r.add(b.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const h of this.movedSet)v0(this.removes,h,this.mirror)&&!this.movedSet.has(h.parentNode)||l(h);for(const h of this.addedSet)!_0(this.droppedSet,h)&&!v0(this.removes,h,this.mirror)||_0(this.movedSet,h)?l(h):this.droppedSet.add(h);let u=null;for(;i.length;){let h=null;if(u){const m=this.mirror.getId(u.value.parentNode),y=o(u.value);m!==-1&&y!==-1&&(h=u)}if(!h){let m=i.tail;for(;m;){const y=m;if(m=m.previous,y){const b=this.mirror.getId(y.value.parentNode);if(o(y.value)===-1)continue;if(b!==-1){h=y;break}else{const S=y.value;if(S.parentNode&&S.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const E=S.parentNode.host;if(this.mirror.getId(E)!==-1){h=y;break}}}}}}if(!h){for(;i.head;)i.removeNode(i.head.value);break}u=h.previous,i.removeNode(h.value),l(h.value)}const f={texts:this.texts.map(h=>({id:this.mirror.getId(h.node),value:h.value})).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),attributes:this.attributes.map(h=>{const{attributes:m}=h;if(typeof m.style=="string"){const y=JSON.stringify(h.styleDiff),b=JSON.stringify(h._unchangedStyles);y.length<m.style.length&&(y+b).split("var(").length===m.style.split("var(").length&&(m.style=h.styleDiff)}return{id:this.mirror.getId(h.node),attributes:m}}).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),removes:this.removes,adds:e};!f.texts.length&&!f.attributes.length&&!f.removes.length&&!f.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(f))},this.processMutation=e=>{if(!Ih(e.target,this.mirror))switch(e.type){case"characterData":{const r=e.target.textContent;!fn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==e.oldValue&&this.texts.push({value:_a(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,CE(e.target)):r.replace(/[\S]/g,"*"):r,node:e.target});break}case"attributes":{const r=e.target;let i=e.attributeName,o=e.target.getAttribute(i);if(i==="value"){const u=Nm(r),f=r.tagName;o=Ou(r,f,u);const h=Wu({maskInputOptions:this.maskInputOptions,tagName:f,type:u}),m=_a(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,h);o=Xo({isMasked:m,element:r,value:o,maskInputFn:this.maskInputFn})}if(fn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let l=this.attributeMap.get(e.target);if(r.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(o))if(!Dm(r))i="rr_src";else return;if(l||(l={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(l),this.attributeMap.set(e.target,l)),i==="type"&&r.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!xE(r.tagName,i)&&(l.attributes[i]=EE(this.doc,va(r.tagName),va(i),o,r,this.maskAttributeFn),i==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const u=this.unattachedDoc.createElement("span");e.oldValue&&u.setAttribute("style",e.oldValue);for(const f of Array.from(r.style)){const h=r.style.getPropertyValue(f),m=r.style.getPropertyPriority(f);h!==u.style.getPropertyValue(f)||m!==u.style.getPropertyPriority(f)?m===""?l.styleDiff[f]=h:l.styleDiff[f]=[h,m]:l._unchangedStyles[f]=[h,m]}for(const f of Array.from(u.style))r.style.getPropertyValue(f)===""&&(l.styleDiff[f]=!1)}break}case"childList":{if(fn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(r=>this.genAdds(r,e.target)),e.removedNodes.forEach(r=>{const i=this.mirror.getId(r),o=Ho(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);fn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ih(r,this.mirror)||!LI(r,this.mirror)||(this.addedSet.has(r)?(kp(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(e.target)&&i===-1||RE(e.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[b0(i,o)]?kp(this.movedSet,r):this.removes.push({parentId:o,id:i,isShadow:Ho(e.target)&&Po(e.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(e,r)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Ih(e,this.mirror))return;this.movedSet.add(e);let i=null;r&&this.mirror.hasNode(r)&&(i=this.mirror.getId(r)),i&&i!==-1&&(this.movedMap[b0(this.mirror.getId(e),i)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);fn(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(i=>this.genAdds(i)),Tp(e)&&e.shadowRoot.childNodes.forEach(i=>{this.processedNodeManager.add(i,this),this.genAdds(i,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(r=>{this[r]=e[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function kp(t,e){t.delete(e),e.childNodes?.forEach(r=>kp(t,r))}function v0(t,e,r){return t.length===0?!1:VI(t,e,r)}function VI(t,e,r){let i=e.parentNode;for(;i;){const o=r.getId(i);if(t.some(l=>l.id===o))return!0;i=i.parentNode}return!1}function _0(t,e){return t.size===0?!1:DE(t,e)}function DE(t,e){const{parentNode:r}=e;return r?t.has(r)?!0:DE(t,r):!1}let $o;function YI(t){$o=t}function KI(){$o=void 0}const De=t=>$o?(...r)=>{try{return t(...r)}catch(i){if($o&&$o(i)===!0)return()=>{};throw i}}:t,ua=[];function pl(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function LE(t,e){const r=new GI;ua.push(r),r.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(i=window[o]);const l=new i(De(u=>{t.onMutation&&t.onMutation(u)===!1||r.processMutations.bind(r)(u)}));return l.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),l}function WI({mousemoveCb:t,sampling:e,doc:r,mirror:i}){if(e.mousemove===!1)return()=>{};const o=typeof e.mousemove=="number"?e.mousemove:50,l=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let u=[],f;const h=Qo(De(b=>{const _=Date.now()-f;t(u.map(S=>(S.timeOffset-=_,S)),b),u=[],f=null}),l),m=De(Qo(De(b=>{const _=pl(b),{clientX:S,clientY:E}=xp(b)?b.changedTouches[0]:b;f||(f=Ru()),u.push({x:S,y:E,id:i.getId(_),timeOffset:Ru()-f}),h(typeof DragEvent<"u"&&b instanceof DragEvent?be.Drag:b instanceof MouseEvent?be.MouseMove:be.TouchMove)}),o,{trailing:!1})),y=[Ht("mousemove",m,r),Ht("touchmove",m,r),Ht("drag",m,r)];return De(()=>{y.forEach(b=>b())})}function XI({mouseInteractionCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,sampling:u}){if(u.mouseInteraction===!1)return()=>{};const f=u.mouseInteraction===!0||u.mouseInteraction===void 0?{}:u.mouseInteraction,h=[];let m=null;const y=b=>_=>{const S=pl(_);if(fn(S,i,o,l,!0))return;let E=null,T=b;if("pointerType"in _){switch(_.pointerType){case"mouse":E=wr.Mouse;break;case"touch":E=wr.Touch;break;case"pen":E=wr.Pen;break}E===wr.Touch?Bt[b]===Bt.MouseDown?T="TouchStart":Bt[b]===Bt.MouseUp&&(T="TouchEnd"):wr.Pen}else xp(_)&&(E=wr.Touch);E!==null?(m=E,(T.startsWith("Touch")&&E===wr.Touch||T.startsWith("Mouse")&&E===wr.Mouse)&&(E=null)):Bt[b]===Bt.Click&&(E=m,m=null);const A=xp(_)?_.changedTouches[0]:_;if(!A)return;const U=r.getId(S),{clientX:z,clientY:R}=A;De(t)({type:Bt[T],id:U,x:z,y:R,...E!==null&&{pointerType:E}})};return Object.keys(Bt).filter(b=>Number.isNaN(Number(b))&&!b.endsWith("_Departed")&&f[b]!==!1).forEach(b=>{let _=va(b);const S=y(b);if(window.PointerEvent)switch(Bt[b]){case Bt.MouseDown:case Bt.MouseUp:_=_.replace("mouse","pointer");break;case Bt.TouchStart:case Bt.TouchEnd:return}h.push(Ht(_,S,e))}),De(()=>{h.forEach(b=>b())})}function UE({scrollCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,sampling:u}){const f=De(Qo(De(h=>{const m=pl(h);if(!m||fn(m,i,o,l,!0))return;const y=r.getId(m);if(m===e&&e.defaultView){const b=kE(e.defaultView);t({id:y,x:b.left,y:b.top})}else t({id:y,x:m.scrollLeft,y:m.scrollTop})}),u.scroll||100));return Ht("scroll",f,e)}function JI({viewportResizeCb:t},{win:e}){let r=-1,i=-1;const o=De(Qo(De(()=>{const l=AE(),u=OE();(r!==l||i!==u)&&(t({width:Number(u),height:Number(l)}),r=l,i=u)}),200));return Ht("resize",o,e)}const QI=["INPUT","TEXTAREA","SELECT"],S0=new WeakMap;function ZI({inputCb:t,doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,ignoreClass:u,ignoreSelector:f,maskInputOptions:h,maskInputFn:m,sampling:y,userTriggeredOnInput:b,maskTextClass:_,unmaskTextClass:S,maskTextSelector:E,unmaskTextSelector:T}){function A(L){let P=pl(L);const le=L.isTrusted,W=P&&wp(P.tagName);if(W==="OPTION"&&(P=P.parentElement),!P||!W||QI.indexOf(W)<0||fn(P,i,o,l,!0))return;const ee=P;if(ee.classList.contains(u)||f&&ee.matches(f))return;const oe=Nm(P);let he=Ou(ee,W,oe),Te=!1;const ke=Wu({maskInputOptions:h,tagName:W,type:oe}),M=_a(P,_,E,S,T,ke);(oe==="radio"||oe==="checkbox")&&(Te=P.checked),he=Xo({isMasked:M,element:P,value:he,maskInputFn:m}),U(P,b?{text:he,isChecked:Te,userTriggered:le}:{text:he,isChecked:Te});const q=P.name;oe==="radio"&&q&&Te&&e.querySelectorAll(`input[type="radio"][name="${q}"]`).forEach(C=>{if(C!==P){const re=Xo({isMasked:M,element:C,value:Ou(C,W,oe),maskInputFn:m});U(C,b?{text:re,isChecked:!Te,userTriggered:!1}:{text:re,isChecked:!Te})}})}function U(L,P){const le=S0.get(L);if(!le||le.text!==P.text||le.isChecked!==P.isChecked){S0.set(L,P);const W=r.getId(L);De(t)({...P,id:W})}}const R=(y.input==="last"?["change"]:["input","change"]).map(L=>Ht(L,De(A),e)),F=e.defaultView;if(!F)return()=>{R.forEach(L=>L())};const K=F.Object.getOwnPropertyDescriptor(F.HTMLInputElement.prototype,"value"),G=[[F.HTMLInputElement.prototype,"value"],[F.HTMLInputElement.prototype,"checked"],[F.HTMLSelectElement.prototype,"value"],[F.HTMLTextAreaElement.prototype,"value"],[F.HTMLSelectElement.prototype,"selectedIndex"],[F.HTMLOptionElement.prototype,"selected"]];return K&&K.set&&R.push(...G.map(L=>TE(L[0],L[1],{set(){De(A)({target:this,isTrusted:!1})}},!1,F))),De(()=>{R.forEach(L=>L())})}function Nu(t){const e=[];function r(i,o){if(Gc("CSSGroupingRule")&&i.parentRule instanceof CSSGroupingRule||Gc("CSSMediaRule")&&i.parentRule instanceof CSSMediaRule||Gc("CSSSupportsRule")&&i.parentRule instanceof CSSSupportsRule||Gc("CSSConditionRule")&&i.parentRule instanceof CSSConditionRule){const u=Array.from(i.parentRule.cssRules).indexOf(i);o.unshift(u)}else if(i.parentStyleSheet){const u=Array.from(i.parentStyleSheet.cssRules).indexOf(i);o.unshift(u)}return o}return r(t,e)}function ls(t,e,r){let i,o;return t?(t.ownerNode?i=e.getId(t.ownerNode):o=r.getId(t),{styleId:o,id:i}):{}}function eD({styleSheetRuleCb:t,mirror:e,stylesheetManager:r},{win:i}){if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const o=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:De((y,b,_)=>{const[S,E]=_,{id:T,styleId:A}=ls(b,e,r.styleMirror);return(T&&T!==-1||A&&A!==-1)&&t({id:T,styleId:A,adds:[{rule:S,index:E}]}),y.apply(b,_)})});const l=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:De((y,b,_)=>{const[S]=_,{id:E,styleId:T}=ls(b,e,r.styleMirror);return(E&&E!==-1||T&&T!==-1)&&t({id:E,styleId:T,removes:[{index:S}]}),y.apply(b,_)})});let u;i.CSSStyleSheet.prototype.replace&&(u=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:De((y,b,_)=>{const[S]=_,{id:E,styleId:T}=ls(b,e,r.styleMirror);return(E&&E!==-1||T&&T!==-1)&&t({id:E,styleId:T,replace:S}),y.apply(b,_)})}));let f;i.CSSStyleSheet.prototype.replaceSync&&(f=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(f,{apply:De((y,b,_)=>{const[S]=_,{id:E,styleId:T}=ls(b,e,r.styleMirror);return(E&&E!==-1||T&&T!==-1)&&t({id:E,styleId:T,replaceSync:S}),y.apply(b,_)})}));const h={};Vc("CSSGroupingRule")?h.CSSGroupingRule=i.CSSGroupingRule:(Vc("CSSMediaRule")&&(h.CSSMediaRule=i.CSSMediaRule),Vc("CSSConditionRule")&&(h.CSSConditionRule=i.CSSConditionRule),Vc("CSSSupportsRule")&&(h.CSSSupportsRule=i.CSSSupportsRule));const m={};return Object.entries(h).forEach(([y,b])=>{m[y]={insertRule:b.prototype.insertRule,deleteRule:b.prototype.deleteRule},b.prototype.insertRule=new Proxy(m[y].insertRule,{apply:De((_,S,E)=>{const[T,A]=E,{id:U,styleId:z}=ls(S.parentStyleSheet,e,r.styleMirror);return(U&&U!==-1||z&&z!==-1)&&t({id:U,styleId:z,adds:[{rule:T,index:[...Nu(S),A||0]}]}),_.apply(S,E)})}),b.prototype.deleteRule=new Proxy(m[y].deleteRule,{apply:De((_,S,E)=>{const[T]=E,{id:A,styleId:U}=ls(S.parentStyleSheet,e,r.styleMirror);return(A&&A!==-1||U&&U!==-1)&&t({id:A,styleId:U,removes:[{index:[...Nu(S),T]}]}),_.apply(S,E)})})}),De(()=>{i.CSSStyleSheet.prototype.insertRule=o,i.CSSStyleSheet.prototype.deleteRule=l,u&&(i.CSSStyleSheet.prototype.replace=u),f&&(i.CSSStyleSheet.prototype.replaceSync=f),Object.entries(h).forEach(([y,b])=>{b.prototype.insertRule=m[y].insertRule,b.prototype.deleteRule=m[y].deleteRule})})}function BE({mirror:t,stylesheetManager:e},r){let i=null;r.nodeName==="#document"?i=t.getId(r):i=t.getId(r.host);const o=r.nodeName==="#document"?r.defaultView?.Document:r.ownerDocument?.defaultView?.ShadowRoot,l=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return i===null||i===-1||!o||!l?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){return l.get?.call(this)},set(u){const f=l.set?.call(this,u);if(i!==null&&i!==-1)try{e.adoptStyleSheets(u,i)}catch{}return f}}),De(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function tD({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:r,stylesheetManager:i},{win:o}){const l=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(l,{apply:De((f,h,m)=>{const[y,b,_]=m;if(r.has(y))return l.apply(h,[y,b,_]);const{id:S,styleId:E}=ls(h.parentRule?.parentStyleSheet,e,i.styleMirror);return(S&&S!==-1||E&&E!==-1)&&t({id:S,styleId:E,set:{property:y,value:b,priority:_},index:Nu(h.parentRule)}),f.apply(h,m)})});const u=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:De((f,h,m)=>{const[y]=m;if(r.has(y))return u.apply(h,[y]);const{id:b,styleId:_}=ls(h.parentRule?.parentStyleSheet,e,i.styleMirror);return(b&&b!==-1||_&&_!==-1)&&t({id:b,styleId:_,remove:{property:y},index:Nu(h.parentRule)}),f.apply(h,m)})}),De(()=>{o.CSSStyleDeclaration.prototype.setProperty=l,o.CSSStyleDeclaration.prototype.removeProperty=u})}function nD({mediaInteractionCb:t,blockClass:e,blockSelector:r,unblockSelector:i,mirror:o,sampling:l,doc:u}){const f=De(m=>Qo(De(y=>{const b=pl(y);if(!b||fn(b,e,r,i,!0))return;const{currentTime:_,volume:S,muted:E,playbackRate:T}=b;t({type:m,id:o.getId(b),currentTime:_,volume:S,muted:E,playbackRate:T})}),l.media||500)),h=[Ht("play",f(sa.Play),u),Ht("pause",f(sa.Pause),u),Ht("seeked",f(sa.Seeked),u),Ht("volumechange",f(sa.VolumeChange),u),Ht("ratechange",f(sa.RateChange),u)];return De(()=>{h.forEach(m=>m())})}function rD({fontCb:t,doc:e}){const r=e.defaultView;if(!r)return()=>{};const i=[],o=new WeakMap,l=r.FontFace;r.FontFace=function(h,m,y){const b=new l(h,m,y);return o.set(b,{family:h,buffer:typeof m!="string",descriptors:y,fontSource:typeof m=="string"?m:JSON.stringify(Array.from(new Uint8Array(m)))}),b};const u=Mm(e.fonts,"add",function(f){return function(h){return Ju(De(()=>{const m=o.get(h);m&&(t(m),o.delete(h))}),0),f.apply(this,[h])}});return i.push(()=>{r.FontFace=l}),i.push(u),De(()=>{i.forEach(f=>f())})}function sD(t){const{doc:e,mirror:r,blockClass:i,blockSelector:o,unblockSelector:l,selectionCb:u}=t;let f=!0;const h=De(()=>{const m=e.getSelection();if(!m||f&&m?.isCollapsed)return;f=m.isCollapsed||!1;const y=[],b=m.rangeCount||0;for(let _=0;_<b;_++){const S=m.getRangeAt(_),{startContainer:E,startOffset:T,endContainer:A,endOffset:U}=S;fn(E,i,o,l,!0)||fn(A,i,o,l,!0)||y.push({start:r.getId(E),startOffset:T,end:r.getId(A),endOffset:U})}u({ranges:y})});return h(),Ht("selectionchange",h)}function iD({doc:t,customElementCb:e}){const r=t.defaultView;return!r||!r.customElements?()=>{}:Mm(r.customElements,"define",function(o){return function(l,u,f){try{e({define:{name:l}})}catch{}return o.apply(this,[l,u,f])}})}function aD(t,e={}){const r=t.doc.defaultView;if(!r)return()=>{};let i;t.recordDOM&&(i=LE(t,t.doc));const o=WI(t),l=XI(t),u=UE(t),f=JI(t,{win:r}),h=ZI(t),m=nD(t);let y=()=>{},b=()=>{},_=()=>{},S=()=>{};t.recordDOM&&(y=eD(t,{win:r}),b=BE(t,t.doc),_=tD(t,{win:r}),t.collectFonts&&(S=rD(t)));const E=sD(t),T=iD(t),A=[];for(const U of t.plugins)A.push(U.observer(U.callback,r,U.options));return De(()=>{ua.forEach(U=>U.reset()),i?.disconnect(),o(),l(),u(),f(),h(),m(),y(),b(),_(),S(),E(),T(),A.forEach(U=>U())})}function Gc(t){return typeof window[t]<"u"}function Vc(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Ap{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,r,i,o){const l=i||this.getIdToRemoteIdMap(e),u=o||this.getRemoteIdToIdMap(e);let f=l.get(r);return f||(f=this.generateIdFn(),l.set(r,f),u.set(f,r)),f}getIds(e,r){const i=this.getIdToRemoteIdMap(e),o=this.getRemoteIdToIdMap(e);return r.map(l=>this.getId(e,l,i,o))}getRemoteId(e,r,i){const o=i||this.getRemoteIdToIdMap(e);if(typeof r!="number")return r;const l=o.get(r);return l||-1}getRemoteIds(e,r){const i=this.getRemoteIdToIdMap(e);return r.map(o=>this.getRemoteId(e,o,i))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let r=this.iframeIdToRemoteIdMap.get(e);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(e,r)),r}getRemoteIdToIdMap(e){let r=this.iframeRemoteIdToIdMap.get(e);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(e,r)),r}}class oD{constructor(){this.crossOriginIframeMirror=new Ap(jm),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class lD{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ap(jm),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ap(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,r){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const i=Dm(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}handleMessage(e){const r=e;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!e.source)return;const o=this.crossOriginIframeMap.get(e.source);if(!o)return;const l=this.transformCrossOriginEvent(o,r.data.event);l&&this.wrappedEmit(l,r.data.isCheckout)}transformCrossOriginEvent(e,r){switch(r.type){case xe.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(r.data.node,e);const i=r.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(r.data.node,i),{timestamp:r.timestamp,type:xe.IncrementalSnapshot,data:{source:be.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case xe.Meta:case xe.Load:case xe.DomContentLoaded:return!1;case xe.Plugin:return r;case xe.Custom:return this.replaceIds(r.data.payload,e,["id","parentId","previousId","nextId"]),r;case xe.IncrementalSnapshot:switch(r.data.source){case be.Mutation:return r.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);const o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(i.node,o)}),r.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),r.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),r.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case be.Drag:case be.TouchMove:case be.MouseMove:return r.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case be.ViewportResize:return!1;case be.MediaInteraction:case be.MouseInteraction:case be.Scroll:case be.CanvasMutation:case be.Input:return this.replaceIds(r.data,e,["id"]),r;case be.StyleSheetRule:case be.StyleDeclaration:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleId"]),r;case be.Font:return r;case be.Selection:return r.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),r;case be.AdoptedStyleSheet:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleIds"]),r.data.styles?.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),r}}return!1}replace(e,r,i,o){for(const l of o)!Array.isArray(r[l])&&typeof r[l]!="number"||(Array.isArray(r[l])?r[l]=e.getIds(i,r[l]):r[l]=e.getId(i,r[l]));return r}replaceIds(e,r,i){return this.replace(this.crossOriginIframeMirror,e,r,i)}replaceStyleIds(e,r,i){return this.replace(this.crossOriginIframeStyleMirror,e,r,i)}replaceIdOnNode(e,r){this.replaceIds(e,r,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(i=>{this.replaceIdOnNode(i,r)})}patchRootIdOnNode(e,r){e.type!==gt.Document&&!e.rootId&&(e.rootId=r),"childNodes"in e&&e.childNodes.forEach(i=>{this.patchRootIdOnNode(i,r)})}}class cD{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class uD{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,r){if(!Po(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const i=LE({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>i.disconnect()),this.restoreHandlers.push(UE({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Ju(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(BE({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const r=Dm(e),i=qI(e);!r||!i||this.patchAttachShadow(i.Element,r)}patchAttachShadow(e,r){const i=this;this.restoreHandlers.push(Mm(e.prototype,"attachShadow",function(o){return function(l){const u=o.call(this,l);return this.shadowRoot&&IE(this)&&i.addShadowRoot(this.shadowRoot,r),u}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var w0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yc=0;Yc<w0.length;Yc++)dD[w0.charCodeAt(Yc)]=Yc;class E0{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class fD{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new BI,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,r){if(e.length===0)return;const i={id:r,styleIds:[]},o=[];for(const l of e){let u;this.styleMirror.has(l)?u=this.styleMirror.getId(l):(u=this.styleMirror.add(l),o.push({styleId:u,rules:Array.from(l.rules||CSSRule,(f,h)=>({rule:yE(f),index:h}))})),i.styleIds.push(u)}o.length>0&&(i.styles=o),this.adoptedStyleSheetCb(i)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class hD{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,r){const i=this.nodeMap.get(e);return i&&Array.from(i).some(o=>o!==r)}add(e,r){this.active||(this.active=!0,PI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(r))}destroy(){}}let ot,ju;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=t.contentWindow?.Array.from||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const Un=dI();function Or(t={}){const{emit:e,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:o="rr-block",blockSelector:l=null,unblockSelector:u=null,ignoreClass:f="rr-ignore",ignoreSelector:h=null,maskAllText:m=!1,maskTextClass:y="rr-mask",unmaskTextClass:b=null,maskTextSelector:_=null,unmaskTextSelector:S=null,inlineStylesheet:E=!0,maskAllInputs:T,maskInputOptions:A,slimDOMOptions:U,maskAttributeFn:z,maskInputFn:R,maskTextFn:F,maxCanvasSize:K=null,packFn:G,sampling:L={},dataURLOptions:P={},mousemoveWait:le,recordDOM:W=!0,recordCanvas:ee=!1,recordCrossOriginIframes:oe=!1,recordAfter:he=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:Te=!1,collectFonts:ke=!1,inlineImages:M=!1,plugins:q,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:re=new Set([]),errorHandler:V,onMutation:ve,getCanvasManager:ue}=t;YI(V);const X=oe?window.parent===window:!0;let ge=!1;if(!X)try{window.parent.document&&(ge=!1)}catch{ge=!0}if(X&&!e)throw new Error("emit function is required");if(!X&&!ge)return()=>{};le!==void 0&&L.mousemove===void 0&&(L.mousemove=le),Un.reset();const qe=T===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:A!==void 0?A:{},Et=U===!0||U==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:U==="all",headMetaDescKeywords:U==="all"}:U||{};UI();let Ue,$t=0;const jt=je=>{for(const Lt of q||[])Lt.eventProcessor&&(je=Lt.eventProcessor(je));return G&&!ge&&(je=G(je)),je};ot=(je,Lt)=>{const Ae=je;if(Ae.timestamp=Ru(),ua[0]?.isFrozen()&&Ae.type!==xe.FullSnapshot&&!(Ae.type===xe.IncrementalSnapshot&&Ae.data.source===be.Mutation)&&ua.forEach(yt=>yt.unfreeze()),X)e?.(jt(Ae),Lt);else if(ge){const yt={type:"rrweb",event:jt(Ae),origin:window.location.origin,isCheckout:Lt};window.parent.postMessage(yt,"*")}if(Ae.type===xe.FullSnapshot)Ue=Ae,$t=0;else if(Ae.type===xe.IncrementalSnapshot){if(Ae.data.source===be.Mutation&&Ae.data.isAttachIframe)return;$t++;const yt=i&&$t>=i,ye=r&&Ue&&Ae.timestamp-Ue.timestamp>r;(yt||ye)&&ws(!0)}};const qt=je=>{ot({type:xe.IncrementalSnapshot,data:{source:be.Mutation,...je}})},jn=je=>ot({type:xe.IncrementalSnapshot,data:{source:be.Scroll,...je}}),Yn=je=>ot({type:xe.IncrementalSnapshot,data:{source:be.CanvasMutation,...je}}),vl=je=>ot({type:xe.IncrementalSnapshot,data:{source:be.AdoptedStyleSheet,...je}}),Dt=new fD({mutationCb:qt,adoptedStyleSheetCb:vl}),Mn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new oD:new lD({mirror:Un,mutationCb:qt,stylesheetManager:Dt,recordCrossOriginIframes:oe,wrappedEmit:ot});for(const je of q||[])je.getMirror&&je.getMirror({nodeMirror:Un,crossOriginIframeMirror:Mn.crossOriginIframeMirror,crossOriginIframeStyleMirror:Mn.crossOriginIframeStyleMirror});const _s=new hD,za=mD(ue,{mirror:Un,win:window,mutationCb:je=>ot({type:xe.IncrementalSnapshot,data:{source:be.CanvasMutation,...je}}),recordCanvas:ee,blockClass:o,blockSelector:l,unblockSelector:u,maxCanvasSize:K,sampling:L.canvas,dataURLOptions:P,errorHandler:V}),Ss=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new cD:new uD({mutationCb:qt,scrollCb:jn,bypassOptions:{onMutation:ve,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:m,maskTextClass:y,unmaskTextClass:b,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:E,maskInputOptions:qe,dataURLOptions:P,maskAttributeFn:z,maskTextFn:F,maskInputFn:R,recordCanvas:ee,inlineImages:M,sampling:L,slimDOMOptions:Et,iframeManager:Mn,stylesheetManager:Dt,canvasManager:za,keepIframeSrcFn:C,processedNodeManager:_s,ignoreCSSAttributes:re},mirror:Un}),ws=(je=!1)=>{if(!W)return;ot({type:xe.Meta,data:{href:window.location.href,width:OE(),height:AE()}},je),Dt.reset(),Ss.init(),ua.forEach(Ae=>Ae.lock());const Lt=DI(document,{mirror:Un,blockClass:o,blockSelector:l,unblockSelector:u,maskAllText:m,maskTextClass:y,unmaskTextClass:b,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:E,maskAllInputs:qe,maskAttributeFn:z,maskInputFn:R,maskTextFn:F,slimDOM:Et,dataURLOptions:P,recordCanvas:ee,inlineImages:M,onSerialize:Ae=>{NE(Ae,Un)&&Mn.addIframe(Ae),jE(Ae,Un)&&Dt.trackLinkElement(Ae),Tp(Ae)&&Ss.addShadowRoot(Ae.shadowRoot,document)},onIframeLoad:(Ae,yt)=>{Mn.attachIframe(Ae,yt),Ae.contentWindow&&za.addWindow(Ae.contentWindow),Ss.observeAttachShadow(Ae)},onStylesheetLoad:(Ae,yt)=>{Dt.attachLinkElement(Ae,yt)},onBlockedImageLoad:(Ae,yt,{width:ye,height:Es})=>{qt({adds:[],removes:[],texts:[],attributes:[{id:yt.id,attributes:{style:{width:`${ye}px`,height:`${Es}px`}}}]})},keepIframeSrcFn:C,ignoreCSSAttributes:re});if(!Lt)return console.warn("Failed to snapshot the document");ot({type:xe.FullSnapshot,data:{node:Lt,initialOffset:kE(window)}}),ua.forEach(Ae=>Ae.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Dt.adoptStyleSheets(document.adoptedStyleSheets,Un.getId(document))};ju=ws;try{const je=[],Lt=yt=>De(aD)({onMutation:ve,mutationCb:qt,mousemoveCb:(ye,Es)=>ot({type:xe.IncrementalSnapshot,data:{source:Es,positions:ye}}),mouseInteractionCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.MouseInteraction,...ye}}),scrollCb:jn,viewportResizeCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.ViewportResize,...ye}}),inputCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.Input,...ye}}),mediaInteractionCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.MediaInteraction,...ye}}),styleSheetRuleCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.StyleSheetRule,...ye}}),styleDeclarationCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.StyleDeclaration,...ye}}),canvasMutationCb:Yn,fontCb:ye=>ot({type:xe.IncrementalSnapshot,data:{source:be.Font,...ye}}),selectionCb:ye=>{ot({type:xe.IncrementalSnapshot,data:{source:be.Selection,...ye}})},customElementCb:ye=>{ot({type:xe.IncrementalSnapshot,data:{source:be.CustomElement,...ye}})},blockClass:o,ignoreClass:f,ignoreSelector:h,maskAllText:m,maskTextClass:y,unmaskTextClass:b,maskTextSelector:_,unmaskTextSelector:S,maskInputOptions:qe,inlineStylesheet:E,sampling:L,recordDOM:W,recordCanvas:ee,inlineImages:M,userTriggeredOnInput:Te,collectFonts:ke,doc:yt,maskAttributeFn:z,maskInputFn:R,maskTextFn:F,keepIframeSrcFn:C,blockSelector:l,unblockSelector:u,slimDOMOptions:Et,dataURLOptions:P,mirror:Un,iframeManager:Mn,stylesheetManager:Dt,shadowDomManager:Ss,processedNodeManager:_s,canvasManager:za,ignoreCSSAttributes:re,plugins:q?.filter(ye=>ye.observer)?.map(ye=>({observer:ye.observer,options:ye.options,callback:Es=>ot({type:xe.Plugin,data:{plugin:ye.name,payload:Es}})}))||[]},{});Mn.addLoadListener(yt=>{try{je.push(Lt(yt.contentDocument))}catch(ye){console.warn(ye)}});const Ae=()=>{ws(),je.push(Lt(document))};return document.readyState==="interactive"||document.readyState==="complete"?Ae():(je.push(Ht("DOMContentLoaded",()=>{ot({type:xe.DomContentLoaded,data:{}}),he==="DOMContentLoaded"&&Ae()})),je.push(Ht("load",()=>{ot({type:xe.Load,data:{}}),he==="load"&&Ae()},window))),()=>{je.forEach(yt=>yt()),_s.destroy(),ju=void 0,KI()}}catch(je){console.warn(je)}}function pD(t){if(!ju)throw new Error("please take full snapshot after start recording");ju(t)}Or.mirror=Un;Or.takeFullSnapshot=pD;function mD(t,e){try{return t?t(e):new E0}catch{return console.warn("Unable to initialize CanvasManager"),new E0}}var x0;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(x0||(x0={}));const gD=3,yD=5;function Lm(t){return t>9999999999?t:t*1e3}function Dh(t){return t>9999999999?t/1e3:t}function ml(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:xe.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Pn(e,10,1e3)}}),e.category==="console")))}const bD="button,a";function zE(t){return t.closest(bD)||t}function HE(t){const e=PE(t);return!e||!(e instanceof Element)?e:zE(e)}function PE(t){return vD(t)?t.target:t}function vD(t){return typeof t=="object"&&!!t&&"target"in t}let cs;function _D(t){return cs||(cs=[],SD()),cs.push(t),()=>{const e=cs?cs.indexOf(t):-1;e>-1&&cs.splice(e,1)}}function SD(){Qt(Ze,"open",function(t){return function(...e){if(cs)try{cs.forEach(r=>r())}catch{}return t.apply(Ze,e)}})}const wD=new Set([be.Mutation,be.StyleSheetRule,be.StyleDeclaration,be.AdoptedStyleSheet,be.CanvasMutation,be.Selection,be.MediaInteraction]);function ED(t,e,r){t.handleClick(e,r)}class xD{constructor(e,r,i=ml){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scrollTimeout=r.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=i}addListeners(){const e=_D(()=>{this._lastMutation=T0()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,r){if(kD(r,this._ignoreSelector)||!AD(e))return;const i={timestamp:Dh(e.timestamp),clickBreadcrumb:e,clickCount:0,node:r};this._clicks.some(o=>o.node===i.node&&Math.abs(o.timestamp-i.timestamp)<1)||(this._clicks.push(i),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Dh(e)}registerScroll(e=Date.now()){this._lastScroll=Dh(e)}registerClick(e){const r=zE(e);this._handleMultiClick(r)}_handleMultiClick(e){this._getClicks(e).forEach(r=>{r.clickCount++})}_getClicks(e){return this._clicks.filter(r=>r.node===e)}_checkClicks(){const e=[],r=T0();this._clicks.forEach(i=>{!i.mutationAfter&&this._lastMutation&&(i.mutationAfter=i.timestamp<=this._lastMutation?this._lastMutation-i.timestamp:void 0),!i.scrollAfter&&this._lastScroll&&(i.scrollAfter=i.timestamp<=this._lastScroll?this._lastScroll-i.timestamp:void 0),i.timestamp+this._timeout<=r&&e.push(i)});for(const i of e){const o=this._clicks.indexOf(i);o>-1&&(this._generateBreadcrumbs(i),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const r=this._replay,i=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,o=e.mutationAfter&&e.mutationAfter<=this._threshold,l=!i&&!o,{clickCount:u,clickBreadcrumb:f}=e;if(l){const h=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,m=h<this._timeout*1e3?"mutation":"timeout",y={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.slowClickDetected",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),timeAfterClickMs:h,endReason:m,clickCount:u||1}};this._addBreadcrumbEvent(r,y);return}if(u>1){const h={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.multiClick",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),clickCount:u,metric:!0}};this._addBreadcrumbEvent(r,h)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=hl(()=>this._checkClicks(),1e3)}}const TD=["A","BUTTON","INPUT"];function kD(t,e){return!!(!TD.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function AD(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function T0(){return Date.now()/1e3}function OD(t,e){try{if(!CD(e))return;const{source:r}=e.data;if(wD.has(r)&&t.registerMutation(e.timestamp),r===be.Scroll&&t.registerScroll(e.timestamp),RD(e)){const{type:i,id:o}=e.data,l=Or.mirror.getNode(o);l instanceof HTMLElement&&i===Bt.Click&&t.registerClick(l)}}catch{}}function CD(t){return t.type===gD}function RD(t){return t.data.source===be.MouseInteraction}function Qn(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Um=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Um||{});const ND=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function jD(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const r in t)if(ND.has(r)){let i=r;(r==="data-testid"||r==="data-test-id")&&(i="testId"),e[i]=t[r]}return e}const MD=t=>e=>{if(!t.isEnabled())return;const r=ID(e);if(!r)return;const i=e.name==="click",o=i?e.event:void 0;i&&t.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&ED(t.clickDetector,r,HE(e.event)),ml(t,r)};function $E(t,e){const r=Or.mirror.getId(t),i=r&&Or.mirror.getNode(r),o=i&&Or.mirror.getMeta(i),l=o&&LD(o)?o:null;return{message:e,data:l?{nodeId:r,node:{id:r,tagName:l.tagName,textContent:Array.from(l.childNodes).map(u=>u.type===Um.Text&&u.textContent).filter(Boolean).map(u=>u.trim()).join(""),attributes:jD(l.attributes)}}:{}}}function ID(t){const{target:e,message:r}=DD(t);return Qn({category:`ui.${t.name}`,...$E(e,r)})}function DD(t){const e=t.name==="click";let r,i=null;try{i=e?HE(t.event):PE(t.event),r=Zt(i,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:i,message:r}}function LD(t){return t.type===Um.Element}function UD(t,e){if(!t.isEnabled())return;t.updateUserActivity();const r=BD(e);r&&ml(t,r)}function BD(t){const{metaKey:e,shiftKey:r,ctrlKey:i,altKey:o,key:l,target:u}=t;if(!u||zD(u)||!l)return null;const f=e||i||o,h=l.length===1;if(!f&&h)return null;const m=Zt(u,{maxStringLength:200})||"<unknown>",y=$E(u,m);return Qn({category:"ui.keyDown",message:m,data:{...y.data,metaKey:e,shiftKey:r,ctrlKey:i,altKey:o,key:l}})}function zD(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const HD={resource:GD,paint:qD,navigation:FD};function Lh(t,e){return({metric:r})=>void e.replayPerformanceEntries.push(t(r))}function PD(t){return t.map($D).filter(Boolean)}function $D(t){const e=HD[t.entryType];return e?e(t):null}function Sa(t){return((en()||Ze.performance.timeOrigin)+t)/1e3}function qD(t){const{duration:e,entryType:r,name:i,startTime:o}=t,l=Sa(o);return{type:r,name:i,start:l,end:l+e,data:void 0}}function FD(t){const{entryType:e,name:r,decodedBodySize:i,duration:o,domComplete:l,encodedBodySize:u,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,domInteractive:m,loadEventStart:y,loadEventEnd:b,redirectCount:_,startTime:S,transferSize:E,type:T}=t;return o===0?null:{type:`${e}.${T}`,start:Sa(S),end:Sa(l),name:r,data:{size:E,decodedBodySize:i,encodedBodySize:u,duration:o,domInteractive:m,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,loadEventStart:y,loadEventEnd:b,domComplete:l,redirectCount:_}}}function GD(t){const{entryType:e,initiatorType:r,name:i,responseEnd:o,startTime:l,decodedBodySize:u,encodedBodySize:f,responseStatus:h,transferSize:m}=t;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${e}.${r}`,start:Sa(l),end:Sa(o),name:i,data:{size:m,statusCode:h,decodedBodySize:u,encodedBodySize:f}}}function VD(t){const e=t.entries[t.entries.length-1],r=e?.element?[e.element]:void 0;return Bm(t,"largest-contentful-paint",r)}function YD(t){return t.sources!==void 0}function KD(t){const e=[],r=[];for(const i of t.entries)if(YD(i)){const o=[];for(const l of i.sources)if(l.node){r.push(l.node);const u=Or.mirror.getId(l.node);u&&o.push(u)}e.push({value:i.value,nodeIds:o.length?o:void 0})}return Bm(t,"cumulative-layout-shift",r,e)}function WD(t){const e=t.entries[t.entries.length-1],r=e?.target?[e.target]:void 0;return Bm(t,"interaction-to-next-paint",r)}function Bm(t,e,r,i){const o=t.value,l=t.rating,u=Sa(o);return{type:"web-vital",name:e,start:u,end:u,data:{value:o,size:o,rating:l,nodeIds:r?r.map(f=>Or.mirror.getId(f)):void 0,attributions:i}}}function XD(t){function e(o){t.performanceEntries.includes(o)||t.performanceEntries.push(o)}function r({entries:o}){o.forEach(e)}const i=[];return["navigation","paint","resource"].forEach(o=>{i.push(ai(o,r))}),i.push(km(Lh(VD,t)),Tm(Lh(KD,t)),nE(Lh(WD,t))),()=>{i.forEach(o=>o())}}const pe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,JD='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function QD(){const t=new Blob([JD]);return URL.createObjectURL(t)}const k0=["log","warn","error"],mu="[Replay] ";function Uh(t,e="info"){hs({category:"console",data:{logger:"replay"},level:e,message:`${mu}${t}`},{level:e})}function ZD(){let t=!1,e=!1;const r={exception:()=>{},infoTick:()=>{},setConfig:i=>{t=!!i.captureExceptions,e=!!i.traceInternals}};return pe?(k0.forEach(i=>{r[i]=(...o)=>{Y[i](mu,...o),e&&Uh(o.join(""),Hw(i))}}),r.exception=(i,...o)=>{o.length&&r.error&&r.error(...o),Y.error(mu,i),t?pm(i,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):e&&Uh(i,"error")},r.infoTick=(...i)=>{Y.log(mu,...i),e&&setTimeout(()=>Uh(i[0]),0)}):k0.forEach(i=>{r[i]=()=>{}}),r}const me=ZD();class zm extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Rm}.`)}}class qE{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const r=JSON.stringify(e).length;if(this._totalSize+=r,this._totalSize>Rm)throw new zm;this.events.push(e)}finish(){return new Promise(e=>{const r=this.events;this.clear(),e(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(r=>r.timestamp).sort()[0];return e?Lm(e):null}}class eL{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,r)=>{this._worker.addEventListener("message",({data:i})=>{i.success?e():r()},{once:!0}),this._worker.addEventListener("error",i=>{r(i)},{once:!0})}),this._ensureReadyPromise)}destroy(){pe&&me.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,r){const i=this._getAndIncrementId();return new Promise((o,l)=>{const u=({data:f})=>{const h=f;if(h.method===e&&h.id===i){if(this._worker.removeEventListener("message",u),!h.success){pe&&me.error("Error in compression worker: ",h.response),l(new Error("Error in compression worker"));return}o(h.response)}};this._worker.addEventListener("message",u),this._worker.postMessage({id:i,method:e,arg:r})})}_getAndIncrementId(){return this._id++}}class tL{constructor(e){this._worker=new eL(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const r=Lm(e.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);const i=JSON.stringify(e);return this._totalSize+=i.length,this._totalSize>Rm?Promise.reject(new zm):this._sendEventToWorker(i)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{pe&&me.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class nL{constructor(e){this._fallback=new qE,this._compression=new tL(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){pe&&me.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:r,waitForCheckout:i}=this._fallback,o=[];for(const l of e)o.push(this._compression.addEvent(l));this._compression.hasCheckout=r,this._compression.waitForCheckout=i,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(l){pe&&me.exception(l,"Failed to add events when switching buffers.")}}}function rL({useCompression:t,workerUrl:e}){if(t&&window.Worker){const r=sL(e);if(r)return r}return pe&&me.log("Using simple buffer"),new qE}function sL(t){try{const e=t||iL();if(!e)return;pe&&me.log(`Using compression worker${t?` from ${t}`:""}`);const r=new Worker(e);return new nL(r)}catch(e){pe&&me.exception(e,"Failed to create compression worker")}}function iL(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?QD():""}function Hm(){try{return"sessionStorage"in Ze&&!!Ze.sessionStorage}catch{return!1}}function aL(t){oL(),t.session=void 0}function oL(){if(Hm())try{Ze.sessionStorage.removeItem(Om)}catch{}}function FE(t){return t===void 0?!1:Math.random()<t}function Qu(t){if(Hm())try{Ze.sessionStorage.setItem(Om,JSON.stringify(t))}catch{}}function GE(t){const e=Date.now(),r=t.id||gn(),i=t.started||e,o=t.lastActivity||e,l=t.segmentId||0,u=t.sampled,f=t.previousSessionId,h=t.dirty||!1;return{id:r,started:i,lastActivity:o,segmentId:l,sampled:u,previousSessionId:f,dirty:h}}function lL(t,e){return FE(t)?"session":e?"buffer":!1}function A0({sessionSampleRate:t,allowBuffering:e,stickySession:r=!1},{previousSessionId:i}={}){const o=lL(t,e),l=GE({sampled:o,previousSessionId:i});return r&&Qu(l),l}function cL(){if(!Hm())return null;try{const t=Ze.sessionStorage.getItem(Om);if(!t)return null;const e=JSON.parse(t);return pe&&me.infoTick("Loading existing session"),GE(e)}catch{return null}}function Op(t,e,r=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=r}function VE(t,{maxReplayDuration:e,sessionIdleExpire:r,targetTime:i=Date.now()}){return Op(t.started,e,i)||Op(t.lastActivity,r,i)}function YE(t,{sessionIdleExpire:e,maxReplayDuration:r}){return!(!VE(t,{sessionIdleExpire:e,maxReplayDuration:r})||t.sampled==="buffer"&&t.segmentId===0)}function Bh({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:r},i){const o=i.stickySession&&cL();return o?YE(o,{sessionIdleExpire:t,maxReplayDuration:e})?(pe&&me.infoTick("Session in sessionStorage is expired, creating new one..."),A0(i,{previousSessionId:o.id})):o:(pe&&me.infoTick("Creating new session"),A0(i,{previousSessionId:r}))}function uL(t){return t.type===xe.Custom}function Pm(t,e,r){return WE(t,e)?(KE(t,e,r),!0):!1}function dL(t,e,r){return WE(t,e)?KE(t,e,r):Promise.resolve(null)}async function KE(t,e,r){const{eventBuffer:i}=t;if(!i||i.waitForCheckout&&!r)return null;const o=t.recordingMode==="buffer";try{r&&o&&i.clear(),r&&(i.hasCheckout=!0,i.waitForCheckout=!1);const l=t.getOptions(),u=fL(e,l.beforeAddRecordingEvent);return u?await i.addEvent(u):void 0}catch(l){const u=l&&l instanceof zm,f=u?"addEventSizeExceeded":"addEvent",h=Ie();if(h){const m=u?"buffer_overflow":"internal_sdk_error";h.recordDroppedEvent(m,"replay")}if(u&&o)return i.clear(),i.waitForCheckout=!0,null;t.handleException(l),await t.stop({reason:f})}}function WE(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const r=Lm(e.timestamp);return r+t.timeouts.sessionIdlePause<Date.now()?!1:r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(pe&&me.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`),!1):!0}function fL(t,e){try{if(typeof e=="function"&&uL(t))return e(t)}catch(r){return pe&&me.exception(r,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}function $m(t){return!t.type}function Cp(t){return t.type==="transaction"}function hL(t){return t.type==="replay_event"}function O0(t){return t.type==="feedback"}function pL(t){return(e,r)=>{if(!t.isEnabled()||!$m(e)&&!Cp(e))return;const i=r.statusCode;if(!(!i||i<200||i>=300)){if(Cp(e)){mL(t,e);return}gL(t,e)}}}function mL(t,e){const r=t.getContext();e.contexts?.trace?.trace_id&&r.traceIds.size<100&&r.traceIds.add(e.contexts.trace.trace_id)}function gL(t,e){const r=t.getContext();if(e.event_id&&r.errorIds.size<100&&r.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:i}=t.getOptions();typeof i=="function"&&!i(e)||hl(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(o){t.handleException(o)}})}function yL(t){return e=>{!t.isEnabled()||!$m(e)||bL(t,e)}}function bL(t,e){const r=e.exception?.values?.[0]?.value;if(typeof r=="string"&&(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=Qn({category:"replay.hydrate-error",data:{url:Aa()}});ml(t,i)}}function vL(t){const e=Ie();e&&e.on("beforeAddBreadcrumb",r=>_L(t,r))}function _L(t,e){if(!t.isEnabled()||!XE(e))return;const r=SL(e);r&&ml(t,r)}function SL(t){return!XE(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?wL(t):Qn(t)}function wL(t){const e=t.data?.arguments;if(!Array.isArray(e)||e.length===0)return Qn(t);let r=!1;const i=e.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Fc?(r=!0,`${o.slice(0,Fc)}`):o;if(typeof o=="object")try{const l=Pn(o,7);return JSON.stringify(l).length>Fc?(r=!0,`${JSON.stringify(l,null,2).slice(0,Fc)}`):l}catch{}return o});return Qn({...t,data:{...t.data,arguments:i,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function XE(t){return!!t.category}function EL(t,e){return t.type||!t.exception?.values?.length?!1:!!e.originalException?.__rrweb__}function JE(){const t=Ve().getPropagationContext().dsc;t&&delete t.replay_id;const e=Pt();if(e){const r=Mr(e);delete r.replay_id}}function xL(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:xe.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function TL(t,e){return t.recordingMode!=="buffer"||e.message===Cm||!e.exception||e.type?!1:FE(t.getOptions().errorSampleRate)}function kL(t){return Object.assign((e,r)=>{if(!t.isEnabled()||t.isPaused())return e;if(hL(e))return delete e.breadcrumbs,e;if(!$m(e)&&!Cp(e)&&!O0(e))return e;if(!t.checkAndHandleExpiredSession())return JE(),e;if(O0(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),xL(t,e),e;if(EL(e,r)&&!t.getOptions()._experiments.captureExceptions)return pe&&me.log("Ignoring error from rrweb internals",e),null;const o=TL(t,e);if((o||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),o&&t.recordingMode==="buffer"&&t.session?.sampled==="buffer"){const u=t.session;u.dirty=!0,t.getOptions().stickySession&&Qu(u)}return e},{id:"Replay"})}function Zu(t,e){return e.map(({type:r,start:i,end:o,name:l,data:u})=>{const f=t.throttledAddEvent({type:xe.Custom,timestamp:i,data:{tag:"performanceSpan",payload:{op:r,description:l,startTimestamp:i,endTimestamp:o,data:u}}});return typeof f=="string"?Promise.resolve(null):f})}function AL(t){const{from:e,to:r}=t,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:r,data:{previous:e}}}function OL(t){return e=>{if(!t.isEnabled())return;const r=AL(e);r!==null&&(t.getContext().urls.push(r.name),t.triggerUserActivity(),t.addUpdate(()=>(Zu(t,[r]),!1)))}}function CL(t,e){return pe&&t.getOptions()._experiments.traceInternals?!1:yR(e,Ie())}function QE(t,e){t.isEnabled()&&e!==null&&(CL(t,e.name)||t.addUpdate(()=>(Zu(t,[e]),!0)))}function ed(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const r=dE(t);return e.encode(r).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function ZE(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Mu(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const r={...t._meta},i=r.warnings||[];return r.warnings=[...i,e],t._meta=r,t}function ex(t,e){if(!e)return null;const{startTimestamp:r,endTimestamp:i,url:o,method:l,statusCode:u,request:f,response:h}=e;return{type:t,start:r/1e3,end:i/1e3,name:o,data:{method:l,statusCode:u,request:f,response:h}}}function Zo(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function ds(t,e,r){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!r)return{headers:t,size:e};const i={headers:t,size:e},{body:o,warnings:l}=RL(r);return i.body=o,l?.length&&(i._meta={warnings:l}),i}function Rp(t,e){return Object.entries(t).reduce((r,[i,o])=>{const l=i.toLowerCase();return e.includes(l)&&t[i]&&(r[l]=o),r},{})}function RL(t){if(!t||typeof t!="string")return{body:t};const e=t.length>l0,r=NL(t);if(e){const i=t.slice(0,l0);return r?{body:i,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${i}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function NL(t){const e=t[0],r=t[t.length-1];return e==="["&&r==="]"||e==="{"&&r==="}"}function Iu(t,e){const r=jL(t);return kr(r,e)}function jL(t,e=Ze.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(Ze.location.origin))return t;const r=new URL(t,e);if(r.origin!==new URL(e).origin)return t;const i=r.href;return!t.endsWith("/")&&i.endsWith("/")?i.slice(0,-1):i}async function ML(t,e,r){try{const i=await DL(t,e,r),o=ex("resource.fetch",i);QE(r.replay,o)}catch(i){pe&&me.exception(i,"Failed to capture fetch breadcrumb")}}function IL(t,e){const{input:r,response:i}=e,o=r?hE(r):void 0,l=ed(o),u=i?ZE(i.headers.get("content-length")):void 0;l!==void 0&&(t.data.request_body_size=l),u!==void 0&&(t.data.response_body_size=u)}async function DL(t,e,r){const i=Date.now(),{startTimestamp:o=i,endTimestamp:l=i}=e,{url:u,method:f,status_code:h=0,request_body_size:m,response_body_size:y}=t.data,b=Iu(u,r.networkDetailAllowUrls)&&!Iu(u,r.networkDetailDenyUrls),_=b?LL(r,e.input,m):Zo(m),S=await UL(b,r,e.response,y);return{startTimestamp:o,endTimestamp:l,url:u,method:f,statusCode:h,request:_,response:S}}function LL({networkCaptureBodies:t,networkRequestHeaders:e},r,i){const o=r?HL(r,e):{};if(!t)return ds(o,i,void 0);const l=hE(r),[u,f]=fE(l,me),h=ds(o,i,u);return f?Mu(h,f):h}async function UL(t,{networkCaptureBodies:e,networkResponseHeaders:r},i,o){if(!t&&o!==void 0)return Zo(o);const l=i?tx(i.headers,r):{};if(!i||!e&&o!==void 0)return ds(l,o,void 0);const[u,f]=await zL(i),h=BL(u,{networkCaptureBodies:e,responseBodySize:o,captureDetails:t,headers:l});return f?Mu(h,f):h}function BL(t,{networkCaptureBodies:e,responseBodySize:r,captureDetails:i,headers:o}){try{const l=t?.length&&r===void 0?ed(t):r;return i?e?ds(o,l,t):ds(o,l,void 0):Zo(l)}catch(l){return pe&&me.exception(l,"Failed to serialize response body"),ds(o,r,void 0)}}async function zL(t){const e=PL(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await $L(e)]}catch(r){return r instanceof Error&&r.message.indexOf("Timeout")>-1?(pe&&me.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(pe&&me.exception(r,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function tx(t,e){const r={};return e.forEach(i=>{t.get(i)&&(r[i]=t.get(i))}),r}function HL(t,e){return t.length===1&&typeof t[0]!="string"?C0(t[0],e):t.length===2?C0(t[1],e):{}}function C0(t,e){if(!t)return{};const r=t.headers;return r?r instanceof Headers?tx(r,e):Array.isArray(r)?{}:Rp(r,e):{}}function PL(t){try{return t.clone()}catch(e){pe&&me.exception(e,"Failed to clone response body")}}function $L(t){return new Promise((e,r)=>{const i=hl(()=>r(new Error("Timeout while trying to read response body")),500);qL(t).then(o=>e(o),o=>r(o)).finally(()=>clearTimeout(i))})}async function qL(t){return await t.text()}async function FL(t,e,r){try{const i=VL(t,e,r),o=ex("resource.xhr",i);QE(r.replay,o)}catch(i){pe&&me.exception(i,"Failed to capture xhr breadcrumb")}}function GL(t,e){const{xhr:r,input:i}=e;if(!r)return;const o=ed(i),l=r.getResponseHeader("content-length")?ZE(r.getResponseHeader("content-length")):WL(r.response,r.responseType);o!==void 0&&(t.data.request_body_size=o),l!==void 0&&(t.data.response_body_size=l)}function VL(t,e,r){const i=Date.now(),{startTimestamp:o=i,endTimestamp:l=i,input:u,xhr:f}=e,{url:h,method:m,status_code:y=0,request_body_size:b,response_body_size:_}=t.data;if(!h)return null;if(!f||!Iu(h,r.networkDetailAllowUrls)||Iu(h,r.networkDetailDenyUrls)){const G=Zo(b),L=Zo(_);return{startTimestamp:o,endTimestamp:l,url:h,method:m,statusCode:y,request:G,response:L}}const S=f[Xs],E=S?Rp(S.request_headers,r.networkRequestHeaders):{},T=Rp(pE(f),r.networkResponseHeaders),[A,U]=r.networkCaptureBodies?fE(u,me):[void 0],[z,R]=r.networkCaptureBodies?YL(f):[void 0],F=ds(E,b,A),K=ds(T,_,z);return{startTimestamp:o,endTimestamp:l,url:h,method:m,statusCode:y,request:U?Mu(F,U):F,response:R?Mu(K,R):K}}function YL(t){const e=[];try{return[t.responseText]}catch(r){e.push(r)}try{return KL(t.response,t.responseType)}catch(r){e.push(r)}return pe&&me.warn("Failed to get xhr response body",...e),[void 0]}function KL(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(r){return pe&&me.exception(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return pe&&me.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function WL(t,e){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return ed(r)}catch{return}}function XL(t){const e=Ie();try{const{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:l,networkResponseHeaders:u}=t.getOptions(),f={replay:t,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:l,networkResponseHeaders:u};e&&e.on("beforeAddBreadcrumb",(h,m)=>JL(f,h,m))}catch{}}function JL(t,e,r){if(e.data)try{QL(e)&&eU(r)&&(GL(e,r),FL(e,r,t)),ZL(e)&&tU(r)&&(IL(e,r),ML(e,r,t))}catch(i){pe&&me.exception(i,"Error when enriching network breadcrumb")}}function QL(t){return t.category==="xhr"}function ZL(t){return t.category==="fetch"}function eU(t){return t?.xhr}function tU(t){return t?.response}function nU(t){const e=Ie();lE(MD(t)),Ku(OL(t)),vL(t),XL(t);const r=kL(t);UC(r),e&&(e.on("beforeSendEvent",yL(t)),e.on("afterSendEvent",pL(t)),e.on("createDsc",i=>{const o=t.getSessionId();o&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(i.replay_id=o)}),e.on("spanStart",i=>{t.lastActiveSpan=i}),e.on("spanEnd",i=>{t.lastActiveSpan=i}),e.on("beforeSendFeedback",async(i,o)=>{const l=t.getSessionId();o?.includeReplay&&t.isEnabled()&&l&&i.contexts?.feedback&&(i.contexts.feedback.source==="api"&&await t.sendBufferedReplayOrFlush(),i.contexts.feedback.replay_id=l)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}async function rU(t){try{return Promise.all(Zu(t,[sU(Ze.performance.memory)]))}catch{return[]}}function sU(t){const{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:i}=t,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:i}}}}function iU(t,e,r){return ER(t,e,{...r,setTimeoutImpl:hl})}const Kc=Le.navigator;function aU(){return/iPhone|iPad|iPod/i.test(Kc?.userAgent??"")||/Macintosh/i.test(Kc?.userAgent??"")&&Kc?.maxTouchPoints&&Kc?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function oU(t){let e=!1;return(r,i)=>{if(!t.checkAndHandleExpiredSession()){pe&&me.warn("Received replay event after session expired.");return}const o=i||!e;e=!0,t.clickDetector&&OD(t.clickDetector,r),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&o&&t.setInitialState(),!Pm(t,r,o))return!0;if(!o)return!1;const l=t.session;if(cU(t,o),t.recordingMode==="buffer"&&l&&t.eventBuffer&&!l.dirty){const u=t.eventBuffer.getEarliestTimestamp();u&&(pe&&me.log(`Updating session start time to earliest event in buffer to ${new Date(u)}`),l.started=u,t.getOptions().stickySession&&Qu(l))}return l?.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}function lU(t){const e=t.getOptions();return{type:xe.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function cU(t,e){!e||!t.session||t.session.segmentId!==0||Pm(t,lU(t),!1)}function uU(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function dU(t,e,r,i){return bs(hw(t,um(t),i,r),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function fU({recordingData:t,headers:e}){let r;const i=`${JSON.stringify(e)}
`;if(typeof t=="string")r=`${i}${t}`;else{const l=new TextEncoder().encode(i);r=new Uint8Array(l.length+t.length),r.set(l),r.set(t,l.length)}return r}async function hU({client:t,scope:e,replayId:r,event:i}){const o=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,l={event_id:r,integrations:o};t.emit("preprocessEvent",i,l);const u=await vw(t.getOptions(),i,l,e,t,nr());if(!u)return null;t.emit("postprocessEvent",u,l),u.platform=u.platform||"javascript";const f=t.getSdkMetadata(),{name:h,version:m,settings:y}=f?.sdk||{};return u.sdk={...u.sdk,name:h||"sentry.javascript.unknown",version:m||"0.0.0",settings:y},u}async function pU({recordingData:t,replayId:e,segmentId:r,eventContext:i,timestamp:o,session:l}){const u=fU({recordingData:t,headers:{segment_id:r}}),{urls:f,errorIds:h,traceIds:m,initialTimestamp:y}=i,b=Ie(),_=Ve(),S=b?.getTransport(),E=b?.getDsn();if(!b||!S||!E||!l.sampled)return Promise.resolve({});const T={type:FM,replay_start_timestamp:y/1e3,timestamp:o/1e3,error_ids:h,trace_ids:m,urls:f,replay_id:e,segment_id:r,replay_type:l.sampled},A=await hU({scope:_,client:b,replayId:e,event:T});if(!A)return b.recordDroppedEvent("event_processor","replay"),pe&&me.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete A.sdkProcessingMetadata;const U=dU(A,u,E,b.getOptions().tunnel);let z;try{z=await S.send(U)}catch(F){const K=new Error(Cm);try{K.cause=F}catch{}throw K}if(typeof z.statusCode=="number"&&(z.statusCode<200||z.statusCode>=300))throw new nx(z.statusCode);const R=Uw({},z);if(Lw(R,"replay"))throw new qm(R);return z}class nx extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class qm extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function rx(t,e={count:0,interval:XM}){const{recordingData:r,onError:i}=t;if(r.length)try{return await pU(t),!0}catch(o){if(o instanceof nx||o instanceof qm)throw o;if(Sw("Replays",{_retryCount:e.count}),i&&i(o),e.count>=JM){const l=new Error(`${Cm} - max retries exceeded`);try{l.cause=o}catch{}throw l}return e.interval*=++e.count,new Promise((l,u)=>{hl(async()=>{try{await rx(t,e),l(!0)}catch(f){u(f)}},e.interval)})}}const sx="__THROTTLED",mU="__SKIPPED";function gU(t,e,r){const i=new Map,o=f=>{const h=f-r;i.forEach((m,y)=>{y<h&&i.delete(y)})},l=()=>[...i.values()].reduce((f,h)=>f+h,0);let u=!1;return(...f)=>{const h=Math.floor(Date.now()/1e3);if(o(h),l()>=e){const y=u;return u=!0,y?mU:sx}u=!1;const m=i.get(h)||0;return i.set(h,m+1),t(...f)}}class yU{constructor({options:e,recordingOptions:r}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:GM,sessionIdleExpire:VM},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=e,this._debouncedFlush=iU(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=gU((u,f)=>dL(this,u,f),300,5);const{slowClickTimeout:i,slowClickIgnoreSelectors:o}=this.getOptions(),l=i?{threshold:Math.min(QM,i),timeout:i,scrollTimeout:ZM,ignoreSelector:o?o.join(","):""}:void 0;if(l&&(this.clickDetector=new xD(this,l)),pe){const u=e._experiments;me.setConfig({captureExceptions:!!u.captureExceptions,traceInternals:!!u.traceInternals})}this._handleVisibilityChange=()=>{Ze.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const u=Qn({category:"ui.blur"});this._doChangeToBackgroundTasks(u)},this._handleWindowFocus=()=>{const u=Qn({category:"ui.focus"});this._doChangeToForegroundTasks(u)},this._handleKeyboardEvent=u=>{UD(this,u)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){pe&&me.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:r,sessionSampleRate:i}=this._options,o=r<=0&&i<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(e),!this.session){pe&&me.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",pe&&me.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){pe&&me.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=Bh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in buffer mode");const e=Bh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Or({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:WM}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:oU(this),...aU(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{pe&&me.log(`Stopping Replay${r?` triggered by ${r}`:""}`),JE(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,aL(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pe&&me.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),pe&&me.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const r=Date.now();pe&&me.log("Converting buffer to session"),await this.flushImmediate();const i=this.stopRecording();!e||!i||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const r=e();this.recordingMode==="buffer"||!this._isEnabled||r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){if(!(e&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Op(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${Ze.location.pathname}${Ze.location.hash}${Ze.location.search}`,r=`${Ze.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(e,r){const i=this._throttledAddEvent(e,r);if(i===sx){const o=Qn({category:"replay.throttled"});this.addUpdate(()=>!Pm(this,{type:yD,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return i}getCurrentRoute(){const e=this.lastActiveSpan||Pt(),r=e&&It(e),o=(r&&Be(r).data||{})[Gn];if(!(!r||!o||!["route","custom"].includes(o)))return Be(r).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=rL({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const r=this._options.errorSampleRate>0,i=Bh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=i}_checkSession(){if(!this.session)return!1;const e=this.session;return YE(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Ze.document.addEventListener("visibilitychange",this._handleVisibilityChange),Ze.addEventListener("blur",this._handleWindowBlur),Ze.addEventListener("focus",this._handleWindowFocus),Ze.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(nU(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=XD(this)}_removeListeners(){try{Ze.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Ze.removeEventListener("blur",this._handleWindowBlur),Ze.removeEventListener("focus",this._handleWindowFocus),Ze.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||VE(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){pe&&me.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:xe.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=PD(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const r=this._context.initialTimestamp/1e3;e=e.filter(i=>i.start>=r)}return Promise.all(Zu(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:r}=this;if(!e||!r||this._requiresManualStart||e.segmentId)return;const i=r.getEarliestTimestamp();i&&i<this._context.initialTimestamp&&(this._context.initialTimestamp=i)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){pe&&me.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await rU(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const l=await this.eventBuffer.finish();await rx({replayId:e,recordingData:l,segmentId:o,eventContext:i,session:this.session,timestamp:r,onError:u=>this.handleException(u)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const i=Ie();if(i){const o=r instanceof qm?"ratelimit_backoff":"send_error";i.recordDroppedEvent(o,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){pe&&me.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,o=Date.now()-r;this._debouncedFlush.cancel();const l=o<this._options.minReplayDuration,u=o>this._options.maxReplayDuration+5e3;if(l||u){pe&&me.log(`Session duration (${Math.floor(o/1e3)}s) is too ${l?"short":"long"}, not sending replay.`),l&&this._debouncedFlush();return}const f=this.eventBuffer;f&&this.session.segmentId===0&&!f.hasCheckout&&pe&&me.log("Flushing initial segment without checkout.");const h=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(m){this.handleException(m)}finally{this._flushLock=void 0,h&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Qu(this.session)}_onMutationHandler(e){const{ignoreMutations:r}=this._options._experiments;if(r?.length&&e.some(f=>{const h=uU(f.target),m=r.join(",");return h?.matches(m)}))return!1;const i=e.length,o=this._options.mutationLimit,l=this._options.mutationBreadcrumbLimit,u=o&&i>o;if(i>l||u){const f=Qn({category:"replay.mutations",data:{count:i,limit:u}});this._createCustomBreadcrumb(f)}return u?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Io(t,e){return[...t,...e].join(",")}function bU({mask:t,unmask:e,block:r,unblock:i,ignore:o}){const l=["base","iframe[srcdoc]:not([src])"],u=Io(t,[".sentry-mask","[data-sentry-mask]"]),f=Io(e,[]);return{maskTextSelector:u,unmaskTextSelector:f,blockSelector:Io(r,[".sentry-block","[data-sentry-block]",...l]),unblockSelector:Io(i,[]),ignoreSelector:Io(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function vU({el:t,key:e,maskAttributes:r,maskAllText:i,privacyOptions:o,value:l}){return!i||o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)?l:r.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?l.replace(/[\S]/g,"*"):l}const R0='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',_U=["content-length","content-type","accept"];let N0=!1;const SU=(t=>new wU(t));class wU{constructor({flushMinDelay:e=YM,flushMaxDelay:r=KM,minReplayDuration:i=eI,maxReplayDuration:o=c0,stickySession:l=!0,useCompression:u=!0,workerUrl:f,_experiments:h={},maskAllText:m=!0,maskAllInputs:y=!0,blockAllMedia:b=!0,mutationBreadcrumbLimit:_=750,mutationLimit:S=1e4,slowClickTimeout:E=7e3,slowClickIgnoreSelectors:T=[],networkDetailAllowUrls:A=[],networkDetailDenyUrls:U=[],networkCaptureBodies:z=!0,networkRequestHeaders:R=[],networkResponseHeaders:F=[],mask:K=[],maskAttributes:G=["title","placeholder","aria-label"],unmask:L=[],block:P=[],unblock:le=[],ignore:W=[],maskFn:ee,beforeAddRecordingEvent:oe,beforeErrorSampling:he,onError:Te}={}){this.name="Replay";const ke=bU({mask:K,unmask:L,block:P,unblock:le,ignore:W});if(this._recordingOptions={maskAllInputs:y,maskAllText:m,maskInputOptions:{password:!0},maskTextFn:ee,maskInputFn:ee,maskAttributeFn:(M,q,C)=>vU({maskAttributes:G,maskAllText:m,privacyOptions:ke,key:M,value:q,el:C}),...ke,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:M=>{try{M.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!h.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:r,minReplayDuration:Math.min(i,tI),maxReplayDuration:Math.min(o,c0),stickySession:l,useCompression:u,workerUrl:f,blockAllMedia:b,maskAllInputs:y,maskAllText:m,mutationBreadcrumbLimit:_,mutationLimit:S,slowClickTimeout:E,slowClickIgnoreSelectors:T,networkDetailAllowUrls:A,networkDetailDenyUrls:U,networkCaptureBodies:z,networkRequestHeaders:j0(R),networkResponseHeaders:j0(F),beforeAddRecordingEvent:oe,beforeErrorSampling:he,onError:Te,_experiments:h},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${R0}`:R0,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&hp())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return N0}set _isInitialized(e){N0=e}afterAllSetup(e){!hp()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){if(this._replay?.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const r=EU(this._initialOptions,e);this._replay=new yU({options:r,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const r=e.getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}}function EU(t,e){const r=e.getOptions(),i={sessionSampleRate:0,errorSampleRate:0,...t},o=si(r.replaysSessionSampleRate),l=si(r.replaysOnErrorSampleRate);return o==null&&l==null&&li(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(i.sessionSampleRate=o),l!=null&&(i.errorSampleRate=l),i}function j0(t){return[..._U,...t.map(e=>e.toLowerCase())]}function xU(t){return t.split(",").some(e=>e.trim().startsWith("sentry-"))}function ix(t){try{return new URL(t,ze.location.origin).href}catch{return}}function TU(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function ax(t){try{return new Headers(t)}catch{return}}const M0=new WeakMap,zh=new Map,ox={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function kU(t,e){const{traceFetch:r,traceXHR:i,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:l,enableHTTPTimings:u,tracePropagationTargets:f,onRequestSpanStart:h,onRequestSpanEnd:m}={...ox,...e},y=typeof l=="function"?l:E=>!0,b=E=>AU(E,f),_={},S=t.getOptions().propagateTraceparent;r&&(t.addEventProcessor(E=>(E.type==="transaction"&&E.spans&&E.spans.forEach(T=>{if(T.op==="http.client"){const A=zh.get(T.span_id);A&&(T.timestamp=A/1e3,zh.delete(T.span_id))}}),E)),o&&sN(E=>{if(E.response){const T=M0.get(E.response);T&&E.endTimestamp&&zh.set(T,E.endTimestamp)}}),Fw(E=>{const T=KR(E,y,b,_,{propagateTraceparent:S,onRequestSpanEnd:m});if(E.response&&E.fetchData.__span&&M0.set(E.response,E.fetchData.__span),T){const A=ix(E.fetchData.url),U=A?ni(A).host:void 0;T.setAttributes({"http.url":A,"server.address":U}),u&&I0(T),h?.(T,{headers:E.headers})}})),i&&uE(E=>{const T=OU(E,y,b,_,S,m);T&&(u&&I0(T),h?.(T,{headers:ax(E.xhr.__sentry_xhr_v3__?.request_headers)}))})}function I0(t){const{url:e}=Be(t).data;if(!e||typeof e!="string")return;const r=ai("resource",({entries:i})=>{i.forEach(o=>{TU(o)&&o.name.endsWith(e)&&(t.setAttributes(oE(o)),setTimeout(r))})})}function AU(t,e){const r=Aa();if(r){let i,o;try{i=new URL(t,r),o=new URL(r).origin}catch{return!1}const l=i.origin===o;return e?kr(i.toString(),e)||l&&kr(i.pathname,e):l}else{const i=!!t.match(/^\/(?!\/)/);return e?kr(t,e):i}}function OU(t,e,r,i,o,l){const u=t.xhr,f=u?.[Xs];if(!u||u.__sentry_own_request__||!f)return;const{url:h,method:m}=f,y=Vn()&&e(h);if(t.endTimestamp&&y){const U=u.__sentry_xhr_span_id__;if(!U)return;const z=i[U];z&&f.status_code!==void 0&&(JS(z,f.status_code),z.end(),l?.(z,{headers:ax(pE(u)),error:t.error}),delete i[U]);return}const b=ix(h),_=ni(b||h),S=gR(h),E=!!Pt(),T=y&&E?Na({name:`${m} ${S}`,attributes:{url:h,type:"xhr","http.method":m,"http.url":b,"server.address":_?.host,[wt]:"auto.http.browser",[jr]:"http.client",..._?.search&&{"http.query":_?.search},..._?.hash&&{"http.fragment":_?.hash}}}):new fs;u.__sentry_xhr_span_id__=T.spanContext().spanId,i[u.__sentry_xhr_span_id__]=T,r(h)&&CU(u,Vn()&&E?T:void 0,o);const A=Ie();return A&&A.emit("beforeOutgoingRequestSpan",T,t),T}function CU(t,e,r){const{"sentry-trace":i,baggage:o,traceparent:l}=zw({span:e,propagateTraceparent:r});i&&RU(t,i,o,l)}function RU(t,e,r,i){const o=t.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!t.setRequestHeader))try{if(t.setRequestHeader("sentry-trace",e),i&&!o?.traceparent&&t.setRequestHeader("traceparent",i),r){const l=o?.baggage;(!l||!xU(l))&&t.setRequestHeader("baggage",r)}}catch{}}function NU(){ze.document?ze.document.addEventListener("visibilitychange",()=>{const t=Pt();if(!t)return;const e=It(t);if(ze.document.hidden&&e){const r="cancelled",{op:i,status:o}=Be(e);Nn&&Y.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${i}`),o||e.setStatus({code:St,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Nn&&Y.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const jU=3600,lx="sentry_previous_trace",MU="sentry.previous_trace";function IU(t,{linkPreviousTrace:e,consistentTraceSampling:r}){const i=e==="session-storage";let o=i?UU():void 0;t.on("spanStart",u=>{if(It(u)!==u)return;const f=Ve().getPropagationContext();o=DU(o,u,f),i&&LU(o)});let l=!0;r&&t.on("beforeSampling",u=>{if(!o)return;const f=Ve(),h=f.getPropagationContext();if(l&&h.parentSpanId){l=!1;return}f.setPropagationContext({...h,dsc:{...h.dsc,sample_rate:String(o.sampleRate),sampled:String(Np(o.spanContext))},sampleRand:o.sampleRand}),u.parentSampled=Np(o.spanContext),u.parentSampleRate=o.sampleRate,u.spanAttributes={...u.spanAttributes,[WS]:o.sampleRate}})}function DU(t,e,r){const i=Be(e);function o(){try{return Number(r.dsc?.sample_rate)??Number(i.data?.[im])}catch{return 0}}const l={spanContext:e.spanContext(),startTimestamp:i.start_timestamp,sampleRate:o(),sampleRand:r.sampleRand};if(!t)return l;const u=t.spanContext;return u.traceId===i.trace_id?t:(Date.now()/1e3-t.startTimestamp<=jU&&(Nn&&Y.log(`Adding previous_trace ${u} link to span ${{op:i.op,...e.spanContext()}}`),e.addLink({context:u,attributes:{[cO]:"previous_trace"}}),e.setAttribute(MU,`${u.traceId}-${u.spanId}-${Np(u)?1:0}`)),l)}function LU(t){try{ze.sessionStorage.setItem(lx,JSON.stringify(t))}catch(e){Nn&&Y.warn("Could not store previous trace in sessionStorage",e)}}function UU(){try{const t=ze.sessionStorage?.getItem(lx);return JSON.parse(t)}catch{return}}function Np(t){return t.traceFlags===1}const BU="BrowserTracing",zU={...du,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...ox},HU=((t={})=>{const e={name:void 0,source:void 0},r=ze.document,{enableInp:i,enableElementTiming:o,enableLongTask:l,enableLongAnimationFrame:u,_experiments:{enableInteractions:f,enableStandaloneClsSpans:h,enableStandaloneLcpSpans:m},beforeStartSpan:y,idleTimeout:b,finalTimeout:_,childSpanTimeout:S,markBackgroundSpan:E,traceFetch:T,traceXHR:A,trackFetchStreamPerformance:U,shouldCreateSpanForRequest:z,enableHTTPTimings:R,ignoreResourceSpans:F,ignorePerformanceApiSpans:K,instrumentPageLoad:G,instrumentNavigation:L,detectRedirects:P,linkPreviousTrace:le,consistentTraceSampling:W,enableReportPageLoaded:ee,onRequestSpanStart:oe,onRequestSpanEnd:he}={...zU,...t};let Te,ke,M;function q(C,re,V=!0){const ve=re.op==="pageload",ue=re.name,X=y?y(re):re,ge=X.attributes||{};if(ue!==X.name&&(ge[Gn]="custom",X.attributes=ge),!V){const Ue=ci();Na({...X,startTime:Ue}).end(Ue);return}e.name=X.name,e.source=ge[Gn];const qe=bw(X,{idleTimeout:b,finalTimeout:_,childSpanTimeout:S,disableAutoFinish:ve,beforeSpanEnd:Ue=>{Te?.(),pj(Ue,{recordClsOnPageloadSpan:!h,recordLcpOnPageloadSpan:!m,ignoreResourceSpans:F,ignorePerformanceApiSpans:K}),L0(C,void 0);const $t=Ve(),jt=$t.getPropagationContext();$t.setPropagationContext({...jt,traceId:qe.spanContext().traceId,sampled:ys(qe),dsc:Mr(Ue)}),ve&&(M=void 0)},trimIdleSpanEndTimestamp:!ee});ve&&ee&&(M=qe),L0(C,qe);function Et(){r&&["interactive","complete"].includes(r.readyState)&&C.emit("idleSpanEnableAutoFinish",qe)}ve&&!ee&&r&&(r.addEventListener("readystatechange",()=>{Et()}),Et())}return{name:BU,setup(C){if(BO(),Te=oj({recordClsStandaloneSpans:h||!1,recordLcpStandaloneSpans:m||!1,client:C}),i&&zj(),o&&kj(),u&&Le.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?cj():l&&lj(),f&&uj(),P&&r){const V=()=>{ke=kt()};addEventListener("click",V,{capture:!0}),addEventListener("keydown",V,{capture:!0,passive:!0})}function re(){const V=el(C);V&&!Be(V).timestamp&&(Nn&&Y.log(`[Tracing] Finishing current active span with op: ${Be(V).op}`),V.setAttribute(Yo,"cancelled"),V.end())}C.on("startNavigationSpan",(V,ve)=>{if(Ie()!==C)return;if(ve?.isRedirect){Nn&&Y.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),q(C,{op:"navigation.redirect",...V},!1);return}ke=void 0,re(),nr().setPropagationContext({traceId:Nr(),sampleRand:Math.random(),propagationSpanId:Vn()?void 0:Ar()});const ue=Ve();ue.setPropagationContext({traceId:Nr(),sampleRand:Math.random(),propagationSpanId:Vn()?void 0:Ar()}),ue.setSDKProcessingMetadata({normalizedRequest:void 0}),q(C,{op:"navigation",...V,parentSpan:null,forceTransaction:!0})}),C.on("startPageLoadSpan",(V,ve={})=>{if(Ie()!==C)return;re();const ue=ve.sentryTrace||D0("sentry-trace"),X=ve.baggage||D0("baggage"),ge=CO(ue,X),qe=Ve();qe.setPropagationContext(ge),Vn()||(qe.getPropagationContext().propagationSpanId=Ar()),qe.setSDKProcessingMetadata({normalizedRequest:ym()}),q(C,{op:"pageload",...V})}),C.on("endPageloadSpan",()=>{ee&&M&&(M.setAttribute(Yo,"reportPageLoaded"),M.end())})},afterAllSetup(C){let re=Aa();if(le!=="off"&&IU(C,{linkPreviousTrace:le,consistentTraceSampling:W}),ze.location){if(G){const V=en();PU(C,{name:ze.location.pathname,startTime:V?V/1e3:void 0,attributes:{[Gn]:"url",[wt]:"auto.pageload.browser"}})}L&&Ku(({to:V,from:ve})=>{if(ve===void 0&&re?.indexOf(V)!==-1){re=void 0;return}re=void 0;const ue=gm(V),X=el(C),ge=X&&P&&FU(X,ke);$U(C,{name:ue?.pathname||ze.location.pathname,attributes:{[Gn]:"url",[wt]:"auto.navigation.browser"}},{url:V,isRedirect:ge})})}E&&NU(),f&&qU(C,b,_,S,e),i&&$j(),kU(C,{traceFetch:T,traceXHR:A,trackFetchStreamPerformance:U,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:z,enableHTTPTimings:R,onRequestSpanStart:oe,onRequestSpanEnd:he})}}});function PU(t,e,r){t.emit("startPageLoadSpan",e,r),Ve().setTransactionName(e.name);const i=el(t);return i&&t.emit("afterStartPageLoadSpan",i),i}function $U(t,e,r){const{url:i,isRedirect:o}=r||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:o}),t.emit("startNavigationSpan",e,{isRedirect:o});const l=Ve();return l.setTransactionName(e.name),i&&!o&&l.setSDKProcessingMetadata({normalizedRequest:{...ym(),url:i}}),el(t)}function D0(t){return ze.document?.querySelector(`meta[name=${t}]`)?.getAttribute("content")||void 0}function qU(t,e,r,i,o){const l=ze.document;let u;const f=()=>{const h="ui.action.click",m=el(t);if(m){const y=Be(m).op;if(["navigation","pageload"].includes(y)){Nn&&Y.warn(`[Tracing] Did not create ${h} span because a pageload or navigation span is in progress.`);return}}if(u&&(u.setAttribute(Yo,"interactionInterrupted"),u.end(),u=void 0),!o.name){Nn&&Y.warn(`[Tracing] Did not create ${h} transaction because _latestRouteName is missing.`);return}u=bw({name:o.name,op:h,attributes:{[Gn]:o.source||"url"}},{idleTimeout:e,finalTimeout:r,childSpanTimeout:i})};l&&addEventListener("click",f,{capture:!0})}const cx="_sentry_idleSpan";function el(t){return t[cx]}function L0(t,e){yn(t,cx,e)}const U0=1.5;function FU(t,e){const r=Be(t),i=ci(),o=r.start_timestamp;return!(i-o>U0||e&&i-e<=U0)}function GU(t){const e={...t};return Bw(e,"react"),Sw("react",{version:ce.version}),qM(e)}const VU="modulepreload",YU=function(t){return"/"+t},B0={},rt=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");o=h(r.map(m=>{if(m=YU(m),m in B0)return;B0[m]=!0;const y=m.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":VU,y||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),y)return new Promise((S,E)=>{_.addEventListener("load",S),_.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},ux=ce.createContext(null);function KU({children:t}){const[e,r]=ce.useState("all"),[i,o]=ce.useState(!1);ce.useEffect(()=>{if(typeof window<"u"){const u=localStorage.getItem("selectedBase");u&&r(u),o(!0)}},[]);const l=u=>{r(u),typeof window<"u"&&localStorage.setItem("selectedBase",u)};return v.jsx(ux.Provider,{value:{selectedBase:e,setSelectedBase:l,isLoaded:i},children:t})}function Fm(){const t=ce.useContext(ux);if(!t)throw new Error("useBase must be used within BaseProvider");return t}const z0="G-6RPDS8PFEB",jp=()=>{const t=localStorage.getItem("cookieConsent");if(!t){console.log("[Analytics] User has not consented to analytics");return}try{if(!JSON.parse(t).analytics){console.log("[Analytics] Analytics not enabled in user preferences");return}}catch{console.log("[Analytics] Invalid consent data");return}if(typeof window.gtag<"u"){console.log("[Analytics] GA already initialized");return}const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${z0}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(...r){window.dataLayer.push(r)},window.gtag("js",new Date),window.gtag("config",z0,{send_page_view:!1,anonymize_ip:!0}),console.log("[Analytics] Google Analytics initialized")},WU=(t,e)=>{if(typeof window.gtag>"u"){console.log("[Analytics] Page view:",t,e);return}window.gtag("event","page_view",{page_path:t,page_title:e||document.title})};function XU(){const t=()=>{localStorage.removeItem("selectedBase"),localStorage.removeItem("hasVisitedSite"),window.dispatchEvent(new CustomEvent("openBaseSelectionModal"))},[e,r]=ce.useState(!1),[i,o]=ce.useState("home"),l=RS(),u=NS(),f=()=>r(y=>!y),h=[{label:"Home",id:"home"},{label:"Destinations",id:"destinations"},{label:"Day Trips",id:"day-trips",isRoute:!0},{label:"Travel Tips",id:"tips"},{label:"Travel Phrases",id:"phrases"},{label:"English Services",id:"services"}];ce.useEffect(()=>{if(l.pathname==="/"){const y=l.hash.replace("#","")||"home";o(y)}else l.pathname==="/day-trips"?o("day-trips"):o("")},[l]);const m=y=>{const b=y.id;if(y.isRoute){u(`/${b}`),o(b),r(!1);return}if(b==="home"){l.pathname==="/"?window.scrollTo({top:0,behavior:"smooth"}):u("/"),o("home"),r(!1);return}if(b==="contact"){const _=document.getElementById("contact");_?_.scrollIntoView({behavior:"smooth"}):u("/#contact")}else l.pathname==="/"?document.getElementById(b)?.scrollIntoView({behavior:"smooth"}):u(`/#${b}`);o(b),r(!1)};return v.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-[100] shadow-sm",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>m({id:"home"}),children:[v.jsx("img",{src:"/EL_Logo.png",alt:"European Living Logo",className:"w-10 h-10 object-contain"}),v.jsx("span",{className:"text-[var(--brand-dark)] font-semibold text-lg",children:"European Living"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[h.map(y=>v.jsx("button",{onClick:()=>m(y),className:`font-medium px-3 py-2 rounded-md transition-colors cursor-pointer ${i===y.id?"text-[var(--brand-primary)]":"text-[var(--brand-dark)] hover:text-[var(--brand-primary)]"}`,children:y.label},y.id)),v.jsx("button",{onClick:()=>m({id:"contact"}),className:`px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer ${i==="contact"?"bg-[var(--brand-primary)] text-[var(--brand-bg-alt)]":"bg-[var(--brand-dark)] text-[var(--brand-bg)] hover:bg-[var(--brand-primary)] hover:text-[var(--brand-bg-alt)]"}`,children:"Contact Us"}),v.jsx("button",{onClick:t,className:"text-sm text-red-500 hover:text-red-700 underline ml-2",children:"Reset Base"})]}),v.jsx("button",{onClick:f,className:"md:hidden cursor-pointer",children:e?v.jsx(Qp,{className:"h-6 w-6"}):v.jsx(Jk,{className:"h-6 w-6"})})]}),e&&v.jsx("div",{className:"md:hidden py-4 border-t border-gray-100",children:v.jsxs("div",{className:"flex flex-col space-y-3",children:[h.map(y=>v.jsx("button",{onClick:()=>m(y),className:`px-4 py-2 text-left font-medium rounded-md transition-colors cursor-pointer ${i===y.id?"text-[var(--brand-primary)]":"text-[var(--brand-dark)] hover:text-[var(--brand-primary)]"}`,children:y.label},y.id)),v.jsx("button",{onClick:()=>m({id:"contact"}),className:`px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer ${i==="contact"?"bg-[var(--brand-primary)] text-[var(--brand-bg-alt)]":"bg-[var(--brand-dark)] text-[var(--brand-bg)] hover:bg-[var(--brand-primary)] hover:text-[var(--brand-bg-alt)]"}`,children:"Contact Us"}),v.jsx("button",{onClick:()=>{t(),r(!1)},className:"text-sm text-red-500 hover:text-red-700 underline px-4 text-left",children:"Reset Base"})]})})]})})}function JU(){return v.jsxs("section",{id:"home","aria-label":"Hero",style:{backgroundImage:'url("https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/hero-bg.jpg")',backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center 55%"},className:"relative w-full min-h-screen flex items-center justify-center overflow-hidden bg-[var(--brand-bg, #000)]",children:[v.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(90deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.3) 100%)"}}),v.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,0.4) 100%)"}}),v.jsxs("div",{className:"relative z-10 px-6 sm:px-10 text-center text-white max-w-5xl",children:[v.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(0, 0, 0, 0.6)"},children:["Discover Europe"," ",v.jsx("br",{}),v.jsx("span",{className:"text-[var(--brand-gold,#F5C04A)]",children:"Beyond"})," ","the Base"]}),v.jsxs("p",{className:"mt-6 max-w-2xl mx-auto text-lg md:text-xl lg:text-2xl font-medium leading-relaxed",style:{textShadow:"0 2px 8px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.6)"},children:["Your complete guide to traveling across Europe. Find destinations, transportation, accommodations, English-speaking services, and essential German phrases  all in one place.",v.jsx("br",{}),v.jsx("br",{}),"Built by Americans who've lived in Germany for over 10 years and worked with thousands of military families. We understand the hesitation about leaving base  and we're here to make exploring Europe feel accessible, safe, and exciting."]}),v.jsx("br",{}),v.jsx("div",{className:"mt-8",children:v.jsx("button",{onClick:()=>document.getElementById("destinations")?.scrollIntoView({behavior:"smooth"}),className:"bg-[var(--brand-primary,#1E40AF)] hover:bg-[var(--brand-dark,#153A84)] text-white font-bold px-8 py-4 rounded-lg text-lg transition-all shadow-xl hover:shadow-2xl hover:scale-105",children:"Start Exploring"})})]})]})}var Mp=function(t,e){return Mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Mp(t,e)};function dx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Du=function(){return Du=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Du.apply(this,arguments)};function Ia(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function fx(t,e,r,i){var o=arguments.length,l=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,i);else for(var f=t.length-1;f>=0;f--)(u=t[f])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function hx(t,e){return function(r,i){e(r,i,t)}}function px(t,e,r,i,o,l){function u(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var f=i.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&t?i.static?t:t.prototype:null,y=e||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),b,_=!1,S=r.length-1;S>=0;S--){var E={};for(var T in i)E[T]=T==="access"?{}:i[T];for(var T in i.access)E.access[T]=i.access[T];E.addInitializer=function(U){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(U||null))};var A=(0,r[S])(f==="accessor"?{get:y.get,set:y.set}:y[h],E);if(f==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(b=u(A.get))&&(y.get=b),(b=u(A.set))&&(y.set=b),(b=u(A.init))&&o.unshift(b)}else(b=u(A))&&(f==="field"?o.unshift(b):y[h]=b)}m&&Object.defineProperty(m,i.name,y),_=!0}function mx(t,e,r){for(var i=arguments.length>2,o=0;o<e.length;o++)r=i?e[o].call(t,r):e[o].call(t);return i?r:void 0}function gx(t){return typeof t=="symbol"?t:"".concat(t)}function yx(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function bx(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ne(t,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(y){try{m(i.next(y))}catch(b){u(b)}}function h(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?l(y.value):o(y.value).then(f,h)}m((i=i.apply(t,e||[])).next())})}function vx(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=f(0),u.throw=f(1),u.return=f(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(m){return function(y){return h([m,y])}}function h(m){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(i=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(y){m=[6,y],o=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var td=Object.create?(function(t,e,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,o)}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]});function _x(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&td(e,t,r)}function Lu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gm(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return l}function Sx(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gm(arguments[e]));return t}function wx(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,f=l.length;u<f;u++,o++)i[o]=l[u];return i}function Ex(t,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function wa(t){return this instanceof wa?(this.v=t,this):new wa(t)}function xx(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(E){return Promise.resolve(E).then(S,b)}}function f(S,E){i[S]&&(o[S]=function(T){return new Promise(function(A,U){l.push([S,T,A,U])>1||h(S,T)})},E&&(o[S]=E(o[S])))}function h(S,E){try{m(i[S](E))}catch(T){_(l[0][3],T)}}function m(S){S.value instanceof wa?Promise.resolve(S.value.v).then(y,b):_(l[0][2],S)}function y(S){h("next",S)}function b(S){h("throw",S)}function _(S,E){S(E),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Tx(t){var e,r;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:wa(t[o](u)),done:!1}:l?l(u):u}:l}}function kx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Lu=="function"?Lu(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(l){r[l]=t[l]&&function(u){return new Promise(function(f,h){u=t[l](u),o(f,h,u.done,u.value)})}}function o(l,u,f,h){Promise.resolve(h).then(function(m){l({value:m,done:f})},u)}}function Ax(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var QU=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Ip=function(t){return Ip=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},Ip(t)};function Ox(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Ip(t),i=0;i<r.length;i++)r[i]!=="default"&&td(e,t,r[i]);return QU(e,t),e}function Cx(t){return t&&t.__esModule?t:{default:t}}function Rx(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function Nx(t,e,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function jx(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Mx(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:i,async:r})}else r&&t.stack.push({async:!0});return e}var ZU=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Ix(t){function e(l){t.error=t.hasError?new ZU(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,i=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&i===1)return i=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else i|=1}catch(u){e(u)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Dx(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,o,l,u){return i?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const e3={__extends:dx,__assign:Du,__rest:Ia,__decorate:fx,__param:hx,__esDecorate:px,__runInitializers:mx,__propKey:gx,__setFunctionName:yx,__metadata:bx,__awaiter:ne,__generator:vx,__createBinding:td,__exportStar:_x,__values:Lu,__read:Gm,__spread:Sx,__spreadArrays:wx,__spreadArray:Ex,__await:wa,__asyncGenerator:xx,__asyncDelegator:Tx,__asyncValues:kx,__makeTemplateObject:Ax,__importStar:Ox,__importDefault:Cx,__classPrivateFieldGet:Rx,__classPrivateFieldSet:Nx,__classPrivateFieldIn:jx,__addDisposableResource:Mx,__disposeResources:Ix,__rewriteRelativeImportExtension:Dx},t3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Mx,get __assign(){return Du},__asyncDelegator:Tx,__asyncGenerator:xx,__asyncValues:kx,__await:wa,__awaiter:ne,__classPrivateFieldGet:Rx,__classPrivateFieldIn:jx,__classPrivateFieldSet:Nx,__createBinding:td,__decorate:fx,__disposeResources:Ix,__esDecorate:px,__exportStar:_x,__extends:dx,__generator:vx,__importDefault:Cx,__importStar:Ox,__makeTemplateObject:Ax,__metadata:bx,__param:hx,__propKey:gx,__read:Gm,__rest:Ia,__rewriteRelativeImportExtension:Dx,__runInitializers:mx,__setFunctionName:yx,__spread:Sx,__spreadArray:Ex,__spreadArrays:wx,__values:Lu,default:e3},Symbol.toStringTag,{value:"Module"})),n3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ui);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)};class Vm extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class H0 extends Vm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class P0 extends Vm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $0 extends Vm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Dp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Dp||(Dp={}));class r3{constructor(e,{headers:r={},customFetch:i,region:o=Dp.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=n3(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ne(this,arguments,void 0,function*(r,i={}){var o;try{const{headers:l,method:u,body:f,signal:h}=i;let m={},{region:y}=i;y||(y=this.region);const b=new URL(`${this.url}/${r}`);y&&y!=="any"&&(m["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let _;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(m["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(m["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;const S=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:_,signal:h}).catch(U=>{throw U.name==="AbortError"?U:new H0(U)}),E=S.headers.get("x-relay-error");if(E&&E==="true")throw new P0(S);if(!S.ok)throw new $0(S);let T=((o=S.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),A;return T==="application/json"?A=yield S.json():T==="application/octet-stream"||T==="application/pdf"?A=yield S.blob():T==="text/event-stream"?A=S:T==="multipart/form-data"?A=yield S.formData():A=yield S.text(),{data:A,error:null,response:S}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new H0(l)}:{data:null,error:l,response:l instanceof $0||l instanceof P0?l.context:void 0}}})}}var Mt={};const Da=jS(t3);var Wc={},Xc={},Jc={},Qc={},Zc={},s3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ea=s3();const i3=Ea.fetch,Lx=Ea.fetch.bind(Ea),Ux=Ea.Headers,a3=Ea.Request,o3=Ea.Response,ui=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ux,Request:a3,Response:o3,default:Lx,fetch:i3},Symbol.toStringTag,{value:"Module"})),l3=jS(ui);var eu={},q0;function Bx(){if(q0)return eu;q0=1,Object.defineProperty(eu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return eu.default=t,eu}var F0;function zx(){if(F0)return Zc;F0=1,Object.defineProperty(Zc,"__esModule",{value:!0});const t=Da,e=t.__importDefault(l3),r=t.__importDefault(Bx());class i{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,b,_,S;let E=null,T=null,A=null,U=m.status,z=m.statusText;if(m.ok){if(this.method!=="HEAD"){const G=await m.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?T=G:T=JSON.parse(G))}const F=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),K=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");F&&K&&K.length>1&&(A=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(E={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,A=null,U=406,z="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const F=await m.text();try{E=JSON.parse(F),Array.isArray(E)&&m.status===404&&(T=[],E=null,U=200,z="OK")}catch{m.status===404&&F===""?(U=204,z="No Content"):E={message:F}}if(E&&this.isMaybeSingle&&(!((S=E?.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,U=200,z="OK"),E&&this.shouldThrowOnError)throw new r.default(E)}return{error:E,data:T,count:A,status:U,statusText:z}});return this.shouldThrowOnError||(h=h.catch(m=>{var y,b,_;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(b=m?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return Zc.default=i,Zc}var G0;function Hx(){if(G0)return Qc;G0=1,Object.defineProperty(Qc,"__esModule",{value:!0});const e=Da.__importDefault(zx());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var y;const b=[o?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Qc.default=r,Qc}var V0;function Ym(){if(V0)return Jc;V0=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=Da.__importDefault(Hx()),r=new RegExp("[,()]");class i extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${y}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return Jc.default=i,Jc}var Y0;function Px(){if(Y0)return Xc;Y0=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=Da.__importDefault(Ym());class r{constructor(o,{headers:l={},schema:u,fetch:f}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(o,l){const{head:u=!1,count:f}=l??{},h=u?"HEAD":"GET";let m=!1;const y=(o??"*").split("").map(b=>/\s/.test(b)&&!m?"":(b==='"'&&(m=!m),b)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(m.length>0){const y=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(b.length>0){const _=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Xc.default=r,Xc}var K0;function c3(){if(K0)return Wc;K0=1,Object.defineProperty(Wc,"__esModule",{value:!0});const t=Da,e=t.__importDefault(Px()),r=t.__importDefault(Ym());class i{constructor(l,{headers:u={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:h=!1,count:m}={}){var y;let b;const _=new URL(`${this.url}/rpc/${l}`);let S;f||h?(b=f?"HEAD":"GET",Object.entries(u).filter(([T,A])=>A!==void 0).map(([T,A])=>[T,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([T,A])=>{_.searchParams.append(T,A)})):(b="POST",S=u);const E=new Headers(this.headers);return m&&E.set("Prefer",`count=${m}`),new r.default({method:b,url:_,headers:E,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Wc.default=i,Wc}var W0;function u3(){if(W0)return Mt;W0=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const t=Da,e=t.__importDefault(c3());Mt.PostgrestClient=e.default;const r=t.__importDefault(Px());Mt.PostgrestQueryBuilder=r.default;const i=t.__importDefault(Ym());Mt.PostgrestFilterBuilder=i.default;const o=t.__importDefault(Hx());Mt.PostgrestTransformBuilder=o.default;const l=t.__importDefault(zx());Mt.PostgrestBuilder=l.default;const u=t.__importDefault(Bx());return Mt.PostgrestError=u.default,Mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Mt}var $x=u3();const qx=Gk($x),d3=wA({__proto__:null,default:qx},[$x]),{PostgrestClient:f3,PostgrestQueryBuilder:i4,PostgrestFilterBuilder:a4,PostgrestTransformBuilder:o4,PostgrestBuilder:l4,PostgrestError:c4}=qx||d3;class h3{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const p3="2.78.0",m3=`realtime-js/${p3}`,g3="1.0.0",Lp=1e4,y3=1e3,b3=100;var qo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qo||(qo={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var qn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qn||(qn={}));var Up;(function(t){t.websocket="websocket"})(Up||(Up={}));var Ks;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ks||(Ks={}));class v3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(e.slice(u,u+o));u=u+o;const h=i.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class Fx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const X0=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=_3(u,t,e,o),l),{}):{}},_3=(t,e,r,i)=>{const o=e.find(f=>f.name===t),l=o?.type,u=r[t];return l&&!i.includes(l)?Gx(l,u):Bp(u)},Gx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return x3(e,r)}switch(t){case Qe.bool:return S3(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return w3(e);case Qe.json:case Qe.jsonb:return E3(e);case Qe.timestamp:return T3(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Bp(e);default:return Bp(e)}},Bp=t=>t,S3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},w3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},E3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},x3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Gx(e,f))}return t},T3=t=>typeof t=="string"?t.replace(" ","T"):t,Vx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hh{constructor(e,r,i={},o=Lp){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var J0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(J0||(J0={}));class Fo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=Fo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Fo.syncDiff(this.state,o,l,u),f())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const l=this.cloneDeep(e),u=this.transformState(r),f={},h={};return this.map(l,(m,y)=>{u[m]||(h[m]=y)}),this.map(u,(m,y)=>{const b=l[m];if(b){const _=y.map(A=>A.presence_ref),S=b.map(A=>A.presence_ref),E=y.filter(A=>S.indexOf(A.presence_ref)<0),T=b.filter(A=>_.indexOf(A.presence_ref)<0);E.length>0&&(f[m]=E),T.length>0&&(h[m]=T)}else f[m]=y}),this.syncDiff(l,{joins:f,leaves:h},i,o)}static syncDiff(e,r,i,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(f,h)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),y.length>0){const b=e[f].map(S=>S.presence_ref),_=y.filter(S=>b.indexOf(S.presence_ref)<0);e[f].unshift(..._)}i(f,y,h)}),this.map(u,(f,h)=>{let m=e[f];if(!m)return;const y=h.map(b=>b.presence_ref);m=m.filter(b=>y.indexOf(b.presence_ref)<0),e[f]=m,o(f,m,h),m.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Q0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Q0||(Q0={}));var Go;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Go||(Go={}));var Er;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class Km{constructor(e,r={config:{}},i){var o,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hh(this,qn.join,this.params,this.timeout),this.rejoinTimer=new Fx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Fo(this),this.broadcastEndpointURL=Vx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Go.PRESENCE]&&this.bindings[Go.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Er.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket.setAuth(),S===void 0){e?.(Er.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,A=(E=T?.length)!==null&&E!==void 0?E:0,U=[];for(let z=0;z<A;z++){const R=T[z],{filter:{event:F,schema:K,table:G,filter:L}}=R,P=S&&S[z];if(P&&P.event===F&&P.schema===K&&P.table===G&&P.filter===L)U.push(Object.assign(Object.assign({},R),{id:P.id}));else{this.unsubscribe(),this.state=_t.errored,e?.(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,e&&e(Er.SUBSCRIBED);return}}).receive("error",S=>{this.state=_t.errored,e?.(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===_t.joined&&e===Go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Hh(this,qn.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Hh(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>b3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,l;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:y}=qn;if(i&&[f,h,m,y].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var E,T,A;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(T=S.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===u}).map(S=>S.callback(_,i)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var E,T,A,U,z,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const F=S.id,K=(E=S.filter)===null||E===void 0?void 0:E.event;return F&&((T=r.ids)===null||T===void 0?void 0:T.includes(F))&&(K==="*"||K?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const F=(z=(U=S?.filter)===null||U===void 0?void 0:U.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return F==="*"||F===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:T,table:A,commit_timestamp:U,type:z,errors:R}=E;_=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:U,eventType:z,new:{},old:{},errors:R}),this._getPayloadRecords(E))}S.callback(_,i)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Km.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qn.close,{},e)}_onError(e){this._on(qn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=X0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=X0(e.columns,e.old_record)),r}}const Ph=()=>{},tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k3=[1e3,2e3,5e3,1e4],A3=1e4,O3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C3{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lp,this.transport=null,this.heartbeatIntervalMs=tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ph,this.ref=0,this.reconnectTimer=null,this.logger=Ph,this.conn=null,this.sendBuffer=[],this.serializer=new v3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>rt(async()=>{const{default:f}=await Promise.resolve().then(()=>ui);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Up.websocket}`,this.httpEndpoint=Vx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=h3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:g3}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return Ks.Connecting;case qo.open:return Ks.Open;case qo.closing:return Ks.Closing;default:return Ks.Closed}}isConnected(){return this.connectionState()===Ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new Km(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(y3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:u}=r,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([O3],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:m3};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(qn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Fx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,l,u,f,h,m,y;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Lp,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:tu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Ph,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(b=>k3[b-1]||A3),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((b,_)=>_(JSON.stringify(b))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Wm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class R3 extends Wm{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zp extends Wm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Xm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ui);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},N3=()=>ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rt(()=>Promise.resolve().then(()=>ui),void 0)).Response:Response}),Hp=t=>{if(Array.isArray(t))return t.map(r=>Hp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Hp(i)}),e},j3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$h=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},M3=(t,e,r)=>ne(void 0,void 0,void 0,function*(){const i=yield N3();t instanceof i&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new R3($h(o),l,u))}).catch(o=>{e(new zp($h(o),o))}):e(new zp($h(t),t))}),I3=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!i?o:(j3(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function gl(t,e,r,i,o,l){return ne(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(r,I3(e,i,o,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>M3(h,f,i))})})}function tl(t,e,r,i){return ne(this,void 0,void 0,function*(){return gl(t,"GET",e,r,i)})}function Hn(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return gl(t,"POST",e,i,o,r)})}function Pp(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return gl(t,"PUT",e,i,o,r)})}function D3(t,e,r,i){return ne(this,void 0,void 0,function*(){return gl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Jm(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return gl(t,"DELETE",e,i,o,r)})}class L3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var Yx;class U3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Yx]="BlobDownloadBuilder",this.promise=null}asStream(){return new L3(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}Yx=Symbol.toStringTag;const B3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class z3{constructor(e,r={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Xm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,o){return ne(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Z0),o);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(f=Object.assign(Object.assign({},f),o.headers));const m=this._removeEmptyFolders(r),y=this._getFinalPath(m),b=yield(e=="PUT"?Pp:Hn)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}upload(e,r,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,o){return ne(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Z0.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const b=yield Pp(this.fetch,f.toString(),h,{headers:y});return{data:{path:l,fullPath:b.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(st(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return ne(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Hn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new Wm("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}update(e,r,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return ne(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}copy(e,r,i){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,i){return ne(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Hn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,i){return ne(this,void 0,void 0,function*(){try{const o=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),h=()=>tl(this.fetch,`${this.url}/${o}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new U3(h,this.shouldThrowOnError)}info(e){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield tl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Hp(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}exists(e){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield D3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i)&&i instanceof zp){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(e,r,i){return ne(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},B3),r),{prefix:e||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}listV2(e,r){return ne(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Kx="2.78.0",Wx={"X-Client-Info":`storage-js/${Kx}`};class H3{constructor(e,r={},i,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wx),r),this.fetch=Xm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield tl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(e){return ne(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ne(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class P3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wx),r),this.fetch=Xm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(e){return ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield tl(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}const Qm={"X-Client-Info":`storage-js/${Kx}`,"Content-Type":"application/json"};class Xx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function hn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class qh extends Xx{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $3 extends Xx{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var eS;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(eS||(eS={}));const Zm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ui);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},q3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),F3=(t,e,r)=>ne(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const f=u?.statusCode||u?.code||o+"";e(new qh(tS(u),o,f))}).catch(()=>{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new qh(f,o,u))});else{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new qh(f,o,u))}}else e(new $3(tS(t),t))}),G3=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return i?(q3(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),r)):o};function V3(t,e,r,i,o,l){return ne(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(r,G3(e,i,o,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>F3(h,f,i))})})}function pn(t,e,r,i,o){return ne(this,void 0,void 0,function*(){return V3(t,"POST",e,i,o,r)})}class Y3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qm),r),this.fetch=Zm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ne(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hn(i))return{data:null,error:i};throw i}})}listIndexes(e){return ne(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ne(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hn(i))return{data:null,error:i};throw i}})}}class K3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qm),r),this.fetch=Zm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}getVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}listVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield pn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}queryVectors(e){return ne(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}}class W3{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qm),r),this.fetch=Zm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}getBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}listBuckets(){return ne(this,arguments,void 0,function*(e={}){try{return{data:yield pn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ne(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}}class X3 extends W3{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new J3(this.url,this.headers,e,this.fetch)}}class J3 extends Y3{constructor(e,r,i,o){super(e,r,o),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Q3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Q3 extends K3{constructor(e,r,i,o,l){super(e,r,l),this.vectorBucketName=i,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Z3 extends H3{constructor(e,r={},i,o){super(e,r,i,o)}from(e){return new z3(this.url,this.headers,e,this.fetch)}get vectors(){return new X3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new P3(this.url+"/iceberg",this.headers,this.fetch)}}const e2="2.78.0";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const t2={"X-Client-Info":`supabase-js-${Uo}/${e2}`},n2={headers:t2},r2={schema:"public"},s2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i2={},a2=t=>{let e;return t?e=t:typeof fetch>"u"?e=Lx:e=fetch,(...r)=>e(...r)},o2=()=>typeof Headers>"u"?Ux:Headers,l2=(t,e,r)=>{const i=a2(r),o=o2();return async(l,u)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:t;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},u),{headers:m}))}};function c2(t){return t.endsWith("/")?t:t+"/"}function u2(t,e){var r,i;const{db:o,auth:l,realtime:u,global:f}=t,{db:h,auth:m,realtime:y,global:b}=e,_={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(r=b?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function d2(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(c2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jx="2.78.0",ia=30*1e3,$p=3,Fh=$p*ia,f2="http://localhost:9999",h2="supabase.auth.token",p2={"X-Client-Info":`gotrue-js/${Jx}`},qp="X-Supabase-Api-Version",Qx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g2=600*1e3;class nl extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class y2 extends nl{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function b2(t){return ie(t)&&t.name==="AuthApiError"}class Ws extends nl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class vs extends nl{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class Bn extends vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v2(t){return ie(t)&&t.name==="AuthSessionMissingError"}class Ji extends vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nu extends vs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ru extends vs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _2(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class nS extends vs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fp extends vs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Gh(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class rS extends vs{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Gp extends vs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sS=` 	
\r=`.split(""),S2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<sS.length;e+=1)t[sS[e].charCodeAt(0)]=-2;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=e;return t})();function iS(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Uu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Uu[i]),e.queuedBits-=6}}function Zx(t,e,r){const i=S2[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function aS(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{x2(u,i,r)};for(let u=0;u<t.length;u+=1)Zx(t.charCodeAt(u),o,l);return e.join("")}function w2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function E2(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}w2(i,e)}}function x2(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function fa(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Zx(t.charCodeAt(o),r,i);return new Uint8Array(e)}function T2(t){const e=[];return E2(t,r=>e.push(r)),new Uint8Array(e)}function Qs(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>iS(o,r,i)),iS(null,r,i),e.join("")}function k2(t){return Math.round(Date.now()/1e3)+t}function A2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",qs={tested:!1,writable:!1},eT=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qs.tested)return qs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qs.tested=!0,qs.writable=!0}catch{qs.tested=!0,qs.writable=!1}return qs.writable};function O2(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const tT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rt(async()=>{const{default:i}=await Promise.resolve().then(()=>ui);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},C2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",aa=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Fs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},as=async(t,e)=>{await t.removeItem(e)};class nd{constructor(){this.promise=new nd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}nd.promiseConstructor=Promise;function Vh(t){const e=t.split(".");if(e.length!==3)throw new Gp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!m2.test(e[i]))throw new Gp("JWT not in base64url format");return{header:JSON.parse(aS(e[0])),payload:JSON.parse(aS(e[1])),signature:fa(e[2]),raw:{header:e[0],payload:e[1]}}}async function R2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function N2(t,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function j2(t){return("0"+t.toString(16)).substr(-2)}function M2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,j2).join("")}async function I2(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function D2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await I2(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qi(t,e,r=!1){const i=M2();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await aa(t,`${e}-code-verifier`,o);const l=await D2(i);return[l,i===l?"plain":"s256"]}const L2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U2(t){const e=t.headers.get(qp);if(!e||!e.match(L2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function B2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function z2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zi(t){if(!H2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P2(t,e){return new Proxy(t,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function oS(t){return JSON.parse(JSON.stringify(t))}const Vs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$2=[502,503,504];async function lS(t){var e;if(!C2(t))throw new Fp(Vs(t),0);if($2.includes(t.status))throw new Fp(Vs(t),t.status);let r;try{r=await t.json()}catch(l){throw new Ws(Vs(l),l)}let i;const o=U2(t);if(o&&o.getTime()>=Qx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new rS(Vs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new rS(Vs(r),t.status,r.weak_password.reasons);throw new y2(Vs(r),t.status||500,i)}const q2=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function fe(t,e,r,i){var o;const l=Object.assign({},i?.headers);l[qp]||(l[qp]=Qx["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await F2(t,e,r+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function F2(t,e,r,i,o,l){const u=q2(e,i,o,l);let f;try{f=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Fp(Vs(h),0)}if(f.ok||await lS(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await lS(h)}}function zn(t){var e;let r=null;Y2(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=k2(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function cS(t){const e=zn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function us(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function G2(t){return{data:t,error:null}}function V2(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l}=t,u=Ia(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function uS(t){return t}function Y2(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kh=["global","local","others"];class K2{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=tT(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Kh[0]){if(Kh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kh.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:us})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Ia(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:V2,redirectTo:r?.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:us})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:uS});if(y.error)throw y.error;const b=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);m[`${A}Page`]=T}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ie(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Zi(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:us})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Zi(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:us})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Zi(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:us})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Zi(e.userId);try{const{data:r,error:i}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Zi(e.userId),Zi(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:uS});if(y.error)throw y.error;const b=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);m[`${A}Page`]=T}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ie(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function dS(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ea={debug:!!(globalThis&&eT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class W2 extends nT{}async function X2(t,e,r){ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ea.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new W2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ea.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function J2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Q2(t){return parseInt(t,16)}function Z2(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function eB(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:m,scheme:y,uri:b,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=rT(t.address),E=y?`${y}://${i}`:i,T=t.statement?`${t.statement}
`:"",A=`${E} wants you to sign in with your Ethereum account:
${S}

${T}`;let U=`URI: ${b}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(U+=`
Expiration Time: ${o.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),h&&(U+=`
Request ID: ${h}`),m){let z=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);z+=`
- ${R}`}U+=z}return`${A}
${U}`}class mt extends Error{constructor({message:e,code:r,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Bu extends mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function tB({error:t,options:e}){var r,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(sT(u)){if(l.rp.id!==u)return new mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function nB({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(sT(i)){if(r.rpId!==i)return new mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class rB{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sB=new rB;function iB(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,o=Ia(t,["challenge","user","excludeCredentials"]),l=fa(e).buffer,u=Object.assign(Object.assign({},r),{id:fa(r.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:fa(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function aB(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Ia(t,["challenge","allowCredentials"]),o=fa(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:fa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function oB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lB(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qs(new Uint8Array(o.authenticatorData)),clientDataJSON:Qs(new Uint8Array(o.clientDataJSON)),signature:Qs(new Uint8Array(o.signature)),userHandle:o.userHandle?Qs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function fS(){var t,e;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cB(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:tB({error:e,options:t})}}}async function uB(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:nB({error:e,options:t})}}}const dB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},fB={userVerification:"preferred",hints:["security-key"]};function zu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(e(u)){const f=i[l];e(f)?i[l]=zu(f,u):i[l]=zu(u)}else i[l]=u}return i}function hB(t,e){return zu(dB,t,e||{})}function pB(t,e){return zu(fB,t,e||{})}class mB{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:f};const h=o??sB.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=hB(u.webauthn.credential_options.publicKey,l?.create),{data:y,error:b}=await cB({publicKey:m,signal:h});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const m=pB(u.webauthn.credential_options.publicKey,l?.request),{data:y,error:b}=await uB(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new Ws("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new nl("rpId is required for WebAuthn authentication")};try{if(!fS())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new Ws("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new nl("rpId is required for WebAuthn registration")};try{if(!fS())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new Ws("Unexpected error in register",u)}}}}J2();const gB={url:f2,storageKey:h2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hS(t,e,r){return await r()}const ta={};class rl{get jwks(){var e,r;return(r=(e=ta[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ta[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{cachedAt:e})}constructor(e){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rl.nextInstanceID,rl.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},gB),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new K2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=tT(o.fetch),this.lock=o.lock||hS,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:zt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=X2:this.lock=hS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:eT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dS(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=dS(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=O2(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),zt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),_2(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new Ws("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:zn}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(ie(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,i,o;try{let l;if("email"in e){const{email:y,password:b,options:_}=e;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await Qi(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:E},xform:zn})}else if("phone"in e){const{phone:y,password:b,options:_}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:zn})}else throw new nu("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(ie(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:f}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:cS})}else if("phone"in e){const{phone:l,password:u,options:f}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:cS})}else throw new nu("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ji}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,l,u,f,h,m,y,b,_;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:T,wallet:A,statement:U,options:z}=e;let R;if(zt())if(typeof A=="object")R=A;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")R=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const F=new URL((r=z?.url)!==null&&r!==void 0?r:window.location.href),K=await R.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=rT(K[0]);let L=(i=z?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!L){const le=await R.request({method:"eth_chainId"});L=Q2(le)}const P={domain:F.host,address:G,statement:U,uri:F.href,version:"1",chainId:L,nonce:(o=z?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=z?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=z?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=z?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=z?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=eB(P),E=await R.request({method:"personal_sign",params:[Z2(S),G]})}try{const{data:T,error:A}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:zn});if(A)throw A;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Ji}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:A})}catch(T){if(ie(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(e){var r,i,o,l,u,f,h,m,y,b,_,S;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:A,wallet:U,statement:z,options:R}=e;let F;if(zt())if(typeof U=="object")F=U;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))F=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=U}const K=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const G=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),z?{statement:z}:null));let L;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")L=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)L=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)E=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),T=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${K.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const G=await F.signMessage(new TextEncoder().encode(E),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=G}}try{const{data:A,error:U}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Qs(T)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:zn});if(U)throw U;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Ji}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:U})}catch(A){if(ie(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const r=await Fs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:zn});if(await as(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Ji}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(ie(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:l,nonce:u}=e,f=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ji}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,l,u;try{if("email"in e){const{email:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Qi(this.storage,this.storageKey));const{error:b}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:y}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new nu("You must provide either an email or phone number.")}catch(f){if(ie(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var r,i;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:zn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Qi(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:G2})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Bn;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:f}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new nu("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Fh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Fs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Yh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=P2(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:us}):await this._useSession(async r=>{var i,o,l;const{data:u,error:f}=r;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:us})})}catch(r){if(ie(r))return v2(r)&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new Bn;const u=o.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await Qi(this.storage,this.storageKey));const{data:m,error:y}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:us});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bn;const r=Date.now()/1e3;let i=r,o=!0,l=null;const{payload:u}=Vh(e.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:f}=r;if(f)throw f;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Bn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!zt())throw new ru("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ru(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ru("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new nS("No code detected.");const{data:z,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:m}=e;if(!l||!f||!u||!m)throw new ru("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(f);let _=y+b;h&&(_=parseInt(h));const S=_-y;S*1e3<=ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const E=_-b;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,y);const{data:T,error:A}=await this._getUser(l);if(A)throw A;const U={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:b,expires_at:_,refresh_token:u,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:e.type},error:null}}catch(i){if(ie(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{error:l};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(b2(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=A2(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Qi(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async l=>{var u,f,h,m,y;const{data:b,error:_}=l;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return zt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ie(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:f,token:h,access_token:m,nonce:y}=e,b=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:zn}),{data:_,error:S}=b;return S?{data:{user:null,session:null},error:S}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new Ji}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:S})}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)throw u;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await N2(async o=>(o>0&&await R2(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Gh(l)&&Date.now()+u-i<ia})}catch(i){if(this._debug(r,"error",i),ie(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),zt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Fs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await aa(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Yh()}else if(o&&!o.user&&!o.user){const u=await Fs(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await as(this.storage,this.storageKey+"-user"),await aa(this.storage,this.storageKey,o)):o.user=Yh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fh;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Fh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Gh(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(o.access_token);!f&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nd;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Bn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),ie(l)){const u={data:null,error:l};return Gh(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await aa(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=oS(o);await aa(this.storage,this.storageKey,l)}else{const o=oS(r);await aa(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await as(this.storage,this.storageKey),await as(this.storage,this.storageKey+"-code-verifier"),await as(this.storage,this.storageKey+"-user"),this.userStorage&&await as(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ia);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ia}ms, refresh threshold is ${$p} ticks`),o<=$p&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Qi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?{data:null,error:l}:await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?oB(e.webauthn.credential_response):lB(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:h})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:iB(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:aB(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Vh(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?{data:null,error:o}:i?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):{data:null,error:new Bn}})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return{data:null,error:l};if(!o)return{data:null,error:new Bn};const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&zt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return{data:null,error:l};if(!o)return{data:null,error:new Bn};const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&zt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(f=>f.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+g2>o)return i;const{data:l,error:u}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:S,error:E}=await this.getSession();if(E||!S.session)return{data:null,error:E};i=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:f,payload:h}}=Vh(i);r?.allowExpired||B2(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const y=z2(o.alg),b=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,u,T2(`${f}.${h}`)))throw new Gp("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}}rl.nextInstanceID=0;const yB=rl;class bB extends yB{constructor(e){super(e)}}class vB{constructor(e,r,i){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const f=d2(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:r2,realtime:i2,auth:Object.assign(Object.assign({},s2),{storageKey:h}),global:n2},y=u2(i??{},m);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=l2(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new f3(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Z3(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new r3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,storageKey:u,flowType:f,lock:h,debug:m},y,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bB({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,flowType:f,lock:h,debug:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new C3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _B=(t,e,r)=>new vB(t,e,r);function SB(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}SB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wB="https://pkacbcohrygpyapgtzpq.supabase.co",EB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBrYWNiY29ocnlncHlhcGd0enBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzc5NzEsImV4cCI6MjA3NTg1Mzk3MX0.BJZulmGejOPa5mv4jLUKqDamBdLyjDEBP2RVTswga8c",mn=_B(wB,EB);async function xB(t="all"){try{const e=mn.from("featured_content").select("*").eq("active",!0).order("display_order",{ascending:!0}),{data:r,error:i}=await e;if(i)return console.error("Error fetching featured content:",i),[];if(!r)return[];console.log("Raw featured content from DB:",r);const o=r.filter(f=>{console.log("Checking item:",f.title,"bases_served:",f.bases_served);let h=[];if(Array.isArray(f.bases_served))h=f.bases_served;else if(typeof f.bases_served=="string")try{h=JSON.parse(f.bases_served)}catch{h=[f.bases_served]}return console.log("   basesArray:",h),h.includes("all")?(console.log('   Included (has "all")'),!0):t!=="all"&&h.includes(t)?(console.log("   Included (matches base)"),!0):t==="all"?(console.log("   Included (showing all)"),!0):(console.log("   Excluded"),!1)});console.log("Filtered featured content count:",o.length);const l=new Date,u=o.filter(f=>{const h=f.start_date?new Date(f.start_date):null,m=f.end_date?new Date(f.end_date):null;return console.log("Date check for:",f.title,{startDate:h?.toISOString(),endDate:m?.toISOString(),now:l.toISOString()}),h&&h>l?(console.log("   Excluded (not started yet)"),!1):m&&m<l?(console.log("   Excluded (already ended)"),!1):(console.log("   Included (date valid)"),!0)});return console.log("After date filter:",u.length),u.slice(0,3)}catch(e){return console.error("Unexpected error fetching featured content:",e),[]}}async function u4(){try{const{data:t,error:e}=await mn.from("featured_content").select("*").order("display_order",{ascending:!0});return e?(console.error("Error fetching all featured content:",e),[]):t||[]}catch(t){return console.error("Unexpected error:",t),[]}}async function d4(t){try{const{data:e,error:r}=await mn.from("featured_content").insert([t]).select().single();return r?(console.error("Error creating featured content:",r),null):e}catch(e){return console.error("Unexpected error:",e),null}}async function f4(t,e){try{const{data:r,error:i}=await mn.from("featured_content").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return i?(console.error("Error updating featured content:",i),null):r}catch(r){return console.error("Unexpected error:",r),null}}async function h4(t){try{const{error:e}=await mn.from("featured_content").delete().eq("id",t);return e?(console.error("Error deleting featured content:",e),!1):!0}catch(e){return console.error("Unexpected error:",e),!1}}function TB(){const{selectedBase:t}=Fm(),[e,r]=ce.useState([]),[i,o]=ce.useState(!0),l=async()=>{o(!0);const u=await xB(t);console.log("Loaded featured items:",u),r(u),o(!1)};return ce.useEffect(()=>{l()},[t]),!i&&e.length===0?null:v.jsx("section",{className:"py-16 bg-gradient-to-b from-[var(--brand-bg)] to-[var(--brand-bg-alt)]",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--brand-dark)] mb-4",children:" Featured This Week"}),v.jsx("p",{className:"text-lg text-[var(--muted-foreground)] max-w-2xl mx-auto",children:"Don't miss these timely recommendations and special content curated for you"})]}),i?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(u=>v.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg animate-pulse",children:[v.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),v.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),v.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),v.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},u))}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>v.jsxs("a",{href:u.link_url||"#",target:u.link_url?.startsWith("http")?"_blank":"_self",rel:u.link_url?.startsWith("http")?"noopener noreferrer":"",className:"group bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-[var(--border)] hover:border-[var(--brand-primary)] transform hover:-translate-y-1",children:[u.image_url?v.jsx("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)]",children:v.jsx("img",{src:u.image_url,alt:u.title,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-300"})}):v.jsx("div",{className:"h-48 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)] flex items-center justify-center",children:v.jsx(i_,{className:"w-16 h-16 text-[var(--brand-light)] opacity-50"})}),v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"text-xl font-bold text-[var(--brand-dark)] mb-3 group-hover:text-[var(--brand-primary)] transition-colors line-clamp-2",children:u.title}),v.jsx("p",{className:"text-[var(--muted-foreground)] text-sm mb-4 line-clamp-3",children:u.description}),v.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[var(--muted-foreground)] mb-4",children:[(u.start_date||u.end_date)&&v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Qk,{size:14,className:"text-[var(--brand-primary)]"}),v.jsxs("span",{children:[u.start_date&&new Date(u.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),u.start_date&&u.end_date&&" - ",u.end_date&&new Date(u.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),u.type&&v.jsx("div",{className:"px-2 py-1 bg-[var(--muted)] rounded text-xs capitalize",children:u.type}),u.is_sponsored&&u.sponsor_name&&v.jsxs("div",{className:"text-xs text-[var(--muted-foreground)]",children:["Sponsored by ",u.sponsor_name]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-[var(--brand-primary)] font-semibold text-sm group-hover:text-[var(--brand-dark)] transition-colors",children:u.cta_text||"Learn More"}),v.jsx(i_,{size:16,className:"text-[var(--brand-primary)] group-hover:translate-x-1 transition-transform"})]})]})]},u.id))})]})})}function iT(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=iT(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function kB(){for(var t,e,r=0,i="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=iT(t))&&(i&&(i+=" "),i+=e);return i}const eg="-",AB=t=>{const e=CB(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const f=u.split(eg);return f[0]===""&&f.length!==1&&f.shift(),aT(f,e)||OB(u)},getConflictingClassGroupIds:(u,f)=>{const h=r[u]||[];return f&&i[u]?[...h,...i[u]]:h}}},aT=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),o=i?aT(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(eg);return e.validators.find(({validator:u})=>u(l))?.classGroupId},pS=/^\[(.+)\]$/,OB=t=>{if(pS.test(t)){const e=pS.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},CB=t=>{const{theme:e,classGroups:r}=t,i={nextPart:new Map,validators:[]};for(const o in r)Vp(r[o],i,o,e);return i},Vp=(t,e,r,i)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:mS(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(RB(o)){Vp(o(i),e,r,i);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,u])=>{Vp(u,mS(e,l),r,i)})})},mS=(t,e)=>{let r=t;return e.split(eg).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},RB=t=>t.isThemeGetter,NB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;const o=(l,u)=>{r.set(l,u),e++,e>t&&(e=0,i=r,r=new Map)};return{get(l){let u=r.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return o(l,u),u},set(l,u){r.has(l)?r.set(l,u):o(l,u)}}},Yp="!",Kp=":",jB=Kp.length,MB=t=>{const{prefix:e,experimentalParseClassName:r}=t;let i=o=>{const l=[];let u=0,f=0,h=0,m;for(let E=0;E<o.length;E++){let T=o[E];if(u===0&&f===0){if(T===Kp){l.push(o.slice(h,E)),h=E+jB;continue}if(T==="/"){m=E;continue}}T==="["?u++:T==="]"?u--:T==="("?f++:T===")"&&f--}const y=l.length===0?o:o.substring(h),b=IB(y),_=b!==y,S=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:b,maybePostfixModifierPosition:S}};if(e){const o=e+Kp,l=i;i=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const o=i;i=l=>r({className:l,parseClassName:o})}return i},IB=t=>t.endsWith(Yp)?t.substring(0,t.length-1):t.startsWith(Yp)?t.substring(1):t,DB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},LB=t=>({cache:NB(t.cacheSize),parseClassName:MB(t),sortModifiers:DB(t),...AB(t)}),UB=/\s+/,BB=(t,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],f=t.trim().split(UB);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:b,modifiers:_,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:T}=r(y);if(b){h=y+(h.length>0?" "+h:h);continue}let A=!!T,U=i(A?E.substring(0,T):E);if(!U){if(!A){h=y+(h.length>0?" "+h:h);continue}if(U=i(E),!U){h=y+(h.length>0?" "+h:h);continue}A=!1}const z=l(_).join(":"),R=S?z+Yp:z,F=R+U;if(u.includes(F))continue;u.push(F);const K=o(U,A);for(let G=0;G<K.length;++G){const L=K[G];u.push(R+L)}h=y+(h.length>0?" "+h:h)}return h};function zB(){let t=0,e,r,i="";for(;t<arguments.length;)(e=arguments[t++])&&(r=oT(e))&&(i&&(i+=" "),i+=r);return i}const oT=t=>{if(typeof t=="string")return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=oT(t[i]))&&(r&&(r+=" "),r+=e);return r};function HB(t,...e){let r,i,o,l=u;function u(h){const m=e.reduce((y,b)=>b(y),t());return r=LB(m),i=r.cache.get,o=r.cache.set,l=f,f(h)}function f(h){const m=i(h);if(m)return m;const y=BB(h,r);return o(h,y),y}return function(){return l(zB.apply(null,arguments))}}const vt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},lT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,PB=/^\d+\/\d+$/,$B=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,na=t=>PB.test(t),Ee=t=>!!t&&!Number.isNaN(Number(t)),os=t=>!!t&&Number.isInteger(Number(t)),Wh=t=>t.endsWith("%")&&Ee(t.slice(0,-1)),Sr=t=>$B.test(t),YB=()=>!0,KB=t=>qB.test(t)&&!FB.test(t),uT=()=>!1,WB=t=>GB.test(t),XB=t=>VB.test(t),JB=t=>!Q(t)&&!Z(t),QB=t=>La(t,hT,uT),Q=t=>lT.test(t),Gs=t=>La(t,pT,KB),Xh=t=>La(t,rz,Ee),gS=t=>La(t,dT,uT),ZB=t=>La(t,fT,XB),su=t=>La(t,mT,WB),Z=t=>cT.test(t),Do=t=>Ua(t,pT),ez=t=>Ua(t,sz),yS=t=>Ua(t,dT),tz=t=>Ua(t,hT),nz=t=>Ua(t,fT),iu=t=>Ua(t,mT,!0),La=(t,e,r)=>{const i=lT.exec(t);return i?i[1]?e(i[1]):r(i[2]):!1},Ua=(t,e,r=!1)=>{const i=cT.exec(t);return i?i[1]?e(i[1]):r:!1},dT=t=>t==="position"||t==="percentage",fT=t=>t==="image"||t==="url",hT=t=>t==="length"||t==="size"||t==="bg-size",pT=t=>t==="length",rz=t=>t==="number",sz=t=>t==="family-name",mT=t=>t==="shadow",iz=()=>{const t=vt("color"),e=vt("font"),r=vt("text"),i=vt("font-weight"),o=vt("tracking"),l=vt("leading"),u=vt("breakpoint"),f=vt("container"),h=vt("spacing"),m=vt("radius"),y=vt("shadow"),b=vt("inset-shadow"),_=vt("text-shadow"),S=vt("drop-shadow"),E=vt("blur"),T=vt("perspective"),A=vt("aspect"),U=vt("ease"),z=vt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...F(),Z,Q],G=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],P=()=>[Z,Q,h],le=()=>[na,"full","auto",...P()],W=()=>[os,"none","subgrid",Z,Q],ee=()=>["auto",{span:["full",os,Z,Q]},os,Z,Q],oe=()=>[os,"auto",Z,Q],he=()=>["auto","min","max","fr",Z,Q],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...P()],q=()=>[na,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],C=()=>[t,Z,Q],re=()=>[...F(),yS,gS,{position:[Z,Q]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ve=()=>["auto","cover","contain",tz,QB,{size:[Z,Q]}],ue=()=>[Wh,Do,Gs],X=()=>["","none","full",m,Z,Q],ge=()=>["",Ee,Do,Gs],qe=()=>["solid","dashed","dotted","double"],Et=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[Ee,Wh,yS,gS],$t=()=>["","none",E,Z,Q],jt=()=>["none",Ee,Z,Q],qt=()=>["none",Ee,Z,Q],jn=()=>[Ee,Z,Q],Yn=()=>[na,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sr],breakpoint:[Sr],color:[YB],container:[Sr],"drop-shadow":[Sr],ease:["in","out","in-out"],font:[JB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sr],shadow:[Sr],spacing:["px",Ee],text:[Sr],"text-shadow":[Sr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",na,Q,Z,A]}],container:["container"],columns:[{columns:[Ee,Q,Z,f]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:le()}],"inset-x":[{"inset-x":le()}],"inset-y":[{"inset-y":le()}],start:[{start:le()}],end:[{end:le()}],top:[{top:le()}],right:[{right:le()}],bottom:[{bottom:le()}],left:[{left:le()}],visibility:["visible","invisible","collapse"],z:[{z:[os,"auto",Z,Q]}],basis:[{basis:[na,"full","auto",f,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,na,"auto","initial","none",Q]}],grow:[{grow:["",Ee,Z,Q]}],shrink:[{shrink:["",Ee,Z,Q]}],order:[{order:[os,"first","last","none",Z,Q]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[f,"screen",...q()]}],"min-w":[{"min-w":[f,"screen","none",...q()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,Do,Gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Z,Xh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wh,Q]}],"font-family":[{font:[ez,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Z,Q]}],"line-clamp":[{"line-clamp":[Ee,"none",Z,Xh]}],leading:[{leading:[l,...P()]}],"list-image":[{"list-image":["none",Z,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",Z,Gs]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[Ee,"auto",Z,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ve()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},os,Z,Q],radial:["",Z,Q],conic:[os,Z,Q]},nz,ZB]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...qe(),"hidden","none"]}],"divide-style":[{divide:[...qe(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...qe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,Z,Q]}],"outline-w":[{outline:["",Ee,Do,Gs]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",y,iu,su]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",b,iu,su]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[Ee,Gs]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",_,iu,su]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[Ee,Z,Q]}],"mix-blend":[{"mix-blend":[...Et(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Et()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[Z,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ve()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,Q]}],filter:[{filter:["","none",Z,Q]}],blur:[{blur:$t()}],brightness:[{brightness:[Ee,Z,Q]}],contrast:[{contrast:[Ee,Z,Q]}],"drop-shadow":[{"drop-shadow":["","none",S,iu,su]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",Ee,Z,Q]}],"hue-rotate":[{"hue-rotate":[Ee,Z,Q]}],invert:[{invert:["",Ee,Z,Q]}],saturate:[{saturate:[Ee,Z,Q]}],sepia:[{sepia:["",Ee,Z,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,Q]}],"backdrop-blur":[{"backdrop-blur":$t()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,Z,Q]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,Z,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,Z,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,Z,Q]}],"backdrop-invert":[{"backdrop-invert":["",Ee,Z,Q]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,Z,Q]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,Z,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,Z,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",Z,Q]}],ease:[{ease:["linear","initial",U,Z,Q]}],delay:[{delay:[Ee,Z,Q]}],animate:[{animate:["none",z,Z,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Z,Q]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:jt()}],"rotate-x":[{"rotate-x":jt()}],"rotate-y":[{"rotate-y":jt()}],"rotate-z":[{"rotate-z":jt()}],scale:[{scale:qt()}],"scale-x":[{"scale-x":qt()}],"scale-y":[{"scale-y":qt()}],"scale-z":[{"scale-z":qt()}],"scale-3d":["scale-3d"],skew:[{skew:jn()}],"skew-x":[{"skew-x":jn()}],"skew-y":[{"skew-y":jn()}],transform:[{transform:[Z,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Yn()}],"translate-x":[{"translate-x":Yn()}],"translate-y":[{"translate-y":Yn()}],"translate-z":[{"translate-z":Yn()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,Q]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[Ee,Do,Gs,Xh]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},az=HB(iz);function tg(...t){return az(kB(t))}function p4(t){return t?t.replace(/[-_]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function Hu({className:t,...e}){return v.jsx("div",{"data-slot":"card",className:tg("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function gT({className:t,...e}){return v.jsx("div",{"data-slot":"card-content",className:tg("px-6",t),...e})}function oz({destination:t}){return v.jsxs(Hu,{className:"overflow-hidden shadow-md bg-brand-bg border border-[#9da586]/30 rounded-2xl hover:shadow-lg hover:scale-[1.02] transition-all duration-300",children:[v.jsx("img",{src:t.image,alt:t.name,className:"h-48 w-full object-cover"}),v.jsxs(gT,{className:"p-4 flex flex-col h-full justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-semibold text-[#131312] mb-2",children:t.name}),v.jsx("p",{className:"text-sm text-[#131312]/70 mb-4 line-clamp-3",children:t.description})]}),v.jsxs(Fn,{to:`/destinations/${t.id}`,className:"inline-block rounded-lg bg-[var(--brand-button)] text-[#f7f7ec] font-medium py-2 px-4 text-center hover:bg-[#131312] transition-colors",children:["Explore ",t.shortName||t.name]})]})]})}const Cn="https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images",lz=[{id:"stuttgart",name:"Stuttgart",shortName:"Stuttgart",country:"Germany",description:"Mercedes-Benz and Porsche museums, vineyards, and Swabian culture in Baden-Wrttemberg.",image:`${Cn}/stuttgart-schlossplatz.jpg`,contentFile:"stuttgart",lat:48.7758,lng:9.1829,travelTips:["Park under the LB/BW bank near Hauptbahnhof for easy access to everything.","Don't miss Stuttgart's Spring Festival (Frhlingsfest)  it rivals Oktoberfest!"]},{id:"berlin",name:"Berlin",shortName:"Berlin",country:"Germany",description:"The vibrant capital of Germany, rich with history and culture.",image:`${Cn}/berlin.jpg`,contentFile:"berlin",lat:52.52,lng:13.405,travelTips:["Buy a day pass for BVG to use buses, trams and U-Bahn.","Book museum tickets online weeks ahead  Pergamon and others sell out fast."]},{id:"munich",name:"Munich",shortName:"Munich",country:"Germany",description:"Bavarian charm with easy train connections and English-friendly atmosphere.",image:`${Cn}/munich.jpg`,contentFile:"munich",lat:48.1351,lng:11.582,travelTips:["Visit beer halls and try Weiwurst before noon  it's tradition!","Book Oktoberfest accommodation months in advance if visiting in fall."]},{id:"paris",name:"Paris",shortName:"Paris",country:"France",description:"City of Light  museums, cafs, and iconic architecture.",image:`${Cn}/paris.jpg`,contentFile:"paris",lat:48.8566,lng:2.3522,travelTips:["Book Louvre and Eiffel Tower tickets weeks in advance to skip massive lines.","Always say 'Bonjour' when entering shops  it's considered rude not to."]},{id:"amsterdam",name:"Amsterdam",shortName:"Amsterdam",country:"Netherlands",description:"Picturesque canals and world-class museums with excellent English support.",image:`${Cn}/amsterdam.jpg`,contentFile:"amsterdam",lat:52.3676,lng:4.9041,travelTips:["Book Anne Frank House tickets exactly 6 weeks in advance  they sell out in minutes.","Never walk in bike lanes (red pavement)  bikes have absolute right of way!"]},{id:"london",name:"London",shortName:"London",country:"United Kingdom",description:"Royal palaces, world-class museums, and 2,000 years of history.",image:`${Cn}/london-city.jpg`,contentFile:"london",lat:51.5074,lng:-.1278,travelTips:["Get an Oyster card or use contactless  it's much cheaper than paper tickets.","Major museums are FREE (British Museum, National Gallery, V&A)  huge money saver!"]},{id:"prague",name:"Prague",shortName:"Prague",country:"Czech Republic",description:"Fairy-tale architecture, historic squares, and budget-friendly prices.",image:`${Cn}/prague.jpg`,contentFile:"prague",lat:50.0755,lng:14.4378,travelTips:["Beer is cheaper than water  seriously! Enjoy Prague's incredible beer culture.","Walk Charles Bridge at sunrise to avoid massive crowds."]},{id:"vienna",name:"Vienna",shortName:"Vienna",country:"Austria",description:"Imperial elegance with music, coffee houses, and palaces.",image:`${Cn}/vienna.jpg`,contentFile:"vienna",lat:48.2082,lng:16.3738,travelTips:["Book Schnbrunn Palace tickets online to skip long lines.","Experience a traditional coffee house  sit as long as you want, it's part of the culture."]},{id:"rome",name:"Rome",shortName:"Rome",country:"Italy",description:"Ancient ruins, vibrant piazzas, and unforgettable food.",image:`${Cn}/rome.jpg`,contentFile:"rome",lat:41.9028,lng:12.4964,travelTips:["Book Colosseum and Vatican tickets weeks ahead  lines can be 3+ hours!","Cover shoulders and knees for churches  dress code is strictly enforced."]},{id:"barcelona",name:"Barcelona",shortName:"Barcelona",country:"Spain",description:"Gaud architecture, beaches, and tapas culture.",image:`${Cn}/barcelona.jpg`,contentFile:"barcelona",lat:41.3851,lng:2.1734,travelTips:["Book Sagrada Famlia tickets weeks in advance  it's Barcelona's #1 attraction.","Watch for pickpockets on La Rambla and in the Metro  they target tourists."]},{id:"lisbon",name:"Lisbon",shortName:"Lisbon",country:"Portugal",description:"Hilly streets, trams, and seafood by the Tagus.",image:`${Cn}/lisbon.jpg`,contentFile:"lisbon",lat:38.7223,lng:-9.1393,travelTips:["Ride Tram 28 early morning to avoid tourist crowds.","Wear very comfortable shoes  Lisbon is built on seven hills with steep cobblestones!"]},{id:"budapest",name:"Budapest",shortName:"Budapest",country:"Hungary",description:"Thermal baths, riverside views, and historic architecture.",image:`${Cn}/budapest.jpg`,contentFile:"budapest",lat:47.4979,lng:19.0402,travelTips:["Visit Szchenyi thermal baths  it's an essential Budapest experience!","Explore ruin bars in the Jewish Quarter  unique nightlife you won't find elsewhere."]}];function cz(){const[t,e]=ce.useState(""),r=lz.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.description.toLowerCase().includes(t.toLowerCase()));return v.jsx("section",{id:"destinations",className:"min-h-screen bg-[var(--brand-bg)] py-10 px-4 transition-colors duration-300",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[v.jsx("h2",{className:"text-3xl font-bold text-[var(--brand-dark)]",children:"Explore Destinations"}),v.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),placeholder:"Search destinations...",className:"border border-[var(--border)] rounded-lg px-4 py-2 w-full sm:w-64 bg-[var(--brand-light)] text-[var(--brand-dark)] placeholder-[var(--muted-foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent transition-all duration-200"})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto max-h-[80vh] pr-2",children:r.length>0?r.map(i=>v.jsx(oz,{destination:i},i.id)):v.jsx("p",{className:"text-[var(--muted-foreground)] text-center col-span-full",children:"No destinations found."})})]})})}const uz=[{id:"transportation",title:"Transportation in Germany",description:"Navigate trains, buses, and driving in Germany with confidence.",icon:Zk},{id:"accommodations",title:"Finding Housing in Germany",description:"Find apartments, understand rental contracts, and navigate German housing.",icon:eA},{id:"services",title:"English-Speaking Services in Germany",description:"Verified English-speaking doctors, mechanics, lawyers, and businesses.",icon:tA},{id:"phrases",title:"Essential German Phrases",description:"Learn key German phrases with pronunciation to navigate daily life.",icon:nA},{id:"budgeting",title:"Banking & Money in Germany",description:"Open German bank accounts, understand payments, and manage your finances.",icon:rA},{id:"etiquette",title:"German Cultural Etiquette",description:"Do's and don'ts for living in Germany  blend in like a local.",icon:sA}];function dz(){const t=NS();return v.jsx("section",{id:"tips",className:"py-16 bg-[var(--brand-bg-alt)]",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-[var(--brand-dark)]",children:"Travel Tips & Essentials"}),v.jsx("p",{className:"text-center text-[var(--brand-dark)]/70 max-w-2xl mx-auto mb-12",children:"Helpful guides, how-tos, and quick reads to travel smarter."}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:uz.map(e=>{const r=e.icon;return v.jsx(xr.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:300},onClick:()=>t(`/articles/${e.id}`),className:"cursor-pointer",children:v.jsx(Hu,{className:"bg-[var(--brand-light)] border border-[var(--border)] hover:border-[var(--brand-primary)] transition-all duration-300 rounded-2xl shadow-md hover:shadow-xl",children:v.jsxs(gT,{className:"p-6 flex flex-col items-center text-center",children:[v.jsx(r,{className:"w-10 h-10 text-[var(--brand-primary)] mb-4"}),v.jsx("h3",{className:"text-lg font-semibold text-[var(--brand-dark)] mb-2",children:e.title}),v.jsx("p",{className:"text-[var(--brand-dark)]/70",children:e.description})]})})},e.id)})})]})})}const fz="inline-flex items-center justify-center px-4 py-2 rounded-xl font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",hz={default:"bg-brand-green text-brand-black hover:bg-brand-black hover:text-brand-green focus:ring-brand-green",outline:"border border-brand-green text-brand-green hover:bg-brand-green hover:text-brand-black focus:ring-brand-green",ghost:"text-brand-green hover:text-brand-black hover:bg-brand-green/10 focus:ring-brand-green"},yT=ce.forwardRef((t,e)=>{const{variant:r="default",className:i,children:o,as:l="button",...u}=t,f=tg(fz,hz[r],i);return l==="link"?v.jsx(Fn,{ref:e,className:f,...u,children:o}):v.jsx("button",{ref:e,className:f,...u,children:o})});yT.displayName="Button";const Jh=[{code:"de",name:"German",flag:""},{code:"fr",name:"French",flag:""},{code:"it",name:"Italian",flag:""},{code:"es",name:"Spanish",flag:""},{code:"nl",name:"Dutch",flag:""},{code:"cs",name:"Czech",flag:""}];class pz{async getCategories(){const{data:e,error:r}=await mn.from("phrase_categories").select("*").order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching categories:",r),r;return e||[]}async getPhrasesByCategory(e){console.log(" Querying Supabase for category:",e);const{data:r,error:i}=await mn.from("phrases").select("*").eq("category_id",e).order("sort_order",{ascending:!0});if(console.log(" Raw data from Supabase:",r),console.log(" Error (if any):",i),i)throw console.error("Error fetching phrases:",i),i;const o=this.groupPhrases(r||[]);return console.log(" Grouped phrases:",o),o}async getAllPhrases(){const{data:e,error:r}=await mn.from("phrases").select("*").order("category_id",{ascending:!0}).order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching all phrases:",r),r;const i={},o=e||[];return new Set(o.map(u=>u.category_id)).forEach(u=>{const f=o.filter(h=>h.category_id===u);i[u]=this.groupPhrases(f)}),i}async searchPhrases(e,r){let i=mn.from("phrases").select("*");r&&(i=i.eq("language_code",r)),i=i.or(`english.ilike.%${e}%,translation.ilike.%${e}%`);const{data:o,error:l}=await i;if(l)throw console.error("Error searching phrases:",l),l;return this.groupPhrases(o||[])}groupPhrases(e){const r=new Map;return e.forEach(i=>{r.has(i.english)||r.set(i.english,{english:i.english,icon:i.icon,sort_order:i.sort_order,translations:{}});const o=r.get(i.english);o.translations[i.language_code]={text:i.translation,pronunciation:i.pronunciation}}),Array.from(r.values()).sort((i,o)=>i.sort_order-o.sort_order)}async getPhraseByEnglish(e){const{data:r,error:i}=await mn.from("phrases").select("*").eq("english",e);if(i)throw console.error("Error fetching phrase:",i),i;return!r||r.length===0?null:this.groupPhrases(r)[0]||null}}const Qh=new pz;function mz(){const[t,e]=ce.useState(Jh[0].code),[r,i]=ce.useState(null),[o,l]=ce.useState([]),[u,f]=ce.useState([]),[h,m]=ce.useState(!0),[y,b]=ce.useState(null),[_,S]=ce.useState("");ce.useEffect(()=>{E()},[]),ce.useEffect(()=>{r&&T(r)},[r]);const E=async()=>{try{m(!0);const R=await Qh.getCategories();l(R),R.length>0&&i(R[0].id)}catch(R){console.error("Error loading categories:",R),b(`Failed to load categories: ${R instanceof Error?R.message:"Unknown error"}`)}finally{m(!1)}},T=async R=>{try{m(!0);const F=await Qh.getPhrasesByCategory(R);f(F),b(null)}catch(F){console.error("Error loading phrases:",F),b(`Failed to load phrases: ${F instanceof Error?F.message:"Unknown error"}`)}finally{m(!1)}},A=async()=>{if(!_.trim()){r&&T(r);return}try{m(!0);const R=await Qh.searchPhrases(_,t);f(R),b(null)}catch(R){b("Search failed"),console.error(R)}finally{m(!1)}},U=(R,F)=>{if("speechSynthesis"in window){const K=new SpeechSynthesisUtterance(R),G={de:"de-DE",fr:"fr-FR",it:"it-IT",es:"es-ES",nl:"nl-NL",cs:"cs-CZ"};K.lang=G[F]||F,K.rate=.8,window.speechSynthesis.speak(K)}},z=Jh.find(R=>R.code===t);return h&&o.length===0?v.jsx("section",{id:"phrases",className:"py-16",style:{background:"var(--brand-bg)"},children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}}),v.jsx("p",{className:"mt-4 text-gray-600",children:"Loading phrases..."})]})})}):y?v.jsx("section",{id:"phrases",className:"py-16",style:{background:"var(--brand-bg)"},children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs(Hu,{className:"p-8",style:{background:"var(--brand-light)",border:"1px solid var(--border)"},children:[v.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--brand-dark)"},children:"Error Loading Phrases"}),v.jsx("p",{className:"mb-4",style:{color:"var(--muted-foreground)"},children:y}),v.jsx(yT,{onClick:E,style:{background:"var(--brand-primary)",color:"white"},className:"hover:opacity-90",children:"Retry Loading"})]})})})}):v.jsx("section",{id:"phrases",className:"py-16",style:{background:"var(--brand-bg)"},children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-4xl font-bold mb-4",style:{color:"var(--brand-dark)"},children:"Essential Travel Phrases"}),v.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Master key phrases in multiple European languages for your travels"})]}),v.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:Jh.map(R=>v.jsxs("button",{onClick:()=>e(R.code),className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base",style:{background:t===R.code?"var(--brand-primary)":"var(--brand-light)",color:t===R.code?"white":"var(--brand-dark)",border:`2px solid ${t===R.code?"var(--brand-primary)":"var(--border)"}`},children:[v.jsx("span",{className:"mr-1 sm:mr-2 text-base sm:text-lg",children:R.flag}),R.name]},R.code))}),v.jsx("div",{className:"max-w-2xl mx-auto mb-8 px-2",children:v.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search phrases...",value:_,onChange:R=>S(R.target.value),onKeyDown:R=>R.key==="Enter"&&A(),className:"flex-1 px-4 py-3 border-2 rounded-lg focus:outline-none text-base",style:{borderColor:"var(--border)",background:"white"}}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:A,className:"flex-1 sm:flex-none px-6 py-3 rounded-lg font-semibold transition-all hover:opacity-90",style:{background:"var(--brand-primary)",color:"white"},children:"Search"}),_&&v.jsx("button",{onClick:()=>{S(""),r&&T(r)},className:"flex-1 sm:flex-none px-4 py-3 rounded-lg font-semibold transition-all hover:opacity-90",style:{background:"var(--muted)",color:"var(--brand-dark)"},children:"Clear"})]})]})}),v.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:o.map(R=>v.jsxs("button",{onClick:()=>{i(R.id),S("")},className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base whitespace-nowrap",style:{background:r===R.id?"var(--brand-primary)":"var(--brand-light)",color:r===R.id?"white":"var(--brand-dark)",border:`2px solid ${r===R.id?"var(--primary)":"var(--border)"}`},children:[v.jsx("span",{className:"mr-1 sm:mr-2",children:R.icon}),v.jsx("span",{className:"hidden sm:inline",children:R.name}),v.jsx("span",{className:"sm:hidden",children:R.name.split(" ")[0]})]},R.id))}),h?v.jsx("div",{className:"text-center py-12",children:v.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}})}):v.jsx("div",{className:"max-w-4xl mx-auto px-2",children:u.length===0?v.jsx(Hu,{className:"p-8 text-center",style:{background:"var(--brand-light)",border:"1px solid var(--border)"},children:v.jsx("p",{className:"text-gray-600",children:_?"No phrases found matching your search.":"No phrases available for this category."})}):v.jsx("div",{className:"overflow-y-auto space-y-3 sm:space-y-4 pr-1 sm:pr-2",style:{maxHeight:"400px",scrollbarWidth:"thin",scrollbarColor:"var(--brand-primary) var(--brand-bg-alt)"},children:u.map((R,F)=>{const K=R.translations[t];return K?v.jsx("div",{className:"p-4 sm:p-6 rounded-xl transition-shadow hover:shadow-lg",style:{background:"var(--brand-light)",border:"1px solid var(--border)",minHeight:"auto"},children:v.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[v.jsxs("div",{className:"flex items-start gap-3 w-full sm:hidden",children:[R.icon&&v.jsx("span",{className:"text-2xl flex-shrink-0",children:R.icon}),v.jsxs("div",{className:"flex-1 space-y-3",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-base font-semibold",style:{color:"var(--brand-dark)"},children:R.english}),v.jsx("p",{className:"text-xs text-gray-500",children:"English"})]}),v.jsxs("div",{className:"pt-3 border-t-2",style:{borderColor:"var(--brand-primary)"},children:[v.jsx("p",{className:"text-lg font-bold mb-1",style:{color:"var(--brand-primary)"},children:K.text}),v.jsx("p",{className:"text-sm text-gray-600 italic",children:K.pronunciation}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z?.name})]})]}),v.jsx("button",{onClick:()=>U(K.text,t),className:"shrink-0 w-10 h-10 rounded-lg transition-all hover:opacity-90 flex items-center justify-center",style:{background:"var(--brand-gold)",color:"var(--brand-dark)"},title:"Listen to pronunciation",children:v.jsx("span",{className:"text-lg",children:""})})]}),v.jsxs("div",{className:"hidden sm:flex items-center gap-4 w-full",children:[R.icon&&v.jsx("span",{className:"text-3xl flex-shrink-0",children:R.icon}),v.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-6",children:[v.jsxs("div",{className:"flex flex-col justify-center",children:[v.jsx("p",{className:"text-lg font-semibold",style:{color:"var(--brand-dark)"},children:R.english}),v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"English"})]}),v.jsxs("div",{className:"flex flex-col justify-center pl-4",style:{borderLeft:"4px solid var(--brand-primary)"},children:[v.jsx("p",{className:"text-xl font-bold mb-1",style:{color:"var(--brand-primary)"},children:K.text}),v.jsx("p",{className:"text-sm text-gray-600 italic",children:K.pronunciation}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z?.name})]})]}),v.jsx("button",{onClick:()=>U(K.text,t),className:"shrink-0 w-12 h-12 rounded-lg transition-all hover:opacity-90 flex items-center justify-center",style:{background:"var(--brand-gold)",color:"var(--brand-dark)"},title:"Listen to pronunciation",children:v.jsx("span",{className:"text-xl",children:""})})]})]})},F):null})})}),v.jsx("div",{className:"mt-12 text-center",children:v.jsx("p",{className:"text-sm text-gray-600",children:" Tip: Click the speaker icon to hear the native pronunciation"})})]})})}function bT(t){return{id:t.id,name:t.name,category:t.category,subcategory:t.subcategory,description:t.description,location:t.location,address:t.address,city:t.city,latitude:t.latitude,longitude:t.longitude,basesServed:t.bases_served,baseDistance:t.base_distance,googleMapsUrl:t.google_maps_url,phone:t.phone,email:t.email,website:t.website,englishFluency:t.english_fluency,sofaFamiliar:t.sofa_familiar,militaryDiscount:t.military_discount,discountPercent:t.discount_percent,verified:t.verified,featured:t.featured,featuredTier:t.featured_tier,status:t.status,priceRange:t.price_range,rating:t.rating,reviewCount:t.review_count,imageUrl:t.image_url,images:t.images,notes:t.notes,tags:t.tags,isOnBase:t.is_on_base,createdAt:t.created_at,updatedAt:t.updated_at}}function gz(t){return{id:t.id,businessId:t.business_id,authorName:t.author_name,rating:t.rating,comment:t.comment,createdAt:t.created_at}}async function yz(t){try{let e=mn.from("businesses").select("*");t?.category&&(e=e.eq("category",t.category)),t?.subcategory&&(e=e.eq("subcategory",t.subcategory)),t?.status?e=e.eq("status",t.status):e=e.eq("status","active"),t?.baseId&&t.baseId!=="all"&&(e=e.contains("bases_served",[t.baseId]));const{data:r,error:i}=await e;if(i)throw console.error("Error fetching businesses:",i),i;return(r||[]).map(bT)}catch(e){return console.error("Failed to fetch businesses:",e),[]}}async function m4(t){try{const{data:e,error:r}=await mn.from("businesses").select("*").eq("id",t).single();if(r)throw console.error("Error fetching business:",r),r;return e?bT(e):null}catch(e){return console.error("Failed to fetch business:",e),null}}async function g4(t){try{const{data:e,error:r}=await mn.from("reviews").select("*").eq("business_id",t).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching reviews:",r),r;return(e||[]).map(gz)}catch(e){return console.error("Failed to fetch reviews:",e),[]}}function bz(t){return Kk({queryKey:["businesses",t],queryFn:()=>yz(t),staleTime:300*1e3})}const vz=[{id:"automotive",title:"Automotive Services",icon:iA,description:"Car dealers, mechanics, and auto services that work with Americans"},{id:"healthcare",title:"Healthcare",icon:aA,description:"English-speaking doctors, dentists, and specialists near European US Bases"},{id:"restaurants",title:"Restaurants & Dining",icon:oA,description:"English-friendly restaurants throughout Europe serving American living abroad"},{id:"shopping",title:"Shopping",icon:lA,description:"Stores and shops with English-speaking staff"},{id:"home-services",title:"Home Services",icon:cA,description:"Plumbers, electricians, and handymen who work with American families"},{id:"real-estate",title:"Real Estate",icon:uA,description:"Housing agents familiar with American military housing needs"},{id:"legal",title:"Legal Services",icon:dA,description:"Lawyers who understand SOFA status and military regulations"},{id:"education",title:"Education",icon:fA,description:"International schools and tutors for military families"},{id:"business",title:"Business Services",icon:hA,description:"Tax advisors and accountants familiar with US/German requirements"}];function _z({selectedBase:t}){const{data:e=[],isLoading:r}=bz(),i=ce.useMemo(()=>{const o={};return e.forEach(l=>{o[l.category]=(o[l.category]||0)+1}),o},[e]);return r?v.jsx("section",{className:"relative bg-white py-20",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:v.jsx("p",{className:"text-[var(--brand-dark)]",children:"Loading services..."})})}):v.jsxs("section",{id:"services",className:"relative bg-white py-20",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/services.jpg')] bg-cover bg-center"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),v.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--brand-bg)] mb-4",children:"Trusted English-Speaking Services Helping Americans Feel at Home in Europe"}),v.jsx("p",{className:"text-lg text-[var(--brand-light)] font-bold opacity-80 max-w-3xl mx-auto",children:"Find personally verified, English-speaking businesses across Europe that understand U.S. military, civilian, and contractors, and their families  offering trusted local support and peace of mind wherever you're stationed."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:vz.map(o=>{const l=o.icon,u=i[o.id]||0;return v.jsxs(Fn,{to:u>0?`/services/${o.id}?base=${t}`:"#",className:`bg-[var(--brand-bg)] rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-all ${u>0?"cursor-pointer":"cursor-not-allowed opacity-75"}`,children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"bg-[var(--brand-primary)] p-3 rounded-lg",children:v.jsx(l,{className:"w-6 h-6 text-white"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-[var(--brand-dark)]",children:o.title}),v.jsxs("p",{className:"text-sm text-[var(--brand-dark)] opacity-60",children:[u," ",u===1?"business":"businesses"]})]})]}),v.jsx("p",{className:"text-[var(--brand-dark)] opacity-70 mb-4",children:o.description}),u>0?v.jsxs("div",{className:"w-full bg-[var(--brand-primary)] text-white py-2 px-4 rounded-lg hover:bg-[var(--brand-dark)] transition font-medium text-center",children:["View ",u," ",u===1?"Business":"Businesses"]}):v.jsx("div",{className:"w-full bg-gray-300 text-gray-600 py-2 px-4 rounded-lg font-medium text-center",children:"Coming Soon"})]},o.id)})}),v.jsx("div",{className:"bg-[var(--brand-dark)] rounded-xl p-8 mb-8 shadow-xl",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Do You Own a Business Near a US Military Base?"}),v.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"If your business serves American military families and you speak English, we'd love to feature you in our directory."}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[v.jsx(Fn,{to:"/submit-business",className:"inline-block bg-[var(--brand-primary)] text-white px-8 py-3 rounded-lg hover:bg-[var(--brand-gold)] hover:text-[var(--brand-dark)] transition font-semibold",children:"List Your Business"}),v.jsx("a",{href:"mailto:european.living.live@gmail.com?subject=Business Listing Inquiry",className:"inline-block bg-white text-[var(--brand-dark)] px-8 py-3 rounded-lg hover:bg-gray-100 transition font-semibold",children:"Email Us"})]})]})}),v.jsxs("div",{className:"text-center bg-white rounded-xl p-8 shadow-lg",children:[v.jsx("h3",{className:"text-2xl font-bold text-[var(--brand-dark)] mb-4",children:"Need More Help Finding Services?"}),v.jsx("p",{className:"text-[var(--brand-dark)] opacity-80 mb-6 max-w-2xl mx-auto",children:"Check out our comprehensive guide with tips for finding English-speaking professionals throughout Germany."}),v.jsx(Fn,{to:"/articles/services",className:"inline-block bg-[var(--brand-primary)] text-white px-8 py-3 rounded-lg hover:bg-[var(--brand-dark)] transition font-semibold",children:"Read Full Services Guide "})]})]})]})}function Sz(){const[t,e]=ce.useState(!1);return v.jsx("section",{id:"contact",className:"bg-[var(--brand-bg)] py-16 px-6 text-[#131312]",children:v.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[v.jsx("h2",{className:"text-3xl font-semibold mb-4 tracking-tight",children:"Get in Touch"}),v.jsx("p",{className:"text-lg text-[#131312]/80 mb-8",children:"Whether youre an American relocating to Europe, already living here, or simply exploring, were here to make your experience smoother."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6 mb-10",children:[v.jsxs("a",{href:"mailto:european.living.live@gmail.com",className:"flex items-center gap-2 bg-[var(--brand-button)] text-[#f7f7ec] px-5 py-3 rounded-xl hover:bg-[#131312] transition",children:[v.jsx(pA,{size:20}),"european.living.live@gmail.com"]}),v.jsxs("a",{href:"https://wa.me/4915165227520",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[var(--brand-dark)] text-[#f4f5f0] px-5 py-3 rounded-xl hover:bg-[#9da586] transition",children:[v.jsx(mA,{size:20}),"Chat on WhatsApp"]})]}),v.jsx("button",{onClick:()=>e(!t),className:"bg-[var(--brand-button)] text-[#f7f7ec] px-6 py-3 rounded-xl font-medium hover:bg-[#131312] hover:text-[#f4f5f0] transition",children:t?"Close Form":"Ask a Question"}),v.jsx(gu,{children:t&&v.jsx(xr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:v.jsxs("form",{action:"https://formspree.io/f/mnngzrdn",method:"POST",className:"mt-8 bg-[#f4f5f0] p-8 rounded-2xl shadow-sm border border-[#9da586]/30 text-left",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Name"}),v.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Email"}),v.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Message"}),v.jsx("textarea",{name:"message",rows:4,required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),v.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#131312] text-[#f7f7ec] px-6 py-3 rounded-xl hover:bg-[#9da586] transition",children:[v.jsx(gA,{size:18}),"Send Message"]})]})})})]})})}const wz=()=>{const t=()=>{localStorage.removeItem("cookieConsent"),window.dispatchEvent(new Event("openCookieSettings"))};return v.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"European Living"}),v.jsx("p",{className:"text-sm text-gray-400",children:"Your guide to living, working, and exploring Germany and Europe as a U.S. military member or expat."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx(Fn,{to:"/",className:"hover:text-white transition-colors",children:"Home"})}),v.jsx("li",{children:v.jsx(Fn,{to:"/services-directory",className:"hover:text-white transition-colors",children:"Services Directory"})}),v.jsx("li",{children:v.jsx(Fn,{to:"/day-trips",className:"hover:text-white transition-colors",children:"Day Trips"})}),v.jsx("li",{children:v.jsx(Fn,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx(Fn,{to:"/submit-business",className:"hover:text-white transition-colors",children:"Submit Your Business"})}),v.jsx("li",{children:v.jsx("a",{href:"https://www.usedcarguys.net",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Used Car Guys"})}),v.jsx("li",{children:v.jsx("a",{href:"https://framedwithwonder.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Framed With Wonder"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx(Fn,{to:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsxs("button",{onClick:t,className:"hover:text-white transition-colors flex items-center gap-2 text-left",children:[v.jsx(MS,{className:"w-4 h-4"}),"Cookie Settings"]})})]})]})]}),v.jsx("div",{className:"border-t border-[var(--brand-primary)] border-opacity-30 pt-6 mt-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 150+ Businesses"}),v.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Verified English-friendly services"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 10+ Years"}),v.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Serving the military community"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 6 Bases"}),v.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Major US installations covered"})]})]})}),v.jsxs("div",{className:"border-t border-gray-800 pt-8 mt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[v.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," European Living. All rights reserved. Serving the American military community in Germany."]}),v.jsx("p",{className:"text-sm text-gray-400",children:"Made with  for U.S. military families in Europe"})]})]})})},Ez=()=>{const[t,e]=ce.useState(!1),[r,i]=ce.useState(!1),[o,l]=ce.useState({necessary:!0,analytics:!1,marketing:!1});ce.useEffect(()=>{const _=localStorage.getItem("cookieConsent"),S=localStorage.getItem("cookieConsentDate");if(_&&S){const E=Date.now()-new Date(S).getTime(),T=365*24*60*60*1e3;if(E>T)localStorage.removeItem("cookieConsent"),localStorage.removeItem("cookieConsentDate"),setTimeout(()=>e(!0),500);else try{const A=JSON.parse(_);l(A),u(A)}catch(A){console.error("Error parsing cookie preferences",A)}}else{const E=setTimeout(()=>e(!0),500);return()=>clearTimeout(E)}},[]);const u=_=>{if(typeof window.gtag>"u"){console.log("gtag not loaded yet");return}_.analytics?window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag("consent","update",{analytics_storage:"denied"}),_.marketing?window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}):window.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})},f=()=>{y({necessary:!0,analytics:!0,marketing:!0}),jp(),e(!1),i(!1)},h=()=>{y({necessary:!0,analytics:!1,marketing:!1}),e(!1),i(!1)},m=()=>{y(o),o.analytics&&jp(),e(!1),i(!1)},y=_=>{localStorage.setItem("cookieConsent",JSON.stringify(_)),localStorage.setItem("cookieConsentDate",new Date().toISOString()),u(_),window.dispatchEvent(new CustomEvent("cookieConsentUpdated",{detail:_}))},b=_=>{_!=="necessary"&&l(S=>({...S,[_]:!S[_]}))};return ce.useEffect(()=>{const _=()=>{e(!0),i(!0)};return window.addEventListener("openCookieSettings",_),()=>window.removeEventListener("openCookieSettings",_)},[]),v.jsx(gu,{children:t&&v.jsxs(v.Fragment,{children:[v.jsx(xr.div,{className:"fixed inset-0 bg-black/30 z-[100]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!r&&f()}),v.jsx(gu,{children:r&&v.jsx(xr.div,{className:"fixed inset-0 z-[102] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsxs(xr.div,{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:_=>_.stopPropagation(),children:[v.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between flex-shrink-0 bg-white",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(yA,{className:"w-6 h-6 text-blue-600"}),v.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Cookie Settings"})]}),v.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close settings",children:v.jsx(Qp,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[v.jsx("p",{className:"text-gray-600",children:"We use cookies to improve your experience on our site. You can choose which types of cookies to allow below."}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[v.jsx(bA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Necessary Cookies"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function. These cannot be disabled."})]})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsx("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center justify-end px-1 cursor-not-allowed",children:v.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),v.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[v.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),v.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[v.jsx("li",{children:"Enable core website functionality"}),v.jsx("li",{children:"Remember your base selection"}),v.jsx("li",{children:"Secure authentication and session management"}),v.jsx("li",{children:"Accessibility features"})]})]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[v.jsx(vA,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Analytics Cookies"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors use our site to improve user experience."})]})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsx("button",{onClick:()=>b("analytics"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.analytics?"bg-blue-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle analytics cookies ${o.analytics?"off":"on"}`,children:v.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),v.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[v.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),v.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[v.jsx("li",{children:"Anonymous visitor statistics"}),v.jsx("li",{children:"Page view tracking"}),v.jsx("li",{children:"User journey analysis"}),v.jsx("li",{children:"Help us improve navigation and content"})]}),v.jsx("p",{className:"mt-2 text-xs",children:"We use Google Analytics with IP anonymization."})]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[v.jsx(_A,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Marketing Cookies"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements based on your interests."})]})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsx("button",{onClick:()=>b("marketing"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.marketing?"bg-purple-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle marketing cookies ${o.marketing?"off":"on"}`,children:v.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),v.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[v.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),v.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[v.jsx("li",{children:"Track your browsing across websites"}),v.jsx("li",{children:"Deliver relevant advertisements"}),v.jsx("li",{children:"Measure ad campaign effectiveness"}),v.jsx("li",{children:"Create advertising profiles"})]})]})]}),v.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:v.jsxs("p",{children:["For more information about how we use cookies, please see our"," ",v.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",children:"Privacy Policy"}),". You can change your preferences at any time."]})})]}),v.jsxs("div",{className:"border-t border-gray-200 p-6 flex flex-col sm:flex-row gap-3 flex-shrink-0 bg-white",children:[v.jsx("button",{onClick:h,className:"flex-1 border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50 transition",children:"Reject All"}),v.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Preferences"}),v.jsx("button",{onClick:f,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Accept All"})]})]})})}),!r&&v.jsx(xr.div,{className:"fixed bottom-0 left-0 right-0 z-[101] bg-white border-t-2 border-gray-200 shadow-2xl",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:_=>_.stopPropagation(),children:v.jsx("div",{className:"max-w-7xl mx-auto p-6",children:v.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[v.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[v.jsx(MS,{className:"w-8 h-8 text-blue-600 flex-shrink-0 mt-1"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:" Cookie Settings"}),v.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["We use cookies to provide you with an optimal website experience. Further information and how you can object to the use of cookies at any time can be found in our"," ",v.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",children:"privacy policy"}),"."]})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[v.jsx("button",{onClick:h,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition whitespace-nowrap",children:"Reject All"}),v.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 border-2 border-blue-600 text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition whitespace-nowrap",children:"Settings"}),v.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition whitespace-nowrap shadow-lg",children:"Accept All"})]})]})})})]})})},bS=[{id:"ramstein",name:"Ramstein Air Base",location:"Ramstein-Miesenbach",region:"Rhineland-Palatinate",icon:"",description:"Largest USAF base in Europe"},{id:"stuttgart",name:"USAG Stuttgart",location:"Stuttgart",region:"Baden-Wrttemberg",icon:"",description:"Home to EUCOM and AFRICOM headquarters"},{id:"kaiserslautern",name:"Kaiserslautern Area",location:"Kaiserslautern",region:"Rhineland-Palatinate",icon:"",description:"Heart of the KMC  Kaiserslautern Military Community"},{id:"wiesbaden",name:"USAG Wiesbaden",location:"Wiesbaden",region:"Hesse",icon:"",description:"Near Frankfurt, Army base and community"},{id:"grafenwoehr",name:"USAG Bavaria",location:"Grafenwhr",region:"Bavaria",icon:"",description:"Training area and large Army garrison"},{id:"spangdahlem",name:"Spangdahlem Air Base",location:"Spangdahlem",region:"Rhineland-Palatinate",icon:"",description:"USAF base near Bitburg"}],xz=()=>{const{selectedBase:t,setSelectedBase:e}=Fm(),[r,i]=ce.useState(!1),[o,l]=ce.useState(null),[u,f]=ce.useState(!1);ce.useEffect(()=>{const S=localStorage.getItem("hasVisitedSite");if(t&&t!=="all")f(!0);else if(!S){const E=setTimeout(()=>i(!0),800);return()=>clearTimeout(E)}},[t]),ce.useEffect(()=>{const S=()=>{l(null),i(!0)};return window.addEventListener("openBaseSelectionModal",S),()=>{window.removeEventListener("openBaseSelectionModal",S)}},[]);const h=S=>l(S),m=()=>{o&&(e(o),localStorage.setItem("hasVisitedSite","true"),i(!1),f(!0))},y=()=>{localStorage.setItem("hasVisitedSite","true"),e("all"),i(!1),f(!0)},b=()=>{localStorage.removeItem("hasVisitedSite"),l(null),f(!1),i(!0),e("all")},_=S=>{if(S==="all")return"All Locations";const E=bS.find(T=>T.id===S);return E?E.name:"Select Base"};return v.jsxs(v.Fragment,{children:[u&&t&&v.jsxs("div",{className:"fixed top-4 right-4 z-40 bg-white shadow-lg rounded-lg px-4 py-2 border flex items-center gap-2 max-w-[calc(100vw-3rem)] overflow-hidden",children:[v.jsx(SA,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-medium truncate min-w-0",children:_(t)}),v.jsx("button",{onClick:b,className:"ml-2 text-xs text-red-500 hover:text-red-700 underline flex-shrink-0",children:"Reset"})]}),v.jsx(gu,{children:r&&v.jsx(xr.div,{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsxs(xr.div,{className:"bg-white rounded-2xl shadow-2xl max-w-md md:max-w-4xl w-full mt-12 overflow-y-auto max-h-[90vh]",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[v.jsxs("div",{className:"bg-blue-600 text-white p-6 flex justify-between items-center border-b border-gray-100",children:[v.jsx("h2",{className:"text-2xl font-extrabold",children:"Welcome to European Living "}),v.jsx("button",{onClick:y,className:"text-white/80 hover:text-white","aria-label":"Skip Base Selection",children:v.jsx(Qp,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"p-6 pb-8",children:[v.jsx("p",{className:"text-gray-700 text-base mb-6",children:"Choose the U.S. military community closest to you to see English-speaking services and local recommendations. You can change this anytime later."}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:bS.map(S=>v.jsx("button",{onClick:()=>h(S.id),className:`p-4 rounded-xl border-2 text-left transition duration-200 shadow-sm ${o===S.id?"border-blue-600 bg-blue-50 ring-2 ring-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300 hover:shadow-md"}`,children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("span",{className:"text-3xl mt-0.5",children:S.icon}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-extrabold text-gray-800",children:S.name}),v.jsxs("p",{className:"text-sm text-gray-600",children:[S.location,", ",S.region]}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S.description})]})]})},S.id))}),v.jsx("button",{onClick:()=>h("all"),className:`w-full p-4 border-2 rounded-lg transition duration-200 ${o==="all"?"border-gray-500 bg-gray-100 shadow-inner":"border-gray-300 hover:border-gray-400"} mb-6`,children:v.jsx("span",{className:"font-semibold text-gray-800",children:" Show All Locations"})}),v.jsx("button",{onClick:m,disabled:!o,className:`w-full py-3 rounded-xl font-semibold text-lg transition duration-300 shadow-lg ${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed shadow-none"} mt-4`,children:"Continue"}),v.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Not near a base?"," ",v.jsx("button",{onClick:y,className:"text-blue-600 font-medium hover:underline",children:"Skip this step"})]})]})]})})})]})};function Tz({size:t="md",message:e,fullScreen:r=!1}){const i={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-2",lg:"w-12 h-12 border-3",xl:"w-16 h-16 border-4"},o=v.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[v.jsx("div",{className:`${i[t]} border-blue-600 border-t-transparent rounded-full animate-spin`,role:"status","aria-label":"Loading"}),e&&v.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:e})]});return r?v.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white bg-opacity-90 z-50",children:o}):v.jsx("div",{className:"flex items-center justify-center p-8",children:o})}const kz=ce.lazy(()=>rt(()=>import("./ArticlePage-C-lXOx9g.js"),__vite__mapDeps([0,1,2,3,4,5]))),Az=ce.lazy(()=>rt(()=>import("./DestinationPage-Dmap52LC.js"),__vite__mapDeps([6,1,2,3,4,5]))),Oz=ce.lazy(()=>rt(()=>import("./BusinessDetailPage-6nJQfvE-.js"),__vite__mapDeps([7,1,2,8,9,10,4,5]))),vS=ce.lazy(()=>rt(()=>import("./ServiceCategoryPage-DmvQg2-4.js"),__vite__mapDeps([11,1,2,12,4,8,9,10,5]))),Cz=ce.lazy(()=>rt(()=>import("./ServicesDirectory-_m3bA_mj.js"),__vite__mapDeps([13,1,2,12,4,5]))),Rz=ce.lazy(()=>rt(()=>import("./BusinessSubmissionForm-DQawhzu_.js"),__vite__mapDeps([14,1,2,4,5]))),Nz=ce.lazy(()=>rt(()=>import("./BusinessDataEntry-D8MLqIFq.js"),__vite__mapDeps([15,1,2,4,5]))),jz=ce.lazy(()=>rt(()=>import("./PrivacyPolicy-Bpx0blaS.js"),__vite__mapDeps([16,1,2]))),Mz=ce.lazy(()=>rt(()=>import("./DayTripsPage-C03IGRxL.js"),__vite__mapDeps([17,1,2,18,4,5]))),Iz=ce.lazy(()=>rt(()=>import("./AboutPage-Bf5g5yKm.js"),__vite__mapDeps([19,1,2,18,4]))),Dz=ce.lazy(()=>rt(()=>import("./FeaturedContentAdmin-TLv8svoC.js"),__vite__mapDeps([20,1,2,18,4,5]))),Lz=()=>{const[t,e]=ce.useState(0);return ce.useEffect(()=>{const r=()=>{const i=window.scrollY,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,l=i/o*100;e(l)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),v.jsx(xr.div,{className:"fixed top-0 left-0 h-1 bg-blue-600 z-[9999]",style:{width:`${t}%`},initial:{width:0},animate:{width:t},transition:{ease:"easeOut",duration:.1}})},Uz=()=>v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)]",children:v.jsx(Tz,{size:"lg",message:"Loading page..."})});function Bz(){const{selectedBase:t}=Fm(),e=RS();return ce.useEffect(()=>{WU(e.pathname+e.search,document.title)},[e]),ce.useEffect(()=>{if(e.pathname==="/"){let r=null;e.state?.scrollTo?(r=e.state.scrollTo,window.history.replaceState({},document.title)):e.hash&&(r=e.hash.substring(1)),r&&setTimeout(()=>{const i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth"})},300)}},[e]),v.jsxs(v.Fragment,{children:[v.jsx(Ez,{}),v.jsx(xz,{}),v.jsx(Lz,{}),v.jsx(XU,{}),v.jsx(ce.Suspense,{fallback:v.jsx(Uz,{}),children:v.jsxs(Vk,{children:[v.jsx(dn,{path:"/",element:v.jsxs("div",{className:"pt-16",children:[v.jsx(JU,{}),v.jsx(TB,{}),v.jsx(cz,{}),v.jsx(dz,{}),v.jsx(mz,{}),v.jsx(_z,{selectedBase:t}),v.jsx(Sz,{})]})}),v.jsx(dn,{path:"/day-trips",element:v.jsx("div",{className:"pt-16",children:v.jsx(Mz,{})})}),v.jsx(dn,{path:"/admin/data-entry",element:v.jsx("div",{className:"pt-16",children:v.jsx(Nz,{})})}),v.jsx(dn,{path:"/admin/featured-content",element:v.jsx("div",{className:"pt-16",children:v.jsx(Dz,{})})}),v.jsx(dn,{path:"/services-directory",element:v.jsx("div",{className:"pt-16",children:v.jsx(Cz,{})})}),v.jsx(dn,{path:"/services/:category",element:v.jsx(vS,{})}),v.jsx(dn,{path:"/services/:category/:subcategory",element:v.jsx(vS,{})}),v.jsx(dn,{path:"/submit-business",element:v.jsx("div",{className:"pt-16",children:v.jsx(Rz,{})})}),v.jsx(dn,{path:"/articles/:slug",element:v.jsx(kz,{})}),v.jsx(dn,{path:"/destinations/:id",element:v.jsx(Az,{})}),v.jsx(dn,{path:"/businesses/:id",element:v.jsx(Oz,{})}),v.jsx(dn,{path:"/privacy-policy",element:v.jsx(jz,{})}),v.jsx(dn,{path:"/about",element:v.jsx("div",{className:"pt-16",children:v.jsx(Iz,{})})})]})}),v.jsx(wz,{})]})}class zz extends ce.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),il(i=>{i.setContext("errorInfo",{componentStack:r.componentStack}),pm(e)})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:v.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[v.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:v.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),v.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We've been notified and are working on a fix. Please try refreshing the page."}),this.state.error&&!1,v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Refresh Page"}),v.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded transition-colors",children:"Go Home"})]})]})}):this.props.children}}const _S={"/articles":()=>rt(()=>import("./ArticlePage-C-lXOx9g.js"),__vite__mapDeps([0,1,2,3,4,5])),"/destinations":()=>rt(()=>import("./DestinationPage-Dmap52LC.js"),__vite__mapDeps([6,1,2,3,4,5])),"/businesses":()=>rt(()=>import("./BusinessDetailPage-6nJQfvE-.js"),__vite__mapDeps([7,1,2,8,9,10,4,5])),"/services":()=>rt(()=>import("./ServiceCategoryPage-DmvQg2-4.js"),__vite__mapDeps([11,1,2,12,4,8,9,10,5])),"/services-directory":()=>rt(()=>import("./ServicesDirectory-_m3bA_mj.js"),__vite__mapDeps([13,1,2,12,4,5])),"/submit-business":()=>rt(()=>import("./BusinessSubmissionForm-DQawhzu_.js"),__vite__mapDeps([14,1,2,4,5])),"/privacy-policy":()=>rt(()=>import("./PrivacyPolicy-Bpx0blaS.js"),__vite__mapDeps([16,1,2]))},Zh=new Set;function Pu(t){const e=Object.keys(_S).find(i=>t.startsWith(i));if(!e||Zh.has(e))return;const r=_S[e];Zh.add(e),r().catch(i=>{console.error(`Failed to preload route: ${e}`,i),Zh.delete(e)})}function Hz(){const t=r=>{const o=r.target.closest("a[href]");if(o&&o.href){const l=new URL(o.href);l.origin===window.location.origin&&Pu(l.pathname)}},e=r=>{const i=r.target;if(i.tagName==="A"){const o=i;if(o.href){const l=new URL(o.href);l.origin===window.location.origin&&Pu(l.pathname)}}};return document.addEventListener("mouseover",t,!0),document.addEventListener("focusin",e,!0),()=>{document.removeEventListener("mouseover",t,!0),document.removeEventListener("focusin",e,!0)}}function Pz(){document.readyState==="complete"?SS():window.addEventListener("load",SS,{once:!0})}function SS(){setTimeout(()=>{Pu("/services-directory"),setTimeout(()=>{Pu("/services")},2e3)},1e3)}let vT=-1;const Ba=t=>{addEventListener("pageshow",(e=>{e.persisted&&(vT=e.timeStamp,t(e))}),!0)},er=(t,e,r,i)=>{let o,l;return u=>{e.value>=0&&(u||i)&&(l=e.value-(o??0),(l||o===void 0)&&(o=e.value,e.delta=l,e.rating=((f,h)=>f>h[1]?"poor":f>h[0]?"needs-improvement":"good")(e.value,r),t(e)))}},ng=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},rg=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},yl=()=>rg()?.activationStart??0,tr=(t,e=-1)=>{const r=rg();let i="navigate";return vT>=0?i="back-forward-cache":r&&(document.prerendering||yl()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},ep=new WeakMap;function sg(t,e){return ep.get(t)||ep.set(t,new e),ep.get(t)}class $z{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const r=this.o[0],i=this.o.at(-1);this.i&&r&&i&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const bl=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return i.observe({type:t,buffered:!0,...r}),i}}catch{}},ig=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let da=-1;const _T=new Set,wS=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Wp=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(const e of _T)e();isFinite(da)||(da=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",Wp,!0))}},rd=()=>{if(da<0){const t=yl();da=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter((r=>r.name==="hidden"&&r.startTime>t))[0]?.startTime)??wS(),addEventListener("visibilitychange",Wp,!0),addEventListener("prerenderingchange",Wp,!0),Ba((()=>{setTimeout((()=>{da=wS()}))}))}return{get firstHiddenTime(){return da},onHidden(t){_T.add(t)}}},sd=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},ES=[1800,3e3],ST=(t,e={})=>{sd((()=>{const r=rd();let i,o=tr("FCP");const l=bl("paint",(u=>{for(const f of u)f.name==="first-contentful-paint"&&(l.disconnect(),f.startTime<r.firstHiddenTime&&(o.value=Math.max(f.startTime-yl(),0),o.entries.push(f),i(!0)))}));l&&(i=er(t,o,ES,e.reportAllChanges),Ba((u=>{o=tr("FCP"),i=er(t,o,ES,e.reportAllChanges),ng((()=>{o.value=performance.now()-u.timeStamp,i(!0)}))})))}))},xS=[.1,.25],qz=(t,e={})=>{const r=rd();ST(ig((()=>{let i,o=tr("CLS",0);const l=sg(e,$z),u=h=>{for(const m of h)l.h(m);l.i>o.value&&(o.value=l.i,o.entries=l.o,i())},f=bl("layout-shift",u);f&&(i=er(t,o,xS,e.reportAllChanges),r.onHidden((()=>{u(f.takeRecords()),i(!0)})),Ba((()=>{l.i=0,o=tr("CLS",0),i=er(t,o,xS,e.reportAllChanges),ng((()=>i()))})),setTimeout(i))})))};let wT=0,tp=1/0,au=0;const Fz=t=>{for(const e of t)e.interactionId&&(tp=Math.min(tp,e.interactionId),au=Math.max(au,e.interactionId),wT=au?(au-tp)/7+1:0)};let Xp;const TS=()=>Xp?wT:performance.interactionCount??0,Gz=()=>{"interactionCount"in performance||Xp||(Xp=bl("event",Fz,{type:"event",buffered:!0,durationThreshold:0}))};let kS=0;class Vz{u=[];l=new Map;m;p;v(){kS=TS(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((TS()-kS)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&e.entryType!=="first-input")return;const r=this.u.at(-1);let i=this.l.get(e.interactionId);if(i||this.u.length<10||e.duration>r.P){if(i?e.duration>i.P?(i.entries=[e],i.P=e.duration):e.duration===i.P&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],P:e.duration},this.l.set(i.id,i),this.u.push(i)),this.u.sort(((o,l)=>l.P-o.P)),this.u.length>10){const o=this.u.splice(10);for(const l of o)this.l.delete(l.id)}this.p?.(i)}}}const ET=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=ig(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},AS=[200,500],Yz=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=rd();sd((()=>{Gz();let i,o=tr("INP");const l=sg(e,Vz),u=h=>{ET((()=>{for(const y of h)l.h(y);const m=l.L();m&&m.P!==o.value&&(o.value=m.P,o.entries=m.entries,i())}))},f=bl("event",u,{durationThreshold:e.durationThreshold??40});i=er(t,o,AS,e.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{u(f.takeRecords()),i(!0)})),Ba((()=>{l.v(),o=tr("INP"),i=er(t,o,AS,e.reportAllChanges)})))}))};class Kz{m;h(e){this.m?.(e)}}const OS=[2500,4e3],Wz=(t,e={})=>{sd((()=>{const r=rd();let i,o=tr("LCP");const l=sg(e,Kz),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)l.h(m),m.startTime<r.firstHiddenTime&&(o.value=Math.max(m.startTime-yl(),0),o.entries=[m],i())},f=bl("largest-contentful-paint",u);if(f){i=er(t,o,OS,e.reportAllChanges);const h=ig((()=>{u(f.takeRecords()),f.disconnect(),i(!0)})),m=y=>{y.isTrusted&&(ET(h),removeEventListener(y.type,m,{capture:!0}))};for(const y of["keydown","click","visibilitychange"])addEventListener(y,m,{capture:!0});Ba((y=>{o=tr("LCP"),i=er(t,o,OS,e.reportAllChanges),ng((()=>{o.value=performance.now()-y.timeStamp,i(!0)}))}))}}))},CS=[800,1800],Jp=t=>{document.prerendering?sd((()=>Jp(t))):document.readyState!=="complete"?addEventListener("load",(()=>Jp(t)),!0):setTimeout(t)},Xz=(t,e={})=>{let r=tr("TTFB"),i=er(t,r,CS,e.reportAllChanges);Jp((()=>{const o=rg();o&&(r.value=Math.max(o.responseStart-yl(),0),r.entries=[o],i(!0),Ba((()=>{r=tr("TTFB",0),i=er(t,r,CS,e.reportAllChanges),i(!0)})))}))},Jz=t=>{typeof window.gtag>"u"||window.gtag("event",t.name,{value:Math.round(t.name==="CLS"?t.value*1e3:t.value),event_category:"Web Vitals",event_label:t.id,non_interaction:!0,metric_rating:t.rating})},Qz=t=>{if(typeof window.Sentry>"u")return;const e={};e[t.name]={value:t.value,unit:t.name==="CLS"?"ratio":"millisecond"},window.Sentry?.getCurrentScope().setMeasurement(t.name,t.value,t.name==="CLS"?"ratio":"millisecond")},Lo=t=>{Jz(t),Qz(t)},Zz=()=>{qz(Lo),Yz(Lo),ST(Lo),Wz(Lo),Xz(Lo),console.log("[Web Vitals] Performance monitoring initialized")};GU({dsn:"https://30c87b24943cef5dc27e660cf0a960d9@o4510359033085952.ingest.de.sentry.io/4510359035117648",integrations:[HU(),SU({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:"production",sendDefaultPii:!1,enabled:!0,ignoreErrors:["ResizeObserver loop limit exceeded","Non-Error promise rejection captured","Network request failed"]});jp();Zz();const e4=new Wk({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}}});Hz();Pz();AA.createRoot(document.getElementById("root")).render(v.jsx(ce.StrictMode,{children:v.jsx(zz,{children:v.jsx(Xk,{client:e4,children:v.jsx(Yk,{children:v.jsx(KU,{children:v.jsx(Bz,{})})})})})}));export{Tz as L,g4 as a,bz as b,p4 as c,lz as d,f4 as e,m4 as f,u4 as g,d4 as h,h4 as i,mn as s,Fm as u};
