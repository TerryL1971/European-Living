import{j as e,M as j,r as N}from"./vendor-markdown-BC8sZGMk.js";import{i as v,d as y,r as l}from"./vendor-react-BDu5rya1.js";import{T as w,g as k,a as C}from"./TableOfContents-BwZVkIpx.js";import{q as _,C as T,r as h,s as B}from"./vendor-ui-CDd0elD4.js";import"./index-C-j6BWXH.js";import"./vendor-query-DenH8THg.js";const E=({alt:s,src:r,...t})=>r?e.jsx("img",{src:r,alt:s||"",className:"w-full h-auto rounded-lg shadow-md my-8",loading:"lazy",...t}):null,p=s=>({children:t})=>{const i=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),c=`h${s}`;return e.jsx(c,{id:i,children:t})},S=s=>{switch(s){case"City Guides":return{text:"← Back to Destinations",path:"/destinations"};case"Travel Tips":case"Travel Tips & Essentials":return{text:"← Back to Travel Tips",path:"/#tips"};case"Day Trips":return{text:"← Back to Day Trips",path:"/#day-trips"};default:return{text:"← Back",path:"/"}}};function P(){const{slug:s}=v(),r=y(),[t,d]=l.useState(null),[i,c]=l.useState([]),[f,m]=l.useState(!0),[u,x]=l.useState(null);if(l.useEffect(()=>{async function a(){if(s){m(!0),x(null),d(null),c([]);try{const n=await k(s);if(!n){x("Article not found"),m(!1);return}d(n);const g=await C(n.id,n.category,n.tags,3);c(g)}catch(n){console.error("Error loading article:",n),x("Failed to load article")}finally{m(!1)}}}a()},[s]),f)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(u||!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:u||"Article Not Found"}),e.jsxs("button",{onClick:()=>r("/destinations"),className:"flex items-center mx-auto text-blue-600 hover:text-blue-800 font-medium",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Back to Destinations"]})]})});const b={img:E,h2:p(2),h3:p(3)},o=S(t.category??null);return e.jsxs("div",{className:"min-h-screen bg-[var(--brand-light)]",children:[e.jsx("div",{className:"bg-[var(--brand-bg-alt)] border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 mt-18 py6",children:[t.category&&e.jsx("span",{className:"inline-block bg-[var(--brand-primary)] text-[var(--muted)] text-sm px-3 py-1 rounded-full mb-4",children:t.category}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:t.title}),t.subtitle&&e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:t.subtitle}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[t.author&&e.jsxs("span",{className:"font-medium",children:["By ",t.author]}),t.created_at&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"w-4 h-4 mr-1"}),new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),t.reading_time_minutes&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"w-4 h-4 mr-1"}),t.reading_time_minutes," min read"]}),e.jsxs("span",{className:"text-gray-400",children:[t.view_count," views"]})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(a=>e.jsxs("span",{className:"flex items-center bg-[var(--brand-primary)] text-[var(--muted)] text-xs px-2 py-1 rounded",children:[e.jsx(B,{className:"w-3 h-3 mr-1"}),a]},a))}),e.jsx("button",{onClick:()=>r(o.path),className:"text-[var(--brand-primary)] hover:text-[var(--brand-dark)] hover:underline py-3 block font-medium",children:o.text})]})}),t.featured_image_url&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsx("img",{src:t.featured_image_url,alt:t.title,className:"w-full rounded-lg shadow-lg"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsx(w,{content:t.content})}),e.jsx("article",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:e.jsx("div",{className:"prose prose-lg max-w-none prose-headings:font-bold prose-a:text-blue-600 prose-img:rounded-lg prose-img:shadow-md",children:e.jsx(j,{components:b,remarkPlugins:[N],children:t.content})})})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 border-t",children:e.jsx("button",{onClick:()=>r(o.path),className:"text-[var(--brand-primary)] hover:text-[var(--brand-dark)] hover:underline block font-medium",children:o.text})}),i.length>0&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 border-t",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Articles"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:i.map(a=>e.jsxs("button",{onClick:()=>r(`/articles/${a.slug}`),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 text-left",children:[a.category&&e.jsx("span",{className:"inline-block bg-[var(--muted)] text-[var(--primary)] text-xs px-2 py-1 rounded mb-2",children:a.category}),e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:a.title}),a.excerpt&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:a.excerpt}),a.reading_time_minutes&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[e.jsx(h,{className:"w-3 h-3 mr-1"}),a.reading_time_minutes," min read"]})]},a.id))})]})]})}export{P as default};
