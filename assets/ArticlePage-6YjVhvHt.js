import{j as e}from"./vendor-query-pEaCC0W1.js";import{h as C,u as E,r as o}from"./vendor-react-DsIc-_p2.js";import{T as _,g as T,a as R}from"./TableOfContents-Bjvfi-45.js";import{s as L,d as D,f,t as S,N as A,u as B,o as I}from"./vendor-ui-CujC0nkv.js";import{M as G,r as P}from"./vendor-markdown-CZdI6Vjl.js";import"./index-DdjCtJff.js";const H=({alt:a,src:r,...t})=>r?e.jsx("img",{src:r,alt:a||"",className:"w-full h-auto rounded-lg shadow-md my-8",loading:"lazy",...t}):null,v=a=>({children:t})=>{const l=String(t).toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),c=`h${a}`;return e.jsx(c,{id:l,children:t})},U=a=>{switch(a){case"City Guides":return{text:"← Back to Destinations",path:"/#destinations"};case"Travel Tips":case"Travel Tips & Essentials":return{text:"← Back to Travel Tips",path:"/#tips"};case"Day Trips":return{text:"← Back to Day Trips",path:"/#day-trips"};default:return{text:"← Back",path:"/"}}};function Y(){const{slug:a}=C(),r=E(),[t,m]=o.useState(null),[l,c]=o.useState([]),[N,x]=o.useState(!0),[p,g]=o.useState(null),u=o.useRef(void 0);if(console.log("=== ArticlePage Component Rendered ==="),console.log("Current slug:",a),console.log("Article loaded:",t?.title),console.log("Related articles count:",l.length),console.log("Navigate function available:",!!r),o.useEffect(()=>{async function s(){if(!a)return;const i=u.current&&u.current!==a;x(!0),g(null),m(null),c([]);try{const n=await T(a);if(!n){g("Article not found"),x(!1);return}m(n);const b=await R(n.id,n.category,n.tags,3);c(b),i&&setTimeout(()=>{window.scrollTo({top:0,behavior:"instant"})},100)}catch(n){console.error("Error loading article:",n),g("Failed to load article")}finally{x(!1),u.current=a}}s()},[a]),N)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(p||!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:p||"Article Not Found"}),e.jsxs("button",{onClick:()=>r("/destinations"),className:"flex items-center mx-auto text-blue-600 hover:text-blue-800 font-medium",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Back to Destinations"]})]})});const y={img:H,h2:v(2),h3:v(3)},d=U(t.category??null),j=t.category==="City Guides",h=t.destination_name||t.title,w=`https://www.google.com/maps/search/${encodeURIComponent(h)}`,k=`https://www.booking.com/searchresults.html?ss=${encodeURIComponent(h)}`;return e.jsxs("div",{className:"min-h-screen bg-[var(--brand-light)]",children:[e.jsx("div",{className:"bg-[var(--brand-bg-alt)] border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 mt-18 py6",children:[t.category&&e.jsx("span",{className:"inline-block bg-[var(--brand-primary)] text-[var(--muted)] text-sm px-3 py-1 rounded-full mb-4",children:t.category}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:t.title}),t.subtitle&&e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:t.subtitle}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[t.author&&e.jsxs("span",{className:"font-medium",children:["By ",t.author]}),t.created_at&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),t.reading_time_minutes&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),t.reading_time_minutes," min read"]}),e.jsxs("span",{className:"text-gray-400",children:[t.view_count," views"]})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(s=>e.jsxs("span",{className:"flex items-center bg-[var(--brand-primary)] text-[var(--muted)] text-xs px-2 py-1 rounded",children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),s]},s))}),e.jsx("button",{onClick:()=>r(d.path),className:"text-[var(--brand-primary)] hover:text-[var(--brand-dark)] hover:underline py-3 block font-medium",children:d.text})]})}),j&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-amber-50 border border-sky-200 rounded-lg p-4 shadow-sm",children:[e.jsxs("h3",{className:"text-sm font-semibold text-[var(--brand-dark)] mb-3",children:["Plan Your Visit to ",h]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[var(--brand-primary)] text-white px-4 py-3 rounded-lg hover:bg-[var(--brand-primary-dark)] transition font-semibold text-center flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(A,{className:"w-5 h-5"}),"Get Directions"]}),e.jsxs("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[var(--brand-gold)] text-white px-4 py-3 rounded-lg hover:bg-[var(--brand-amber)] transition font-semibold text-center flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(B,{className:"w-5 h-5"}),"Find Hotels"]}),e.jsxs("a",{href:"mailto:info@european-living.live?subject=Help with Trip Planning",className:"flex-1 bg-white border-2 border-[var(--brand-primary)] text-[var(--brand-primary)] px-4 py-3 rounded-lg hover:bg-[var(--brand-primary)] hover:text-white transition font-semibold text-center flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(I,{className:"w-5 h-5"}),"Contact for Questions"]})]})]})}),t.featured_image_url&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 pb-8",children:e.jsx("img",{src:t.featured_image_url,alt:t.title,className:"w-full rounded-lg shadow-lg"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsx(_,{content:t.content})}),e.jsx("article",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:e.jsx("div",{className:"prose prose-lg max-w-none prose-headings:font-bold prose-a:text-blue-600 prose-img:rounded-lg prose-img:shadow-md",children:e.jsx(G,{components:y,remarkPlugins:[P],children:t.content})})})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 border-t",children:e.jsx("button",{onClick:()=>r(d.path),className:"text-[var(--brand-primary)] hover:text-[var(--brand-dark)] hover:underline block font-medium",children:d.text})}),l.length>0&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 border-t",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Articles"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:l.map(s=>e.jsxs("div",{onClick:i=>{console.log("=== RELATED ARTICLE CLICKED ==="),console.log("Event:",i),console.log("Article:",s),console.log("Slug:",s.slug),console.log("About to navigate to:",`/articles/${s.slug}`);try{r(`/articles/${s.slug}`),console.log("Navigate called successfully")}catch(n){console.error("Navigate failed:",n)}},className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 cursor-pointer",style:{cursor:"pointer"},children:[s.category&&e.jsx("span",{className:"inline-block bg-[var(--muted)] text-[var(--primary)] text-xs px-2 py-1 rounded mb-2",children:s.category}),e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:s.title}),s.excerpt&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:s.excerpt}),s.reading_time_minutes&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),s.reading_time_minutes," min read"]})]},s.id))})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 border-t text-center",children:[e.jsx("button",{onClick:s=>{console.log("=== EUROPEAN LIVING LINK CLICKED ==="),console.log("Event:",s),console.log("About to navigate to homepage");try{r("/"),console.log("Navigate to homepage called successfully")}catch(i){console.error("Navigate to homepage failed:",i)}},className:"text-[var(--brand-primary)] hover:text-[var(--brand-dark)] hover:underline font-semibold text-lg",style:{cursor:"pointer"},children:"European Living"}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Your Guide to Europe"})]})]})}export{Y as default};
