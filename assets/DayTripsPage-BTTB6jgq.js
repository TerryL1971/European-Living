import{j as e}from"./vendor-markdown-BC8sZGMk.js";import{d as T,r}from"./vendor-react-BDu5rya1.js";import{u as L,L as M}from"./index-BscROlNd.js";import{f as z}from"./dayTripsService-Cr8J6tWW.js";import{S as B}from"./SEO-C0mUeiKB.js";import{X as A,b as k,u as C,V as G,f as I,Y as P}from"./vendor-ui-DK4MTjEc.js";import"./vendor-query-DenH8THg.js";function q(){const{selectedBase:d}=L(),S=T(),[o,h]=r.useState(""),[c,f]=r.useState("all"),[m,v]=r.useState("all"),[i,p]=r.useState("all"),[x,F]=r.useState([]),[$,y]=r.useState(!0),[j,N]=r.useState(null);r.useEffect(()=>{async function a(){y(!0),N(null);try{const s=await z();F(s)}catch(s){console.error("Failed to load day trips:",s),N("Failed to load day trips. Please try again later.")}finally{y(!1)}}a()},[]);const g=r.useMemo(()=>{if(d==="all")return x;const a=d.toLowerCase().replace(/[^a-z0-9]/g,"");return x.filter(s=>s.base_id===a)},[d,x]),E=r.useMemo(()=>{const a=new Set;return x.forEach(s=>{s.tags&&s.tags.length>0?s.tags.forEach(l=>a.add(l.name)):s.best_for&&s.best_for.forEach(l=>a.add(l))}),Array.from(a).sort()},[x]),u=r.useMemo(()=>g.filter(a=>{const s=o===""||a.name.toLowerCase().includes(o.toLowerCase())||a.description.toLowerCase().includes(o.toLowerCase()),l=c==="all"||a.difficulty===c,n=m==="all"||a.cost===m;let t=i==="all";return t||(a.tags&&a.tags.length>0?t=a.tags.some(b=>b.name===i):t=a.best_for.includes(i)),s&&l&&n&&t}),[g,o,c,m,i]),w=()=>{h(""),f("all"),v("all"),p("all")},D=o!==""||c!=="all"||m!=="all"||i!=="all",_=a=>{S(`/day-trips/${a}`)};return $?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)] pt-16",children:e.jsx(M,{size:"lg",message:"Loading day trips..."})}):j?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)] pt-16",children:e.jsxs("p",{className:"text-xl text-red-600",children:["Error: ",j]})}):e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Day Trips from US Military Bases",description:"Discover amazing day trips from US military bases in Germany. Find castles, cities, nature, and cultural experiences within easy reach.",keywords:"day trips Germany, military base travel, weekend trips Europe, castles Germany, things to do Germany"}),e.jsxs("div",{className:"min-h-screen bg-[var(--brand-bg)] pt-16",children:[e.jsx("div",{className:"bg-gradient-to-r from-[var(--brand-primary)] to-[var(--brand-dark)] text-[var(--brand-light)] py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"ðŸ—ºï¸ Day Trips & Weekend Getaways"}),e.jsx("p",{className:"text-xl text-[var(--brand-bg-alt)] max-w-3xl",children:"Explore incredible destinations within a few hours of your base. From medieval castles to vibrant cities, discover the best of Europe on a day trip."})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 border border-[var(--border)]",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-[var(--brand-dark)] mb-2",children:"Search Destinations"}),e.jsx("input",{type:"text",placeholder:"Search by name or description...",value:o,onChange:a=>h(a.target.value),className:"w-full px-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[var(--brand-dark)] mb-2",children:"Category"}),e.jsxs("select",{value:i,onChange:a=>p(a.target.value),className:"w-full px-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)]",children:[e.jsx("option",{value:"all",children:"All Categories"}),E.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[var(--brand-dark)] mb-2",children:"Difficulty"}),e.jsxs("select",{value:c,onChange:a=>f(a.target.value),className:"w-full px-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)]",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"Easy",children:"Easy"}),e.jsx("option",{value:"Moderate",children:"Moderate"}),e.jsx("option",{value:"Challenging",children:"Challenging"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[var(--brand-dark)] mb-2",children:"Budget"}),e.jsxs("select",{value:m,onChange:a=>v(a.target.value),className:"w-full px-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)]",children:[e.jsx("option",{value:"all",children:"All Budgets"}),e.jsx("option",{value:"$",children:"$ Budget-Friendly"}),e.jsx("option",{value:"$$",children:"$$ Moderate"}),e.jsx("option",{value:"$$$",children:"$$$ Premium"})]})]})]}),D&&e.jsxs("button",{onClick:w,className:"mt-4 flex items-center gap-2 text-sm text-[var(--muted-foreground)] hover:text-[var(--brand-dark)] transition",children:[e.jsx(A,{size:16}),"Clear all filters"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-[var(--muted-foreground)]",children:["Found ",e.jsx("strong",{className:"text-[var(--brand-dark)]",children:u.length})," day trip",u.length!==1?"s":"",d!=="all"&&g.length>0&&` from ${d}`]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(a=>{const s=a.hero_image_url||a.image_url,l=a.short_description||a.description,n=a.tags&&a.tags.length>0?a.tags.map(t=>t.name):a.best_for;return e.jsxs("div",{onClick:()=>_(a.id),className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer overflow-hidden border border-[var(--border)] group",children:[e.jsxs("div",{className:"relative",children:[s?e.jsx("img",{src:s,alt:`Image of ${a.name}`,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"h-48 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)] flex items-center justify-center",children:e.jsx(k,{className:"w-16 h-16 text-[var(--brand-light)] opacity-50"})}),a.featured&&e.jsxs("div",{className:"absolute top-3 left-3 bg-[var(--brand-gold)] text-[var(--brand-dark)] px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(C,{size:12,fill:"currentColor"}),"Featured"]}),a.is_must_see&&!a.featured&&e.jsxs("div",{className:"absolute top-3 left-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(G,{size:12,fill:"currentColor"}),"Must-See"]}),a.rating&&e.jsxs("div",{className:"absolute top-3 right-3 bg-black bg-opacity-70 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(C,{size:12,fill:"#FFD700",color:"#FFD700"}),a.rating]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--brand-dark)] mb-1 group-hover:text-[var(--brand-primary)] transition",children:a.name}),d==="all"&&e.jsxs("p",{className:"text-sm text-[var(--muted-foreground)]",children:["From ",a.base_name]})]}),e.jsx("p",{className:"text-[var(--muted-foreground)] text-sm mb-4 line-clamp-3",children:l}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--muted-foreground)]",children:[e.jsx(I,{size:16,className:"text-[var(--brand-primary)]"}),e.jsxs("span",{children:[a.drive_time," drive (",a.distance,")"]})]}),a.train_time&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--muted-foreground)]",children:[e.jsx(P,{size:16,className:"text-[var(--brand-button)]"}),e.jsxs("span",{children:[a.train_time," by train"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${a.difficulty==="Easy"?"bg-[var(--brand-button)] bg-opacity-20 text-[var(--brand-dark)]":a.difficulty==="Moderate"?"bg-[var(--brand-gold)] bg-opacity-30 text-[var(--brand-dark)]":"bg-[var(--brand-primary)] bg-opacity-20 text-[var(--brand-dark)]"}`,children:a.difficulty}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[var(--secondary)] text-[var(--secondary-foreground)]",children:a.cost})]}),n&&n.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.slice(0,3).map((t,b)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-[var(--muted)] text-[var(--muted-foreground)] rounded",children:t},`${t}-${b}`)),n.length>3&&e.jsxs("span",{className:"text-xs px-2 py-1 text-[var(--muted-foreground)]",children:["+",n.length-3]})]})]})]},a.id)})}),u.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(k,{className:"w-16 h-16 text-[var(--muted)] mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-[var(--brand-dark)] mb-2",children:"No day trips found"}),e.jsx("p",{className:"text-[var(--muted-foreground)] mb-4",children:"Try adjusting your filters or search terms"}),e.jsx("button",{onClick:w,className:"text-[var(--brand-primary)] hover:text-[var(--brand-dark)] font-semibold transition",children:"Clear all filters"})]})]})]})]})}export{q as default};
