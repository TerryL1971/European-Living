const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ArticlePage-CZWNpGk-.js","assets/vendor-query-pEaCC0W1.js","assets/vendor-react-DsIc-_p2.js","assets/TableOfContents-BUnrJLG4.js","assets/vendor-ui-CujC0nkv.js","assets/vendor-markdown-CZdI6Vjl.js","assets/DestinationPage-D5_81cqW.js","assets/BusinessDetailPage-B7VImDIM.js","assets/MapView-eVfJLFRE.js","assets/vendor-maps-DVEUCVjI.js","assets/MapView-CIGW-MKW.css","assets/ServiceCategoryPage-D38z33sH.js","assets/ErrorMessage-CkK4g-aL.js","assets/ServicesDirectory--_W9vPG_.js","assets/BusinessSubmissionForm-CkKJjuUX.js","assets/BusinessDataEntry-CsUPGEaL.js","assets/PrivacyPolicy-BbJa0tl9.js","assets/DayTripsPage-C0aRGrrf.js","assets/dayTripsService-BaTz2evd.js","assets/SEO-CReBgAI4.js","assets/AboutPage-C2D91FPn.js","assets/FeaturedContentAdmin-B6BNYQSt.js","assets/DayTripDetailPage-B9bA6izZ.js"])))=>i.map(i=>d[i]);
import{j as g,u as h1,Q as p1,a as m1}from"./vendor-query-pEaCC0W1.js";import{b as g1,c as y1,r as J,u as Wu,d as sm,L as Zt,e as b1,f as Jt,B as v1}from"./vendor-react-DsIc-_p2.js";import{X as am,M as _1,C as IS,A as Ko,m as Jn,S as S1,a as w1,b as x1,T as E1,c as im,U as T1,P as k1,E as i_,d as A1,e as C1,f as R1,g as Tu,h as DS,i as N1,j as O1,k as j1,l as M1,W as I1,H as D1,n as L1,G as U1,B as B1,o as dp,p as z1,q as H1,r as q1,L as $1}from"./vendor-ui-CujC0nkv.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var Rh={exports:{}},Do={},Nh={exports:{}},Oh={};var o_;function P1(){return o_||(o_=1,(function(t){function e(I,F){var O=I.length;I.push(F);e:for(;0<O;){var se=O-1>>>1,V=I[se];if(0<o(V,F))I[se]=F,I[O]=V,O=se;else break e}}function r(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var F=I[0],O=I.pop();if(O!==F){I[0]=O;e:for(var se=0,V=I.length,ge=V>>>1;se<ge;){var ce=2*(se+1)-1,X=I[ce],ye=ce+1,Fe=I[ye];if(0>o(X,O))ye<V&&0>o(Fe,X)?(I[se]=Fe,I[ye]=O,se=ye):(I[se]=X,I[ce]=O,se=ce);else if(ye<V&&0>o(Fe,O))I[se]=Fe,I[ye]=O,se=ye;else break e}}return F}function o(I,F){var O=I.sortIndex-F.sortIndex;return O!==0?O:I.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],y=1,v=null,_=3,S=!1,x=!1,k=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(I){for(var F=r(m);F!==null;){if(F.callback===null)a(m);else if(F.startTime<=I)a(m),F.sortIndex=F.expirationTime,e(h,F);else break;F=r(m)}}function K(I){if(k=!1,P(I),!x)if(r(h)!==null)x=!0,G||(G=!0,le());else{var F=r(m);F!==null&&Re(K,F.startTime-I)}}var G=!1,U=-1,q=5,oe=-1;function W(){return E?!0:!(t.unstable_now()-oe<q)}function te(){if(E=!1,G){var I=t.unstable_now();oe=I;var F=!0;try{e:{x=!1,k&&(k=!1,B(U),U=-1),S=!0;var O=_;try{t:{for(P(I),v=r(h);v!==null&&!(v.expirationTime>I&&W());){var se=v.callback;if(typeof se=="function"){v.callback=null,_=v.priorityLevel;var V=se(v.expirationTime<=I);if(I=t.unstable_now(),typeof V=="function"){v.callback=V,P(I),F=!0;break t}v===r(h)&&a(h),P(I)}else a(h);v=r(h)}if(v!==null)F=!0;else{var ge=r(m);ge!==null&&Re(K,ge.startTime-I),F=!1}}break e}finally{v=null,_=O,S=!1}F=void 0}}finally{F?le():G=!1}}}var le;if(typeof R=="function")le=function(){R(te)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,he=xe.port2;xe.port1.onmessage=te,le=function(){he.postMessage(null)}}else le=function(){N(te,0)};function Re(I,F){U=N(function(){I(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(I){switch(_){case 1:case 2:case 3:var F=3;break;default:F=_}var O=_;_=F;try{return I()}finally{_=O}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=_;_=I;try{return F()}finally{_=O}},t.unstable_scheduleCallback=function(I,F,O){var se=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?se+O:se):O=se,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,I={id:y++,callback:F,priorityLevel:I,startTime:O,expirationTime:V,sortIndex:-1},O>se?(I.sortIndex=O,e(m,I),r(h)===null&&I===r(m)&&(k?(B(U),U=-1):k=!0,Re(K,O-se))):(I.sortIndex=V,e(h,I),x||S||(x=!0,G||(G=!0,le()))),I},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(I){var F=_;return function(){var O=_;_=F;try{return I.apply(this,arguments)}finally{_=O}}}})(Oh)),Oh}var l_;function F1(){return l_||(l_=1,Nh.exports=P1()),Nh.exports}var c_;function G1(){if(c_)return Do;c_=1;var t=F1(),e=g1(),r=y1();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,i=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(i=s.return),n=s.return;while(n)}return s.tag===3?i:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(a(188))}function m(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(a(188));return s!==n?null:n}for(var i=n,l=s;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return h(d),n;if(p===l)return h(d),s;p=p.sibling}throw Error(a(188))}if(i.return!==l.return)i=d,l=p;else{for(var b=!1,w=d.child;w;){if(w===i){b=!0,i=d,l=p;break}if(w===l){b=!0,l=d,i=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===i){b=!0,i=p,l=d;break}if(w===l){b=!0,l=p,i=d;break}w=w.sibling}if(!b)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var xe=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===xe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case G:return"SuspenseList";case oe:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case R:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case P:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return s=n.displayName||null,s!==null?s:he(n.type)||"Memo";case q:s=n._payload,n=n._init;try{return he(n(s))}catch{}}return null}var Re=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},se=[],V=-1;function ge(n){return{current:n}}function ce(n){0>V||(n.current=se[V],se[V]=null,V--)}function X(n,s){V++,se[V]=n.current,n.current=s}var ye=ge(null),Fe=ge(null),xt=ge(null),Ue=ge(null);function $t(n,s){switch(X(xt,s),X(Fe,n),X(ye,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Rv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Rv(s),n=Nv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ye),X(ye,n)}function It(){ce(ye),ce(Fe),ce(xt)}function Pt(n){n.memoizedState!==null&&X(Ue,n);var s=ye.current,i=Nv(s,n.type);s!==i&&(X(Fe,n),X(ye,i))}function jn(n){Fe.current===n&&(ce(ye),ce(Fe)),Ue.current===n&&(ce(Ue),Oo._currentValue=O)}var Vn,Rl;function Lt(n){if(Vn===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Vn=s&&s[1]||"",Rl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+n+Rl}var Mn=!1;function Ss(n,s){if(!n||Mn)return"";Mn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(L){var D=L}Reflect.construct(n,[],$)}else{try{$.call()}catch(L){D=L}n.call($.prototype)}}else{try{throw Error()}catch(L){D=L}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(L){if(L&&D&&typeof L.stack=="string")return[L.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var T=b.split(`
`),M=w.split(`
`);for(d=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(l===T.length||d===M.length)for(l=T.length-1,d=M.length-1;1<=l&&0<=d&&T[l]!==M[d];)d--;for(;1<=l&&0<=d;l--,d--)if(T[l]!==M[d]){if(l!==1||d!==1)do if(l--,d--,0>d||T[l]!==M[d]){var z=`
`+T[l].replace(" at new "," at ");return n.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",n.displayName)),z}while(1<=l&&0<=d);break}}}finally{Mn=!1,Error.prepareStackTrace=i}return(i=n?n.displayName||n.name:"")?Lt(i):""}function qi(n,s){switch(n.tag){case 26:case 27:case 5:return Lt(n.type);case 16:return Lt("Lazy");case 13:return n.child!==s&&s!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Ss(n.type,!1);case 11:return Ss(n.type.render,!1);case 1:return Ss(n.type,!0);case 31:return Lt("Activity");default:return""}}function ws(n){try{var s="",i=null;do s+=qi(n,i),i=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xs=Object.prototype.hasOwnProperty,Ie=t.unstable_scheduleCallback,Ut=t.unstable_cancelCallback,ke=t.unstable_shouldYield,gt=t.unstable_requestPaint,be=t.unstable_now,Es=t.unstable_getCurrentPriorityLevel,og=t.unstable_ImmediatePriority,lg=t.unstable_UserBlockingPriority,Nl=t.unstable_NormalPriority,KE=t.unstable_LowPriority,cg=t.unstable_IdlePriority,WE=t.log,XE=t.unstable_setDisableYieldValue,$i=null,sn=null;function Mr(n){if(typeof WE=="function"&&XE(n),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode($i,n)}catch{}}var an=Math.clz32?Math.clz32:ZE,JE=Math.log,QE=Math.LN2;function ZE(n){return n>>>=0,n===0?32:31-(JE(n)/QE|0)|0}var Ol=256,jl=262144,Ml=4194304;function Ts(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Il(n,s,i){var l=n.pendingLanes;if(l===0)return 0;var d=0,p=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~p,l!==0?d=Ts(l):(b&=w,b!==0?d=Ts(b):i||(i=w&~n,i!==0&&(d=Ts(i))))):(w=l&~p,w!==0?d=Ts(w):b!==0?d=Ts(b):i||(i=l&~n,i!==0&&(d=Ts(i)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,i=s&-s,p>=i||p===32&&(i&4194048)!==0)?s:d}function Pi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function eT(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(){var n=Ml;return Ml<<=1,(Ml&62914560)===0&&(Ml=4194304),n}function gd(n){for(var s=[],i=0;31>i;i++)s.push(n);return s}function Fi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function tT(n,s,i,l,d,p){var b=n.pendingLanes;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=i,n.entangledLanes&=i,n.errorRecoveryDisabledLanes&=i,n.shellSuspendCounter=0;var w=n.entanglements,T=n.expirationTimes,M=n.hiddenUpdates;for(i=b&~i;0<i;){var z=31-an(i),$=1<<z;w[z]=0,T[z]=-1;var D=M[z];if(D!==null)for(M[z]=null,z=0;z<D.length;z++){var L=D[z];L!==null&&(L.lane&=-536870913)}i&=~$}l!==0&&dg(n,l,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~s))}function dg(n,s,i){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-an(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|i&261930}function fg(n,s){var i=n.entangledLanes|=s;for(n=n.entanglements;i;){var l=31-an(i),d=1<<l;d&s|n[l]&s&&(n[l]|=s),i&=~d}}function hg(n,s){var i=s&-s;return i=(i&42)!==0?1:yd(i),(i&(n.suspendedLanes|s))!==0?0:i}function yd(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function bd(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pg(){var n=F.p;return n!==0?n:(n=window.event,n===void 0?32:Zv(n.type))}function mg(n,s){var i=F.p;try{return F.p=n,s()}finally{F.p=i}}var Ir=Math.random().toString(36).slice(2),At="__reactFiber$"+Ir,Ft="__reactProps$"+Ir,da="__reactContainer$"+Ir,vd="__reactEvents$"+Ir,nT="__reactListeners$"+Ir,rT="__reactHandles$"+Ir,gg="__reactResources$"+Ir,Gi="__reactMarker$"+Ir;function _d(n){delete n[At],delete n[Ft],delete n[vd],delete n[nT],delete n[rT]}function fa(n){var s=n[At];if(s)return s;for(var i=n.parentNode;i;){if(s=i[da]||i[At]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(n=Uv(n);n!==null;){if(i=n[At])return i;n=Uv(n)}return s}n=i,i=n.parentNode}return null}function ha(n){if(n=n[At]||n[da]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Vi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function pa(n){var s=n[gg];return s||(s=n[gg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(n){n[Gi]=!0}var yg=new Set,bg={};function ks(n,s){ma(n,s),ma(n+"Capture",s)}function ma(n,s){for(bg[n]=s,n=0;n<s.length;n++)yg.add(s[n])}var sT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vg={},_g={};function aT(n){return xs.call(_g,n)?!0:xs.call(vg,n)?!1:sT.test(n)?_g[n]=!0:(vg[n]=!0,!1)}function Dl(n,s,i){if(aT(s))if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+i)}}function Ll(n,s,i){if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+i)}}function nr(n,s,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttributeNS(s,i,""+l)}}function vn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sg(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function iT(n,s,i){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){i=""+b,p.call(this,b)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Sd(n){if(!n._valueTracker){var s=Sg(n)?"checked":"value";n._valueTracker=iT(n,s,""+n[s])}}function wg(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var i=s.getValue(),l="";return n&&(l=Sg(n)?n.checked?"true":"false":n.value),n=l,n!==i?(s.setValue(n),!0):!1}function Ul(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oT=/[\n"\\]/g;function _n(n){return n.replace(oT,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wd(n,s,i,l,d,p,b,w){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+vn(s)):n.value!==""+vn(s)&&(n.value=""+vn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?xd(n,b,vn(s)):i!=null?xd(n,b,vn(i)):l!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+vn(w):n.removeAttribute("name")}function xg(n,s,i,l,d,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Sd(n);return}i=i!=null?""+vn(i):"",s=s!=null?""+vn(s):i,w||s===n.value||(n.value=s),n.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),Sd(n)}function xd(n,s,i){s==="number"&&Ul(n.ownerDocument)===n||n.defaultValue===""+i||(n.defaultValue=""+i)}function ga(n,s,i,l){if(n=n.options,s){s={};for(var d=0;d<i.length;d++)s["$"+i[d]]=!0;for(i=0;i<n.length;i++)d=s.hasOwnProperty("$"+n[i].value),n[i].selected!==d&&(n[i].selected=d),d&&l&&(n[i].defaultSelected=!0)}else{for(i=""+vn(i),s=null,d=0;d<n.length;d++){if(n[d].value===i){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Eg(n,s,i){if(s!=null&&(s=""+vn(s),s!==n.value&&(n.value=s),i==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=i!=null?""+vn(i):""}function Tg(n,s,i,l){if(s==null){if(l!=null){if(i!=null)throw Error(a(92));if(Re(l)){if(1<l.length)throw Error(a(93));l=l[0]}i=l}i==null&&(i=""),s=i}i=vn(s),n.defaultValue=i,l=n.textContent,l===i&&l!==""&&l!==null&&(n.value=l),Sd(n)}function ya(n,s){if(s){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=s;return}}n.textContent=s}var lT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(n,s,i){var l=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,i):typeof i!="number"||i===0||lT.has(s)?s==="float"?n.cssFloat=i:n[s]=(""+i).trim():n[s]=i+"px"}function Ag(n,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&i[d]!==l&&kg(n,d,l)}else for(var p in s)s.hasOwnProperty(p)&&kg(n,p,s[p])}function Ed(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(n){return uT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function rr(){}var Td=null;function kd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ba=null,va=null;function Cg(n){var s=ha(n);if(s&&(n=s.stateNode)){var i=n[Ft]||null;e:switch(n=s.stateNode,s.type){case"input":if(wd(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var l=i[s];if(l!==n&&l.form===n.form){var d=l[Ft]||null;if(!d)throw Error(a(90));wd(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<i.length;s++)l=i[s],l.form===n.form&&wg(l)}break e;case"textarea":Eg(n,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&ga(n,!!i.multiple,s,!1)}}}var Ad=!1;function Rg(n,s,i){if(Ad)return n(s,i);Ad=!0;try{var l=n(s);return l}finally{if(Ad=!1,(ba!==null||va!==null)&&(Tc(),ba&&(s=ba,n=va,va=ba=null,Cg(s),n)))for(s=0;s<n.length;s++)Cg(n[s])}}function Yi(n,s){var i=n.stateNode;if(i===null)return null;var l=i[Ft]||null;if(l===null)return null;i=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=!1;if(sr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Cd=!1}var Dr=null,Rd=null,zl=null;function Ng(){if(zl)return zl;var n,s=Rd,i=s.length,l,d="value"in Dr?Dr.value:Dr.textContent,p=d.length;for(n=0;n<i&&s[n]===d[n];n++);var b=i-n;for(l=1;l<=b&&s[i-l]===d[p-l];l++);return zl=d.slice(n,1<l?1-l:void 0)}function Hl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ql(){return!0}function Og(){return!1}function Gt(n){function s(i,l,d,p,b){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(i=n[w],this[w]=i?i(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ql:Og,this.isPropagationStopped=Og,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),s}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Gt(As),Wi=v({},As,{view:0,detail:0}),dT=Gt(Wi),Nd,Od,Xi,Pl=v({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Md,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xi&&(Xi&&n.type==="mousemove"?(Nd=n.screenX-Xi.screenX,Od=n.screenY-Xi.screenY):Od=Nd=0,Xi=n),Nd)},movementY:function(n){return"movementY"in n?n.movementY:Od}}),jg=Gt(Pl),fT=v({},Pl,{dataTransfer:0}),hT=Gt(fT),pT=v({},Wi,{relatedTarget:0}),jd=Gt(pT),mT=v({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=Gt(mT),yT=v({},As,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bT=Gt(yT),vT=v({},As,{data:0}),Mg=Gt(vT),_T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ST={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xT(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=wT[n])?!!s[n]:!1}function Md(){return xT}var ET=v({},Wi,{key:function(n){if(n.key){var s=_T[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Hl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ST[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Md,charCode:function(n){return n.type==="keypress"?Hl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Hl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TT=Gt(ET),kT=v({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=Gt(kT),AT=v({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Md}),CT=Gt(AT),RT=v({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),NT=Gt(RT),OT=v({},Pl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jT=Gt(OT),MT=v({},As,{newState:0,oldState:0}),IT=Gt(MT),DT=[9,13,27,32],Id=sr&&"CompositionEvent"in window,Ji=null;sr&&"documentMode"in document&&(Ji=document.documentMode);var LT=sr&&"TextEvent"in window&&!Ji,Dg=sr&&(!Id||Ji&&8<Ji&&11>=Ji),Lg=" ",Ug=!1;function Bg(n,s){switch(n){case"keyup":return DT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _a=!1;function UT(n,s){switch(n){case"compositionend":return zg(s);case"keypress":return s.which!==32?null:(Ug=!0,Lg);case"textInput":return n=s.data,n===Lg&&Ug?null:n;default:return null}}function BT(n,s){if(_a)return n==="compositionend"||!Id&&Bg(n,s)?(n=Ng(),zl=Rd=Dr=null,_a=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Dg&&s.locale!=="ko"?null:s.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!zT[n.type]:s==="textarea"}function qg(n,s,i,l){ba?va?va.push(l):va=[l]:ba=l,s=jc(s,"onChange"),0<s.length&&(i=new $l("onChange","change",null,i,l),n.push({event:i,listeners:s}))}var Qi=null,Zi=null;function HT(n){xv(n,0)}function Fl(n){var s=Vi(n);if(wg(s))return n}function $g(n,s){if(n==="change")return s}var Pg=!1;if(sr){var Dd;if(sr){var Ld="oninput"in document;if(!Ld){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Ld=typeof Fg.oninput=="function"}Dd=Ld}else Dd=!1;Pg=Dd&&(!document.documentMode||9<document.documentMode)}function Gg(){Qi&&(Qi.detachEvent("onpropertychange",Vg),Zi=Qi=null)}function Vg(n){if(n.propertyName==="value"&&Fl(Zi)){var s=[];qg(s,Zi,n,kd(n)),Rg(HT,s)}}function qT(n,s,i){n==="focusin"?(Gg(),Qi=s,Zi=i,Qi.attachEvent("onpropertychange",Vg)):n==="focusout"&&Gg()}function $T(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fl(Zi)}function PT(n,s){if(n==="click")return Fl(s)}function FT(n,s){if(n==="input"||n==="change")return Fl(s)}function GT(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var on=typeof Object.is=="function"?Object.is:GT;function eo(n,s){if(on(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var i=Object.keys(n),l=Object.keys(s);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!xs.call(s,d)||!on(n[d],s[d]))return!1}return!0}function Yg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Kg(n,s){var i=Yg(n);n=0;for(var l;i;){if(i.nodeType===3){if(l=n+i.textContent.length,n<=s&&l>=s)return{node:i,offset:s-n};n=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yg(i)}}function Wg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Wg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Xg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ul(n.document);s instanceof n.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)n=s.contentWindow;else break;s=Ul(n.document)}return s}function Ud(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var VT=sr&&"documentMode"in document&&11>=document.documentMode,Sa=null,Bd=null,to=null,zd=!1;function Jg(n,s,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;zd||Sa==null||Sa!==Ul(l)||(l=Sa,"selectionStart"in l&&Ud(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),to&&eo(to,l)||(to=l,l=jc(Bd,"onSelect"),0<l.length&&(s=new $l("onSelect","select",null,s,i),n.push({event:s,listeners:l}),s.target=Sa)))}function Cs(n,s){var i={};return i[n.toLowerCase()]=s.toLowerCase(),i["Webkit"+n]="webkit"+s,i["Moz"+n]="moz"+s,i}var wa={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Hd={},Qg={};sr&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Rs(n){if(Hd[n])return Hd[n];if(!wa[n])return n;var s=wa[n],i;for(i in s)if(s.hasOwnProperty(i)&&i in Qg)return Hd[n]=s[i];return n}var Zg=Rs("animationend"),ey=Rs("animationiteration"),ty=Rs("animationstart"),YT=Rs("transitionrun"),KT=Rs("transitionstart"),WT=Rs("transitioncancel"),ny=Rs("transitionend"),ry=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function In(n,s){ry.set(n,s),ks(s,[n])}var Gl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Sn=[],xa=0,$d=0;function Vl(){for(var n=xa,s=$d=xa=0;s<n;){var i=Sn[s];Sn[s++]=null;var l=Sn[s];Sn[s++]=null;var d=Sn[s];Sn[s++]=null;var p=Sn[s];if(Sn[s++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}p!==0&&sy(i,d,p)}}function Yl(n,s,i,l){Sn[xa++]=n,Sn[xa++]=s,Sn[xa++]=i,Sn[xa++]=l,$d|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Pd(n,s,i,l){return Yl(n,s,i,l),Kl(n)}function Ns(n,s){return Yl(n,null,null,s),Kl(n)}function sy(n,s,i){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i);for(var d=!1,p=n.return;p!==null;)p.childLanes|=i,l=p.alternate,l!==null&&(l.childLanes|=i),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&s!==null&&(d=31-an(i),n=p.hiddenUpdates,l=n[d],l===null?n[d]=[s]:l.push(s),s.lane=i|536870912),p):null}function Kl(n){if(50<Eo)throw Eo=0,Zf=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ea={};function XT(n,s,i,l){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(n,s,i,l){return new XT(n,s,i,l)}function Fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ar(n,s){var i=n.alternate;return i===null?(i=ln(n.tag,s,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=s,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&65011712,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.refCleanup=n.refCleanup,i}function ay(n,s){n.flags&=65011714;var i=n.alternate;return i===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,s=i.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Wl(n,s,i,l,d,p){var b=0;if(l=n,typeof n=="function")Fd(n)&&(b=1);else if(typeof n=="string")b=t1(n,i,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case oe:return n=ln(31,i,s,d),n.elementType=oe,n.lanes=p,n;case k:return Os(i.children,d,p,s);case E:b=8,d|=24;break;case N:return n=ln(12,i,s,d|2),n.elementType=N,n.lanes=p,n;case K:return n=ln(13,i,s,d),n.elementType=K,n.lanes=p,n;case G:return n=ln(19,i,s,d),n.elementType=G,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:b=10;break e;case B:b=9;break e;case P:b=11;break e;case U:b=14;break e;case q:b=16,l=null;break e}b=29,i=Error(a(130,n===null?"null":typeof n,"")),l=null}return s=ln(b,i,s,d),s.elementType=n,s.type=l,s.lanes=p,s}function Os(n,s,i,l){return n=ln(7,n,l,s),n.lanes=i,n}function Gd(n,s,i){return n=ln(6,n,null,s),n.lanes=i,n}function iy(n){var s=ln(18,null,null,0);return s.stateNode=n,s}function Vd(n,s,i){return s=ln(4,n.children!==null?n.children:[],n.key,s),s.lanes=i,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var oy=new WeakMap;function wn(n,s){if(typeof n=="object"&&n!==null){var i=oy.get(n);return i!==void 0?i:(s={value:n,source:s,stack:ws(s)},oy.set(n,s),s)}return{value:n,source:s,stack:ws(s)}}var Ta=[],ka=0,Xl=null,no=0,xn=[],En=0,Lr=null,Yn=1,Kn="";function ir(n,s){Ta[ka++]=no,Ta[ka++]=Xl,Xl=n,no=s}function ly(n,s,i){xn[En++]=Yn,xn[En++]=Kn,xn[En++]=Lr,Lr=n;var l=Yn;n=Kn;var d=32-an(l)-1;l&=~(1<<d),i+=1;var p=32-an(s)+d;if(30<p){var b=d-d%5;p=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Yn=1<<32-an(s)+d|i<<d|l,Kn=p+n}else Yn=1<<p|i<<d|l,Kn=n}function Yd(n){n.return!==null&&(ir(n,1),ly(n,1,0))}function Kd(n){for(;n===Xl;)Xl=Ta[--ka],Ta[ka]=null,no=Ta[--ka],Ta[ka]=null;for(;n===Lr;)Lr=xn[--En],xn[En]=null,Kn=xn[--En],xn[En]=null,Yn=xn[--En],xn[En]=null}function cy(n,s){xn[En++]=Yn,xn[En++]=Kn,xn[En++]=Lr,Yn=s.id,Kn=s.overflow,Lr=n}var Ct=null,et=null,De=!1,Ur=null,Tn=!1,Wd=Error(a(519));function Br(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(wn(s,n)),Wd}function uy(n){var s=n.stateNode,i=n.type,l=n.memoizedProps;switch(s[At]=n,s[Ft]=l,i){case"dialog":Ce("cancel",s),Ce("close",s);break;case"iframe":case"object":case"embed":Ce("load",s);break;case"video":case"audio":for(i=0;i<ko.length;i++)Ce(ko[i],s);break;case"source":Ce("error",s);break;case"img":case"image":case"link":Ce("error",s),Ce("load",s);break;case"details":Ce("toggle",s);break;case"input":Ce("invalid",s),xg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",s);break;case"textarea":Ce("invalid",s),Tg(s,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||l.suppressHydrationWarning===!0||Av(s.textContent,i)?(l.popover!=null&&(Ce("beforetoggle",s),Ce("toggle",s)),l.onScroll!=null&&Ce("scroll",s),l.onScrollEnd!=null&&Ce("scrollend",s),l.onClick!=null&&(s.onclick=rr),s=!0):s=!1,s||Br(n,!0)}function dy(n){for(Ct=n.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Ct=Ct.return}}function Aa(n){if(n!==Ct)return!1;if(!De)return dy(n),De=!0,!1;var s=n.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=n.type,i=!(i!=="form"&&i!=="button")||ph(n.type,n.memoizedProps)),i=!i),i&&et&&Br(n),dy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));et=Lv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));et=Lv(n)}else s===27?(s=et,Qr(n.type)?(n=vh,vh=null,et=n):et=s):et=Ct?An(n.stateNode.nextSibling):null;return!0}function js(){et=Ct=null,De=!1}function Xd(){var n=Ur;return n!==null&&(Wt===null?Wt=n:Wt.push.apply(Wt,n),Ur=null),n}function ro(n){Ur===null?Ur=[n]:Ur.push(n)}var Jd=ge(null),Ms=null,or=null;function zr(n,s,i){X(Jd,s._currentValue),s._currentValue=i}function lr(n){n._currentValue=Jd.current,ce(Jd)}function Qd(n,s,i){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===i)break;n=n.return}}function Zd(n,s,i,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=d;for(var T=0;T<s.length;T++)if(w.context===s[T]){p.lanes|=i,w=p.alternate,w!==null&&(w.lanes|=i),Qd(p.return,i,n),l||(b=null);break e}p=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(a(341));b.lanes|=i,p=b.alternate,p!==null&&(p.lanes|=i),Qd(b,i,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ca(n,s,i,l){n=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var w=d.type;on(d.pendingProps.value,b.value)||(n!==null?n.push(w):n=[w])}}else if(d===Ue.current){if(b=d.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Oo):n=[Oo])}d=d.return}n!==null&&Zd(s,n,i,l),s.flags|=262144}function Jl(n){for(n=n.firstContext;n!==null;){if(!on(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Is(n){Ms=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Rt(n){return fy(Ms,n)}function Ql(n,s){return Ms===null&&Is(n),fy(n,s)}function fy(n,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},or===null){if(n===null)throw Error(a(308));or=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else or=or.next=s;return i}var JT=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(i,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(i){return i()})}},QT=t.unstable_scheduleCallback,ZT=t.unstable_NormalPriority,ut={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new JT,data:new Map,refCount:0}}function so(n){n.refCount--,n.refCount===0&&QT(ZT,function(){n.controller.abort()})}var ao=null,tf=0,Ra=0,Na=null;function ek(n,s){if(ao===null){var i=ao=[];tf=0,Ra=ah(),Na={status:"pending",value:void 0,then:function(l){i.push(l)}}}return tf++,s.then(hy,hy),s}function hy(){if(--tf===0&&ao!==null){Na!==null&&(Na.status="fulfilled");var n=ao;ao=null,Ra=0,Na=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function tk(n,s){var i=[],l={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<i.length;d++)(0,i[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),l}var py=I.S;I.S=function(n,s){Jb=be(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ek(n,s),py!==null&&py(n,s)};var Ds=ge(null);function nf(){var n=Ds.current;return n!==null?n:Xe.pooledCache}function Zl(n,s){s===null?X(Ds,Ds.current):X(Ds,s.pool)}function my(){var n=nf();return n===null?null:{parent:ut._currentValue,pool:n}}var Oa=Error(a(460)),rf=Error(a(474)),ec=Error(a(542)),tc={then:function(){}};function gy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function yy(n,s,i){switch(i=n[i],i===void 0?n.push(s):i!==s&&(s.then(rr,rr),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,vy(n),n;default:if(typeof s.status=="string")s.then(rr,rr);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,vy(n),n}throw Us=s,Oa}}function Ls(n){try{var s=n._init;return s(n._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Us=i,Oa):i}}var Us=null;function by(){if(Us===null)throw Error(a(459));var n=Us;return Us=null,n}function vy(n){if(n===Oa||n===ec)throw Error(a(483))}var ja=null,io=0;function nc(n){var s=io;return io+=1,ja===null&&(ja=[]),yy(ja,n,s)}function oo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function rc(n,s){throw s.$$typeof===_?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function _y(n){function s(C,A){if(n){var j=C.deletions;j===null?(C.deletions=[A],C.flags|=16):j.push(A)}}function i(C,A){if(!n)return null;for(;A!==null;)s(C,A),A=A.sibling;return null}function l(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function d(C,A){return C=ar(C,A),C.index=0,C.sibling=null,C}function p(C,A,j){return C.index=j,n?(j=C.alternate,j!==null?(j=j.index,j<A?(C.flags|=67108866,A):j):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function b(C){return n&&C.alternate===null&&(C.flags|=67108866),C}function w(C,A,j,H){return A===null||A.tag!==6?(A=Gd(j,C.mode,H),A.return=C,A):(A=d(A,j),A.return=C,A)}function T(C,A,j,H){var ie=j.type;return ie===k?z(C,A,j.props.children,H,j.key):A!==null&&(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===q&&Ls(ie)===A.type)?(A=d(A,j.props),oo(A,j),A.return=C,A):(A=Wl(j.type,j.key,j.props,null,C.mode,H),oo(A,j),A.return=C,A)}function M(C,A,j,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=Vd(j,C.mode,H),A.return=C,A):(A=d(A,j.children||[]),A.return=C,A)}function z(C,A,j,H,ie){return A===null||A.tag!==7?(A=Os(j,C.mode,H,ie),A.return=C,A):(A=d(A,j),A.return=C,A)}function $(C,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Gd(""+A,C.mode,j),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return j=Wl(A.type,A.key,A.props,null,C.mode,j),oo(j,A),j.return=C,j;case x:return A=Vd(A,C.mode,j),A.return=C,A;case q:return A=Ls(A),$(C,A,j)}if(Re(A)||le(A))return A=Os(A,C.mode,j,null),A.return=C,A;if(typeof A.then=="function")return $(C,nc(A),j);if(A.$$typeof===R)return $(C,Ql(C,A),j);rc(C,A)}return null}function D(C,A,j,H){var ie=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ie!==null?null:w(C,A,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===ie?T(C,A,j,H):null;case x:return j.key===ie?M(C,A,j,H):null;case q:return j=Ls(j),D(C,A,j,H)}if(Re(j)||le(j))return ie!==null?null:z(C,A,j,H,null);if(typeof j.then=="function")return D(C,A,nc(j),H);if(j.$$typeof===R)return D(C,A,Ql(C,j),H);rc(C,j)}return null}function L(C,A,j,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return C=C.get(j)||null,w(A,C,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return C=C.get(H.key===null?j:H.key)||null,T(A,C,H,ie);case x:return C=C.get(H.key===null?j:H.key)||null,M(A,C,H,ie);case q:return H=Ls(H),L(C,A,j,H,ie)}if(Re(H)||le(H))return C=C.get(j)||null,z(A,C,H,ie,null);if(typeof H.then=="function")return L(C,A,j,nc(H),ie);if(H.$$typeof===R)return L(C,A,j,Ql(A,H),ie);rc(A,H)}return null}function Q(C,A,j,H){for(var ie=null,He=null,ne=A,we=A=0,Oe=null;ne!==null&&we<j.length;we++){ne.index>we?(Oe=ne,ne=null):Oe=ne.sibling;var qe=D(C,ne,j[we],H);if(qe===null){ne===null&&(ne=Oe);break}n&&ne&&qe.alternate===null&&s(C,ne),A=p(qe,A,we),He===null?ie=qe:He.sibling=qe,He=qe,ne=Oe}if(we===j.length)return i(C,ne),De&&ir(C,we),ie;if(ne===null){for(;we<j.length;we++)ne=$(C,j[we],H),ne!==null&&(A=p(ne,A,we),He===null?ie=ne:He.sibling=ne,He=ne);return De&&ir(C,we),ie}for(ne=l(ne);we<j.length;we++)Oe=L(ne,C,we,j[we],H),Oe!==null&&(n&&Oe.alternate!==null&&ne.delete(Oe.key===null?we:Oe.key),A=p(Oe,A,we),He===null?ie=Oe:He.sibling=Oe,He=Oe);return n&&ne.forEach(function(rs){return s(C,rs)}),De&&ir(C,we),ie}function ue(C,A,j,H){if(j==null)throw Error(a(151));for(var ie=null,He=null,ne=A,we=A=0,Oe=null,qe=j.next();ne!==null&&!qe.done;we++,qe=j.next()){ne.index>we?(Oe=ne,ne=null):Oe=ne.sibling;var rs=D(C,ne,qe.value,H);if(rs===null){ne===null&&(ne=Oe);break}n&&ne&&rs.alternate===null&&s(C,ne),A=p(rs,A,we),He===null?ie=rs:He.sibling=rs,He=rs,ne=Oe}if(qe.done)return i(C,ne),De&&ir(C,we),ie;if(ne===null){for(;!qe.done;we++,qe=j.next())qe=$(C,qe.value,H),qe!==null&&(A=p(qe,A,we),He===null?ie=qe:He.sibling=qe,He=qe);return De&&ir(C,we),ie}for(ne=l(ne);!qe.done;we++,qe=j.next())qe=L(ne,C,we,qe.value,H),qe!==null&&(n&&qe.alternate!==null&&ne.delete(qe.key===null?we:qe.key),A=p(qe,A,we),He===null?ie=qe:He.sibling=qe,He=qe);return n&&ne.forEach(function(f1){return s(C,f1)}),De&&ir(C,we),ie}function We(C,A,j,H){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var ie=j.key;A!==null;){if(A.key===ie){if(ie=j.type,ie===k){if(A.tag===7){i(C,A.sibling),H=d(A,j.props.children),H.return=C,C=H;break e}}else if(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===q&&Ls(ie)===A.type){i(C,A.sibling),H=d(A,j.props),oo(H,j),H.return=C,C=H;break e}i(C,A);break}else s(C,A);A=A.sibling}j.type===k?(H=Os(j.props.children,C.mode,H,j.key),H.return=C,C=H):(H=Wl(j.type,j.key,j.props,null,C.mode,H),oo(H,j),H.return=C,C=H)}return b(C);case x:e:{for(ie=j.key;A!==null;){if(A.key===ie)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){i(C,A.sibling),H=d(A,j.children||[]),H.return=C,C=H;break e}else{i(C,A);break}else s(C,A);A=A.sibling}H=Vd(j,C.mode,H),H.return=C,C=H}return b(C);case q:return j=Ls(j),We(C,A,j,H)}if(Re(j))return Q(C,A,j,H);if(le(j)){if(ie=le(j),typeof ie!="function")throw Error(a(150));return j=ie.call(j),ue(C,A,j,H)}if(typeof j.then=="function")return We(C,A,nc(j),H);if(j.$$typeof===R)return We(C,A,Ql(C,j),H);rc(C,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,A!==null&&A.tag===6?(i(C,A.sibling),H=d(A,j),H.return=C,C=H):(i(C,A),H=Gd(j,C.mode,H),H.return=C,C=H),b(C)):i(C,A)}return function(C,A,j,H){try{io=0;var ie=We(C,A,j,H);return ja=null,ie}catch(ne){if(ne===Oa||ne===ec)throw ne;var He=ln(29,ne,null,C.mode);return He.lanes=H,He.return=C,He}}}var Bs=_y(!0),Sy=_y(!1),Hr=!1;function sf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $r(n,s,i){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Kl(n),sy(n,null,i),s}return Yl(n,l,s,i),Kl(n)}function lo(n,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,i|=l,s.lanes=i,fg(n,i)}}function of(n,s){var i=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,i=i.next}while(i!==null);p===null?d=p=s:p=p.next=s}else d=p=s;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=s:n.next=s,i.lastBaseUpdate=s}var lf=!1;function co(){if(lf){var n=Na;if(n!==null)throw n}}function uo(n,s,i,l){lf=!1;var d=n.updateQueue;Hr=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var T=w,M=T.next;T.next=null,b===null?p=M:b.next=M,b=T;var z=n.alternate;z!==null&&(z=z.updateQueue,w=z.lastBaseUpdate,w!==b&&(w===null?z.firstBaseUpdate=M:w.next=M,z.lastBaseUpdate=T))}if(p!==null){var $=d.baseState;b=0,z=M=T=null,w=p;do{var D=w.lane&-536870913,L=D!==w.lane;if(L?(Ne&D)===D:(l&D)===D){D!==0&&D===Ra&&(lf=!0),z!==null&&(z=z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Q=n,ue=w;D=s;var We=i;switch(ue.tag){case 1:if(Q=ue.payload,typeof Q=="function"){$=Q.call(We,$,D);break e}$=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ue.payload,D=typeof Q=="function"?Q.call(We,$,D):Q,D==null)break e;$=v({},$,D);break e;case 2:Hr=!0}}D=w.callback,D!==null&&(n.flags|=64,L&&(n.flags|=8192),L=d.callbacks,L===null?d.callbacks=[D]:L.push(D))}else L={lane:D,tag:w.tag,payload:w.payload,callback:w.callback,next:null},z===null?(M=z=L,T=$):z=z.next=L,b|=D;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;L=w,w=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);z===null&&(T=$),d.baseState=T,d.firstBaseUpdate=M,d.lastBaseUpdate=z,p===null&&(d.shared.lanes=0),Yr|=b,n.lanes=b,n.memoizedState=$}}function wy(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function xy(n,s){var i=n.callbacks;if(i!==null)for(n.callbacks=null,n=0;n<i.length;n++)wy(i[n],s)}var Ma=ge(null),sc=ge(0);function Ey(n,s){n=yr,X(sc,n),X(Ma,s),yr=n|s.baseLanes}function cf(){X(sc,yr),X(Ma,Ma.current)}function uf(){yr=sc.current,ce(Ma),ce(sc)}var cn=ge(null),kn=null;function Pr(n){var s=n.alternate;X(lt,lt.current&1),X(cn,n),kn===null&&(s===null||Ma.current!==null||s.memoizedState!==null)&&(kn=n)}function df(n){X(lt,lt.current),X(cn,n),kn===null&&(kn=n)}function Ty(n){n.tag===22?(X(lt,lt.current),X(cn,n),kn===null&&(kn=n)):Fr()}function Fr(){X(lt,lt.current),X(cn,cn.current)}function un(n){ce(cn),kn===n&&(kn=null),ce(lt)}var lt=ge(0);function ac(n){for(var s=n;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||yh(i)||bh(i)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cr=0,Se=null,Ye=null,dt=null,ic=!1,Ia=!1,zs=!1,oc=0,fo=0,Da=null,nk=0;function rt(){throw Error(a(321))}function ff(n,s){if(s===null)return!1;for(var i=0;i<s.length&&i<n.length;i++)if(!on(n[i],s[i]))return!1;return!0}function hf(n,s,i,l,d,p){return cr=p,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=n===null||n.memoizedState===null?lb:Cf,zs=!1,p=i(l,d),zs=!1,Ia&&(p=Ay(s,i,l,d)),ky(n),p}function ky(n){I.H=mo;var s=Ye!==null&&Ye.next!==null;if(cr=0,dt=Ye=Se=null,ic=!1,fo=0,Da=null,s)throw Error(a(300));n===null||ft||(n=n.dependencies,n!==null&&Jl(n)&&(ft=!0))}function Ay(n,s,i,l){Se=n;var d=0;do{if(Ia&&(Da=null),fo=0,Ia=!1,25<=d)throw Error(a(301));if(d+=1,dt=Ye=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}I.H=cb,p=s(i,l)}while(Ia);return p}function rk(){var n=I.H,s=n.useState()[0];return s=typeof s.then=="function"?ho(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Se.flags|=1024),s}function pf(){var n=oc!==0;return oc=0,n}function mf(n,s,i){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~i}function gf(n){if(ic){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ic=!1}cr=0,dt=Ye=Se=null,Ia=!1,fo=oc=0,Da=null}function Bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Se.memoizedState=dt=n:dt=dt.next=n,dt}function ct(){if(Ye===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=dt===null?Se.memoizedState:dt.next;if(s!==null)dt=s,Ye=n;else{if(n===null)throw Se.alternate===null?Error(a(467)):Error(a(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},dt===null?Se.memoizedState=dt=n:dt=dt.next=n}return dt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(n){var s=fo;return fo+=1,Da===null&&(Da=[]),n=yy(Da,n,s),s=Se,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?lb:Cf),n}function cc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ho(n);if(n.$$typeof===R)return Rt(n)}throw Error(a(438,String(n)))}function yf(n){var s=null,i=Se.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=lc(),Se.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(n),l=0;l<n;l++)i[l]=W;return s.index++,i}function ur(n,s){return typeof s=="function"?s(n):s}function uc(n){var s=ct();return bf(s,Ye,n)}function bf(n,s,i){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=i;var d=n.baseQueue,p=l.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}s.baseQueue=d=p,l.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{s=d.next;var w=b=null,T=null,M=s,z=!1;do{var $=M.lane&-536870913;if($!==M.lane?(Ne&$)===$:(cr&$)===$){var D=M.revertLane;if(D===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),$===Ra&&(z=!0);else if((cr&D)===D){M=M.next,D===Ra&&(z=!0);continue}else $={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(w=T=$,b=p):T=T.next=$,Se.lanes|=D,Yr|=D;$=M.action,zs&&i(p,$),p=M.hasEagerState?M.eagerState:i(p,$)}else D={lane:$,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},T===null?(w=T=D,b=p):T=T.next=D,Se.lanes|=$,Yr|=$;M=M.next}while(M!==null&&M!==s);if(T===null?b=p:T.next=w,!on(p,n.memoizedState)&&(ft=!0,z&&(i=Na,i!==null)))throw i;n.memoizedState=p,n.baseState=b,n.baseQueue=T,l.lastRenderedState=p}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function vf(n){var s=ct(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=n;var l=i.dispatch,d=i.pending,p=s.memoizedState;if(d!==null){i.pending=null;var b=d=d.next;do p=n(p,b.action),b=b.next;while(b!==d);on(p,s.memoizedState)||(ft=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),i.lastRenderedState=p}return[p,l]}function Cy(n,s,i){var l=Se,d=ct(),p=De;if(p){if(i===void 0)throw Error(a(407));i=i()}else i=s();var b=!on((Ye||d).memoizedState,i);if(b&&(d.memoizedState=i,ft=!0),d=d.queue,wf(Oy.bind(null,l,d,n),[n]),d.getSnapshot!==s||b||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Ny.bind(null,l,d,i,s),null),Xe===null)throw Error(a(349));p||(cr&127)!==0||Ry(l,s,i)}return i}function Ry(n,s,i){n.flags|=16384,n={getSnapshot:s,value:i},s=Se.updateQueue,s===null?(s=lc(),Se.updateQueue=s,s.stores=[n]):(i=s.stores,i===null?s.stores=[n]:i.push(n))}function Ny(n,s,i,l){s.value=i,s.getSnapshot=l,jy(s)&&My(n)}function Oy(n,s,i){return i(function(){jy(s)&&My(n)})}function jy(n){var s=n.getSnapshot;n=n.value;try{var i=s();return!on(n,i)}catch{return!0}}function My(n){var s=Ns(n,2);s!==null&&Xt(s,n,2)}function _f(n){var s=Bt();if(typeof n=="function"){var i=n;if(n=i(),zs){Mr(!0);try{i()}finally{Mr(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:n},s}function Iy(n,s,i,l){return n.baseState=i,bf(n,Ye,typeof l=="function"?l:ur)}function sk(n,s,i,l,d){if(hc(n))throw Error(a(485));if(n=s.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};I.T!==null?i(!0):p.isTransition=!1,l(p),i=s.pending,i===null?(p.next=s.pending=p,Dy(s,p)):(p.next=i.next,s.pending=i.next=p)}}function Dy(n,s){var i=s.action,l=s.payload,d=n.state;if(s.isTransition){var p=I.T,b={};I.T=b;try{var w=i(d,l),T=I.S;T!==null&&T(b,w),Ly(n,s,w)}catch(M){Sf(n,s,M)}finally{p!==null&&b.types!==null&&(p.types=b.types),I.T=p}}else try{p=i(d,l),Ly(n,s,p)}catch(M){Sf(n,s,M)}}function Ly(n,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Uy(n,s,l)},function(l){return Sf(n,s,l)}):Uy(n,s,i)}function Uy(n,s,i){s.status="fulfilled",s.value=i,By(s),n.state=i,s=n.pending,s!==null&&(i=s.next,i===s?n.pending=null:(i=i.next,s.next=i,Dy(n,i)))}function Sf(n,s,i){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=i,By(s),s=s.next;while(s!==l)}n.action=null}function By(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function zy(n,s){return s}function Hy(n,s){if(De){var i=Xe.formState;if(i!==null){e:{var l=Se;if(De){if(et){t:{for(var d=et,p=Tn;d.nodeType!==8;){if(!p){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){et=An(d.nextSibling),l=d.data==="F!";break e}}Br(l)}l=!1}l&&(s=i[0])}}return i=Bt(),i.memoizedState=i.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:s},i.queue=l,i=ab.bind(null,Se,l),l.dispatch=i,l=_f(!1),p=Af.bind(null,Se,!1,l.queue),l=Bt(),d={state:s,dispatch:null,action:n,pending:null},l.queue=d,i=sk.bind(null,Se,d,p,i),d.dispatch=i,l.memoizedState=n,[s,i,!1]}function qy(n){var s=ct();return $y(s,Ye,n)}function $y(n,s,i){if(s=bf(n,s,zy)[0],n=uc(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=ho(s)}catch(b){throw b===Oa?ec:b}else l=s;s=ct();var d=s.queue,p=d.dispatch;return i!==s.memoizedState&&(Se.flags|=2048,La(9,{destroy:void 0},ak.bind(null,d,i),null)),[l,p,n]}function ak(n,s){n.action=s}function Py(n){var s=ct(),i=Ye;if(i!==null)return $y(s,i,n);ct(),s=s.memoizedState,i=ct();var l=i.queue.dispatch;return i.memoizedState=n,[s,l,!1]}function La(n,s,i,l){return n={tag:n,create:i,deps:l,inst:s,next:null},s=Se.updateQueue,s===null&&(s=lc(),Se.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=n.next=n:(l=i.next,i.next=n,n.next=l,s.lastEffect=n),n}function Fy(){return ct().memoizedState}function dc(n,s,i,l){var d=Bt();Se.flags|=n,d.memoizedState=La(1|s,{destroy:void 0},i,l===void 0?null:l)}function fc(n,s,i,l){var d=ct();l=l===void 0?null:l;var p=d.memoizedState.inst;Ye!==null&&l!==null&&ff(l,Ye.memoizedState.deps)?d.memoizedState=La(s,p,i,l):(Se.flags|=n,d.memoizedState=La(1|s,p,i,l))}function Gy(n,s){dc(8390656,8,n,s)}function wf(n,s){fc(2048,8,n,s)}function ik(n){Se.flags|=4;var s=Se.updateQueue;if(s===null)s=lc(),Se.updateQueue=s,s.events=[n];else{var i=s.events;i===null?s.events=[n]:i.push(n)}}function Vy(n){var s=ct().memoizedState;return ik({ref:s,nextImpl:n}),function(){if(($e&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Yy(n,s){return fc(4,2,n,s)}function Ky(n,s){return fc(4,4,n,s)}function Wy(n,s){if(typeof s=="function"){n=n();var i=s(n);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Xy(n,s,i){i=i!=null?i.concat([n]):null,fc(4,4,Wy.bind(null,s,n),i)}function xf(){}function Jy(n,s){var i=ct();s=s===void 0?null:s;var l=i.memoizedState;return s!==null&&ff(s,l[1])?l[0]:(i.memoizedState=[n,s],n)}function Qy(n,s){var i=ct();s=s===void 0?null:s;var l=i.memoizedState;if(s!==null&&ff(s,l[1]))return l[0];if(l=n(),zs){Mr(!0);try{n()}finally{Mr(!1)}}return i.memoizedState=[l,s],l}function Ef(n,s,i){return i===void 0||(cr&1073741824)!==0&&(Ne&261930)===0?n.memoizedState=s:(n.memoizedState=i,n=Zb(),Se.lanes|=n,Yr|=n,i)}function Zy(n,s,i,l){return on(i,s)?i:Ma.current!==null?(n=Ef(n,i,l),on(n,s)||(ft=!0),n):(cr&42)===0||(cr&1073741824)!==0&&(Ne&261930)===0?(ft=!0,n.memoizedState=i):(n=Zb(),Se.lanes|=n,Yr|=n,s)}function eb(n,s,i,l,d){var p=F.p;F.p=p!==0&&8>p?p:8;var b=I.T,w={};I.T=w,Af(n,!1,s,i);try{var T=d(),M=I.S;if(M!==null&&M(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=tk(T,l);po(n,s,z,hn(n))}else po(n,s,l,hn(n))}catch($){po(n,s,{then:function(){},status:"rejected",reason:$},hn())}finally{F.p=p,b!==null&&w.types!==null&&(b.types=w.types),I.T=b}}function ok(){}function Tf(n,s,i,l){if(n.tag!==5)throw Error(a(476));var d=tb(n).queue;eb(n,d,s,O,i===null?ok:function(){return nb(n),i(l)})}function tb(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:O},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:i},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function nb(n){var s=tb(n);s.next===null&&(s=n.alternate.memoizedState),po(n,s.next.queue,{},hn())}function kf(){return Rt(Oo)}function rb(){return ct().memoizedState}function sb(){return ct().memoizedState}function lk(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var i=hn();n=qr(i);var l=$r(s,n,i);l!==null&&(Xt(l,s,i),lo(l,s,i)),s={cache:ef()},n.payload=s;return}s=s.return}}function ck(n,s,i){var l=hn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hc(n)?ib(s,i):(i=Pd(n,s,i,l),i!==null&&(Xt(i,n,l),ob(i,s,l)))}function ab(n,s,i){var l=hn();po(n,s,i,l)}function po(n,s,i,l){var d={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(hc(n))ib(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,w=p(b,i);if(d.hasEagerState=!0,d.eagerState=w,on(w,b))return Yl(n,s,d,0),Xe===null&&Vl(),!1}catch{}if(i=Pd(n,s,d,l),i!==null)return Xt(i,n,l),ob(i,s,l),!0}return!1}function Af(n,s,i,l){if(l={lane:2,revertLane:ah(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(n)){if(s)throw Error(a(479))}else s=Pd(n,i,l,2),s!==null&&Xt(s,n,2)}function hc(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function ib(n,s){Ia=ic=!0;var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}function ob(n,s,i){if((i&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,i|=l,s.lanes=i,fg(n,i)}}var mo={readContext:Rt,use:cc,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};mo.useEffectEvent=rt;var lb={readContext:Rt,use:cc,useCallback:function(n,s){return Bt().memoizedState=[n,s===void 0?null:s],n},useContext:Rt,useEffect:Gy,useImperativeHandle:function(n,s,i){i=i!=null?i.concat([n]):null,dc(4194308,4,Wy.bind(null,s,n),i)},useLayoutEffect:function(n,s){return dc(4194308,4,n,s)},useInsertionEffect:function(n,s){dc(4,2,n,s)},useMemo:function(n,s){var i=Bt();s=s===void 0?null:s;var l=n();if(zs){Mr(!0);try{n()}finally{Mr(!1)}}return i.memoizedState=[l,s],l},useReducer:function(n,s,i){var l=Bt();if(i!==void 0){var d=i(s);if(zs){Mr(!0);try{i(s)}finally{Mr(!1)}}}else d=s;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=ck.bind(null,Se,n),[l.memoizedState,n]},useRef:function(n){var s=Bt();return n={current:n},s.memoizedState=n},useState:function(n){n=_f(n);var s=n.queue,i=ab.bind(null,Se,s);return s.dispatch=i,[n.memoizedState,i]},useDebugValue:xf,useDeferredValue:function(n,s){var i=Bt();return Ef(i,n,s)},useTransition:function(){var n=_f(!1);return n=eb.bind(null,Se,n.queue,!0,!1),Bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,i){var l=Se,d=Bt();if(De){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),Xe===null)throw Error(a(349));(Ne&127)!==0||Ry(l,s,i)}d.memoizedState=i;var p={value:i,getSnapshot:s};return d.queue=p,Gy(Oy.bind(null,l,p,n),[n]),l.flags|=2048,La(9,{destroy:void 0},Ny.bind(null,l,p,i,s),null),i},useId:function(){var n=Bt(),s=Xe.identifierPrefix;if(De){var i=Kn,l=Yn;i=(l&~(1<<32-an(l)-1)).toString(32)+i,s="_"+s+"R_"+i,i=oc++,0<i&&(s+="H"+i.toString(32)),s+="_"}else i=nk++,s="_"+s+"r_"+i.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:kf,useFormState:Hy,useActionState:Hy,useOptimistic:function(n){var s=Bt();s.memoizedState=s.baseState=n;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=Af.bind(null,Se,!0,i),i.dispatch=s,[n,s]},useMemoCache:yf,useCacheRefresh:function(){return Bt().memoizedState=lk.bind(null,Se)},useEffectEvent:function(n){var s=Bt(),i={impl:n};return s.memoizedState=i,function(){if(($e&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},Cf={readContext:Rt,use:cc,useCallback:Jy,useContext:Rt,useEffect:wf,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Ky,useMemo:Qy,useReducer:uc,useRef:Fy,useState:function(){return uc(ur)},useDebugValue:xf,useDeferredValue:function(n,s){var i=ct();return Zy(i,Ye.memoizedState,n,s)},useTransition:function(){var n=uc(ur)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:ho(n),s]},useSyncExternalStore:Cy,useId:rb,useHostTransitionStatus:kf,useFormState:qy,useActionState:qy,useOptimistic:function(n,s){var i=ct();return Iy(i,Ye,n,s)},useMemoCache:yf,useCacheRefresh:sb};Cf.useEffectEvent=Vy;var cb={readContext:Rt,use:cc,useCallback:Jy,useContext:Rt,useEffect:wf,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Ky,useMemo:Qy,useReducer:vf,useRef:Fy,useState:function(){return vf(ur)},useDebugValue:xf,useDeferredValue:function(n,s){var i=ct();return Ye===null?Ef(i,n,s):Zy(i,Ye.memoizedState,n,s)},useTransition:function(){var n=vf(ur)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:ho(n),s]},useSyncExternalStore:Cy,useId:rb,useHostTransitionStatus:kf,useFormState:Py,useActionState:Py,useOptimistic:function(n,s){var i=ct();return Ye!==null?Iy(i,Ye,n,s):(i.baseState=n,[n,i.queue.dispatch])},useMemoCache:yf,useCacheRefresh:sb};cb.useEffectEvent=Vy;function Rf(n,s,i,l){s=n.memoizedState,i=i(l,s),i=i==null?s:v({},s,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var Nf={enqueueSetState:function(n,s,i){n=n._reactInternals;var l=hn(),d=qr(l);d.payload=s,i!=null&&(d.callback=i),s=$r(n,d,l),s!==null&&(Xt(s,n,l),lo(s,n,l))},enqueueReplaceState:function(n,s,i){n=n._reactInternals;var l=hn(),d=qr(l);d.tag=1,d.payload=s,i!=null&&(d.callback=i),s=$r(n,d,l),s!==null&&(Xt(s,n,l),lo(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var i=hn(),l=qr(i);l.tag=2,s!=null&&(l.callback=s),s=$r(n,l,i),s!==null&&(Xt(s,n,i),lo(s,n,i))}};function ub(n,s,i,l,d,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,b):s.prototype&&s.prototype.isPureReactComponent?!eo(i,l)||!eo(d,p):!0}function db(n,s,i,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,l),s.state!==n&&Nf.enqueueReplaceState(s,s.state,null)}function Hs(n,s){var i=s;if("ref"in s){i={};for(var l in s)l!=="ref"&&(i[l]=s[l])}if(n=n.defaultProps){i===s&&(i=v({},i));for(var d in n)i[d]===void 0&&(i[d]=n[d])}return i}function fb(n){Gl(n)}function hb(n){console.error(n)}function pb(n){Gl(n)}function pc(n,s){try{var i=n.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function mb(n,s,i){try{var l=n.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Of(n,s,i){return i=qr(i),i.tag=3,i.payload={element:null},i.callback=function(){pc(n,s)},i}function gb(n){return n=qr(n),n.tag=3,n}function yb(n,s,i,l){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;n.payload=function(){return d(p)},n.callback=function(){mb(s,i,l)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){mb(s,i,l),typeof d!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function uk(n,s,i,l,d){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=i.alternate,s!==null&&Ca(s,i,d,!0),i=cn.current,i!==null){switch(i.tag){case 31:case 13:return kn===null?kc():i.alternate===null&&st===0&&(st=3),i.flags&=-257,i.flags|=65536,i.lanes=d,l===tc?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([l]):s.add(l),nh(n,l,d)),!1;case 22:return i.flags|=65536,l===tc?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([l]):i.add(l)),nh(n,l,d)),!1}throw Error(a(435,i.tag))}return nh(n,l,d),kc(),!1}if(De)return s=cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Wd&&(n=Error(a(422),{cause:l}),ro(wn(n,i)))):(l!==Wd&&(s=Error(a(423),{cause:l}),ro(wn(s,i))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=wn(l,i),d=Of(n.stateNode,l,d),of(n,d),st!==4&&(st=2)),!1;var p=Error(a(520),{cause:l});if(p=wn(p,i),xo===null?xo=[p]:xo.push(p),st!==4&&(st=2),s===null)return!0;l=wn(l,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,n=d&-d,i.lanes|=n,n=Of(i.stateNode,l,n),of(i,n),!1;case 1:if(s=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kr===null||!Kr.has(p))))return i.flags|=65536,d&=-d,i.lanes|=d,d=gb(d),yb(d,n,i,l),of(i,d),!1}i=i.return}while(i!==null);return!1}var jf=Error(a(461)),ft=!1;function Nt(n,s,i,l){s.child=n===null?Sy(s,null,i,l):Bs(s,n.child,i,l)}function bb(n,s,i,l,d){i=i.render;var p=s.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Is(s),l=hf(n,s,i,b,p,d),w=pf(),n!==null&&!ft?(mf(n,s,d),dr(n,s,d)):(De&&w&&Yd(s),s.flags|=1,Nt(n,s,l,d),s.child)}function vb(n,s,i,l,d){if(n===null){var p=i.type;return typeof p=="function"&&!Fd(p)&&p.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=p,_b(n,s,p,l,d)):(n=Wl(i.type,null,l,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Hf(n,d)){var b=p.memoizedProps;if(i=i.compare,i=i!==null?i:eo,i(b,l)&&n.ref===s.ref)return dr(n,s,d)}return s.flags|=1,n=ar(p,l),n.ref=s.ref,n.return=s,s.child=n}function _b(n,s,i,l,d){if(n!==null){var p=n.memoizedProps;if(eo(p,l)&&n.ref===s.ref)if(ft=!1,s.pendingProps=l=p,Hf(n,d))(n.flags&131072)!==0&&(ft=!0);else return s.lanes=n.lanes,dr(n,s,d)}return Mf(n,s,i,l,d)}function Sb(n,s,i,l){var d=l.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,n!==null){for(l=s.child=n.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~p}else l=0,s.child=null;return wb(n,s,p,i,l)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Zl(s,p!==null?p.cachePool:null),p!==null?Ey(s,p):cf(),Ty(s);else return l=s.lanes=536870912,wb(n,s,p!==null?p.baseLanes|i:i,i,l)}else p!==null?(Zl(s,p.cachePool),Ey(s,p),Fr(),s.memoizedState=null):(n!==null&&Zl(s,null),cf(),Fr());return Nt(n,s,d,i),s.child}function go(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function wb(n,s,i,l,d){var p=nf();return p=p===null?null:{parent:ut._currentValue,pool:p},s.memoizedState={baseLanes:i,cachePool:p},n!==null&&Zl(s,null),cf(),Ty(s),n!==null&&Ca(n,s,l,!0),s.childLanes=d,null}function mc(n,s){return s=yc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function xb(n,s,i){return Bs(s,n.child,null,i),n=mc(s,s.pendingProps),n.flags|=2,un(s),s.memoizedState=null,n}function dk(n,s,i){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(De){if(l.mode==="hidden")return n=mc(s,l),s.lanes=536870912,go(null,n);if(df(s),(n=et)?(n=Dv(n,Tn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},i=iy(n),i.return=s,s.child=i,Ct=s,et=null)):n=null,n===null)throw Br(s);return s.lanes=536870912,null}return mc(s,l)}var p=n.memoizedState;if(p!==null){var b=p.dehydrated;if(df(s),d)if(s.flags&256)s.flags&=-257,s=xb(n,s,i);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(ft||Ca(n,s,i,!1),d=(i&n.childLanes)!==0,ft||d){if(l=Xe,l!==null&&(b=hg(l,i),b!==0&&b!==p.retryLane))throw p.retryLane=b,Ns(n,b),Xt(l,n,b),jf;kc(),s=xb(n,s,i)}else n=p.treeContext,et=An(b.nextSibling),Ct=s,De=!0,Ur=null,Tn=!1,n!==null&&cy(s,n),s=mc(s,l),s.flags|=4096;return s}return n=ar(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function gc(n,s){var i=s.ref;if(i===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(n===null||n.ref!==i)&&(s.flags|=4194816)}}function Mf(n,s,i,l,d){return Is(s),i=hf(n,s,i,l,void 0,d),l=pf(),n!==null&&!ft?(mf(n,s,d),dr(n,s,d)):(De&&l&&Yd(s),s.flags|=1,Nt(n,s,i,d),s.child)}function Eb(n,s,i,l,d,p){return Is(s),s.updateQueue=null,i=Ay(s,l,i,d),ky(n),l=pf(),n!==null&&!ft?(mf(n,s,p),dr(n,s,p)):(De&&l&&Yd(s),s.flags|=1,Nt(n,s,i,p),s.child)}function Tb(n,s,i,l,d){if(Is(s),s.stateNode===null){var p=Ea,b=i.contextType;typeof b=="object"&&b!==null&&(p=Rt(b)),p=new i(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},sf(s),b=i.contextType,p.context=typeof b=="object"&&b!==null?Rt(b):Ea,p.state=s.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Rf(s,i,b,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Nf.enqueueReplaceState(p,p.state,null),uo(s,l,p,d),co(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var w=s.memoizedProps,T=Hs(i,w);p.props=T;var M=p.context,z=i.contextType;b=Ea,typeof z=="object"&&z!==null&&(b=Rt(z));var $=i.getDerivedStateFromProps;z=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||M!==b)&&db(s,p,l,b),Hr=!1;var D=s.memoizedState;p.state=D,uo(s,l,p,d),co(),M=s.memoizedState,w||D!==M||Hr?(typeof $=="function"&&(Rf(s,i,$,l),M=s.memoizedState),(T=Hr||ub(s,i,T,l,D,M,b))?(z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=M),p.props=l,p.state=M,p.context=b,l=T):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,af(n,s),b=s.memoizedProps,z=Hs(i,b),p.props=z,$=s.pendingProps,D=p.context,M=i.contextType,T=Ea,typeof M=="object"&&M!==null&&(T=Rt(M)),w=i.getDerivedStateFromProps,(M=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==$||D!==T)&&db(s,p,l,T),Hr=!1,D=s.memoizedState,p.state=D,uo(s,l,p,d),co();var L=s.memoizedState;b!==$||D!==L||Hr||n!==null&&n.dependencies!==null&&Jl(n.dependencies)?(typeof w=="function"&&(Rf(s,i,w,l),L=s.memoizedState),(z=Hr||ub(s,i,z,l,D,L,T)||n!==null&&n.dependencies!==null&&Jl(n.dependencies))?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,L,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,L,T)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&D===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&D===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=L),p.props=l,p.state=L,p.context=T,l=z):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&D===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&D===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,gc(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=Bs(s,n.child,null,d),s.child=Bs(s,null,i,d)):Nt(n,s,i,d),s.memoizedState=p.state,n=s.child):n=dr(n,s,d),n}function kb(n,s,i,l){return js(),s.flags|=256,Nt(n,s,i,l),s.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(n){return{baseLanes:n,cachePool:my()}}function Lf(n,s,i){return n=n!==null?n.childLanes&~i:0,s&&(n|=fn),n}function Ab(n,s,i){var l=s.pendingProps,d=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(lt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(De){if(d?Pr(s):Fr(),(n=et)?(n=Dv(n,Tn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},i=iy(n),i.return=s,s.child=i,Ct=s,et=null)):n=null,n===null)throw Br(s);return bh(n)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,d?(Fr(),d=s.mode,w=yc({mode:"hidden",children:w},d),l=Os(l,d,i,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=Df(i),l.childLanes=Lf(n,b,i),s.memoizedState=If,go(null,l)):(Pr(s),Uf(s,w))}var T=n.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(p)s.flags&256?(Pr(s),s.flags&=-257,s=Bf(n,s,i)):s.memoizedState!==null?(Fr(),s.child=n.child,s.flags|=128,s=null):(Fr(),w=l.fallback,d=s.mode,l=yc({mode:"visible",children:l.children},d),w=Os(w,d,i,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,Bs(s,n.child,null,i),l=s.child,l.memoizedState=Df(i),l.childLanes=Lf(n,b,i),s.memoizedState=If,s=go(null,l));else if(Pr(s),bh(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var M=b.dgst;b=M,l=Error(a(419)),l.stack="",l.digest=b,ro({value:l,source:null,stack:null}),s=Bf(n,s,i)}else if(ft||Ca(n,s,i,!1),b=(i&n.childLanes)!==0,ft||b){if(b=Xe,b!==null&&(l=hg(b,i),l!==0&&l!==T.retryLane))throw T.retryLane=l,Ns(n,l),Xt(b,n,l),jf;yh(w)||kc(),s=Bf(n,s,i)}else yh(w)?(s.flags|=192,s.child=n.child,s=null):(n=T.treeContext,et=An(w.nextSibling),Ct=s,De=!0,Ur=null,Tn=!1,n!==null&&cy(s,n),s=Uf(s,l.children),s.flags|=4096);return s}return d?(Fr(),w=l.fallback,d=s.mode,T=n.child,M=T.sibling,l=ar(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,M!==null?w=ar(M,w):(w=Os(w,d,i,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,go(null,l),l=s.child,w=n.child.memoizedState,w===null?w=Df(i):(d=w.cachePool,d!==null?(T=ut._currentValue,d=d.parent!==T?{parent:T,pool:T}:d):d=my(),w={baseLanes:w.baseLanes|i,cachePool:d}),l.memoizedState=w,l.childLanes=Lf(n,b,i),s.memoizedState=If,go(n.child,l)):(Pr(s),i=n.child,n=i.sibling,i=ar(i,{mode:"visible",children:l.children}),i.return=s,i.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=i,s.memoizedState=null,i)}function Uf(n,s){return s=yc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function yc(n,s){return n=ln(22,n,null,s),n.lanes=0,n}function Bf(n,s,i){return Bs(s,n.child,null,i),n=Uf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Cb(n,s,i){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Qd(n.return,s,i)}function zf(n,s,i,l,d,p){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d,treeForkCount:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=i,b.tailMode=d,b.treeForkCount=p)}function Rb(n,s,i){var l=s.pendingProps,d=l.revealOrder,p=l.tail;l=l.children;var b=lt.current,w=(b&2)!==0;if(w?(b=b&1|2,s.flags|=128):b&=1,X(lt,b),Nt(n,s,l,i),l=De?no:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cb(n,i,s);else if(n.tag===19)Cb(n,i,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(i=s.child,d=null;i!==null;)n=i.alternate,n!==null&&ac(n)===null&&(d=i),i=i.sibling;i=d,i===null?(d=s.child,s.child=null):(d=i.sibling,i.sibling=null),zf(s,!1,d,i,p,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&ac(n)===null){s.child=d;break}n=d.sibling,d.sibling=i,i=d,d=n}zf(s,!0,i,null,p,l);break;case"together":zf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function dr(n,s,i){if(n!==null&&(s.dependencies=n.dependencies),Yr|=s.lanes,(i&s.childLanes)===0)if(n!==null){if(Ca(n,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,i=ar(n,n.pendingProps),s.child=i,i.return=s;n.sibling!==null;)n=n.sibling,i=i.sibling=ar(n,n.pendingProps),i.return=s;i.sibling=null}return s.child}function Hf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Jl(n)))}function fk(n,s,i){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),zr(s,ut,n.memoizedState.cache),js();break;case 27:case 5:Pt(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:zr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,df(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(s),s.flags|=128,null):(i&s.child.childLanes)!==0?Ab(n,s,i):(Pr(s),n=dr(n,s,i),n!==null?n.sibling:null);Pr(s);break;case 19:var d=(n.flags&128)!==0;if(l=(i&s.childLanes)!==0,l||(Ca(n,s,i,!1),l=(i&s.childLanes)!==0),d){if(l)return Rb(n,s,i);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(lt,lt.current),l)break;return null;case 22:return s.lanes=0,Sb(n,s,i,s.pendingProps);case 24:zr(s,ut,n.memoizedState.cache)}return dr(n,s,i)}function Nb(n,s,i){if(n!==null)if(n.memoizedProps!==s.pendingProps)ft=!0;else{if(!Hf(n,i)&&(s.flags&128)===0)return ft=!1,fk(n,s,i);ft=(n.flags&131072)!==0}else ft=!1,De&&(s.flags&1048576)!==0&&ly(s,no,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=Ls(s.elementType),s.type=n,typeof n=="function")Fd(n)?(l=Hs(n,l),s.tag=1,s=Tb(null,s,n,l,i)):(s.tag=0,s=Mf(null,s,n,l,i));else{if(n!=null){var d=n.$$typeof;if(d===P){s.tag=11,s=bb(null,s,n,l,i);break e}else if(d===U){s.tag=14,s=vb(null,s,n,l,i);break e}}throw s=he(n)||n,Error(a(306,s,""))}}return s;case 0:return Mf(n,s,s.type,s.pendingProps,i);case 1:return l=s.type,d=Hs(l,s.pendingProps),Tb(n,s,l,d,i);case 3:e:{if($t(s,s.stateNode.containerInfo),n===null)throw Error(a(387));l=s.pendingProps;var p=s.memoizedState;d=p.element,af(n,s),uo(s,l,null,i);var b=s.memoizedState;if(l=b.cache,zr(s,ut,l),l!==p.cache&&Zd(s,[ut],i,!0),co(),l=b.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=kb(n,s,l,i);break e}else if(l!==d){d=wn(Error(a(424)),s),ro(d),s=kb(n,s,l,i);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,et=An(n.firstChild),Ct=s,De=!0,Ur=null,Tn=!0,i=Sy(s,null,l,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(js(),l===d){s=dr(n,s,i);break e}Nt(n,s,l,i)}s=s.child}return s;case 26:return gc(n,s),n===null?(i=qv(s.type,null,s.pendingProps,null))?s.memoizedState=i:De||(i=s.type,n=s.pendingProps,l=Mc(xt.current).createElement(i),l[At]=s,l[Ft]=n,Ot(l,i,n),Et(l),s.stateNode=l):s.memoizedState=qv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Pt(s),n===null&&De&&(l=s.stateNode=Bv(s.type,s.pendingProps,xt.current),Ct=s,Tn=!0,d=et,Qr(s.type)?(vh=d,et=An(l.firstChild)):et=d),Nt(n,s,s.pendingProps.children,i),gc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&De&&((d=l=et)&&(l=$k(l,s.type,s.pendingProps,Tn),l!==null?(s.stateNode=l,Ct=s,et=An(l.firstChild),Tn=!1,d=!0):d=!1),d||Br(s)),Pt(s),d=s.type,p=s.pendingProps,b=n!==null?n.memoizedProps:null,l=p.children,ph(d,p)?l=null:b!==null&&ph(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=hf(n,s,rk,null,null,i),Oo._currentValue=d),gc(n,s),Nt(n,s,l,i),s.child;case 6:return n===null&&De&&((n=i=et)&&(i=Pk(i,s.pendingProps,Tn),i!==null?(s.stateNode=i,Ct=s,et=null,n=!0):n=!1),n||Br(s)),null;case 13:return Ab(n,s,i);case 4:return $t(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Bs(s,null,l,i):Nt(n,s,l,i),s.child;case 11:return bb(n,s,s.type,s.pendingProps,i);case 7:return Nt(n,s,s.pendingProps,i),s.child;case 8:return Nt(n,s,s.pendingProps.children,i),s.child;case 12:return Nt(n,s,s.pendingProps.children,i),s.child;case 10:return l=s.pendingProps,zr(s,s.type,l.value),Nt(n,s,l.children,i),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Is(s),d=Rt(d),l=l(d),s.flags|=1,Nt(n,s,l,i),s.child;case 14:return vb(n,s,s.type,s.pendingProps,i);case 15:return _b(n,s,s.type,s.pendingProps,i);case 19:return Rb(n,s,i);case 31:return dk(n,s,i);case 22:return Sb(n,s,i,s.pendingProps);case 24:return Is(s),l=Rt(ut),n===null?(d=nf(),d===null&&(d=Xe,p=ef(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=i),d=p),s.memoizedState={parent:l,cache:d},sf(s),zr(s,ut,d)):((n.lanes&i)!==0&&(af(n,s),uo(s,null,null,i),co()),d=n.memoizedState,p=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zr(s,ut,l)):(l=p.cache,zr(s,ut,l),l!==d.cache&&Zd(s,[ut],i,!0))),Nt(n,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function fr(n){n.flags|=4}function qf(n,s,i,l,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(rv())n.flags|=8192;else throw Us=tc,rf}else n.flags&=-16777217}function Ob(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Vv(s))if(rv())n.flags|=8192;else throw Us=tc,rf}function bc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ug():536870912,n.lanes|=s,Ha|=s)}function yo(n,s){if(!De)switch(n.tailMode){case"hidden":s=n.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function tt(n){var s=n.alternate!==null&&n.alternate.child===n.child,i=0,l=0;if(s)for(var d=n.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=i,s}function hk(n,s,i){var l=s.pendingProps;switch(Kd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return i=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),lr(ut),It(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Aa(s)?fr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xd())),tt(s),null;case 26:var d=s.type,p=s.memoizedState;return n===null?(fr(s),p!==null?(tt(s),Ob(s,p)):(tt(s),qf(s,d,null,l,i))):p?p!==n.memoizedState?(fr(s),tt(s),Ob(s,p)):(tt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&fr(s),tt(s),qf(s,d,n,l,i)),null;case 27:if(jn(s),i=xt.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&fr(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return tt(s),null}n=ye.current,Aa(s)?uy(s):(n=Bv(d,l,i),s.stateNode=n,fr(s))}return tt(s),null;case 5:if(jn(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&fr(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return tt(s),null}if(p=ye.current,Aa(s))uy(s);else{var b=Mc(xt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?b.createElement(d,{is:l.is}):b.createElement(d)}}p[At]=s,p[Ft]=l;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=p;e:switch(Ot(p,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fr(s)}}return tt(s),qf(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,i),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&fr(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(a(166));if(n=xt.current,Aa(s)){if(n=s.stateNode,i=s.memoizedProps,l=null,d=Ct,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[At]=s,n=!!(n.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Av(n.nodeValue,i)),n||Br(s,!0)}else n=Mc(n).createTextNode(l),n[At]=s,s.stateNode=n}return tt(s),null;case 31:if(i=s.memoizedState,n===null||n.memoizedState!==null){if(l=Aa(s),i!==null){if(n===null){if(!l)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[At]=s}else js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),n=!1}else i=Xd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=i),n=!0;if(!n)return s.flags&256?(un(s),s):(un(s),null);if((s.flags&128)!==0)throw Error(a(558))}return tt(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Aa(s),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[At]=s}else js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),d=!1}else d=Xd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(un(s),s):(un(s),null)}return un(s),(s.flags&128)!==0?(s.lanes=i,s):(i=l!==null,n=n!==null&&n.memoizedState!==null,i&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)),i!==n&&i&&(s.child.flags|=8192),bc(s,s.updateQueue),tt(s),null);case 4:return It(),n===null&&ch(s.stateNode.containerInfo),tt(s),null;case 10:return lr(s.type),tt(s),null;case 19:if(ce(lt),l=s.memoizedState,l===null)return tt(s),null;if(d=(s.flags&128)!==0,p=l.rendering,p===null)if(d)yo(l,!1);else{if(st!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=ac(n),p!==null){for(s.flags|=128,yo(l,!1),n=p.updateQueue,s.updateQueue=n,bc(s,n),s.subtreeFlags=0,n=i,i=s.child;i!==null;)ay(i,n),i=i.sibling;return X(lt,lt.current&1|2),De&&ir(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&be()>xc&&(s.flags|=128,d=!0,yo(l,!1),s.lanes=4194304)}else{if(!d)if(n=ac(p),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,bc(s,n),yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!De)return tt(s),null}else 2*be()-l.renderingStartTime>xc&&i!==536870912&&(s.flags|=128,d=!0,yo(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(n=l.last,n!==null?n.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=be(),n.sibling=null,i=lt.current,X(lt,d?i&1|2:i&1),De&&ir(s,l.treeForkCount),n):(tt(s),null);case 22:case 23:return un(s),uf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(i&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),i=s.updateQueue,i!==null&&bc(s,i.retryQueue),i=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==i&&(s.flags|=2048),n!==null&&ce(Ds),null;case 24:return i=null,n!==null&&(i=n.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),lr(ut),tt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function pk(n,s){switch(Kd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return lr(ut),It(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return jn(s),null;case 31:if(s.memoizedState!==null){if(un(s),s.alternate===null)throw Error(a(340));js()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(un(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));js()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ce(lt),null;case 4:return It(),null;case 10:return lr(s.type),null;case 22:case 23:return un(s),uf(),n!==null&&ce(Ds),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return lr(ut),null;case 25:return null;default:return null}}function jb(n,s){switch(Kd(s),s.tag){case 3:lr(ut),It();break;case 26:case 27:case 5:jn(s);break;case 4:It();break;case 31:s.memoizedState!==null&&un(s);break;case 13:un(s);break;case 19:ce(lt);break;case 10:lr(s.type);break;case 22:case 23:un(s),uf(),n!==null&&ce(Ds);break;case 24:lr(ut)}}function bo(n,s){try{var i=s.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var d=l.next;i=d;do{if((i.tag&n)===n){l=void 0;var p=i.create,b=i.inst;l=p(),b.destroy=l}i=i.next}while(i!==d)}}catch(w){Ve(s,s.return,w)}}function Gr(n,s,i){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&n)===n){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=s;var T=i,M=w;try{M()}catch(z){Ve(d,T,z)}}}l=l.next}while(l!==p)}}catch(z){Ve(s,s.return,z)}}function Mb(n){var s=n.updateQueue;if(s!==null){var i=n.stateNode;try{xy(s,i)}catch(l){Ve(n,n.return,l)}}}function Ib(n,s,i){i.props=Hs(n.type,n.memoizedProps),i.state=n.memoizedState;try{i.componentWillUnmount()}catch(l){Ve(n,s,l)}}function vo(n,s){try{var i=n.ref;if(i!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof i=="function"?n.refCleanup=i(l):i.current=l}}catch(d){Ve(n,s,d)}}function Wn(n,s){var i=n.ref,l=n.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(d){Ve(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Ve(n,s,d)}else i.current=null}function Db(n){var s=n.type,i=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(d){Ve(n,n.return,d)}}function $f(n,s,i){try{var l=n.stateNode;Lk(l,n.type,i,s),l[Ft]=s}catch(d){Ve(n,n.return,d)}}function Lb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qr(n.type)||n.tag===4}function Pf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Lb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ff(n,s,i){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(n,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(n),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=rr));else if(l!==4&&(l===27&&Qr(n.type)&&(i=n.stateNode,s=null),n=n.child,n!==null))for(Ff(n,s,i),n=n.sibling;n!==null;)Ff(n,s,i),n=n.sibling}function vc(n,s,i){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?i.insertBefore(n,s):i.appendChild(n);else if(l!==4&&(l===27&&Qr(n.type)&&(i=n.stateNode),n=n.child,n!==null))for(vc(n,s,i),n=n.sibling;n!==null;)vc(n,s,i),n=n.sibling}function Ub(n){var s=n.stateNode,i=n.memoizedProps;try{for(var l=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ot(s,l,i),s[At]=n,s[Ft]=i}catch(p){Ve(n,n.return,p)}}var hr=!1,ht=!1,Gf=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function mk(n,s){if(n=n.containerInfo,fh=Hc,n=Xg(n),Ud(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var b=0,w=-1,T=-1,M=0,z=0,$=n,D=null;t:for(;;){for(var L;$!==i||d!==0&&$.nodeType!==3||(w=b+d),$!==p||l!==0&&$.nodeType!==3||(T=b+l),$.nodeType===3&&(b+=$.nodeValue.length),(L=$.firstChild)!==null;)D=$,$=L;for(;;){if($===n)break t;if(D===i&&++M===d&&(w=b),D===p&&++z===l&&(T=b),(L=$.nextSibling)!==null)break;$=D,D=$.parentNode}$=L}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(hh={focusedElem:n,selectionRange:i},Hc=!1,Tt=s;Tt!==null;)if(s=Tt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Tt=n;else for(;Tt!==null;){switch(s=Tt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(i=0;i<n.length;i++)d=n[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,i=s,d=p.memoizedProps,p=p.memoizedState,l=i.stateNode;try{var Q=Hs(i.type,d);n=l.getSnapshotBeforeUpdate(Q,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(ue){Ve(i,i.return,ue)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,i=n.nodeType,i===9)gh(n);else if(i===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":gh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,Tt=n;break}Tt=s.return}}function zb(n,s,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:mr(n,i),l&4&&bo(5,i);break;case 1:if(mr(n,i),l&4)if(n=i.stateNode,s===null)try{n.componentDidMount()}catch(b){Ve(i,i.return,b)}else{var d=Hs(i.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Ve(i,i.return,b)}}l&64&&Mb(i),l&512&&vo(i,i.return);break;case 3:if(mr(n,i),l&64&&(n=i.updateQueue,n!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{xy(n,s)}catch(b){Ve(i,i.return,b)}}break;case 27:s===null&&l&4&&Ub(i);case 26:case 5:mr(n,i),s===null&&l&4&&Db(i),l&512&&vo(i,i.return);break;case 12:mr(n,i);break;case 31:mr(n,i),l&4&&$b(n,i);break;case 13:mr(n,i),l&4&&Pb(n,i),l&64&&(n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(i=Ek.bind(null,i),Fk(n,i))));break;case 22:if(l=i.memoizedState!==null||hr,!l){s=s!==null&&s.memoizedState!==null||ht,d=hr;var p=ht;hr=l,(ht=s)&&!p?gr(n,i,(i.subtreeFlags&8772)!==0):mr(n,i),hr=d,ht=p}break;case 30:break;default:mr(n,i)}}function Hb(n){var s=n.alternate;s!==null&&(n.alternate=null,Hb(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&_d(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,Vt=!1;function pr(n,s,i){for(i=i.child;i!==null;)qb(n,s,i),i=i.sibling}function qb(n,s,i){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount($i,i)}catch{}switch(i.tag){case 26:ht||Wn(i,s),pr(n,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ht||Wn(i,s);var l=nt,d=Vt;Qr(i.type)&&(nt=i.stateNode,Vt=!1),pr(n,s,i),Co(i.stateNode),nt=l,Vt=d;break;case 5:ht||Wn(i,s);case 6:if(l=nt,d=Vt,nt=null,pr(n,s,i),nt=l,Vt=d,nt!==null)if(Vt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(i.stateNode)}catch(p){Ve(i,s,p)}else try{nt.removeChild(i.stateNode)}catch(p){Ve(i,s,p)}break;case 18:nt!==null&&(Vt?(n=nt,Mv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.stateNode),Ka(n)):Mv(nt,i.stateNode));break;case 4:l=nt,d=Vt,nt=i.stateNode.containerInfo,Vt=!0,pr(n,s,i),nt=l,Vt=d;break;case 0:case 11:case 14:case 15:Gr(2,i,s),ht||Gr(4,i,s),pr(n,s,i);break;case 1:ht||(Wn(i,s),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Ib(i,s,l)),pr(n,s,i);break;case 21:pr(n,s,i);break;case 22:ht=(l=ht)||i.memoizedState!==null,pr(n,s,i),ht=l;break;default:pr(n,s,i)}}function $b(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ka(n)}catch(i){Ve(s,s.return,i)}}}function Pb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ka(n)}catch(i){Ve(s,s.return,i)}}function gk(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Bb),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Bb),s;default:throw Error(a(435,n.tag))}}function _c(n,s){var i=gk(n);s.forEach(function(l){if(!i.has(l)){i.add(l);var d=Tk.bind(null,n,l);l.then(d,d)}})}function Yt(n,s){var i=s.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l],p=n,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Qr(w.type)){nt=w.stateNode,Vt=!1;break e}break;case 5:nt=w.stateNode,Vt=!1;break e;case 3:case 4:nt=w.stateNode.containerInfo,Vt=!0;break e}w=w.return}if(nt===null)throw Error(a(160));qb(p,b,d),nt=null,Vt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Fb(s,n),s=s.sibling}var Dn=null;function Fb(n,s){var i=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Yt(s,n),Kt(n),l&4&&(Gr(3,n,n.return),bo(3,n),Gr(5,n,n.return));break;case 1:Yt(s,n),Kt(n),l&512&&(ht||i===null||Wn(i,i.return)),l&64&&hr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(i=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var d=Dn;if(Yt(s,n),Kt(n),l&512&&(ht||i===null||Wn(i,i.return)),l&4){var p=i!==null?i.memoizedState:null;if(l=n.memoizedState,i===null)if(l===null)if(n.stateNode===null){e:{l=n.type,i=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Gi]||p[At]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),Ot(p,l,i),p[At]=n,Et(p),l=p;break e;case"link":var b=Fv("link","href",d).get(l+(i.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(w,1);break t}}p=d.createElement(l),Ot(p,l,i),d.head.appendChild(p);break;case"meta":if(b=Fv("meta","content",d).get(l+(i.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(w,1);break t}}p=d.createElement(l),Ot(p,l,i),d.head.appendChild(p);break;default:throw Error(a(468,l))}p[At]=n,Et(p),l=p}n.stateNode=l}else Gv(d,n.type,n.stateNode);else n.stateNode=Pv(d,l,n.memoizedProps);else p!==l?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,l===null?Gv(d,n.type,n.stateNode):Pv(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&$f(n,n.memoizedProps,i.memoizedProps)}break;case 27:Yt(s,n),Kt(n),l&512&&(ht||i===null||Wn(i,i.return)),i!==null&&l&4&&$f(n,n.memoizedProps,i.memoizedProps);break;case 5:if(Yt(s,n),Kt(n),l&512&&(ht||i===null||Wn(i,i.return)),n.flags&32){d=n.stateNode;try{ya(d,"")}catch(Q){Ve(n,n.return,Q)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,$f(n,d,i!==null?i.memoizedProps:d)),l&1024&&(Gf=!0);break;case 6:if(Yt(s,n),Kt(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,i=n.stateNode;try{i.nodeValue=l}catch(Q){Ve(n,n.return,Q)}}break;case 3:if(Lc=null,d=Dn,Dn=Ic(s.containerInfo),Yt(s,n),Dn=d,Kt(n),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Ka(s.containerInfo)}catch(Q){Ve(n,n.return,Q)}Gf&&(Gf=!1,Gb(n));break;case 4:l=Dn,Dn=Ic(n.stateNode.containerInfo),Yt(s,n),Kt(n),Dn=l;break;case 12:Yt(s,n),Kt(n);break;case 31:Yt(s,n),Kt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_c(n,l)));break;case 13:Yt(s,n),Kt(n),n.child.flags&8192&&n.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(wc=be()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_c(n,l)));break;case 22:d=n.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,M=hr,z=ht;if(hr=M||d,ht=z||T,Yt(s,n),ht=z,hr=M,Kt(n),l&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(i===null||T||hr||ht||qs(n)),i=null,s=n;;){if(s.tag===5||s.tag===26){if(i===null){T=i=s;try{if(p=T.stateNode,d)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=T.stateNode;var $=T.memoizedProps.style,D=$!=null&&$.hasOwnProperty("display")?$.display:null;w.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(Q){Ve(T,T.return,Q)}}}else if(s.tag===6){if(i===null){T=s;try{T.stateNode.nodeValue=d?"":T.memoizedProps}catch(Q){Ve(T,T.return,Q)}}}else if(s.tag===18){if(i===null){T=s;try{var L=T.stateNode;d?Iv(L,!0):Iv(T.stateNode,!1)}catch(Q){Ve(T,T.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,_c(n,i))));break;case 19:Yt(s,n),Kt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_c(n,l)));break;case 30:break;case 21:break;default:Yt(s,n),Kt(n)}}function Kt(n){var s=n.flags;if(s&2){try{for(var i,l=n.return;l!==null;){if(Lb(l)){i=l;break}l=l.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,p=Pf(n);vc(n,p,d);break;case 5:var b=i.stateNode;i.flags&32&&(ya(b,""),i.flags&=-33);var w=Pf(n);vc(n,w,b);break;case 3:case 4:var T=i.stateNode.containerInfo,M=Pf(n);Ff(n,M,T);break;default:throw Error(a(161))}}catch(z){Ve(n,n.return,z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Gb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Gb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function mr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zb(n,s.alternate,s),s=s.sibling}function qs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gr(4,s,s.return),qs(s);break;case 1:Wn(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&Ib(s,s.return,i),qs(s);break;case 27:Co(s.stateNode);case 26:case 5:Wn(s,s.return),qs(s);break;case 22:s.memoizedState===null&&qs(s);break;case 30:qs(s);break;default:qs(s)}n=n.sibling}}function gr(n,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=n,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:gr(d,p,i),bo(4,p);break;case 1:if(gr(d,p,i),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){Ve(l,l.return,M)}if(l=p,d=l.updateQueue,d!==null){var w=l.stateNode;try{var T=d.shared.hiddenCallbacks;if(T!==null)for(d.shared.hiddenCallbacks=null,d=0;d<T.length;d++)wy(T[d],w)}catch(M){Ve(l,l.return,M)}}i&&b&64&&Mb(p),vo(p,p.return);break;case 27:Ub(p);case 26:case 5:gr(d,p,i),i&&l===null&&b&4&&Db(p),vo(p,p.return);break;case 12:gr(d,p,i);break;case 31:gr(d,p,i),i&&b&4&&$b(d,p);break;case 13:gr(d,p,i),i&&b&4&&Pb(d,p);break;case 22:p.memoizedState===null&&gr(d,p,i),vo(p,p.return);break;case 30:break;default:gr(d,p,i)}s=s.sibling}}function Vf(n,s){var i=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==i&&(n!=null&&n.refCount++,i!=null&&so(i))}function Yf(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&so(n))}function Ln(n,s,i,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vb(n,s,i,l),s=s.sibling}function Vb(n,s,i,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(n,s,i,l),d&2048&&bo(9,s);break;case 1:Ln(n,s,i,l);break;case 3:Ln(n,s,i,l),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&so(n)));break;case 12:if(d&2048){Ln(n,s,i,l),n=s.stateNode;try{var p=s.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(T){Ve(s,s.return,T)}}else Ln(n,s,i,l);break;case 31:Ln(n,s,i,l);break;case 13:Ln(n,s,i,l);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?Ln(n,s,i,l):_o(n,s):p._visibility&2?Ln(n,s,i,l):(p._visibility|=2,Ua(n,s,i,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Vf(b,s);break;case 24:Ln(n,s,i,l),d&2048&&Yf(s.alternate,s);break;default:Ln(n,s,i,l)}}function Ua(n,s,i,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,b=s,w=i,T=l,M=b.flags;switch(b.tag){case 0:case 11:case 15:Ua(p,b,w,T,d),bo(8,b);break;case 23:break;case 22:var z=b.stateNode;b.memoizedState!==null?z._visibility&2?Ua(p,b,w,T,d):_o(p,b):(z._visibility|=2,Ua(p,b,w,T,d)),d&&M&2048&&Vf(b.alternate,b);break;case 24:Ua(p,b,w,T,d),d&&M&2048&&Yf(b.alternate,b);break;default:Ua(p,b,w,T,d)}s=s.sibling}}function _o(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=n,l=s,d=l.flags;switch(l.tag){case 22:_o(i,l),d&2048&&Vf(l.alternate,l);break;case 24:_o(i,l),d&2048&&Yf(l.alternate,l);break;default:_o(i,l)}s=s.sibling}}var So=8192;function Ba(n,s,i){if(n.subtreeFlags&So)for(n=n.child;n!==null;)Yb(n,s,i),n=n.sibling}function Yb(n,s,i){switch(n.tag){case 26:Ba(n,s,i),n.flags&So&&n.memoizedState!==null&&n1(i,Dn,n.memoizedState,n.memoizedProps);break;case 5:Ba(n,s,i);break;case 3:case 4:var l=Dn;Dn=Ic(n.stateNode.containerInfo),Ba(n,s,i),Dn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=So,So=16777216,Ba(n,s,i),So=l):Ba(n,s,i));break;default:Ba(n,s,i)}}function Kb(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function wo(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var l=s[i];Tt=l,Xb(l,n)}Kb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wb(n),n=n.sibling}function Wb(n){switch(n.tag){case 0:case 11:case 15:wo(n),n.flags&2048&&Gr(9,n,n.return);break;case 3:wo(n);break;case 12:wo(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Sc(n)):wo(n);break;default:wo(n)}}function Sc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var l=s[i];Tt=l,Xb(l,n)}Kb(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gr(8,s,s.return),Sc(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,Sc(s));break;default:Sc(s)}n=n.sibling}}function Xb(n,s){for(;Tt!==null;){var i=Tt;switch(i.tag){case 0:case 11:case 15:Gr(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:so(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Tt=l;else e:for(i=n;Tt!==null;){l=Tt;var d=l.sibling,p=l.return;if(Hb(l),l===i){Tt=null;break e}if(d!==null){d.return=p,Tt=d;break e}Tt=p}}}var yk={getCacheForType:function(n){var s=Rt(ut),i=s.data.get(n);return i===void 0&&(i=n(),s.data.set(n,i)),i},cacheSignal:function(){return Rt(ut).controller.signal}},bk=typeof WeakMap=="function"?WeakMap:Map,$e=0,Xe=null,Ae=null,Ne=0,Ge=0,dn=null,Vr=!1,za=!1,Kf=!1,yr=0,st=0,Yr=0,$s=0,Wf=0,fn=0,Ha=0,xo=null,Wt=null,Xf=!1,wc=0,Jb=0,xc=1/0,Ec=null,Kr=null,yt=0,Wr=null,qa=null,br=0,Jf=0,Qf=null,Qb=null,Eo=0,Zf=null;function hn(){return($e&2)!==0&&Ne!==0?Ne&-Ne:I.T!==null?ah():pg()}function Zb(){if(fn===0)if((Ne&536870912)===0||De){var n=jl;jl<<=1,(jl&3932160)===0&&(jl=262144),fn=n}else fn=536870912;return n=cn.current,n!==null&&(n.flags|=32),fn}function Xt(n,s,i){(n===Xe&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)&&($a(n,0),Xr(n,Ne,fn,!1)),Fi(n,i),(($e&2)===0||n!==Xe)&&(n===Xe&&(($e&2)===0&&($s|=i),st===4&&Xr(n,Ne,fn,!1)),Xn(n))}function ev(n,s,i){if(($e&6)!==0)throw Error(a(327));var l=!i&&(s&127)===0&&(s&n.expiredLanes)===0||Pi(n,s),d=l?Sk(n,s):th(n,s,!0),p=l;do{if(d===0){za&&!l&&Xr(n,s,0,!1);break}else{if(i=n.current.alternate,p&&!vk(i)){d=th(n,s,!1),p=!1;continue}if(d===2){if(p=s,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=n;d=xo;var T=w.current.memoizedState.isDehydrated;if(T&&($a(w,b).flags|=256),b=th(w,b,!1),b!==2){if(Kf&&!T){w.errorRecoveryDisabledLanes|=p,$s|=p,d=4;break e}p=Wt,Wt=d,p!==null&&(Wt===null?Wt=p:Wt.push.apply(Wt,p))}d=b}if(p=!1,d!==2)continue}}if(d===1){$a(n,0),Xr(n,s,0,!0);break}e:{switch(l=n,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Xr(l,s,fn,!Vr);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=wc+300-be(),10<d)){if(Xr(l,s,fn,!Vr),Il(l,0,!0)!==0)break e;br=s,l.timeoutHandle=Ov(tv.bind(null,l,i,Wt,Ec,Xf,s,fn,$s,Ha,Vr,p,"Throttled",-0,0),d);break e}tv(l,i,Wt,Ec,Xf,s,fn,$s,Ha,Vr,p,null,-0,0)}}break}while(!0);Xn(n)}function tv(n,s,i,l,d,p,b,w,T,M,z,$,D,L){if(n.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rr},Yb(s,p,$);var Q=(p&62914560)===p?wc-be():(p&4194048)===p?Jb-be():0;if(Q=r1($,Q),Q!==null){br=p,n.cancelPendingCommit=Q(cv.bind(null,n,s,p,i,l,d,b,w,T,z,$,null,D,L)),Xr(n,p,b,!M);return}}cv(n,s,p,i,l,d,b,w,T)}function vk(n){for(var s=n;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var d=i[l],p=d.getSnapshot;d=d.value;try{if(!on(p(),d))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xr(n,s,i,l){s&=~Wf,s&=~$s,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var d=s;0<d;){var p=31-an(d),b=1<<p;l[p]=-1,d&=~b}i!==0&&dg(n,i,s)}function Tc(){return($e&6)===0?(To(0),!1):!0}function eh(){if(Ae!==null){if(Ge===0)var n=Ae.return;else n=Ae,or=Ms=null,gf(n),ja=null,io=0,n=Ae;for(;n!==null;)jb(n.alternate,n),n=n.return;Ae=null}}function $a(n,s){var i=n.timeoutHandle;i!==-1&&(n.timeoutHandle=-1,zk(i)),i=n.cancelPendingCommit,i!==null&&(n.cancelPendingCommit=null,i()),br=0,eh(),Xe=n,Ae=i=ar(n.current,null),Ne=s,Ge=0,dn=null,Vr=!1,za=Pi(n,s),Kf=!1,Ha=fn=Wf=$s=Yr=st=0,Wt=xo=null,Xf=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var d=31-an(l),p=1<<d;s|=n[d],l&=~p}return yr=s,Vl(),i}function nv(n,s){Se=null,I.H=mo,s===Oa||s===ec?(s=by(),Ge=3):s===rf?(s=by(),Ge=4):Ge=s===jf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dn=s,Ae===null&&(st=1,pc(n,wn(s,n.current)))}function rv(){var n=cn.current;return n===null?!0:(Ne&4194048)===Ne?kn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?n===kn:!1}function sv(){var n=I.H;return I.H=mo,n===null?mo:n}function av(){var n=I.A;return I.A=yk,n}function kc(){st=4,Vr||(Ne&4194048)!==Ne&&cn.current!==null||(za=!0),(Yr&134217727)===0&&($s&134217727)===0||Xe===null||Xr(Xe,Ne,fn,!1)}function th(n,s,i){var l=$e;$e|=2;var d=sv(),p=av();(Xe!==n||Ne!==s)&&(Ec=null,$a(n,s)),s=!1;var b=st;e:do try{if(Ge!==0&&Ae!==null){var w=Ae,T=dn;switch(Ge){case 8:eh(),b=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(s=!0);var M=Ge;if(Ge=0,dn=null,Pa(n,w,T,M),i&&za){b=0;break e}break;default:M=Ge,Ge=0,dn=null,Pa(n,w,T,M)}}_k(),b=st;break}catch(z){nv(n,z)}while(!0);return s&&n.shellSuspendCounter++,or=Ms=null,$e=l,I.H=d,I.A=p,Ae===null&&(Xe=null,Ne=0,Vl()),b}function _k(){for(;Ae!==null;)iv(Ae)}function Sk(n,s){var i=$e;$e|=2;var l=sv(),d=av();Xe!==n||Ne!==s?(Ec=null,xc=be()+500,$a(n,s)):za=Pi(n,s);e:do try{if(Ge!==0&&Ae!==null){s=Ae;var p=dn;t:switch(Ge){case 1:Ge=0,dn=null,Pa(n,s,p,1);break;case 2:case 9:if(gy(p)){Ge=0,dn=null,ov(s);break}s=function(){Ge!==2&&Ge!==9||Xe!==n||(Ge=7),Xn(n)},p.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:gy(p)?(Ge=0,dn=null,ov(s)):(Ge=0,dn=null,Pa(n,s,p,7));break;case 5:var b=null;switch(Ae.tag){case 26:b=Ae.memoizedState;case 5:case 27:var w=Ae;if(b?Vv(b):w.stateNode.complete){Ge=0,dn=null;var T=w.sibling;if(T!==null)Ae=T;else{var M=w.return;M!==null?(Ae=M,Ac(M)):Ae=null}break t}}Ge=0,dn=null,Pa(n,s,p,5);break;case 6:Ge=0,dn=null,Pa(n,s,p,6);break;case 8:eh(),st=6;break e;default:throw Error(a(462))}}wk();break}catch(z){nv(n,z)}while(!0);return or=Ms=null,I.H=l,I.A=d,$e=i,Ae!==null?0:(Xe=null,Ne=0,Vl(),st)}function wk(){for(;Ae!==null&&!ke();)iv(Ae)}function iv(n){var s=Nb(n.alternate,n,yr);n.memoizedProps=n.pendingProps,s===null?Ac(n):Ae=s}function ov(n){var s=n,i=s.alternate;switch(s.tag){case 15:case 0:s=Eb(i,s,s.pendingProps,s.type,void 0,Ne);break;case 11:s=Eb(i,s,s.pendingProps,s.type.render,s.ref,Ne);break;case 5:gf(s);default:jb(i,s),s=Ae=ay(s,yr),s=Nb(i,s,yr)}n.memoizedProps=n.pendingProps,s===null?Ac(n):Ae=s}function Pa(n,s,i,l){or=Ms=null,gf(s),ja=null,io=0;var d=s.return;try{if(uk(n,d,s,i,Ne)){st=1,pc(n,wn(i,n.current)),Ae=null;return}}catch(p){if(d!==null)throw Ae=d,p;st=1,pc(n,wn(i,n.current)),Ae=null;return}s.flags&32768?(De||l===1?n=!0:za||(Ne&536870912)!==0?n=!1:(Vr=n=!0,(l===2||l===9||l===3||l===6)&&(l=cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lv(s,n)):Ac(s)}function Ac(n){var s=n;do{if((s.flags&32768)!==0){lv(s,Vr);return}n=s.return;var i=hk(s.alternate,s,yr);if(i!==null){Ae=i;return}if(s=s.sibling,s!==null){Ae=s;return}Ae=s=n}while(s!==null);st===0&&(st=5)}function lv(n,s){do{var i=pk(n.alternate,n);if(i!==null){i.flags&=32767,Ae=i;return}if(i=n.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(n=n.sibling,n!==null)){Ae=n;return}Ae=n=i}while(n!==null);st=6,Ae=null}function cv(n,s,i,l,d,p,b,w,T){n.cancelPendingCommit=null;do Cc();while(yt!==0);if(($e&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(p=s.lanes|s.childLanes,p|=$d,tT(n,i,p,b,w,T),n===Xe&&(Ae=Xe=null,Ne=0),qa=s,Wr=n,br=i,Jf=p,Qf=d,Qb=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kk(Nl,function(){return pv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=I.T,I.T=null,d=F.p,F.p=2,b=$e,$e|=4;try{mk(n,s,i)}finally{$e=b,F.p=d,I.T=l}}yt=1,uv(),dv(),fv()}}function uv(){if(yt===1){yt=0;var n=Wr,s=qa,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var l=F.p;F.p=2;var d=$e;$e|=4;try{Fb(s,n);var p=hh,b=Xg(n.containerInfo),w=p.focusedElem,T=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&Wg(w.ownerDocument.documentElement,w)){if(T!==null&&Ud(w)){var M=T.start,z=T.end;if(z===void 0&&(z=M),"selectionStart"in w)w.selectionStart=M,w.selectionEnd=Math.min(z,w.value.length);else{var $=w.ownerDocument||document,D=$&&$.defaultView||window;if(D.getSelection){var L=D.getSelection(),Q=w.textContent.length,ue=Math.min(T.start,Q),We=T.end===void 0?ue:Math.min(T.end,Q);!L.extend&&ue>We&&(b=We,We=ue,ue=b);var C=Kg(w,ue),A=Kg(w,We);if(C&&A&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var j=$.createRange();j.setStart(C.node,C.offset),L.removeAllRanges(),ue>We?(L.addRange(j),L.extend(A.node,A.offset)):(j.setEnd(A.node,A.offset),L.addRange(j))}}}}for($=[],L=w;L=L.parentNode;)L.nodeType===1&&$.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<$.length;w++){var H=$[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Hc=!!fh,hh=fh=null}finally{$e=d,F.p=l,I.T=i}}n.current=s,yt=2}}function dv(){if(yt===2){yt=0;var n=Wr,s=qa,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var l=F.p;F.p=2;var d=$e;$e|=4;try{zb(n,s.alternate,s)}finally{$e=d,F.p=l,I.T=i}}yt=3}}function fv(){if(yt===4||yt===3){yt=0,gt();var n=Wr,s=qa,i=br,l=Qb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yt=5:(yt=0,qa=Wr=null,hv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Kr=null),bd(i),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot($i,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=I.T,d=F.p,F.p=2,I.T=null;try{for(var p=n.onRecoverableError,b=0;b<l.length;b++){var w=l[b];p(w.value,{componentStack:w.stack})}}finally{I.T=s,F.p=d}}(br&3)!==0&&Cc(),Xn(n),d=n.pendingLanes,(i&261930)!==0&&(d&42)!==0?n===Zf?Eo++:(Eo=0,Zf=n):Eo=0,To(0)}}function hv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,so(s)))}function Cc(){return uv(),dv(),fv(),pv()}function pv(){if(yt!==5)return!1;var n=Wr,s=Jf;Jf=0;var i=bd(br),l=I.T,d=F.p;try{F.p=32>i?32:i,I.T=null,i=Qf,Qf=null;var p=Wr,b=br;if(yt=0,qa=Wr=null,br=0,($e&6)!==0)throw Error(a(331));var w=$e;if($e|=4,Wb(p.current),Vb(p,p.current,b,i),$e=w,To(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot($i,p)}catch{}return!0}finally{F.p=d,I.T=l,hv(n,s)}}function mv(n,s,i){s=wn(i,s),s=Of(n.stateNode,s,2),n=$r(n,s,2),n!==null&&(Fi(n,2),Xn(n))}function Ve(n,s,i){if(n.tag===3)mv(n,n,i);else for(;s!==null;){if(s.tag===3){mv(s,n,i);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){n=wn(i,n),i=gb(2),l=$r(s,i,2),l!==null&&(yb(i,l,s,n),Fi(l,2),Xn(l));break}}s=s.return}}function nh(n,s,i){var l=n.pingCache;if(l===null){l=n.pingCache=new bk;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(i)||(Kf=!0,d.add(i),n=xk.bind(null,n,s,i),s.then(n,n))}function xk(n,s,i){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&i,n.warmLanes&=~i,Xe===n&&(Ne&i)===i&&(st===4||st===3&&(Ne&62914560)===Ne&&300>be()-wc?($e&2)===0&&$a(n,0):Wf|=i,Ha===Ne&&(Ha=0)),Xn(n)}function gv(n,s){s===0&&(s=ug()),n=Ns(n,s),n!==null&&(Fi(n,s),Xn(n))}function Ek(n){var s=n.memoizedState,i=0;s!==null&&(i=s.retryLane),gv(n,i)}function Tk(n,s){var i=0;switch(n.tag){case 31:case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(s),gv(n,i)}function kk(n,s){return Ie(n,s)}var Rc=null,Fa=null,rh=!1,Nc=!1,sh=!1,Jr=0;function Xn(n){n!==Fa&&n.next===null&&(Fa===null?Rc=Fa=n:Fa=Fa.next=n),Nc=!0,rh||(rh=!0,Ck())}function To(n,s){if(!sh&&Nc){sh=!0;do for(var i=!1,l=Rc;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var b=l.suspendedLanes,w=l.pingedLanes;p=(1<<31-an(42|n)+1)-1,p&=d&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,_v(l,p))}else p=Ne,p=Il(l,l===Xe?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Pi(l,p)||(i=!0,_v(l,p));l=l.next}while(i);sh=!1}}function Ak(){yv()}function yv(){Nc=rh=!1;var n=0;Jr!==0&&Bk()&&(n=Jr);for(var s=be(),i=null,l=Rc;l!==null;){var d=l.next,p=bv(l,s);p===0?(l.next=null,i===null?Rc=d:i.next=d,d===null&&(Fa=i)):(i=l,(n!==0||(p&3)!==0)&&(Nc=!0)),l=d}yt!==0&&yt!==5||To(n),Jr!==0&&(Jr=0)}function bv(n,s){for(var i=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-an(p),w=1<<b,T=d[b];T===-1?((w&i)===0||(w&l)!==0)&&(d[b]=eT(w,s)):T<=s&&(n.expiredLanes|=w),p&=~w}if(s=Xe,i=Ne,i=Il(n,n===s?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,i===0||n===s&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ut(l),n.callbackNode=null,n.callbackPriority=0;if((i&3)===0||Pi(n,i)){if(s=i&-i,s===n.callbackPriority)return s;switch(l!==null&&Ut(l),bd(i)){case 2:case 8:i=lg;break;case 32:i=Nl;break;case 268435456:i=cg;break;default:i=Nl}return l=vv.bind(null,n),i=Ie(i,l),n.callbackPriority=s,n.callbackNode=i,s}return l!==null&&l!==null&&Ut(l),n.callbackPriority=2,n.callbackNode=null,2}function vv(n,s){if(yt!==0&&yt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var i=n.callbackNode;if(Cc()&&n.callbackNode!==i)return null;var l=Ne;return l=Il(n,n===Xe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(ev(n,l,s),bv(n,be()),n.callbackNode!=null&&n.callbackNode===i?vv.bind(null,n):null)}function _v(n,s){if(Cc())return null;ev(n,s,!0)}function Ck(){Hk(function(){($e&6)!==0?Ie(og,Ak):yv()})}function ah(){if(Jr===0){var n=Ra;n===0&&(n=Ol,Ol<<=1,(Ol&261888)===0&&(Ol=256)),Jr=n}return Jr}function Sv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Bl(""+n)}function wv(n,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,n.id&&i.setAttribute("form",n.id),s.parentNode.insertBefore(i,s),n=new FormData(n),i.parentNode.removeChild(i),n}function Rk(n,s,i,l,d){if(s==="submit"&&i&&i.stateNode===d){var p=Sv((d[Ft]||null).action),b=l.submitter;b&&(s=(s=b[Ft]||null)?Sv(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var w=new $l("action","action",null,l,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var T=b?wv(d,b):new FormData(d);Tf(i,{pending:!0,data:T,method:d.method,action:p},null,T)}}else typeof p=="function"&&(w.preventDefault(),T=b?wv(d,b):new FormData(d),Tf(i,{pending:!0,data:T,method:d.method,action:p},p,T))},currentTarget:d}]})}}for(var ih=0;ih<qd.length;ih++){var oh=qd[ih],Nk=oh.toLowerCase(),Ok=oh[0].toUpperCase()+oh.slice(1);In(Nk,"on"+Ok)}In(Zg,"onAnimationEnd"),In(ey,"onAnimationIteration"),In(ty,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(YT,"onTransitionRun"),In(KT,"onTransitionStart"),In(WT,"onTransitionCancel"),In(ny,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function xv(n,s){s=(s&4)!==0;for(var i=0;i<n.length;i++){var l=n[i],d=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var b=l.length-1;0<=b;b--){var w=l[b],T=w.instance,M=w.currentTarget;if(w=w.listener,T!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=M;try{p(d)}catch(z){Gl(z)}d.currentTarget=null,p=T}else for(b=0;b<l.length;b++){if(w=l[b],T=w.instance,M=w.currentTarget,w=w.listener,T!==p&&d.isPropagationStopped())break e;p=w,d.currentTarget=M;try{p(d)}catch(z){Gl(z)}d.currentTarget=null,p=T}}}}function Ce(n,s){var i=s[vd];i===void 0&&(i=s[vd]=new Set);var l=n+"__bubble";i.has(l)||(Ev(s,n,2,!1),i.add(l))}function lh(n,s,i){var l=0;s&&(l|=4),Ev(i,n,l,s)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function ch(n){if(!n[Oc]){n[Oc]=!0,yg.forEach(function(i){i!=="selectionchange"&&(jk.has(i)||lh(i,!1,n),lh(i,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Oc]||(s[Oc]=!0,lh("selectionchange",!1,s))}}function Ev(n,s,i,l){switch(Zv(s)){case 2:var d=i1;break;case 8:d=o1;break;default:d=Eh}i=d.bind(null,s,i,n),d=void 0,!Cd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(s,i,{capture:!0,passive:d}):n.addEventListener(s,i,!0):d!==void 0?n.addEventListener(s,i,{passive:d}):n.addEventListener(s,i,!1)}function uh(n,s,i,l,d){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=l.return;b!==null;){var T=b.tag;if((T===3||T===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=fa(w),b===null)return;if(T=b.tag,T===5||T===6||T===26||T===27){l=p=b;continue e}w=w.parentNode}}l=l.return}Rg(function(){var M=p,z=kd(i),$=[];e:{var D=ry.get(n);if(D!==void 0){var L=$l,Q=n;switch(n){case"keypress":if(Hl(i)===0)break e;case"keydown":case"keyup":L=TT;break;case"focusin":Q="focus",L=jd;break;case"focusout":Q="blur",L=jd;break;case"beforeblur":case"afterblur":L=jd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=hT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=CT;break;case Zg:case ey:case ty:L=gT;break;case ny:L=NT;break;case"scroll":case"scrollend":L=dT;break;case"wheel":L=jT;break;case"copy":case"cut":case"paste":L=bT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Ig;break;case"toggle":case"beforetoggle":L=IT}var ue=(s&4)!==0,We=!ue&&(n==="scroll"||n==="scrollend"),C=ue?D!==null?D+"Capture":null:D;ue=[];for(var A=M,j;A!==null;){var H=A;if(j=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||j===null||C===null||(H=Yi(A,C),H!=null&&ue.push(Ao(A,H,j))),We)break;A=A.return}0<ue.length&&(D=new L(D,Q,null,i,z),$.push({event:D,listeners:ue}))}}if((s&7)===0){e:{if(D=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",D&&i!==Td&&(Q=i.relatedTarget||i.fromElement)&&(fa(Q)||Q[da]))break e;if((L||D)&&(D=z.window===z?z:(D=z.ownerDocument)?D.defaultView||D.parentWindow:window,L?(Q=i.relatedTarget||i.toElement,L=M,Q=Q?fa(Q):null,Q!==null&&(We=c(Q),ue=Q.tag,Q!==We||ue!==5&&ue!==27&&ue!==6)&&(Q=null)):(L=null,Q=M),L!==Q)){if(ue=jg,H="onMouseLeave",C="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ue=Ig,H="onPointerLeave",C="onPointerEnter",A="pointer"),We=L==null?D:Vi(L),j=Q==null?D:Vi(Q),D=new ue(H,A+"leave",L,i,z),D.target=We,D.relatedTarget=j,H=null,fa(z)===M&&(ue=new ue(C,A+"enter",Q,i,z),ue.target=j,ue.relatedTarget=We,H=ue),We=H,L&&Q)t:{for(ue=Mk,C=L,A=Q,j=0,H=C;H;H=ue(H))j++;H=0;for(var ie=A;ie;ie=ue(ie))H++;for(;0<j-H;)C=ue(C),j--;for(;0<H-j;)A=ue(A),H--;for(;j--;){if(C===A||A!==null&&C===A.alternate){ue=C;break t}C=ue(C),A=ue(A)}ue=null}else ue=null;L!==null&&Tv($,D,L,ue,!1),Q!==null&&We!==null&&Tv($,We,Q,ue,!0)}}e:{if(D=M?Vi(M):window,L=D.nodeName&&D.nodeName.toLowerCase(),L==="select"||L==="input"&&D.type==="file")var He=$g;else if(Hg(D))if(Pg)He=FT;else{He=$T;var ne=qT}else L=D.nodeName,!L||L.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&Ed(M.elementType)&&(He=$g):He=PT;if(He&&(He=He(n,M))){qg($,He,i,z);break e}ne&&ne(n,D,M),n==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&xd(D,"number",D.value)}switch(ne=M?Vi(M):window,n){case"focusin":(Hg(ne)||ne.contentEditable==="true")&&(Sa=ne,Bd=M,to=null);break;case"focusout":to=Bd=Sa=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,Jg($,i,z);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":Jg($,i,z)}var we;if(Id)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else _a?Bg(n,i)&&(Oe="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(Oe="onCompositionStart");Oe&&(Dg&&i.locale!=="ko"&&(_a||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&_a&&(we=Ng()):(Dr=z,Rd="value"in Dr?Dr.value:Dr.textContent,_a=!0)),ne=jc(M,Oe),0<ne.length&&(Oe=new Mg(Oe,n,null,i,z),$.push({event:Oe,listeners:ne}),we?Oe.data=we:(we=zg(i),we!==null&&(Oe.data=we)))),(we=LT?UT(n,i):BT(n,i))&&(Oe=jc(M,"onBeforeInput"),0<Oe.length&&(ne=new Mg("onBeforeInput","beforeinput",null,i,z),$.push({event:ne,listeners:Oe}),ne.data=we)),Rk($,n,M,i,z)}xv($,s)})}function Ao(n,s,i){return{instance:n,listener:s,currentTarget:i}}function jc(n,s){for(var i=s+"Capture",l=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Yi(n,i),d!=null&&l.unshift(Ao(n,d,p)),d=Yi(n,s),d!=null&&l.push(Ao(n,d,p))),n.tag===3)return l;n=n.return}return[]}function Mk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Tv(n,s,i,l,d){for(var p=s._reactName,b=[];i!==null&&i!==l;){var w=i,T=w.alternate,M=w.stateNode;if(w=w.tag,T!==null&&T===l)break;w!==5&&w!==26&&w!==27||M===null||(T=M,d?(M=Yi(i,p),M!=null&&b.unshift(Ao(i,M,T))):d||(M=Yi(i,p),M!=null&&b.push(Ao(i,M,T)))),i=i.return}b.length!==0&&n.push({event:s,listeners:b})}var Ik=/\r\n?/g,Dk=/\u0000|\uFFFD/g;function kv(n){return(typeof n=="string"?n:""+n).replace(Ik,`
`).replace(Dk,"")}function Av(n,s){return s=kv(s),kv(n)===s}function Ke(n,s,i,l,d,p){switch(i){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||ya(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&ya(n,""+l);break;case"className":Ll(n,"class",l);break;case"tabIndex":Ll(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ll(n,i,l);break;case"style":Ag(n,l,p);break;case"data":if(s!=="object"){Ll(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||i!=="href")){n.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(i);break}l=Bl(""+l),n.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(s!=="input"&&Ke(n,s,"name",d.name,d,null),Ke(n,s,"formEncType",d.formEncType,d,null),Ke(n,s,"formMethod",d.formMethod,d,null),Ke(n,s,"formTarget",d.formTarget,d,null)):(Ke(n,s,"encType",d.encType,d,null),Ke(n,s,"method",d.method,d,null),Ke(n,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(i);break}l=Bl(""+l),n.setAttribute(i,l);break;case"onClick":l!=null&&(n.onclick=rr);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=i}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}i=Bl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(i,""+l):n.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(i,""):n.removeAttribute(i);break;case"capture":case"download":l===!0?n.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(i,l):n.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(i,l):n.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(i):n.setAttribute(i,l);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),Dl(n,"popover",l);break;case"xlinkActuate":nr(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nr(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nr(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nr(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nr(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nr(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nr(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dl(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=cT.get(i)||i,Dl(n,i,l))}}function dh(n,s,i,l,d,p){switch(i){case"style":Ag(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=i}}break;case"children":typeof l=="string"?ya(n,l):(typeof l=="number"||typeof l=="bigint")&&ya(n,""+l);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"onClick":l!=null&&(n.onclick=rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bg.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),s=i.slice(2,d?i.length-7:void 0),p=n[Ft]||null,p=p!=null?p[i]:null,typeof p=="function"&&n.removeEventListener(s,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(i in n?n[i]=null:n.hasAttribute(i)&&n.removeAttribute(i)),n.addEventListener(s,l,d);break e}i in n?n[i]=l:l===!0?n.setAttribute(i,""):Dl(n,i,l)}}}function Ot(n,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var l=!1,d=!1,p;for(p in i)if(i.hasOwnProperty(p)){var b=i[p];if(b!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ke(n,s,p,b,i,null)}}d&&Ke(n,s,"srcSet",i.srcSet,i,null),l&&Ke(n,s,"src",i.src,i,null);return;case"input":Ce("invalid",n);var w=p=b=d=null,T=null,M=null;for(l in i)if(i.hasOwnProperty(l)){var z=i[l];if(z!=null)switch(l){case"name":d=z;break;case"type":b=z;break;case"checked":T=z;break;case"defaultChecked":M=z;break;case"value":p=z;break;case"defaultValue":w=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,s));break;default:Ke(n,s,l,z,i,null)}}xg(n,p,w,T,M,b,d,!1);return;case"select":Ce("invalid",n),l=b=p=null;for(d in i)if(i.hasOwnProperty(d)&&(w=i[d],w!=null))switch(d){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Ke(n,s,d,w,i,null)}s=p,i=b,n.multiple=!!l,s!=null?ga(n,!!l,s,!1):i!=null&&ga(n,!!l,i,!0);return;case"textarea":Ce("invalid",n),p=d=l=null;for(b in i)if(i.hasOwnProperty(b)&&(w=i[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":d=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Ke(n,s,b,w,i,null)}Tg(n,l,d,p);return;case"option":for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null)&&(T==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":Ke(n,s,T,l,i,null));return;case"dialog":Ce("beforetoggle",n),Ce("toggle",n),Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(l=0;l<ko.length;l++)Ce(ko[l],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in i)if(i.hasOwnProperty(M)&&(l=i[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ke(n,s,M,l,i,null)}return;default:if(Ed(s)){for(z in i)i.hasOwnProperty(z)&&(l=i[z],l!==void 0&&dh(n,s,z,l,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(l=i[w],l!=null&&Ke(n,s,w,l,i,null))}function Lk(n,s,i,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,w=null,T=null,M=null,z=null;for(L in i){var $=i[L];if(i.hasOwnProperty(L)&&$!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":T=$;default:l.hasOwnProperty(L)||Ke(n,s,L,null,l,$)}}for(var D in l){var L=l[D];if($=i[D],l.hasOwnProperty(D)&&(L!=null||$!=null))switch(D){case"type":p=L;break;case"name":d=L;break;case"checked":M=L;break;case"defaultChecked":z=L;break;case"value":b=L;break;case"defaultValue":w=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,s));break;default:L!==$&&Ke(n,s,D,L,l,$)}}wd(n,b,w,T,M,z,p,d);return;case"select":L=b=w=D=null;for(p in i)if(T=i[p],i.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":L=T;default:l.hasOwnProperty(p)||Ke(n,s,p,null,l,T)}for(d in l)if(p=l[d],T=i[d],l.hasOwnProperty(d)&&(p!=null||T!=null))switch(d){case"value":D=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==T&&Ke(n,s,d,p,l,T)}s=w,i=b,l=L,D!=null?ga(n,!!i,D,!1):!!l!=!!i&&(s!=null?ga(n,!!i,s,!0):ga(n,!!i,i?[]:"",!1));return;case"textarea":L=D=null;for(w in i)if(d=i[w],i.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ke(n,s,w,null,l,d)}for(b in l)if(d=l[b],p=i[b],l.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":D=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&Ke(n,s,b,d,l,p)}Eg(n,D,L);return;case"option":for(var Q in i)D=i[Q],i.hasOwnProperty(Q)&&D!=null&&!l.hasOwnProperty(Q)&&(Q==="selected"?n.selected=!1:Ke(n,s,Q,null,l,D));for(T in l)D=l[T],L=i[T],l.hasOwnProperty(T)&&D!==L&&(D!=null||L!=null)&&(T==="selected"?n.selected=D&&typeof D!="function"&&typeof D!="symbol":Ke(n,s,T,D,l,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in i)D=i[ue],i.hasOwnProperty(ue)&&D!=null&&!l.hasOwnProperty(ue)&&Ke(n,s,ue,null,l,D);for(M in l)if(D=l[M],L=i[M],l.hasOwnProperty(M)&&D!==L&&(D!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,s));break;default:Ke(n,s,M,D,l,L)}return;default:if(Ed(s)){for(var We in i)D=i[We],i.hasOwnProperty(We)&&D!==void 0&&!l.hasOwnProperty(We)&&dh(n,s,We,void 0,l,D);for(z in l)D=l[z],L=i[z],!l.hasOwnProperty(z)||D===L||D===void 0&&L===void 0||dh(n,s,z,D,l,L);return}}for(var C in i)D=i[C],i.hasOwnProperty(C)&&D!=null&&!l.hasOwnProperty(C)&&Ke(n,s,C,null,l,D);for($ in l)D=l[$],L=i[$],!l.hasOwnProperty($)||D===L||D==null&&L==null||Ke(n,s,$,D,l,L)}function Cv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var d=i[l],p=d.transferSize,b=d.initiatorType,w=d.duration;if(p&&w&&Cv(b)){for(b=0,w=d.responseEnd,l+=1;l<i.length;l++){var T=i[l],M=T.startTime;if(M>w)break;var z=T.transferSize,$=T.initiatorType;z&&Cv($)&&(T=T.responseEnd,b+=z*(T<w?1:(w-M)/(T-M)))}if(--l,s+=8*(p+b)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var fh=null,hh=null;function Mc(n){return n.nodeType===9?n:n.ownerDocument}function Rv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function ph(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=null;function Bk(){var n=window.event;return n&&n.type==="popstate"?n===mh?!1:(mh=n,!0):(mh=null,!1)}var Ov=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,Hk=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(n){return jv.resolve(null).then(n).catch(qk)}:Ov;function qk(n){setTimeout(function(){throw n})}function Qr(n){return n==="head"}function Mv(n,s){var i=s,l=0;do{var d=i.nextSibling;if(n.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(l===0){n.removeChild(d),Ka(s);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Co(n.ownerDocument.documentElement);else if(i==="head"){i=n.ownerDocument.head,Co(i);for(var p=i.firstChild;p;){var b=p.nextSibling,w=p.nodeName;p[Gi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=b}}else i==="body"&&Co(n.ownerDocument.body);i=d}while(i);Ka(s)}function Iv(n,s){var i=n;n=0;do{var l=i.nextSibling;if(i.nodeType===1?s?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(s?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(n===0)break;n--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||n++;i=l}while(i)}function gh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":gh(i),_d(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}n.removeChild(i)}}function $k(n,s,i,l){for(;n.nodeType===1;){var d=i;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Gi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=An(n.nextSibling),n===null)break}return null}function Pk(n,s,i){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=An(n.nextSibling),n===null))return null;return n}function Dv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=An(n.nextSibling),n===null))return null;return n}function yh(n){return n.data==="$?"||n.data==="$~"}function bh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Fk(n,s){var i=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||i.readyState!=="loading")s();else{var l=function(){s(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function An(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var vh=null;function Lv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"||i==="/&"){if(s===0)return An(n.nextSibling);s--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||s++}n=n.nextSibling}return null}function Uv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(s===0)return n;s--}else i!=="/$"&&i!=="/&"||s++}n=n.previousSibling}return null}function Bv(n,s,i){switch(s=Mc(i),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Co(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);_d(n)}var Cn=new Map,zv=new Set;function Ic(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vr=F.d;F.d={f:Gk,r:Vk,D:Yk,C:Kk,L:Wk,m:Xk,X:Qk,S:Jk,M:Zk};function Gk(){var n=vr.f(),s=Tc();return n||s}function Vk(n){var s=ha(n);s!==null&&s.tag===5&&s.type==="form"?nb(s):vr.r(n)}var Ga=typeof document>"u"?null:document;function Hv(n,s,i){var l=Ga;if(l&&typeof s=="string"&&s){var d=_n(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),zv.has(d)||(zv.add(d),n={rel:n,crossOrigin:i,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Ot(s,"link",n),Et(s),l.head.appendChild(s)))}}function Yk(n){vr.D(n),Hv("dns-prefetch",n,null)}function Kk(n,s){vr.C(n,s),Hv("preconnect",n,s)}function Wk(n,s,i){vr.L(n,s,i);var l=Ga;if(l&&n&&s){var d='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+_n(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+_n(i.imageSizes)+'"]')):d+='[href="'+_n(n)+'"]';var p=d;switch(s){case"style":p=Va(n);break;case"script":p=Ya(n)}Cn.has(p)||(n=v({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:n,as:s},i),Cn.set(p,n),l.querySelector(d)!==null||s==="style"&&l.querySelector(Ro(p))||s==="script"&&l.querySelector(No(p))||(s=l.createElement("link"),Ot(s,"link",n),Et(s),l.head.appendChild(s)))}}function Xk(n,s){vr.m(n,s);var i=Ga;if(i&&n){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(n)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ya(n)}if(!Cn.has(p)&&(n=v({rel:"modulepreload",href:n},s),Cn.set(p,n),i.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(No(p)))return}l=i.createElement("link"),Ot(l,"link",n),Et(l),i.head.appendChild(l)}}}function Jk(n,s,i){vr.S(n,s,i);var l=Ga;if(l&&n){var d=pa(l).hoistableStyles,p=Va(n);s=s||"default";var b=d.get(p);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Ro(p)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},i),(i=Cn.get(p))&&_h(n,i);var T=b=l.createElement("link");Et(T),Ot(T,"link",n),T._p=new Promise(function(M,z){T.onload=M,T.onerror=z}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Dc(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(p,b)}}}function Qk(n,s){vr.X(n,s);var i=Ga;if(i&&n){var l=pa(i).hoistableScripts,d=Ya(n),p=l.get(d);p||(p=i.querySelector(No(d)),p||(n=v({src:n,async:!0},s),(s=Cn.get(d))&&Sh(n,s),p=i.createElement("script"),Et(p),Ot(p,"link",n),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function Zk(n,s){vr.M(n,s);var i=Ga;if(i&&n){var l=pa(i).hoistableScripts,d=Ya(n),p=l.get(d);p||(p=i.querySelector(No(d)),p||(n=v({src:n,async:!0,type:"module"},s),(s=Cn.get(d))&&Sh(n,s),p=i.createElement("script"),Et(p),Ot(p,"link",n),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function qv(n,s,i,l){var d=(d=xt.current)?Ic(d):null;if(!d)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=Va(i.href),i=pa(d).hoistableStyles,l=i.get(s),l||(l={type:"style",instance:null,count:0,state:null},i.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){n=Va(i.href);var p=pa(d).hoistableStyles,b=p.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=d.querySelector(Ro(n)))&&!p._p&&(b.instance=p,b.state.loading=5),Cn.has(n)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Cn.set(n,i),p||e1(d,n,i,b.state))),s&&l===null)throw Error(a(528,""));return b}if(s&&l!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ya(i),i=pa(d).hoistableScripts,l=i.get(s),l||(l={type:"script",instance:null,count:0,state:null},i.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Va(n){return'href="'+_n(n)+'"'}function Ro(n){return'link[rel="stylesheet"]['+n+"]"}function $v(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function e1(n,s,i,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ot(s,"link",i),Et(s),n.head.appendChild(s))}function Ya(n){return'[src="'+_n(n)+'"]'}function No(n){return"script[async]"+n}function Pv(n,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+_n(i.href)+'"]');if(l)return s.instance=l,Et(l),l;var d=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Et(l),Ot(l,"style",d),Dc(l,i.precedence,n),s.instance=l;case"stylesheet":d=Va(i.href);var p=n.querySelector(Ro(d));if(p)return s.state.loading|=4,s.instance=p,Et(p),p;l=$v(i),(d=Cn.get(d))&&_h(l,d),p=(n.ownerDocument||n).createElement("link"),Et(p);var b=p;return b._p=new Promise(function(w,T){b.onload=w,b.onerror=T}),Ot(p,"link",l),s.state.loading|=4,Dc(p,i.precedence,n),s.instance=p;case"script":return p=Ya(i.src),(d=n.querySelector(No(p)))?(s.instance=d,Et(d),d):(l=i,(d=Cn.get(p))&&(l=v({},i),Sh(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),Et(d),Ot(d,"link",l),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Dc(l,i.precedence,n));return s.instance}function Dc(n,s,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===s)p=w;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(n,s.firstChild))}function _h(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Sh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Lc=null;function Fv(n,s,i){if(Lc===null){var l=new Map,d=Lc=new Map;d.set(i,l)}else d=Lc,l=d.get(i),l||(l=new Map,d.set(i,l));if(l.has(n))return l;for(l.set(n,null),i=i.getElementsByTagName(n),d=0;d<i.length;d++){var p=i[d];if(!(p[Gi]||p[At]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=n+b;var w=l.get(b);w?w.push(p):l.set(b,[p])}}return l}function Gv(n,s,i){n=n.ownerDocument||n,n.head.insertBefore(i,s==="title"?n.querySelector("head > title"):null)}function t1(n,s,i){if(i===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function n1(n,s,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Va(l.href),p=s.querySelector(Ro(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Uc.bind(n),s.then(n,n)),i.state.loading|=4,i.instance=p,Et(p);return}p=s.ownerDocument||s,l=$v(l),(d=Cn.get(d))&&_h(l,d),p=p.createElement("link"),Et(p);var b=p;b._p=new Promise(function(w,T){b.onload=w,b.onerror=T}),Ot(p,"link",l),i.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(n.count++,i=Uc.bind(n),s.addEventListener("load",i),s.addEventListener("error",i))}}var wh=0;function r1(n,s){return n.stylesheets&&n.count===0&&zc(n,n.stylesheets),0<n.count||0<n.imgCount?function(i){var l=setTimeout(function(){if(n.stylesheets&&zc(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&wh===0&&(wh=62500*Uk());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&zc(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>wh?50:800)+s);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Bc=null;function zc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Bc=new Map,s.forEach(s1,n),Bc=null,Uc.call(n))}function s1(n,s){if(!(s.state.loading&4)){var i=Bc.get(n);if(i)var l=i.get(null);else{i=new Map,Bc.set(n,i);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),l=b)}l&&i.set(null,l)}d=s.instance,b=d.getAttribute("data-precedence"),p=i.get(b)||l,p===l&&i.set(null,d),i.set(b,d),this.count++,l=Uc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Oo={$$typeof:R,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function a1(n,s,i,l,d,p,b,w,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.hiddenUpdates=gd(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Yv(n,s,i,l,d,p,b,w,T,M,z,$){return n=new a1(n,s,i,b,T,M,z,$,w),s=1,p===!0&&(s|=24),p=ln(3,null,null,s),n.current=p,p.stateNode=n,s=ef(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:i,cache:s},sf(p),n}function Kv(n){return n?(n=Ea,n):Ea}function Wv(n,s,i,l,d,p){d=Kv(d),l.context===null?l.context=d:l.pendingContext=d,l=qr(s),l.payload={element:i},p=p===void 0?null:p,p!==null&&(l.callback=p),i=$r(n,l,s),i!==null&&(Xt(i,n,s),lo(i,n,s))}function Xv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<s?i:s}}function xh(n,s){Xv(n,s),(n=n.alternate)&&Xv(n,s)}function Jv(n){if(n.tag===13||n.tag===31){var s=Ns(n,67108864);s!==null&&Xt(s,n,67108864),xh(n,67108864)}}function Qv(n){if(n.tag===13||n.tag===31){var s=hn();s=yd(s);var i=Ns(n,s);i!==null&&Xt(i,n,s),xh(n,s)}}var Hc=!0;function i1(n,s,i,l){var d=I.T;I.T=null;var p=F.p;try{F.p=2,Eh(n,s,i,l)}finally{F.p=p,I.T=d}}function o1(n,s,i,l){var d=I.T;I.T=null;var p=F.p;try{F.p=8,Eh(n,s,i,l)}finally{F.p=p,I.T=d}}function Eh(n,s,i,l){if(Hc){var d=Th(l);if(d===null)uh(n,s,l,qc,i),e_(n,l);else if(c1(d,n,s,i,l))l.stopPropagation();else if(e_(n,l),s&4&&-1<l1.indexOf(n)){for(;d!==null;){var p=ha(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Ts(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var T=1<<31-an(b);w.entanglements[1]|=T,b&=~T}Xn(p),($e&6)===0&&(xc=be()+500,To(0))}}break;case 31:case 13:w=Ns(p,2),w!==null&&Xt(w,p,2),Tc(),xh(p,2)}if(p=Th(l),p===null&&uh(n,s,l,qc,i),p===d)break;d=p}d!==null&&l.stopPropagation()}else uh(n,s,l,null,i)}}function Th(n){return n=kd(n),kh(n)}var qc=null;function kh(n){if(qc=null,n=fa(n),n!==null){var s=c(n);if(s===null)n=null;else{var i=s.tag;if(i===13){if(n=u(s),n!==null)return n;n=null}else if(i===31){if(n=f(s),n!==null)return n;n=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return qc=n,null}function Zv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case og:return 2;case lg:return 8;case Nl:case KE:return 32;case cg:return 268435456;default:return 32}default:return 32}}var Ah=!1,Zr=null,es=null,ts=null,jo=new Map,Mo=new Map,ns=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(n,s){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(s.pointerId)}}function Io(n,s,i,l,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:i,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},s!==null&&(s=ha(s),s!==null&&Jv(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function c1(n,s,i,l,d){switch(s){case"focusin":return Zr=Io(Zr,n,s,i,l,d),!0;case"dragenter":return es=Io(es,n,s,i,l,d),!0;case"mouseover":return ts=Io(ts,n,s,i,l,d),!0;case"pointerover":var p=d.pointerId;return jo.set(p,Io(jo.get(p)||null,n,s,i,l,d)),!0;case"gotpointercapture":return p=d.pointerId,Mo.set(p,Io(Mo.get(p)||null,n,s,i,l,d)),!0}return!1}function t_(n){var s=fa(n.target);if(s!==null){var i=c(s);if(i!==null){if(s=i.tag,s===13){if(s=u(i),s!==null){n.blockedOn=s,mg(n.priority,function(){Qv(i)});return}}else if(s===31){if(s=f(i),s!==null){n.blockedOn=s,mg(n.priority,function(){Qv(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $c(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var i=Th(n.nativeEvent);if(i===null){i=n.nativeEvent;var l=new i.constructor(i.type,i);Td=l,i.target.dispatchEvent(l),Td=null}else return s=ha(i),s!==null&&Jv(s),n.blockedOn=i,!1;s.shift()}return!0}function n_(n,s,i){$c(n)&&i.delete(s)}function u1(){Ah=!1,Zr!==null&&$c(Zr)&&(Zr=null),es!==null&&$c(es)&&(es=null),ts!==null&&$c(ts)&&(ts=null),jo.forEach(n_),Mo.forEach(n_)}function Pc(n,s){n.blockedOn===s&&(n.blockedOn=null,Ah||(Ah=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,u1)))}var Fc=null;function r_(n){Fc!==n&&(Fc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fc===n&&(Fc=null);for(var s=0;s<n.length;s+=3){var i=n[s],l=n[s+1],d=n[s+2];if(typeof l!="function"){if(kh(l||i)===null)continue;break}var p=ha(i);p!==null&&(n.splice(s,3),s-=3,Tf(p,{pending:!0,data:d,method:i.method,action:l},l,d))}}))}function Ka(n){function s(T){return Pc(T,n)}Zr!==null&&Pc(Zr,n),es!==null&&Pc(es,n),ts!==null&&Pc(ts,n),jo.forEach(s),Mo.forEach(s);for(var i=0;i<ns.length;i++){var l=ns[i];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ns.length&&(i=ns[0],i.blockedOn===null);)t_(i),i.blockedOn===null&&ns.shift();if(i=(n.ownerDocument||n).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var d=i[l],p=i[l+1],b=d[Ft]||null;if(typeof p=="function")b||r_(i);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[Ft]||null)w=b.formAction;else if(kh(d)!==null)continue}else w=b.action;typeof w=="function"?i[l+1]=w:(i.splice(l,3),l-=3),r_(i)}}}function s_(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Ch(n){this._internalRoot=n}Gc.prototype.render=Ch.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,l=hn();Wv(i,l,n,s,null,null)},Gc.prototype.unmount=Ch.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Wv(n.current,2,null,n,null,null),Tc(),s[da]=null}};function Gc(n){this._internalRoot=n}Gc.prototype.unstable_scheduleHydration=function(n){if(n){var s=pg();n={blockedOn:null,target:n,priority:s};for(var i=0;i<ns.length&&s!==0&&s<ns[i].priority;i++);ns.splice(i,0,n),i===0&&t_(n)}};var a_=e.version;if(a_!=="19.2.4")throw Error(a(527,a_,"19.2.4"));F.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var d1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{$i=Vc.inject(d1),sn=Vc}catch{}}return Do.createRoot=function(n,s){if(!o(n))throw Error(a(299));var i=!1,l="",d=fb,p=hb,b=pb;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Yv(n,1,!1,null,null,i,l,null,d,p,b,s_),n[da]=s.current,ch(n),new Ch(s)},Do.hydrateRoot=function(n,s,i){if(!o(n))throw Error(a(299));var l=!1,d="",p=fb,b=hb,w=pb,T=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),s=Yv(n,1,!0,s,i??null,l,d,T,p,b,w,s_),s.context=Kv(null),i=s.current,l=hn(),l=yd(l),d=qr(l),d.callback=null,$r(i,d,l),i=l,s.current.lanes=i,Fi(s,i),Xn(s),n[da]=s.current,ch(n),new Gc(s)},Do.version="19.2.4",Do}var u_;function V1(){if(u_)return Rh.exports;u_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rh.exports=G1(),Rh.exports}var Y1=V1();const ae=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,je=globalThis,ea="10.38.0";function la(){return Xu(je),je}function Xu(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||ea,e[ea]=e[ea]||{}}function Ai(t,e,r=je){const a=r.__SENTRY__=r.__SENTRY__||{},o=a[ea]=a[ea]||{};return o[t]||(o[t]=e())}const K1=["debug","info","warn","error","log","assert","trace"],W1="Sentry Logger ",ku={};function ca(t){if(!("console"in je))return t();const e=je.console,r={},a=Object.keys(ku);a.forEach(o=>{const c=ku[o];r[o]=e[o],e[o]=c});try{return t()}finally{a.forEach(o=>{e[o]=r[o]})}}function X1(){lm().enabled=!0}function J1(){lm().enabled=!1}function LS(){return lm().enabled}function Q1(...t){om("log",...t)}function Z1(...t){om("warn",...t)}function eA(...t){om("error",...t)}function om(t,...e){ae&&LS()&&ca(()=>{je.console[t](`${W1}[${t}]:`,...e)})}function lm(){return ae?Ai("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Y={enable:X1,disable:J1,isEnabled:LS,log:Q1,warn:Z1,error:eA},US=50,sa="?",d_=/\(error: (.*)\)/,f_=/captureMessage|captureException/;function BS(...t){const e=t.sort((r,a)=>r[0]-a[0]).map(r=>r[1]);return(r,a=0,o=0)=>{const c=[],u=r.split(`
`);for(let f=a;f<u.length;f++){let h=u[f];h.length>1024&&(h=h.slice(0,1024));const m=d_.test(h)?h.replace(d_,"$1"):h;if(!m.match(/\S*Error: /)){for(const y of e){const v=y(m);if(v){c.push(v);break}}if(c.length>=US+o)break}}return nA(c.slice(o))}}function tA(t){return Array.isArray(t)?BS(...t):t}function nA(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Yc(e).function||"")&&e.pop(),e.reverse(),f_.test(Yc(e).function||"")&&(e.pop(),f_.test(Yc(e).function||"")&&e.pop()),e.slice(0,US).map(r=>({...r,filename:r.filename||Yc(e).filename,function:r.function||sa}))}function Yc(t){return t[t.length-1]||{}}const jh="<anonymous>";function Ar(t){try{return!t||typeof t!="function"?jh:t.name||jh}catch{return jh}}function h_(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(a=>{a.stacktrace.frames&&r.push(...a.stacktrace.frames)}),r}catch{return}}}function zS(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const pu={},p_={};function ys(t,e){pu[t]=pu[t]||[],pu[t].push(e)}function bs(t,e){if(!p_[t]){p_[t]=!0;try{e()}catch(r){ae&&Y.error(`Error while instrumenting ${t}`,r)}}}function Nn(t,e){const r=t&&pu[t];if(r)for(const a of r)try{a(e)}catch(o){ae&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ar(a)}
Error:`,o)}}let Mh=null;function HS(t){const e="error";ys(e,t),bs(e,rA)}function rA(){Mh=je.onerror,je.onerror=function(t,e,r,a,o){return Nn("error",{column:a,error:o,line:r,msg:t,url:e}),Mh?Mh.apply(this,arguments):!1},je.onerror.__SENTRY_INSTRUMENTED__=!0}let Ih=null;function qS(t){const e="unhandledrejection";ys(e,t),bs(e,sA)}function sA(){Ih=je.onunhandledrejection,je.onunhandledrejection=function(t){return Nn("unhandledrejection",t),Ih?Ih.apply(this,arguments):!0},je.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const $S=Object.prototype.toString;function Ju(t){switch($S.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Cr(t,Error)}}function Ci(t,e){return $S.call(t)===`[object ${e}]`}function PS(t){return Ci(t,"ErrorEvent")}function m_(t){return Ci(t,"DOMError")}function aA(t){return Ci(t,"DOMException")}function xr(t){return Ci(t,"String")}function cm(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function bi(t){return t===null||cm(t)||typeof t!="object"&&typeof t!="function"}function Wo(t){return Ci(t,"Object")}function Qu(t){return typeof Event<"u"&&Cr(t,Event)}function iA(t){return typeof Element<"u"&&Cr(t,Element)}function oA(t){return Ci(t,"RegExp")}function Ri(t){return!!(t?.then&&typeof t.then=="function")}function lA(t){return Wo(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Cr(t,e){try{return t instanceof e}catch{return!1}}function FS(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}function um(t){return typeof Request<"u"&&Cr(t,Request)}const dm=je,cA=80;function tn(t,e={}){if(!t)return"<unknown>";try{let r=t;const a=5,o=[];let c=0,u=0;const f=" > ",h=f.length;let m;const y=Array.isArray(e)?e:e.keyAttrs,v=!Array.isArray(e)&&e.maxStringLength||cA;for(;r&&c++<a&&(m=uA(r,y),!(m==="html"||c>1&&u+o.length*h+m.length>=v));)o.push(m),u+=m.length,r=r.parentNode;return o.reverse().join(f)}catch{return"<unknown>"}}function uA(t,e){const r=t,a=[];if(!r?.tagName)return"";if(dm.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}a.push(r.tagName.toLowerCase());const o=e?.length?e.filter(u=>r.getAttribute(u)).map(u=>[u,r.getAttribute(u)]):null;if(o?.length)o.forEach(u=>{a.push(`[${u[0]}="${u[1]}"]`)});else{r.id&&a.push(`#${r.id}`);const u=r.className;if(u&&xr(u)){const f=u.split(/\s+/);for(const h of f)a.push(`.${h}`)}}const c=["aria-label","type","name","title","alt"];for(const u of c){const f=r.getAttribute(u);f&&a.push(`[${u}="${f}"]`)}return a.join("")}function Ni(){try{return dm.document.location.href}catch{return""}}function GS(t){if(!dm.HTMLElement)return null;let e=t;const r=5;for(let a=0;a<r;a++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function en(t,e,r){if(!(e in t))return;const a=t[e];if(typeof a!="function")return;const o=r(a);typeof o=="function"&&VS(o,a);try{t[e]=o}catch{ae&&Y.log(`Failed to replace method "${e}" in object`,t)}}function nn(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{ae&&Y.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function VS(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,nn(t,"__sentry_original__",e)}catch{}}function fm(t){return t.__sentry_original__}function YS(t){if(Ju(t))return{message:t.message,name:t.name,stack:t.stack,...y_(t)};if(Qu(t)){const e={type:t.type,target:g_(t.target),currentTarget:g_(t.currentTarget),...y_(t)};return typeof CustomEvent<"u"&&Cr(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function g_(t){try{return iA(t)?tn(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function y_(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function dA(t){const e=Object.keys(YS(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}let Wa;function dl(t){if(Wa!==void 0)return Wa?Wa(t):t();const e=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),r=je;return e in r&&typeof r[e]=="function"?(Wa=r[e],Wa(t)):(Wa=null,t())}function us(){return dl(()=>Math.random())}function fl(){return dl(()=>Date.now())}function fp(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function b_(t,e){if(!Array.isArray(t))return"";const r=[];for(let a=0;a<t.length;a++){const o=t[a];try{FS(o)?r.push(zS(o)):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function mu(t,e,r=!1){return xr(t)?oA(e)?e.test(t):xr(e)?r?t===e:t.includes(e):!1:!1}function Er(t,e=[],r=!1){return e.some(a=>mu(t,a,r))}function fA(){const t=je;return t.crypto||t.msCrypto}let Dh;function hA(){return us()*16}function bn(t=fA()){try{if(t?.randomUUID)return dl(()=>t.randomUUID()).replace(/-/g,"")}catch{}return Dh||(Dh="10000000100040008000"+1e11),Dh.replace(/[018]/g,e=>(e^(hA()&15)>>e/4).toString(16))}function KS(t){return t.exception?.values?.[0]}function Ks(t){const{message:e,event_id:r}=t;if(e)return e;const a=KS(t);return a?a.type&&a.value?`${a.type}: ${a.value}`:a.type||a.value||r||"<unknown>":r||"<unknown>"}function hp(t,e,r){const a=t.exception=t.exception||{},o=a.values=a.values||[],c=o[0]=o[0]||{};c.value||(c.value=e||""),c.type||(c.type="Error")}function vi(t,e){const r=KS(t);if(!r)return;const a={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...a,...o,...e},e&&"data"in e){const c={...o?.data,...e.data};r.mechanism.data=c}}function v_(t){if(pA(t))return!0;try{nn(t,"__sentry_captured__",!0)}catch{}return!1}function pA(t){try{return t.__sentry_captured__}catch{}}const WS=1e3;function ua(){return fl()/WS}function mA(){const{performance:t}=je;if(!t?.now||!t.timeOrigin)return ua;const e=t.timeOrigin;return()=>(e+dl(()=>t.now()))/WS}let __;function kt(){return(__??(__=mA()))()}let Lh=null;function gA(){const{performance:t}=je;if(!t?.now)return;const e=3e5,r=dl(()=>t.now()),a=fl(),o=t.timeOrigin;if(typeof o=="number"&&Math.abs(o+r-a)<e)return o;const c=t.timing?.navigationStart;return typeof c=="number"&&Math.abs(c+r-a)<e?c:a-r}function rn(){return Lh===null&&(Lh=gA()),Lh}function yA(t){const e=kt(),r={sid:bn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>vA(r)};return t&&_i(r,t),r}function _i(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||kt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:bn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function bA(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),_i(t,r)}function vA(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function hl(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const a={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=hl(a[o],e[o],r-1));return a}function Rr(){return bn()}function Tr(){return bn().substring(16)}const pp="_sentrySpan";function Si(t,e){e?nn(t,pp,e):delete t[pp]}function Au(t){return t[pp]}const _A=100;class Zn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Rr(),sampleRand:us()}}clone(){const e=new Zn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,e._conversationId=this._conversationId,Si(e,Au(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&_i(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(e){return this._conversationId=e||void 0,this._notifyScopeListeners(),this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this.setTags({[e]:r})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,r){return this.setAttributes({[e]:r})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,a=r instanceof Zn?r.getScopeData():Wo(r)?e:void 0,{tags:o,attributes:c,extra:u,user:f,contexts:h,level:m,fingerprint:y=[],propagationContext:v,conversationId:_}=a||{};return this._tags={...this._tags,...o},this._attributes={...this._attributes,...c},this._extra={...this._extra,...u},this._contexts={...this._contexts,...h},f&&Object.keys(f).length&&(this._user=f),m&&(this._level=m),y.length&&(this._fingerprint=y),v&&(this._propagationContext=v),_&&(this._conversationId=_),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,Si(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Rr(),sampleRand:us()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const a=typeof r=="number"?r:_A;if(a<=0)return this;const o={timestamp:ua(),...e,message:e.message?fp(e.message,2048):e.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>a&&(this._breadcrumbs=this._breadcrumbs.slice(-a),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Au(this),conversationId:this._conversationId}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=hl(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const a=r?.event_id||bn();if(!this._client)return ae&&Y.warn("No client configured on scope - will not capture exception!"),a;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:a},this),a}captureMessage(e,r,a){const o=a?.event_id||bn();if(!this._client)return ae&&Y.warn("No client configured on scope - will not capture message!"),o;const c=a?.syntheticException??new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:c,...a,event_id:o},this),o}captureEvent(e,r){const a=r?.event_id||bn();return this._client?(this._client.captureEvent(e,{...r,event_id:a},this),a):(ae&&Y.warn("No client configured on scope - will not capture event!"),a)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function SA(){return Ai("defaultCurrentScope",()=>new Zn)}function wA(){return Ai("defaultIsolationScope",()=>new Zn)}class xA{constructor(e,r){let a;e?a=e:a=new Zn;let o;r?o=r:o=new Zn,this._stack=[{scope:a}],this._isolationScope=o}withScope(e){const r=this._pushScope();let a;try{a=e(r)}catch(o){throw this._popScope(),o}return Ri(a)?a.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),a)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function wi(){const t=la(),e=Xu(t);return e.stack=e.stack||new xA(SA(),wA())}function EA(t){return wi().withScope(t)}function TA(t,e){const r=wi();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function S_(t){return wi().withScope(()=>t(wi().getIsolationScope()))}function kA(){return{withIsolationScope:S_,withScope:EA,withSetScope:TA,withSetIsolationScope:(t,e)=>S_(e),getCurrentScope:()=>wi().getScope(),getIsolationScope:()=>wi().getIsolationScope()}}function Oi(t){const e=Xu(t);return e.acs?e.acs:kA()}function Pe(){const t=la();return Oi(t).getCurrentScope()}function Gn(){const t=la();return Oi(t).getIsolationScope()}function AA(){return Ai("globalScope",()=>new Zn)}function pl(...t){const e=la(),r=Oi(e);if(t.length===2){const[a,o]=t;return a?r.withSetScope(a,o):r.withScope(o)}return r.withScope(t[0])}function Me(){return Pe().getClient()}function CA(t){const e=t.getPropagationContext(),{traceId:r,parentSpanId:a,propagationSpanId:o}=e,c={trace_id:r,span_id:o||Tr()};return a&&(c.parent_span_id=a),c}const Pn="sentry.source",hm="sentry.sample_rate",XS="sentry.previous_trace_sample_rate",Nr="sentry.op",wt="sentry.origin",Xo="sentry.idle_span_finish_reason",ml="sentry.measurement_unit",gl="sentry.measurement_value",w_="sentry.custom_span_name",pm="sentry.profile_id",ji="sentry.exclusive_time",RA="sentry.link.type",NA="gen_ai.conversation.id",OA=0,mm=1,_t=2;function jA(t){if(t<400&&t>=100)return{code:mm};if(t>=400&&t<500)switch(t){case 401:return{code:_t,message:"unauthenticated"};case 403:return{code:_t,message:"permission_denied"};case 404:return{code:_t,message:"not_found"};case 409:return{code:_t,message:"already_exists"};case 413:return{code:_t,message:"failed_precondition"};case 429:return{code:_t,message:"resource_exhausted"};case 499:return{code:_t,message:"cancelled"};default:return{code:_t,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:_t,message:"unimplemented"};case 503:return{code:_t,message:"unavailable"};case 504:return{code:_t,message:"deadline_exceeded"};default:return{code:_t,message:"internal_error"}}return{code:_t,message:"internal_error"}}function JS(t,e){t.setAttribute("http.response.status_code",e);const r=jA(e);r.message!=="unknown_error"&&t.setStatus(r)}const QS="_sentryScope",ZS="_sentryIsolationScope";function MA(t){try{const e=je.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}function IA(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function DA(t,e,r){t&&(nn(t,ZS,MA(r)),nn(t,QS,e))}function Cu(t){const e=t;return{scope:e[QS],isolationScope:IA(e[ZS])}}const gm="sentry-",LA=/^sentry-/,UA=8192;function ew(t){const e=zA(t);if(!e)return;const r=Object.entries(e).reduce((a,[o,c])=>{if(o.match(LA)){const u=o.slice(gm.length);a[u]=c}return a},{});if(Object.keys(r).length>0)return r}function BA(t){if(!t)return;const e=Object.entries(t).reduce((r,[a,o])=>(o&&(r[`${gm}${a}`]=o),r),{});return HA(e)}function zA(t){if(!(!t||!xr(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{const a=x_(r);return Object.entries(a).forEach(([o,c])=>{e[o]=c}),e},{}):x_(t)}function x_(t){return t.split(",").map(e=>{const r=e.indexOf("=");if(r===-1)return[];const a=e.slice(0,r),o=e.slice(r+1);return[a,o].map(c=>{try{return decodeURIComponent(c.trim())}catch{return}})}).reduce((e,[r,a])=>(r&&a&&(e[r]=a),e),{})}function HA(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,a],o)=>{const c=`${encodeURIComponent(r)}=${encodeURIComponent(a)}`,u=o===0?c:`${e},${c}`;return u.length>UA?(ae&&Y.warn(`Not adding key: ${r} with val: ${a} to baggage header due to exceeding baggage size limits.`),e):u},"")}const qA=/^o(\d+)\./,$A=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function PA(t){return t==="http"||t==="https"}function Mi(t,e=!1){const{host:r,path:a,pass:o,port:c,projectId:u,protocol:f,publicKey:h}=t;return`${f}://${h}${e&&o?`:${o}`:""}@${r}${c?`:${c}`:""}/${a&&`${a}/`}${u}`}function FA(t){const e=$A.exec(t);if(!e){ca(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[r,a,o="",c="",u="",f=""]=e.slice(1);let h="",m=f;const y=m.split("/");if(y.length>1&&(h=y.slice(0,-1).join("/"),m=y.pop()),m){const v=m.match(/^\d+/);v&&(m=v[0])}return tw({host:c,pass:o,path:h,projectId:m,port:u,protocol:r,publicKey:a})}function tw(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function GA(t){if(!ae)return!0;const{port:e,projectId:r,protocol:a}=t;return["protocol","publicKey","host","projectId"].find(u=>t[u]?!1:(Y.error(`Invalid Sentry Dsn: ${u} missing`),!0))?!1:r.match(/^\d+$/)?PA(a)?e&&isNaN(parseInt(e,10))?(Y.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Y.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),!1):(Y.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function VA(t){return t.match(qA)?.[1]}function YA(t){const e=t.getOptions(),{host:r}=t.getDsn()||{};let a;return e.orgId?a=String(e.orgId):r&&(a=VA(r)),a}function KA(t){const e=typeof t=="string"?FA(t):tw(t);if(!(!e||!GA(e)))return e}function aa(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const nw=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function WA(t){if(!t)return;const e=t.match(nw);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function XA(t,e){const r=WA(t),a=ew(e);if(!r?.traceId)return{traceId:Rr(),sampleRand:us()};const o=JA(r,a);a&&(a.sample_rand=o.toString());const{traceId:c,parentSpanId:u,parentSampled:f}=r;return{traceId:c,parentSpanId:u,sampled:f,dsc:a||{},sampleRand:o}}function rw(t=Rr(),e=Tr(),r){let a="";return r!==void 0&&(a=r?"-1":"-0"),`${t}-${e}${a}`}function sw(t=Rr(),e=Tr(),r){return`00-${t}-${e}-${r?"01":"00"}`}function JA(t,e){const r=aa(e?.sample_rand);if(r!==void 0)return r;const a=aa(e?.sample_rate);return a&&t?.parentSampled!==void 0?t.parentSampled?us()*a:a+us()*(1-a):us()}const aw=0,ym=1;let E_=!1;function QA(t){const{spanId:e,traceId:r}=t.spanContext(),{data:a,op:o,parent_span_id:c,status:u,origin:f,links:h}=Be(t);return{parent_span_id:c,span_id:e,trace_id:r,data:a,op:o,status:u,origin:f,links:h}}function ZA(t){const{spanId:e,traceId:r,isRemote:a}=t.spanContext(),o=a?e:Be(t).parent_span_id,c=Cu(t).scope,u=a?c?.getPropagationContext().propagationSpanId||Tr():e;return{parent_span_id:o,span_id:u,trace_id:r}}function eC(t){const{traceId:e,spanId:r}=t.spanContext(),a=vs(t);return rw(e,r,a)}function tC(t){const{traceId:e,spanId:r}=t.spanContext(),a=vs(t);return sw(e,r,a)}function iw(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:r,traceFlags:a,...o},attributes:c})=>({span_id:e,trace_id:r,sampled:a===ym,attributes:c,...o}))}function ta(t){return typeof t=="number"?T_(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?T_(t.getTime()):kt()}function T_(t){return t>9999999999?t/1e3:t}function Be(t){if(rC(t))return t.getSpanJSON();const{spanId:e,traceId:r}=t.spanContext();if(nC(t)){const{attributes:a,startTime:o,name:c,endTime:u,status:f,links:h}=t,m="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:r,data:a,description:c,parent_span_id:m,start_timestamp:ta(o),timestamp:ta(u)||void 0,status:ow(f),op:a[Nr],origin:a[wt],links:iw(h)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function nC(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function rC(t){return typeof t.getSpanJSON=="function"}function vs(t){const{traceFlags:e}=t.spanContext();return e===ym}function ow(t){if(!(!t||t.code===OA))return t.code===mm?"ok":t.message||"internal_error"}const na="_sentryChildSpans",mp="_sentryRootSpan";function lw(t,e){const r=t[mp]||t;nn(e,mp,r),t[na]?t[na].add(e):nn(t,na,new Set([e]))}function sC(t,e){t[na]&&t[na].delete(e)}function gu(t){const e=new Set;function r(a){if(!e.has(a)&&vs(a)){e.add(a);const o=a[na]?Array.from(a[na]):[];for(const c of o)r(c)}}return r(t),Array.from(e)}function Dt(t){return t[mp]||t}function qt(){const t=la(),e=Oi(t);return e.getActiveSpan?e.getActiveSpan():Au(Pe())}function gp(){E_||(ca(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),E_=!0)}let k_=!1;function aC(){if(k_)return;function t(){const e=qt(),r=e&&Dt(e);if(r){const a="internal_error";ae&&Y.log(`[Tracing] Root span: ${a} -> Global error occurred`),r.setStatus({code:_t,message:a})}}t.tag="sentry_tracingErrorCallback",k_=!0,HS(t),qS(t)}function Fn(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||Me()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function A_(t){Y.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function Ru(t,e){if(!e?.length||!t.description)return!1;for(const r of e){if(oC(r)){if(mu(t.description,r))return ae&&A_(t),!0;continue}if(!r.name&&!r.op)continue;const a=r.name?mu(t.description,r.name):!0,o=r.op?t.op&&mu(t.op,r.op):!0;if(a&&o)return ae&&A_(t),!0}return!1}function iC(t,e){const r=e.parent_span_id,a=e.span_id;if(r)for(const o of t)o.parent_span_id===a&&(o.parent_span_id=r)}function oC(t){return typeof t=="string"||t instanceof RegExp}const bm="production",cw="_frozenDsc";function yu(t,e){nn(t,cw,e)}function uw(t,e){const r=e.getOptions(),{publicKey:a}=e.getDsn()||{},o={environment:r.environment||bm,release:r.release,public_key:a,trace_id:t,org_id:YA(e)};return e.emit("createDsc",o),o}function dw(t,e){const r=e.getPropagationContext();return r.dsc||uw(r.traceId,t)}function Or(t){const e=Me();if(!e)return{};const r=Dt(t),a=Be(r),o=a.data,c=r.spanContext().traceState,u=c?.get("sentry.sample_rate")??o[hm]??o[XS];function f(x){return(typeof u=="number"||typeof u=="string")&&(x.sample_rate=`${u}`),x}const h=r[cw];if(h)return f(h);const m=c?.get("sentry.dsc"),y=m&&ew(m);if(y)return f(y);const v=uw(t.spanContext().traceId,e),_=o[Pn],S=a.description;return _!=="url"&&S&&(v.transaction=S),Fn()&&(v.sampled=String(vs(r)),v.sample_rand=c?.get("sentry.sample_rand")??Cu(r).scope?.getPropagationContext().sampleRand.toString()),f(v),e.emit("createDsc",v,r),v}class ps{constructor(e={}){this._traceId=e.traceId||Rr(),this._spanId=e.spanId||Tr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:aw}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,a){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}}function Hn(t,e=100,r=1/0){try{return yp("",t,e,r)}catch(a){return{ERROR:`**non-serializable** (${a})`}}}function fw(t,e=3,r=100*1024){const a=Hn(t,e);return dC(a)>r?fw(t,e-1,r):a}function yp(t,e,r=1/0,a=1/0,o=fC()){const[c,u]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const f=lC(t,e);if(!f.startsWith("[object "))return f;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(h===0)return f.replace("object ","");if(c(e))return"[Circular ~]";const m=e;if(m&&typeof m.toJSON=="function")try{const S=m.toJSON();return yp("",S,h-1,a,o)}catch{}const y=Array.isArray(e)?[]:{};let v=0;const _=YS(e);for(const S in _){if(!Object.prototype.hasOwnProperty.call(_,S))continue;if(v>=a){y[S]="[MaxProperties ~]";break}const x=_[S];y[S]=yp(S,x,h-1,a,o),v++}return u(e),y}function lC(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(FS(e))return zS(e);if(lA(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Ar(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=cC(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function cC(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function uC(t){return~-encodeURI(t).split(/%..|./).length}function dC(t){return uC(JSON.stringify(t))}function fC(){const t=new WeakSet;function e(a){return t.has(a)?!0:(t.add(a),!1)}function r(a){t.delete(a)}return[e,r]}function _s(t,e=[]){return[t,e]}function hC(t,e){const[r,a]=t;return[r,[...a,e]]}function bp(t,e){const r=t[1];for(const a of r){const o=a[0].type;if(e(a,o))return!0}return!1}function pC(t,e){return bp(t,(r,a)=>e.includes(a))}function vp(t){const e=Xu(je);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function mC(t){const[e,r]=t;let a=JSON.stringify(e);function o(c){typeof a=="string"?a=typeof c=="string"?a+c:[vp(a),c]:a.push(typeof c=="string"?vp(c):c)}for(const c of r){const[u,f]=c;if(o(`
${JSON.stringify(u)}
`),typeof f=="string"||f instanceof Uint8Array)o(f);else{let h;try{h=JSON.stringify(f)}catch{h=JSON.stringify(Hn(f))}o(h)}}return typeof a=="string"?a:gC(a)}function gC(t){const e=t.reduce((o,c)=>o+c.length,0),r=new Uint8Array(e);let a=0;for(const o of t)r.set(o,a),a+=o.length;return r}function yC(t){return[{type:"span"},t]}function bC(t){const e=typeof t.data=="string"?vp(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const vC={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function C_(t){return vC[t]}function vm(t){if(!t?.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function hw(t,e,r,a){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&a&&{dsn:Mi(a)},...o&&{trace:o}}}function _C(t,e){if(!e)return t;const r=t.sdk||{};return t.sdk={...r,name:r.name||e.name,version:r.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}function SC(t,e,r,a){const o=vm(r),c={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!a&&e&&{dsn:Mi(e)}},u="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return _s(c,[u])}function wC(t,e,r,a){const o=vm(r),c=t.type&&t.type!=="replay_event"?t.type:"event";_C(t,r?.sdk);const u=hw(t,o,a,e);return delete t.sdkProcessingMetadata,_s(u,[[{type:c},t]])}function xC(t,e){function r(S){return!!S.trace_id&&!!S.public_key}const a=Or(t[0]),o=e?.getDsn(),c=e?.getOptions().tunnel,u={sent_at:new Date().toISOString(),...r(a)&&{trace:a},...!!c&&o&&{dsn:Mi(o)}},{beforeSendSpan:f,ignoreSpans:h}=e?.getOptions()||{},m=h?.length?t.filter(S=>!Ru(Be(S),h)):t,y=t.length-m.length;y&&e?.recordDroppedEvent("before_send","span",y);const v=f?S=>{const x=Be(S),k=f(x);return k||(gp(),x)}:Be,_=[];for(const S of m){const x=v(S);x&&_.push(yC(x))}return _s(u,_)}function EC(t){if(!ae)return;const{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:a}=Be(t),{spanId:o}=t.spanContext(),c=vs(t),u=Dt(t),f=u===t,h=`[Tracing] Starting ${c?"sampled":"unsampled"} ${f?"root ":""}span`,m=[`op: ${r}`,`name: ${e}`,`ID: ${o}`];if(a&&m.push(`parent ID: ${a}`),!f){const{op:y,description:v}=Be(u);m.push(`root ID: ${u.spanContext().spanId}`),y&&m.push(`root op: ${y}`),v&&m.push(`root description: ${v}`)}Y.log(`${h}
  ${m.join(`
  `)}`)}function TC(t){if(!ae)return;const{description:e="< unknown name >",op:r="< unknown op >"}=Be(t),{spanId:a}=t.spanContext(),c=Dt(t)===t,u=`[Tracing] Finishing "${r}" ${c?"root ":""}span "${e}" with ID ${a}`;Y.log(u)}function kC(t,e,r,a=qt()){const o=a&&Dt(a);o&&(ae&&Y.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),o.addEvent(t,{[gl]:e,[ml]:r}))}function R_(t){if(!t||t.length===0)return;const e={};return t.forEach(r=>{const a=r.attributes||{},o=a[ml],c=a[gl];typeof o=="string"&&typeof c=="number"&&(e[r.name]={value:c,unit:o})}),e}const N_=1e3;class Zu{constructor(e={}){this._traceId=e.traceId||Rr(),this._spanId=e.spanId||Tr(),this._startTime=e.startTimestamp||kt(),this._links=e.links,this._attributes={},this.setAttributes({[wt]:"manual",[Nr]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,r){}spanContext(){const{_spanId:e,_traceId:r,_sampled:a}=this;return{spanId:e,traceId:r,traceFlags:a?ym:aw}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=ta(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Pn,"custom"),this}end(e){this._endTime||(this._endTime=ta(e),TC(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Nr],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:ow(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[wt],profile_id:this._attributes[pm],exclusive_time:this._attributes[ji],measurements:R_(this._events),is_segment:this._isStandaloneSpan&&Dt(this)===this||void 0,segment_id:this._isStandaloneSpan?Dt(this).spanContext().spanId:void 0,links:iw(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,a){ae&&Y.log("[Tracing] Adding an event to span:",e);const o=O_(r)?r:a||kt(),c=O_(r)?{}:r||{},u={name:e,time:ta(o),attributes:c};return this._events.push(u),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Me();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Dt(this)))return;if(this._isStandaloneSpan){this._sampled?CC(xC([this],e)):(ae&&Y.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const a=this._convertSpanToTransaction();a&&(Cu(this).scope||Pe()).captureEvent(a)}_convertSpanToTransaction(){if(!j_(Be(this)))return;this._name||(ae&&Y.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:r}=Cu(this),a=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const c=gu(this).filter(y=>y!==this&&!AC(y)).map(y=>Be(y)).filter(j_),u=this._attributes[Pn];delete this._attributes[w_],c.forEach(y=>{delete y.data[w_]});const f={contexts:{trace:QA(this)},spans:c.length>N_?c.sort((y,v)=>y.start_timestamp-v.start_timestamp).slice(0,N_):c,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,dynamicSamplingContext:Or(this)},request:a,...u&&{transaction_info:{source:u}}},h=R_(this._events);return h&&Object.keys(h).length&&(ae&&Y.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),f.measurements=h),f}}function O_(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function j_(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function AC(t){return t instanceof Zu&&t.isStandaloneSpan()}function CC(t){const e=Me();if(!e)return;const r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function RC(t,e,r=()=>{},a=()=>{}){let o;try{o=t()}catch(c){throw e(c),r(),c}return NC(o,e,r,a)}function NC(t,e,r,a){return Ri(t)?t.then(o=>(r(),a(o),o),o=>{throw e(o),r(),o}):(r(),a(t),t)}function OC(t,e,r){if(!Fn(t))return[!1];let a,o;typeof t.tracesSampler=="function"?(o=t.tracesSampler({...e,inheritOrSampleWith:f=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):f}),a=!0):e.parentSampled!==void 0?o=e.parentSampled:typeof t.tracesSampleRate<"u"&&(o=t.tracesSampleRate,a=!0);const c=aa(o);if(c===void 0)return ae&&Y.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!c)return ae&&Y.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,c,a];const u=r<c;return u||ae&&Y.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[u,c,a]}const pw="__SENTRY_SUPPRESS_TRACING__";function jC(t,e){const r=Sm();if(r.startSpan)return r.startSpan(t,e);const a=gw(t),{forceTransaction:o,parentSpan:c,scope:u}=t,f=u?.clone();return pl(f,()=>IC(c)(()=>{const m=Pe(),y=yw(m,c),_=t.onlyIfParent&&!y?new ps:mw({parentSpan:y,spanArguments:a,forceTransaction:o,scope:m});return Si(m,_),RC(()=>e(_),()=>{const{status:S}=Be(_);_.isRecording()&&(!S||S==="ok")&&_.setStatus({code:_t,message:"internal_error"})},()=>{_.end()})}))}function Ii(t){const e=Sm();if(e.startInactiveSpan)return e.startInactiveSpan(t);const r=gw(t),{forceTransaction:a,parentSpan:o}=t;return(t.scope?u=>pl(t.scope,u):o!==void 0?u=>_m(o,u):u=>u())(()=>{const u=Pe(),f=yw(u,o);return t.onlyIfParent&&!f?new ps:mw({parentSpan:f,spanArguments:r,forceTransaction:a,scope:u})})}function _m(t,e){const r=Sm();return r.withActiveSpan?r.withActiveSpan(t,e):pl(a=>(Si(a,t||void 0),e(a)))}function mw({parentSpan:t,spanArguments:e,forceTransaction:r,scope:a}){if(!Fn()){const u=new ps;if(r||!t){const f={sampled:"false",sample_rate:"0",transaction:e.name,...Or(u)};yu(u,f)}return u}const o=Gn();let c;if(t&&!r)c=MC(t,a,e),lw(t,c);else if(t){const u=Or(t),{traceId:f,spanId:h}=t.spanContext(),m=vs(t);c=M_({traceId:f,parentSpanId:h,...e},a,m),yu(c,u)}else{const{traceId:u,dsc:f,parentSpanId:h,sampled:m}={...o.getPropagationContext(),...a.getPropagationContext()};c=M_({traceId:u,parentSpanId:h,...e},a,m),f&&yu(c,f)}return EC(c),DA(c,a,o),c}function gw(t){const r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const a={...r};return a.startTimestamp=ta(t.startTime),delete a.startTime,a}return r}function Sm(){const t=la();return Oi(t)}function M_(t,e,r){const a=Me(),o=a?.getOptions()||{},{name:c=""}=t,u={spanAttributes:{...t.attributes},spanName:c,parentSampled:r};a?.emit("beforeSampling",u,{decision:!1});const f=u.parentSampled??r,h=u.spanAttributes,m=e.getPropagationContext(),[y,v,_]=e.getScopeData().sdkProcessingMetadata[pw]?[!1]:OC(o,{name:c,parentSampled:f,attributes:h,parentSampleRate:aa(m.dsc?.sample_rate)},m.sampleRand),S=new Zu({...t,attributes:{[Pn]:"custom",[hm]:v!==void 0&&_?v:void 0,...h},sampled:y});return!y&&a&&(ae&&Y.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),a.recordDroppedEvent("sample_rate","transaction")),a&&a.emit("spanStart",S),S}function MC(t,e,r){const{spanId:a,traceId:o}=t.spanContext(),c=e.getScopeData().sdkProcessingMetadata[pw]?!1:vs(t),u=c?new Zu({...r,parentSpanId:a,traceId:o,sampled:c}):new ps({traceId:o});lw(t,u);const f=Me();return f&&(f.emit("spanStart",u),r.endTimestamp&&f.emit("spanEnd",u)),u}function yw(t,e){if(e)return e;if(e===null)return;const r=Au(t);if(!r)return;const a=Me();return(a?a.getOptions():{}).parentSpanIsAlwaysRootSpan?Dt(r):r}function IC(t){return t!==void 0?e=>_m(t,e):e=>e()}const bu={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},DC="heartbeatFailed",LC="idleTimeout",UC="finalTimeout",BC="externalFinish";function bw(t,e={}){const r=new Map;let a=!1,o,c=BC,u=!e.disableAutoFinish;const f=[],{idleTimeout:h=bu.idleTimeout,finalTimeout:m=bu.finalTimeout,childSpanTimeout:y=bu.childSpanTimeout,beforeSpanEnd:v,trimIdleSpanEndTimestamp:_=!0}=e,S=Me();if(!S||!Fn()){const U=new ps,q={sample_rate:"0",sampled:"false",...Or(U)};return yu(U,q),U}const x=Pe(),k=qt(),E=zC(t);E.end=new Proxy(E.end,{apply(U,q,oe){if(v&&v(E),q instanceof ps)return;const[W,...te]=oe,le=W||kt(),xe=ta(le),he=gu(E).filter(V=>V!==E),Re=Be(E);if(!he.length||!_)return G(xe),Reflect.apply(U,q,[xe,...te]);const I=S.getOptions().ignoreSpans,F=he?.reduce((V,ge)=>{const ce=Be(ge);return!ce.timestamp||I&&Ru(ce,I)?V:V?Math.max(V,ce.timestamp):ce.timestamp},void 0),O=Re.start_timestamp,se=Math.min(O?O+m/1e3:1/0,Math.max(O||-1/0,Math.min(xe,F||1/0)));return G(se),Reflect.apply(U,q,[se,...te])}});function N(){o&&(clearTimeout(o),o=void 0)}function B(U){N(),o=setTimeout(()=>{!a&&r.size===0&&u&&(c=LC,E.end(U))},h)}function R(U){o=setTimeout(()=>{!a&&u&&(c=DC,E.end(U))},y)}function P(U){N(),r.set(U,!0);const q=kt();R(q+y/1e3)}function K(U){if(r.has(U)&&r.delete(U),r.size===0){const q=kt();B(q+h/1e3)}}function G(U){a=!0,r.clear(),f.forEach(he=>he()),Si(x,k);const q=Be(E),{start_timestamp:oe}=q;if(!oe)return;q.data[Xo]||E.setAttribute(Xo,c);const te=q.status;(!te||te==="unknown")&&E.setStatus({code:mm}),Y.log(`[Tracing] Idle span "${q.op}" finished`);const le=gu(E).filter(he=>he!==E);let xe=0;le.forEach(he=>{he.isRecording()&&(he.setStatus({code:_t,message:"cancelled"}),he.end(U),ae&&Y.log("[Tracing] Cancelling span since span ended early",JSON.stringify(he,void 0,2)));const Re=Be(he),{timestamp:I=0,start_timestamp:F=0}=Re,O=F<=U,se=(m+h)/1e3,V=I-F<=se;if(ae){const ge=JSON.stringify(he,void 0,2);O?V||Y.log("[Tracing] Discarding span since it finished after idle span final timeout",ge):Y.log("[Tracing] Discarding span since it happened after idle span was finished",ge)}(!V||!O)&&(sC(E,he),xe++)}),xe>0&&E.setAttribute("sentry.idle_span_discarded_spans",xe)}return f.push(S.on("spanStart",U=>{if(a||U===E||Be(U).timestamp||U instanceof Zu&&U.isStandaloneSpan())return;gu(E).includes(U)&&P(U.spanContext().spanId)})),f.push(S.on("spanEnd",U=>{a||K(U.spanContext().spanId)})),f.push(S.on("idleSpanEnableAutoFinish",U=>{U===E&&(u=!0,B(),r.size&&R())})),e.disableAutoFinish||B(),setTimeout(()=>{a||(E.setStatus({code:_t,message:"deadline_exceeded"}),c=UC,E.end())},m),E}function zC(t){const e=Ii(t);return Si(Pe(),e),ae&&Y.log("[Tracing] Started span is an idle span"),e}const Uh=0,I_=1,D_=2;function ed(t){return new Jo(e=>{e(t)})}function wm(t){return new Jo((e,r)=>{r(t)})}class Jo{constructor(e){this._state=Uh,this._handlers=[],this._runExecutor(e)}then(e,r){return new Jo((a,o)=>{this._handlers.push([!1,c=>{if(!e)a(c);else try{a(e(c))}catch(u){o(u)}},c=>{if(!r)o(c);else try{a(r(c))}catch(u){o(u)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Jo((r,a)=>{let o,c;return this.then(u=>{c=!1,o=u,e&&e()},u=>{c=!0,o=u,e&&e()}).then(()=>{if(c){a(o);return}r(o)})})}_executeHandlers(){if(this._state===Uh)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===I_&&r[1](this._value),this._state===D_&&r[2](this._value),r[0]=!0)})}_runExecutor(e){const r=(c,u)=>{if(this._state===Uh){if(Ri(u)){u.then(a,o);return}this._state=c,this._value=u,this._executeHandlers()}},a=c=>{r(I_,c)},o=c=>{r(D_,c)};try{e(a,o)}catch(c){o(c)}}}function HC(t,e,r,a=0){try{const o=_p(e,r,t,a);return Ri(o)?o:ed(o)}catch(o){return wm(o)}}function _p(t,e,r,a){const o=r[a];if(!t||!o)return t;const c=o({...t},e);return ae&&c===null&&Y.log(`Event processor "${o.id||"?"}" dropped event`),Ri(c)?c.then(u=>_p(u,e,r,a+1)):_p(c,e,r,a+1)}let Ps,L_,U_,ss;function qC(t){const e=je._sentryDebugIds,r=je._debugIds;if(!e&&!r)return{};const a=e?Object.keys(e):[],o=r?Object.keys(r):[];if(ss&&a.length===L_&&o.length===U_)return ss;L_=a.length,U_=o.length,ss={},Ps||(Ps={});const c=(u,f)=>{for(const h of u){const m=f[h],y=Ps?.[h];if(y&&ss&&m)ss[y[0]]=m,Ps&&(Ps[h]=[y[0],m]);else if(m){const v=t(h);for(let _=v.length-1;_>=0;_--){const x=v[_]?.filename;if(x&&ss&&Ps){ss[x]=m,Ps[h]=[x,m];break}}}}};return e&&c(a,e),r&&c(o,r),ss}function $C(t,e){const{fingerprint:r,span:a,breadcrumbs:o,sdkProcessingMetadata:c}=e;FC(t,e),a&&YC(t,a),KC(t,r),GC(t,o),VC(t,c)}function B_(t,e){const{extra:r,tags:a,attributes:o,user:c,contexts:u,level:f,sdkProcessingMetadata:h,breadcrumbs:m,fingerprint:y,eventProcessors:v,attachments:_,propagationContext:S,transactionName:x,span:k}=e;Lo(t,"extra",r),Lo(t,"tags",a),Lo(t,"attributes",o),Lo(t,"user",c),Lo(t,"contexts",u),t.sdkProcessingMetadata=hl(t.sdkProcessingMetadata,h,2),f&&(t.level=f),x&&(t.transactionName=x),k&&(t.span=k),m.length&&(t.breadcrumbs=[...t.breadcrumbs,...m]),y.length&&(t.fingerprint=[...t.fingerprint,...y]),v.length&&(t.eventProcessors=[...t.eventProcessors,...v]),_.length&&(t.attachments=[...t.attachments,..._]),t.propagationContext={...t.propagationContext,...S}}function Lo(t,e,r){t[e]=hl(t[e],r,1)}function PC(t,e){const r=AA().getScopeData();return t&&B_(r,t.getScopeData()),e&&B_(r,e.getScopeData()),r}function FC(t,e){const{extra:r,tags:a,user:o,contexts:c,level:u,transactionName:f}=e;Object.keys(r).length&&(t.extra={...r,...t.extra}),Object.keys(a).length&&(t.tags={...a,...t.tags}),Object.keys(o).length&&(t.user={...o,...t.user}),Object.keys(c).length&&(t.contexts={...c,...t.contexts}),u&&(t.level=u),f&&t.type!=="transaction"&&(t.transaction=f)}function GC(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function VC(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function YC(t,e){t.contexts={trace:ZA(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Or(e),...t.sdkProcessingMetadata};const r=Dt(e),a=Be(r).description;a&&!t.transaction&&t.type==="transaction"&&(t.transaction=a)}function KC(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}function vw(t,e,r,a,o,c){const{normalizeDepth:u=3,normalizeMaxBreadth:f=1e3}=t,h={...e,event_id:e.event_id||r.event_id||bn(),timestamp:e.timestamp||ua()},m=r.integrations||t.integrations.map(E=>E.name);WC(h,t),QC(h,m),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&XC(h,t.stackParser);const y=eR(a,r.captureContext);r.mechanism&&vi(h,r.mechanism);const v=o?o.getEventProcessors():[],_=PC(c,y),S=[...r.attachments||[],..._.attachments];S.length&&(r.attachments=S),$C(h,_);const x=[...v,..._.eventProcessors];return HC(x,h,r).then(E=>(E&&JC(E),typeof u=="number"&&u>0?ZC(E,u,f):E))}function WC(t,e){const{environment:r,release:a,dist:o,maxValueLength:c}=e;t.environment=t.environment||r||bm,!t.release&&a&&(t.release=a),!t.dist&&o&&(t.dist=o);const u=t.request;u?.url&&c&&(u.url=fp(u.url,c)),c&&t.exception?.values?.forEach(f=>{f.value&&(f.value=fp(f.value,c))})}function XC(t,e){const r=qC(e);t.exception?.values?.forEach(a=>{a.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=r[o.filename])})})}function JC(t){const e={};if(t.exception?.values?.forEach(a=>{a.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?e[o.abs_path]=o.debug_id:o.filename&&(e[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach(([a,o])=>{r.push({type:"sourcemap",code_file:a,debug_id:o})})}function QC(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function ZC(t,e,r){if(!t)return null;const a={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>({...o,...o.data&&{data:Hn(o.data,e,r)}}))},...t.user&&{user:Hn(t.user,e,r)},...t.contexts&&{contexts:Hn(t.contexts,e,r)},...t.extra&&{extra:Hn(t.extra,e,r)}};return t.contexts?.trace&&a.contexts&&(a.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(a.contexts.trace.data=Hn(t.contexts.trace.data,e,r))),t.spans&&(a.spans=t.spans.map(o=>({...o,...o.data&&{data:Hn(o.data,e,r)}}))),t.contexts?.flags&&a.contexts&&(a.contexts.flags=Hn(t.contexts.flags,3,r)),a}function eR(t,e){if(!e)return t;const r=t?t.clone():new Zn;return r.update(e),r}function tR(t){if(t)return nR(t)?{captureContext:t}:sR(t)?{captureContext:t}:t}function nR(t){return t instanceof Zn||typeof t=="function"}const rR=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function sR(t){return Object.keys(t).some(e=>rR.includes(e))}function xm(t,e){return Pe().captureException(t,tR(e))}function _w(t,e){return Pe().captureEvent(t,e)}function Sw(t,e){Gn().setContext(t,e)}function aR(){const t=Me();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}function iR(t){Gn().addEventProcessor(t)}function z_(t){const e=Gn(),r=Pe(),{userAgent:a}=je.navigator||{},o=yA({user:r.getUser()||e.getUser(),...a&&{userAgent:a},...t}),c=e.getSession();return c?.status==="ok"&&_i(c,{status:"exited"}),ww(),e.setSession(o),o}function ww(){const t=Gn(),r=Pe().getSession()||t.getSession();r&&bA(r),xw(),t.setSession()}function xw(){const t=Gn(),e=Me(),r=t.getSession();r&&e&&e.captureSession(r)}function H_(t=!1){if(t){ww();return}xw()}const oR="7";function lR(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function cR(t){return`${lR(t)}${t.projectId}/envelope/`}function uR(t,e){const r={sentry_version:oR};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function dR(t,e,r){return e||`${cR(t)}?${uR(t,r)}`}const q_=[];function fR(t){const e={};return t.forEach(r=>{const{name:a}=r,o=e[a];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[a]=r)}),Object.values(e)}function hR(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let a;if(Array.isArray(r))a=[...e,...r];else if(typeof r=="function"){const o=r(e);a=Array.isArray(o)?o:[o]}else a=e;return fR(a)}function pR(t,e){const r={};return e.forEach(a=>{a&&Ew(t,a,r)}),r}function $_(t,e){for(const r of e)r?.afterAllSetup&&r.afterAllSetup(t)}function Ew(t,e,r){if(r[e.name]){ae&&Y.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,!q_.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),q_.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const a=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,c)=>a(o,c,t))}if(typeof e.processEvent=="function"){const a=e.processEvent.bind(e),o=Object.assign((c,u)=>a(c,u,t),{id:e.name});t.addEventProcessor(o)}ae&&Y.log(`Integration installed: ${e.name}`)}function mR(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function gR(t,e,r,a){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&a&&(o.dsn=Mi(a)),_s(o,[mR(t)])}function Tw(t,e){const r=e??yR(t)??[];if(r.length===0)return;const a=t.getOptions(),o=gR(r,a._metadata,a.tunnel,t.getDsn());kw().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function yR(t){return kw().get(t)}function kw(){return Ai("clientToLogBufferMap",()=>new WeakMap)}function bR(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function vR(t,e,r,a){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&a&&(o.dsn=Mi(a)),_s(o,[bR(t)])}function Aw(t,e){const r=e??_R(t)??[];if(r.length===0)return;const a=t.getOptions(),o=vR(r,a._metadata,a.tunnel,t.getDsn());Cw().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(o)}function _R(t){return Cw().get(t)}function Cw(){return Ai("clientToMetricBufferMap",()=>new WeakMap)}const Em=Symbol.for("SentryBufferFullError");function Tm(t=100){const e=new Set;function r(){return e.size<t}function a(u){e.delete(u)}function o(u){if(!r())return wm(Em);const f=u();return e.add(f),f.then(()=>a(f),()=>a(f)),f}function c(u){if(!e.size)return ed(!0);const f=Promise.allSettled(Array.from(e)).then(()=>!0);if(!u)return f;const h=[f,new Promise(m=>setTimeout(()=>m(!1),u))];return Promise.race(h)}return{get $(){return Array.from(e)},add:o,drain:c}}const SR=60*1e3;function wR(t,e=fl()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const a=Date.parse(`${t}`);return isNaN(a)?SR:a-e}function xR(t,e){return t[e]||t.all||0}function Rw(t,e,r=fl()){return xR(t,e)>r}function Nw(t,{statusCode:e,headers:r},a=fl()){const o={...t},c=r?.["x-sentry-rate-limits"],u=r?.["retry-after"];if(c)for(const f of c.trim().split(",")){const[h,m,,,y]=f.split(":",5),v=parseInt(h,10),_=(isNaN(v)?60:v)*1e3;if(!m)o.all=a+_;else for(const S of m.split(";"))S==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(o[S]=a+_):o[S]=a+_}else u?o.all=a+wR(u,a):e===429&&(o.all=a+60*1e3);return o}const Ow=64;function ER(t,e,r=Tm(t.bufferSize||Ow)){let a={};const o=u=>r.drain(u);function c(u){const f=[];if(bp(u,(v,_)=>{const S=C_(_);Rw(a,S)?t.recordDroppedEvent("ratelimit_backoff",S):f.push(v)}),f.length===0)return Promise.resolve({});const h=_s(u[0],f),m=v=>{if(pC(h,["client_report"])){ae&&Y.warn(`Dropping client report. Will not send outcomes (reason: ${v}).`);return}bp(h,(_,S)=>{t.recordDroppedEvent(v,C_(S))})},y=()=>e({body:mC(h)}).then(v=>(v.statusCode!==void 0&&(v.statusCode<200||v.statusCode>=300)&&ae&&Y.warn(`Sentry responded with status code ${v.statusCode} to sent event.`),a=Nw(a,v),v),v=>{throw m("network_error"),ae&&Y.error("Encountered error running transport request:",v),v});return r.add(y).then(v=>v,v=>{if(v===Em)return ae&&Y.error("Skipped sending event because buffer is full."),m("queue_overflow"),Promise.resolve({});throw v})}return{send:c,flush:o}}function TR(t,e,r){const a=[{type:"client_report"},{timestamp:ua(),discarded_events:t}];return _s(e?{dsn:e}:{},[a])}function jw(t){const e=[];t.message&&e.push(t.message);try{const r=t.exception.values[t.exception.values.length-1];r?.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch{}return e}function kR(t){const{trace_id:e,parent_span_id:r,span_id:a,status:o,origin:c,data:u,op:f}=t.contexts?.trace??{};return{data:u??{},description:t.transaction,op:f,parent_span_id:r,span_id:a??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:c,profile_id:u?.[pm],exclusive_time:u?.[ji],measurements:t.measurements,is_segment:!0}}function AR(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[pm]:t.profile_id},...t.exclusive_time&&{[ji]:t.exclusive_time}}}},measurements:t.measurements}}const P_="Not capturing exception because it's already been captured.",F_="Discarded session because of missing or non-string release",Mw=Symbol.for("SentryInternalError"),Iw=Symbol.for("SentryDoNotSendEventError"),CR=5e3;function vu(t){return{message:t,[Mw]:!0}}function Bh(t){return{message:t,[Iw]:!0}}function G_(t){return!!t&&typeof t=="object"&&Mw in t}function V_(t){return!!t&&typeof t=="object"&&Iw in t}function Y_(t,e,r,a,o){let c=0,u,f=!1;t.on(r,()=>{c=0,clearTimeout(u),f=!1}),t.on(e,h=>{c+=a(h),c>=8e5?o(t):f||(f=!0,u=setTimeout(()=>{o(t)},CR))}),t.on("flush",()=>{o(t)})}class RR{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Tm(e.transportOptions?.bufferSize??Ow),e.dsn?this._dsn=KA(e.dsn):ae&&Y.warn("No DSN provided, client will not send events."),this._dsn){const a=dR(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:a})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&Y_(this,"afterCaptureLog","flushLogs",MR,Tw),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&Y_(this,"afterCaptureMetric","flushMetrics",jR,Aw)}captureException(e,r,a){const o=bn();if(v_(e))return ae&&Y.log(P_),o;const c={event_id:o,...r};return this._process(()=>this.eventFromException(e,c).then(u=>this._captureEvent(u,c,a)).then(u=>u),"error"),c.event_id}captureMessage(e,r,a,o){const c={event_id:bn(),...a},u=cm(e)?e:String(e),f=bi(e),h=f?this.eventFromMessage(u,r,c):this.eventFromException(e,c);return this._process(()=>h.then(m=>this._captureEvent(m,c,o)),f?"unknown":"error"),c.event_id}captureEvent(e,r,a){const o=bn();if(r?.originalException&&v_(r.originalException))return ae&&Y.log(P_),o;const c={event_id:o,...r},u=e.sdkProcessingMetadata||{},f=u.capturedSpanScope,h=u.capturedSpanIsolationScope,m=K_(e.type);return this._process(()=>this._captureEvent(e,c,f||a,h),m),c.event_id}captureSession(e){this.sendSession(e),_i(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const r=this._transport;if(!r)return!0;this.emit("flush");const a=await this._isClientDoneProcessing(e),o=await r.flush(e);return a&&o}async close(e){const r=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];Ew(this,e,this._integrations),r||$_(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let a=wC(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])a=hC(a,bC(o));this.sendEnvelope(a).then(o=>this.emit("afterSendEvent",e,o))}sendSession(e){const{release:r,environment:a=bm}=this._options;if("aggregates"in e){const c=e.attrs||{};if(!c.release&&!r){ae&&Y.warn(F_);return}c.release=c.release||r,c.environment=c.environment||a,e.attrs=c}else{if(!e.release&&!r){ae&&Y.warn(F_);return}e.release=e.release||r,e.environment=e.environment||a}this.emit("beforeSendSession",e);const o=SC(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(e,r,a=1){if(this._options.sendClientReports){const o=`${e}:${r}`;ae&&Y.log(`Recording outcome: "${o}"${a>1?` (${a} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+a}}on(e,r){const a=this._hooks[e]=this._hooks[e]||new Set,o=(...c)=>r(...c);return a.add(o),()=>{a.delete(o)}}emit(e,...r){const a=this._hooks[e];a&&a.forEach(o=>o(...r))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(r){return ae&&Y.error("Error while sending envelope:",r),{}}return ae&&Y.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=pR(this,e),$_(this,e)}_updateSessionFromEvent(e,r){let a=r.level==="fatal",o=!1;const c=r.exception?.values;if(c){o=!0,a=!1;for(const h of c)if(h.mechanism?.handled===!1){a=!0;break}}const u=e.status==="ok";(u&&e.errors===0||u&&a)&&(_i(e,{...a&&{status:"crashed"},errors:e.errors||Number(o||a)}),this.captureSession(e))}async _isClientDoneProcessing(e){let r=0;for(;!e||r<e;){if(await new Promise(a=>setTimeout(a,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,a,o){const c=this.getOptions(),u=Object.keys(this._integrations);return!r.integrations&&u?.length&&(r.integrations=u),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),vw(c,e,r,a,this,o).then(f=>{if(f===null)return f;this.emit("postprocessEvent",f,r),f.contexts={trace:CA(a),...f.contexts};const h=dw(this,a);return f.sdkProcessingMetadata={dynamicSamplingContext:h,...f.sdkProcessingMetadata},f})}_captureEvent(e,r={},a=Pe(),o=Gn()){return ae&&Sp(e)&&Y.log(`Captured error event \`${jw(e)[0]||"<unknown>"}\``),this._processEvent(e,r,a,o).then(c=>c.event_id,c=>{ae&&(V_(c)?Y.log(c.message):G_(c)?Y.warn(c.message):Y.warn(c))})}_processEvent(e,r,a,o){const c=this.getOptions(),{sampleRate:u}=c,f=Dw(e),h=Sp(e),y=`before send for type \`${e.type||"error"}\``,v=typeof u>"u"?void 0:aa(u);if(h&&typeof v=="number"&&us()>v)return this.recordDroppedEvent("sample_rate","error"),wm(Bh(`Discarding event because it's not included in the random sample (sampling rate = ${u})`));const _=K_(e.type);return this._prepareEvent(e,r,a,o).then(S=>{if(S===null)throw this.recordDroppedEvent("event_processor",_),Bh("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return S;const k=OR(this,c,S,r);return NR(k,y)}).then(S=>{if(S===null){if(this.recordDroppedEvent("before_send",_),f){const N=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",N)}throw Bh(`${y} returned \`null\`, will not send event.`)}const x=a.getSession()||o.getSession();if(h&&x&&this._updateSessionFromEvent(x,S),f){const E=S.sdkProcessingMetadata?.spanCountBeforeProcessing||0,N=S.spans?S.spans.length:0,B=E-N;B>0&&this.recordDroppedEvent("before_send","span",B)}const k=S.transaction_info;if(f&&k&&S.transaction!==e.transaction){const E="custom";S.transaction_info={...k,source:E}}return this.sendEvent(S,r),S}).then(null,S=>{throw V_(S)||G_(S)?S:(this.captureException(S,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:S}),vu(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${S}`))})}_process(e,r){this._numProcessing++,this._promiseBuffer.add(e).then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a===Em&&this.recordDroppedEvent("queue_overflow",r),a))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,a])=>{const[o,c]=r.split(":");return{reason:o,category:c,quantity:a}})}_flushOutcomes(){ae&&Y.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){ae&&Y.log("No outcomes to send");return}if(!this._dsn){ae&&Y.log("No dsn provided, will not send outcomes");return}ae&&Y.log("Sending outcomes:",e);const r=TR(e,this._options.tunnel&&Mi(this._dsn));this.sendEnvelope(r)}}function K_(t){return t==="replay_event"?"replay":t||"error"}function NR(t,e){const r=`${e} must return \`null\` or a valid event.`;if(Ri(t))return t.then(a=>{if(!Wo(a)&&a!==null)throw vu(r);return a},a=>{throw vu(`${e} rejected with ${a}`)});if(!Wo(t)&&t!==null)throw vu(r);return t}function OR(t,e,r,a){const{beforeSend:o,beforeSendTransaction:c,beforeSendSpan:u,ignoreSpans:f}=e;let h=r;if(Sp(h)&&o)return o(h,a);if(Dw(h)){if(u||f){const m=kR(h);if(f?.length&&Ru(m,f))return null;if(u){const y=u(m);y?h=hl(r,AR(y)):gp()}if(h.spans){const y=[],v=h.spans;for(const S of v){if(f?.length&&Ru(S,f)){iC(v,S);continue}if(u){const x=u(S);x?y.push(x):(gp(),y.push(S))}else y.push(S)}const _=h.spans.length-y.length;_&&t.recordDroppedEvent("before_send","span",_),h.spans=y}}if(c){if(h.spans){const m=h.spans.length;h.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:m}}return c(h,a)}}return h}function Sp(t){return t.type===void 0}function Dw(t){return t.type==="transaction"}function jR(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+Lw(t.attributes)}function MR(t){let e=0;return t.message&&(e+=t.message.length*2),e+Lw(t.attributes)}function Lw(t){if(!t)return 0;let e=0;return Object.values(t).forEach(r=>{Array.isArray(r)?e+=r.length*W_(r[0]):bi(r)?e+=W_(r):e+=100}),e}function W_(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function IR(t){return Ju(t)&&"__sentry_fetch_url_host__"in t&&typeof t.__sentry_fetch_url_host__=="string"}function X_(t){return IR(t)?`${t.message} (${t.__sentry_fetch_url_host__})`:t.message}function DR(t,e){e.debug===!0&&(ae?Y.enable():ca(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Pe().update(e.initialScope);const a=new t(e);return LR(a),a.init(),a}function LR(t){Pe().setClient(t)}const UR="thismessage:/";function km(t){return"isRelative"in t}function Am(t,e){const r=t.indexOf("://")<=0&&t.indexOf("//")!==0,a=r?UR:void 0;try{if("canParse"in URL&&!URL.canParse(t,a))return;const o=new URL(t,a);return r?{isRelative:r,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function BR(t){if(km(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function ra(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",a=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:a,relative:e[5]+r+a}}function zR(t){return t.split(/[?#]/,1)[0]}function ds(t,e=!0){if(t.startsWith("data:")){const r=t.match(/^data:([^;,]+)/),a=r?r[1]:"text/plain",o=t.includes(";base64,"),c=t.indexOf(",");let u="";if(e&&c!==-1){const f=t.slice(c+1);u=f.length>10?`${f.slice(0,10)}... [truncated]`:f}return`data:${a}${o?",base64":""}${u?`,${u}`:""}`}return t}function HR(t,e){const r=e?.getDsn(),a=e?.getOptions().tunnel;return $R(t,r)||qR(t,a)}function qR(t,e){return e?J_(t)===J_(e):!1}function $R(t,e){const r=Am(t);return!r||km(r)?!1:e?r.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(r.search):!1}function J_(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function PR(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function Uw(t,e,r=[e],a="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:r.map(c=>({name:`${a}:@sentry/${c}`,version:ea})),version:ea}),t._metadata=o}function Bw(t={}){const e=t.client||Me();if(!aR()||!e)return{};const r=la(),a=Oi(r);if(a.getTraceData)return a.getTraceData(t);const o=t.scope||Pe(),c=t.span||qt(),u=c?eC(c):FR(o),f=c?Or(c):dw(e,o),h=BA(f);if(!nw.test(u))return Y.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const y={"sentry-trace":u,baggage:h};return t.propagateTraceparent&&(y.traceparent=c?tC(c):GR(o)),y}function FR(t){const{traceId:e,sampled:r,propagationSpanId:a}=t.getPropagationContext();return rw(e,a,r)}function GR(t){const{traceId:e,sampled:r,propagationSpanId:a}=t.getPropagationContext();return sw(e,a,r)}function VR(t,e,r){let a,o,c;const u=r?.maxWait?Math.max(r.maxWait,e):0,f=r?.setTimeoutImpl||setTimeout;function h(){return m(),a=t(),a}function m(){o!==void 0&&clearTimeout(o),c!==void 0&&clearTimeout(c),o=c=void 0}function y(){return o!==void 0||c!==void 0?h():a}function v(){return o&&clearTimeout(o),o=f(h,e),u&&c===void 0&&(c=f(h,u)),a}return v.cancel=m,v.flush=y,v}const YR=100;function ms(t,e){const r=Me(),a=Gn();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:c=YR}=r.getOptions();if(c<=0)return;const f={timestamp:ua(),...t},h=o?ca(()=>o(f,e)):f;h!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",h,e),a.addBreadcrumb(h,c))}let Q_;const KR="FunctionToString",Z_=new WeakMap,WR=(()=>({name:KR,setupOnce(){Q_=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=fm(this),r=Z_.has(Me())&&e!==void 0?e:this;return Q_.apply(r,t)}}catch{}},setup(t){Z_.set(t,!0)}})),XR=WR,JR=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],QR="EventFilters",ZR=(t={})=>{let e;return{name:QR,setup(r){const a=r.getOptions();e=e0(t,a)},processEvent(r,a,o){if(!e){const c=o.getOptions();e=e0(t,c)}return tN(r,e)?null:r}}},eN=((t={})=>({...ZR(t),name:"InboundFilters"}));function e0(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:JR],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function tN(t,e){if(t.type){if(t.type==="transaction"&&rN(t,e.ignoreTransactions))return ae&&Y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ks(t)}`),!0}else{if(nN(t,e.ignoreErrors))return ae&&Y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ks(t)}`),!0;if(oN(t))return ae&&Y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ks(t)}`),!0;if(sN(t,e.denyUrls))return ae&&Y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ks(t)}.
Url: ${Nu(t)}`),!0;if(!aN(t,e.allowUrls))return ae&&Y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ks(t)}.
Url: ${Nu(t)}`),!0}return!1}function nN(t,e){return e?.length?jw(t).some(r=>Er(r,e)):!1}function rN(t,e){if(!e?.length)return!1;const r=t.transaction;return r?Er(r,e):!1}function sN(t,e){if(!e?.length)return!1;const r=Nu(t);return r?Er(r,e):!1}function aN(t,e){if(!e?.length)return!0;const r=Nu(t);return r?Er(r,e):!0}function iN(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Nu(t){try{const r=[...t.exception?.values??[]].reverse().find(a=>a.mechanism?.parent_id===void 0&&a.stacktrace?.frames?.length)?.stacktrace?.frames;return r?iN(r):null}catch{return ae&&Y.error(`Cannot extract url for event ${Ks(t)}`),null}}function oN(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function lN(t,e,r,a,o,c){if(!o.exception?.values||!c||!Cr(c.originalException,Error))return;const u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=wp(t,e,a,c.originalException,r,o.exception.values,u,0))}function wp(t,e,r,a,o,c,u,f){if(c.length>=r+1)return c;let h=[...c];if(Cr(a[o],Error)){t0(u,f,a);const m=t(e,a[o]),y=h.length;n0(m,o,y,f),h=wp(t,e,r,a[o],o,[m,...h],m,y)}return zw(a)&&a.errors.forEach((m,y)=>{if(Cr(m,Error)){t0(u,f,a);const v=t(e,m),_=h.length;n0(v,`errors[${y}]`,_,f),h=wp(t,e,r,m,o,[v,...h],v,_)}}),h}function zw(t){return Array.isArray(t.errors)}function t0(t,e,r){t.mechanism={handled:!0,type:"auto.core.linked_errors",...zw(r)&&{is_exception_group:!0},...t.mechanism,exception_id:e}}function n0(t,e,r,a){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:a}}function cN(t){const e="console";ys(e,t),bs(e,uN)}function uN(){"console"in je&&K1.forEach(function(t){t in je.console&&en(je.console,t,function(e){return ku[t]=e,function(...r){Nn("console",{args:r,level:t}),ku[t]?.apply(je.console,r)}})})}function Hw(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const dN="Dedupe",fN=(()=>{let t;return{name:dN,processEvent(e){if(e.type)return e;try{if(pN(e,t))return ae&&Y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),hN=fN;function pN(t,e){return e?!!(mN(t,e)||gN(t,e)):!1}function mN(t,e){const r=t.message,a=e.message;return!(!r&&!a||r&&!a||!r&&a||r!==a||!$w(t,e)||!qw(t,e))}function gN(t,e){const r=r0(e),a=r0(t);return!(!r||!a||r.type!==a.type||r.value!==a.value||!$w(t,e)||!qw(t,e))}function qw(t,e){let r=h_(t),a=h_(e);if(!r&&!a)return!0;if(r&&!a||!r&&a||(r=r,a=a,a.length!==r.length))return!1;for(let o=0;o<a.length;o++){const c=a[o],u=r[o];if(c.filename!==u.filename||c.lineno!==u.lineno||c.colno!==u.colno||c.function!==u.function)return!1}return!0}function $w(t,e){let r=t.fingerprint,a=e.fingerprint;if(!r&&!a)return!0;if(r&&!a||!r&&a)return!1;r=r,a=a;try{return r.join("")===a.join("")}catch{return!1}}function r0(t){return t.exception?.values?.[0]}const yN="ConversationId",bN=(()=>({name:yN,setup(t){t.on("spanStart",e=>{const r=Pe().getScopeData(),a=Gn().getScopeData(),o=r.conversationId||a.conversationId;o&&e.setAttribute(NA,o)})}})),vN=bN;function _N(t,e,r,a,o){if(!t.fetchData)return;const{method:c,url:u}=t.fetchData,f=Fn()&&e(u);if(t.endTimestamp&&f){const S=t.fetchData.__span;if(!S)return;const x=a[S];x&&(xN(x,t),SN(x,t,o),delete a[S]);return}const{spanOrigin:h="auto.http.browser",propagateTraceparent:m=!1}=typeof o=="object"?o:{spanOrigin:o},y=!!qt(),v=f&&y?Ii(TN(u,c,h)):new ps;if(t.fetchData.__span=v.spanContext().spanId,a[v.spanContext().spanId]=v,r(t.fetchData.url)){const S=t.args[0],x={...t.args[1]||{}},k=wN(S,x,Fn()&&y?v:void 0,m);k&&(t.args[1]=x,x.headers=k)}const _=Me();if(_){const S={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};_.emit("beforeOutgoingRequestSpan",v,S)}return v}function SN(t,e,r){(typeof r=="object"&&r!==null?r.onRequestSpanEnd:void 0)?.(t,{headers:e.response?.headers,error:e.error})}function wN(t,e,r,a){const o=Bw({span:r,propagateTraceparent:a}),c=o["sentry-trace"],u=o.baggage,f=o.traceparent;if(!c)return;const h=e.headers||(um(t)?t.headers:void 0);if(h)if(EN(h)){const m=new Headers(h);if(m.get("sentry-trace")||m.set("sentry-trace",c),a&&f&&!m.get("traceparent")&&m.set("traceparent",f),u){const y=m.get("baggage");y?Kc(y)||m.set("baggage",`${y},${u}`):m.set("baggage",u)}return m}else if(Array.isArray(h)){const m=[...h];h.find(v=>v[0]==="sentry-trace")||m.push(["sentry-trace",c]),a&&f&&!h.find(v=>v[0]==="traceparent")&&m.push(["traceparent",f]);const y=h.find(v=>v[0]==="baggage"&&Kc(v[1]));return u&&!y&&m.push(["baggage",u]),m}else{const m="sentry-trace"in h?h["sentry-trace"]:void 0,y="traceparent"in h?h.traceparent:void 0,v="baggage"in h?h.baggage:void 0,_=v?Array.isArray(v)?[...v]:[v]:[],S=v&&(Array.isArray(v)?v.find(k=>Kc(k)):Kc(v));u&&!S&&_.push(u);const x={...h,"sentry-trace":m??c,baggage:_.length>0?_.join(","):void 0};return a&&f&&!y&&(x.traceparent=f),x}else return{...o}}function xN(t,e){if(e.response){JS(t,e.response.status);const r=e.response?.headers?.get("content-length");if(r){const a=parseInt(r);a>0&&t.setAttribute("http.response_content_length",a)}}else e.error&&t.setStatus({code:_t,message:"internal_error"});t.end()}function Kc(t){return t.split(",").some(e=>e.trim().startsWith(gm))}function EN(t){return typeof Headers<"u"&&Cr(t,Headers)}function TN(t,e,r){if(t.startsWith("data:")){const c=ds(t);return{name:`${e} ${c}`,attributes:s0(t,void 0,e,r)}}const a=Am(t),o=a?BR(a):t;return{name:`${e} ${o}`,attributes:s0(t,a,e,r)}}function s0(t,e,r,a){const o={url:ds(t),type:"fetch","http.method":r,[wt]:a,[Nr]:"http.client"};return e&&(km(e)||(o["http.url"]=ds(e.href),o["server.address"]=e.host),e.search&&(o["http.query"]=e.search),e.hash&&(o["http.fragment"]=e.hash)),o}function Pw(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const Qo=je;function kN(){return"history"in Qo&&!!Qo.history}function AN(){if(!("fetch"in Qo))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function xp(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function CN(){if(typeof EdgeRuntime=="string")return!0;if(!AN())return!1;if(xp(Qo.fetch))return!0;let t=!1;const e=Qo.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow?.fetch&&(t=xp(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){ae&&Y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Fw(t,e){const r="fetch";ys(r,t),bs(r,()=>Gw(void 0,e))}function RN(t){const e="fetch-body-resolved";ys(e,t),bs(e,()=>Gw(ON))}function Gw(t,e=!1){e&&!CN()||en(je,"fetch",function(r){return function(...a){const o=new Error,{method:c,url:u}=jN(a),f={args:a,fetchData:{method:c,url:u},startTimestamp:kt()*1e3,virtualError:o,headers:MN(a)};return t||Nn("fetch",{...f}),r.apply(je,a).then(async h=>(t?t(h):Nn("fetch",{...f,endTimestamp:kt()*1e3,response:h}),h),h=>{Nn("fetch",{...f,endTimestamp:kt()*1e3,error:h}),Ju(h)&&h.stack===void 0&&(h.stack=o.stack,nn(h,"framesToPop",1));const y=Me()?.getOptions().enhanceFetchErrorMessages??"always";if(y!==!1&&h instanceof TypeError&&(h.message==="Failed to fetch"||h.message==="Load failed"||h.message==="NetworkError when attempting to fetch resource."))try{const S=new URL(f.fetchData.url).host;y==="always"?h.message=`${h.message} (${S})`:nn(h,"__sentry_fetch_url_host__",S)}catch{}throw h})}})}async function NN(t,e){if(t?.body){const r=t.body,a=r.getReader(),o=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3);let c=!0;for(;c;){let u;try{u=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);const{done:f}=await a.read();clearTimeout(u),f&&(e(),c=!1)}catch{c=!1}finally{clearTimeout(u)}}clearTimeout(o),a.releaseLock(),r.cancel().then(null,()=>{})}}function ON(t){let e;try{e=t.clone()}catch{return}NN(e,()=>{Nn("fetch-body-resolved",{endTimestamp:kt()*1e3,response:t})})}function _u(t,e){return!!t&&typeof t=="object"&&!!t[e]}function a0(t){return typeof t=="string"?t:t?_u(t,"url")?t.url:t.toString?t.toString():"":""}function jN(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,a]=t;return{url:a0(r),method:_u(a,"method")?String(a.method).toUpperCase():um(r)&&_u(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:a0(e),method:_u(e,"method")?String(e.method).toUpperCase():"GET"}}function MN(t){const[e,r]=t;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(um(e))return new Headers(e.headers)}catch{}}function IN(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function DN(){return"npm"}function LN(){return!IN()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ep(){return typeof window<"u"&&(!LN()||UN())}function UN(){return je.process?.type==="renderer"}const ze=je;let Tp=0;function Vw(){return Tp>0}function BN(){Tp++,setTimeout(()=>{Tp--})}function xi(t,e={}){function r(o){return typeof o=="function"}if(!r(t))return t;try{const o=t.__sentry_wrapped__;if(o)return typeof o=="function"?o:t;if(fm(t))return t}catch{return t}const a=function(...o){try{const c=o.map(u=>xi(u,e));return t.apply(this,c)}catch(c){throw BN(),pl(u=>{u.addEventProcessor(f=>(e.mechanism&&(hp(f,void 0),vi(f,e.mechanism)),f.extra={...f.extra,arguments:o},f)),xm(c)}),c}};try{for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}catch{}VS(a,t),nn(t,"__sentry_wrapped__",a);try{Object.getOwnPropertyDescriptor(a,"name").configurable&&Object.defineProperty(a,"name",{get(){return t.name}})}catch{}return a}function Cm(){const t=Ni(),{referrer:e}=ze.document||{},{userAgent:r}=ze.navigator||{},a={...e&&{Referer:e},...r&&{"User-Agent":r}};return{url:t,headers:a}}function Rm(t,e){const r=Nm(t,e),a={type:PN(e),value:FN(e)};return r.length&&(a.stacktrace={frames:r}),a.type===void 0&&a.value===""&&(a.value="Unrecoverable error caught"),a}function zN(t,e,r,a){const c=Me()?.getOptions().normalizeDepth,u=WN(e),f={__serialized__:fw(e,c)};if(u)return{exception:{values:[Rm(t,u)]},extra:f};const h={exception:{values:[{type:Qu(e)?e.constructor.name:a?"UnhandledRejection":"Error",value:YN(e,{isUnhandledRejection:a})}]},extra:f};if(r){const m=Nm(t,r);m.length&&(h.exception.values[0].stacktrace={frames:m})}return h}function zh(t,e){return{exception:{values:[Rm(t,e)]}}}function Nm(t,e){const r=e.stacktrace||e.stack||"",a=qN(e),o=$N(e);try{return t(r,a,o)}catch{}return[]}const HN=/Minified React error #\d+;/i;function qN(t){return t&&HN.test(t.message)?1:0}function $N(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function Yw(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function PN(t){const e=t?.name;return!e&&Yw(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function FN(t){const e=t?.message;return Yw(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?X_(e.error):X_(t):"No error message"}function GN(t,e,r,a){const o=r?.syntheticException||void 0,c=Om(t,e,o,a);return vi(c),c.level="error",r?.event_id&&(c.event_id=r.event_id),ed(c)}function VN(t,e,r="info",a,o){const c=a?.syntheticException||void 0,u=kp(t,e,c,o);return u.level=r,a?.event_id&&(u.event_id=a.event_id),ed(u)}function Om(t,e,r,a,o){let c;if(PS(e)&&e.error)return zh(t,e.error);if(m_(e)||aA(e)){const u=e;if("stack"in e)c=zh(t,e);else{const f=u.name||(m_(u)?"DOMError":"DOMException"),h=u.message?`${f}: ${u.message}`:f;c=kp(t,h,r,a),hp(c,h)}return"code"in u&&(c.tags={...c.tags,"DOMException.code":`${u.code}`}),c}return Ju(e)?zh(t,e):Wo(e)||Qu(e)?(c=zN(t,e,r,o),vi(c,{synthetic:!0}),c):(c=kp(t,e,r,a),hp(c,`${e}`),vi(c,{synthetic:!0}),c)}function kp(t,e,r,a){const o={};if(a&&r){const c=Nm(t,r);c.length&&(o.exception={values:[{value:e,stacktrace:{frames:c}}]}),vi(o,{synthetic:!0})}if(cm(e)){const{__sentry_template_string__:c,__sentry_template_values__:u}=e;return o.logentry={message:c,params:u},o}return o.message=e,o}function YN(t,{isUnhandledRejection:e}){const r=dA(t),a=e?"promise rejection":"exception";return PS(t)?`Event \`ErrorEvent\` captured as ${a} with message \`${t.message}\``:Qu(t)?`Event \`${KN(t)}\` (type=${t.type}) captured as ${a}`:`Object captured as ${a} with keys: ${r}`}function KN(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function WN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}}class XN extends RR{constructor(e){const r=JN(e),a=ze.SENTRY_SDK_SOURCE||DN();Uw(r,"browser",["browser"],a),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:c,enableLogs:u,_experiments:f,enableMetrics:h}=this._options,m=h??f?.enableMetrics??!0;ze.document&&(c||u||m)&&ze.document.addEventListener("visibilitychange",()=>{ze.document.visibilityState==="hidden"&&(c&&this._flushOutcomes(),u&&Tw(this),m&&Aw(this))}),o&&this.on("beforeSendSession",PR)}eventFromException(e,r){return GN(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",a){return VN(this._options.stackParser,e,r,a,this._options.attachStacktrace)}_prepareEvent(e,r,a,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,a,o)}}function JN(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ze.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const ia=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_e=je,QN=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",yl=(t,e,r,a)=>{let o,c;return u=>{e.value>=0&&(u||a)&&(c=e.value-(o??0),(c||o===void 0)&&(o=e.value,e.delta=c,e.rating=QN(e.value,r),t(e)))}},bl=(t=!0)=>{const e=_e.performance?.getEntriesByType?.("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},Di=()=>bl()?.activationStart??0;function fs(t,e,r){_e.document&&_e.addEventListener(t,e,r)}function Ou(t,e,r){_e.document&&_e.removeEventListener(t,e,r)}let gi=-1;const Kw=new Set,ZN=()=>_e.document?.visibilityState==="hidden"&&!_e.document?.prerendering?0:1/0,Su=t=>{if(eO(t)&&gi>-1){if(t.type==="visibilitychange"||t.type==="pagehide")for(const e of Kw)e();isFinite(gi)||(gi=t.type==="visibilitychange"?t.timeStamp:0,Ou("prerenderingchange",Su,!0))}},vl=()=>{if(_e.document&&gi<0){const t=Di();gi=(_e.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0]?.startTime)??ZN(),fs("visibilitychange",Su,!0),fs("pagehide",Su,!0),fs("prerenderingchange",Su,!0)}return{get firstHiddenTime(){return gi},onHidden(t){Kw.add(t)}}};function eO(t){return t.type==="pagehide"||_e.document?.visibilityState==="hidden"}const tO=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,_l=(t,e=-1)=>{const r=bl();let a="navigate";return r&&(_e.document?.prerendering||Di()>0?a="prerender":_e.document?.wasDiscarded?a="restore":r.type&&(a=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:tO(),navigationType:a}},Hh=new WeakMap;function jm(t,e){try{return Hh.get(t)||Hh.set(t,new e),Hh.get(t)}catch{return new e}}class ju{constructor(){ju.prototype.__init.call(this),ju.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const r=this._sessionEntries[0],a=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&r&&a&&e.startTime-a.startTime<1e3&&e.startTime-r.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const Li=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const a=new PerformanceObserver(o=>{Promise.resolve().then(()=>{e(o.getEntries())})});return a.observe({type:t,buffered:!0,...r}),a}}catch{}},Mm=t=>{let e=!1;return()=>{e||(t(),e=!0)}},td=t=>{_e.document?.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},nO=[1800,3e3],rO=(t,e={})=>{td(()=>{const r=vl(),a=_l("FCP");let o;const u=Li("paint",f=>{for(const h of f)h.name==="first-contentful-paint"&&(u.disconnect(),h.startTime<r.firstHiddenTime&&(a.value=Math.max(h.startTime-Di(),0),a.entries.push(h),o(!0)))});u&&(o=yl(t,a,nO,e.reportAllChanges))})},sO=[.1,.25],aO=(t,e={})=>{rO(Mm(()=>{const r=_l("CLS",0);let a;const o=vl(),c=jm(e,ju),u=h=>{for(const m of h)c._processEntry(m);c._sessionValue>r.value&&(r.value=c._sessionValue,r.entries=c._sessionEntries,a())},f=Li("layout-shift",u);f&&(a=yl(t,r,sO,e.reportAllChanges),o.onHidden(()=>{u(f.takeRecords()),a(!0)}),_e?.setTimeout?.(a))}))};let Ww=0,qh=1/0,Wc=0;const iO=t=>{t.forEach(e=>{e.interactionId&&(qh=Math.min(qh,e.interactionId),Wc=Math.max(Wc,e.interactionId),Ww=Wc?(Wc-qh)/7+1:0)})};let Ap;const Xw=()=>Ap?Ww:performance.interactionCount||0,oO=()=>{"interactionCount"in performance||Ap||(Ap=Li("event",iO,{type:"event",buffered:!0,durationThreshold:0}))},$h=10;let Jw=0;const lO=()=>Xw()-Jw;class Mu{constructor(){Mu.prototype.__init.call(this),Mu.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Jw=Xw(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor(lO()/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||e.entryType==="first-input"))return;const r=this._longestInteractionList.at(-1);let a=this._longestInteractionMap.get(e.interactionId);if(a||this._longestInteractionList.length<$h||e.duration>r._latency){if(a?e.duration>a._latency?(a.entries=[e],a._latency=e.duration):e.duration===a._latency&&e.startTime===a.entries[0].startTime&&a.entries.push(e):(a={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(a.id,a),this._longestInteractionList.push(a)),this._longestInteractionList.sort((o,c)=>c._latency-o._latency),this._longestInteractionList.length>$h){const o=this._longestInteractionList.splice($h);for(const c of o)this._longestInteractionMap.delete(c.id)}this._onAfterProcessingINPCandidate?.(a)}}}const Qw=t=>{const e=_e.requestIdleCallback||_e.setTimeout;_e.document?.visibilityState==="hidden"?t():(t=Mm(t),fs("visibilitychange",t,{once:!0,capture:!0}),fs("pagehide",t,{once:!0,capture:!0}),e(()=>{t(),Ou("visibilitychange",t,{capture:!0}),Ou("pagehide",t,{capture:!0})}))},cO=[200,500],uO=40,dO=(t,e={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const r=vl();td(()=>{oO();const a=_l("INP");let o;const c=jm(e,Mu),u=h=>{Qw(()=>{for(const y of h)c._processEntry(y);const m=c._estimateP98LongestInteraction();m&&m._latency!==a.value&&(a.value=m._latency,a.entries=m.entries,o())})},f=Li("event",u,{durationThreshold:e.durationThreshold??uO});o=yl(t,a,cO,e.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),r.onHidden(()=>{u(f.takeRecords()),o(!0)}))})};class fO{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const hO=[2500,4e3],pO=(t,e={})=>{td(()=>{const r=vl(),a=_l("LCP");let o;const c=jm(e,fO),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)c._processEntry(m),m.startTime<r.firstHiddenTime&&(a.value=Math.max(m.startTime-Di(),0),a.entries=[m],o())},f=Li("largest-contentful-paint",u);if(f){o=yl(t,a,hO,e.reportAllChanges);const h=Mm(()=>{u(f.takeRecords()),f.disconnect(),o(!0)}),m=y=>{y.isTrusted&&(Qw(h),Ou(y.type,m,{capture:!0}))};for(const y of["keydown","click","visibilitychange"])fs(y,m,{capture:!0})}})},mO=[800,1800],Cp=t=>{_e.document?.prerendering?td(()=>Cp(t)):_e.document?.readyState!=="complete"?addEventListener("load",()=>Cp(t),!0):setTimeout(t)},gO=(t,e={})=>{const r=_l("TTFB"),a=yl(t,r,mO,e.reportAllChanges);Cp(()=>{const o=bl();o&&(r.value=Math.max(o.responseStart-Di(),0),r.entries=[o],a(!0))})},$o={},Iu={};let Zw,ex,tx,nx;function Im(t,e=!1){return nd("cls",t,bO,Zw,e)}function Dm(t,e=!1){return nd("lcp",t,vO,ex,e)}function yO(t){return nd("ttfb",t,_O,tx)}function rx(t){return nd("inp",t,SO,nx)}function oa(t,e){return sx(t,e),Iu[t]||(wO(t),Iu[t]=!0),ax(t,e)}function Sl(t,e){const r=$o[t];if(r?.length)for(const a of r)try{a(e)}catch(o){ia&&Y.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ar(a)}
Error:`,o)}}function bO(){return aO(t=>{Sl("cls",{metric:t}),Zw=t},{reportAllChanges:!0})}function vO(){return pO(t=>{Sl("lcp",{metric:t}),ex=t},{reportAllChanges:!0})}function _O(){return gO(t=>{Sl("ttfb",{metric:t}),tx=t})}function SO(){return dO(t=>{Sl("inp",{metric:t}),nx=t})}function nd(t,e,r,a,o=!1){sx(t,e);let c;return Iu[t]||(c=r(),Iu[t]=!0),a&&e({metric:a}),ax(t,e,o?c:void 0)}function wO(t){const e={};t==="event"&&(e.durationThreshold=0),Li(t,r=>{Sl(t,{entries:r})},e)}function sx(t,e){$o[t]=$o[t]||[],$o[t].push(e)}function ax(t,e,r){return()=>{r&&r();const a=$o[t];if(!a)return;const o=a.indexOf(e);o!==-1&&a.splice(o,1)}}function xO(t){return"duration"in t}const EO=t=>{const e=r=>{(r.type==="pagehide"||_e.document?.visibilityState==="hidden")&&t(r)};fs("visibilitychange",e,{capture:!0,once:!0}),fs("pagehide",e,{capture:!0,once:!0})};function Ph(t){return typeof t=="number"&&isFinite(t)}function gs(t,e,r,{...a}){const o=Be(t).start_timestamp;return o&&o>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),_m(t,()=>{const c=Ii({startTime:e,...a});return c&&c.end(r),c})}function Lm(t){const e=Me();if(!e)return;const{name:r,transaction:a,attributes:o,startTime:c}=t,{release:u,environment:f,sendDefaultPii:h}=e.getOptions(),y=e.getIntegrationByName("Replay")?.getReplayId(),v=Pe(),_=v.getUser(),S=_!==void 0?_.email||_.id||_.ip_address:void 0;let x;try{x=v.getScopeData().contexts.profile.profile_id}catch{}const k={release:u,environment:f,user:S||void 0,profile_id:x||void 0,replay_id:y||void 0,transaction:a,"user_agent.original":_e.navigator?.userAgent,"client.address":h?"{{auto}}":void 0,...o};return Ii({name:r,attributes:k,startTime:c,experimental:{standalone:!0}})}function wl(){return _e.addEventListener&&_e.performance}function ot(t){return t/1e3}function TO(t){let e="unknown",r="unknown",a="";for(const o of t){if(o==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(o))){e=a==="h"?"http":a,r=t.split(a)[1];break}a+=o}return a===t&&(e=a),{name:e,version:r}}function ix(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch{return!1}}function ox(t,e){let r,a=!1;function o(f){!a&&r&&e(f,r),a=!0}EO(()=>{o("pagehide")});const c=t.on("beforeStartNavigationSpan",(f,h)=>{h?.isRedirect||(o("navigation"),c(),u())}),u=t.on("afterStartPageLoadSpan",f=>{r=f.spanContext().spanId,u()})}function kO(t){let e=0,r;if(!ix("layout-shift"))return;const a=Im(({metric:o})=>{const c=o.entries[o.entries.length-1];c&&(e=o.value,r=c)},!0);ox(t,(o,c)=>{AO(e,r,c,o),a()})}function AO(t,e,r,a){ia&&Y.log(`Sending CLS span (${t})`);const o=e?ot((rn()||0)+e.startTime):kt(),c=Pe().getScopeData().transactionName,u=e?tn(e.sources[0]?.node):"Layout shift",f={[wt]:"auto.http.browser.cls",[Nr]:"ui.webvital.cls",[ji]:0,"sentry.pageload.span_id":r,"sentry.report_event":a};e?.sources&&e.sources.forEach((m,y)=>{f[`cls.source.${y+1}`]=tn(m.node)});const h=Lm({name:u,transaction:c,attributes:f,startTime:o});h&&(h.addEvent("cls",{[ml]:"",[gl]:t}),h.end(o))}function CO(t){let e=0,r;if(!ix("largest-contentful-paint"))return;const a=Dm(({metric:o})=>{const c=o.entries[o.entries.length-1];c&&(e=o.value,r=c)},!0);ox(t,(o,c)=>{RO(e,r,c,o),a()})}function RO(t,e,r,a){ia&&Y.log(`Sending LCP span (${t})`);const o=ot((rn()||0)+(e?.startTime||0)),c=Pe().getScopeData().transactionName,u=e?tn(e.element):"Largest contentful paint",f={[wt]:"auto.http.browser.lcp",[Nr]:"ui.webvital.lcp",[ji]:0,"sentry.pageload.span_id":r,"sentry.report_event":a};e&&(e.element&&(f["lcp.element"]=tn(e.element)),e.id&&(f["lcp.id"]=e.id),e.url&&(f["lcp.url"]=e.url),e.loadTime!=null&&(f["lcp.loadTime"]=e.loadTime),e.renderTime!=null&&(f["lcp.renderTime"]=e.renderTime),e.size!=null&&(f["lcp.size"]=e.size));const h=Lm({name:u,transaction:c,attributes:f,startTime:o});h&&(h.addEvent("lcp",{[ml]:"millisecond",[gl]:t}),h.end(o))}function Rn(t){return t&&((rn()||performance.timeOrigin)+t)/1e3}function lx(t){const e={};if(t.nextHopProtocol!=null){const{name:r,version:a}=TO(t.nextHopProtocol);e["network.protocol.version"]=a,e["network.protocol.name"]=r}return rn()||wl()?.timeOrigin?NO({...e,"http.request.redirect_start":Rn(t.redirectStart),"http.request.redirect_end":Rn(t.redirectEnd),"http.request.worker_start":Rn(t.workerStart),"http.request.fetch_start":Rn(t.fetchStart),"http.request.domain_lookup_start":Rn(t.domainLookupStart),"http.request.domain_lookup_end":Rn(t.domainLookupEnd),"http.request.connect_start":Rn(t.connectStart),"http.request.secure_connection_start":Rn(t.secureConnectionStart),"http.request.connection_end":Rn(t.connectEnd),"http.request.request_start":Rn(t.requestStart),"http.request.response_start":Rn(t.responseStart),"http.request.response_end":Rn(t.responseEnd),"http.request.time_to_first_byte":t.responseStart!=null?t.responseStart/1e3:void 0}):e}function NO(t){return Object.fromEntries(Object.entries(t).filter(([,e])=>e!=null))}const OO=2147483647;let i0=0,qn={},Qt,Du;function jO({recordClsStandaloneSpans:t,recordLcpStandaloneSpans:e,client:r}){const a=wl();if(a&&rn()){a.mark&&_e.performance.mark("sentry-tracing-init");const o=e?CO(r):UO(),c=BO(),u=t?kO(r):LO();return()=>{o?.(),c(),u?.()}}return()=>{}}function MO(){oa("longtask",({entries:t})=>{const e=qt();if(!e)return;const{op:r,start_timestamp:a}=Be(e);for(const o of t){const c=ot(rn()+o.startTime),u=ot(o.duration);r==="navigation"&&a&&c<a||gs(e,c,c+u,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[wt]:"auto.ui.browser.metrics"}})}})}function IO(){new PerformanceObserver(e=>{const r=qt();if(r)for(const a of e.getEntries()){if(!a.scripts[0])continue;const o=ot(rn()+a.startTime),{start_timestamp:c,op:u}=Be(r);if(u==="navigation"&&c&&o<c)continue;const f=ot(a.duration),h={[wt]:"auto.ui.browser.metrics"},m=a.scripts[0],{invoker:y,invokerType:v,sourceURL:_,sourceFunctionName:S,sourceCharPosition:x}=m;h["browser.script.invoker"]=y,h["browser.script.invoker_type"]=v,_&&(h["code.filepath"]=_),S&&(h["code.function"]=S),x!==-1&&(h["browser.script.source_char_position"]=x),gs(r,o,o+f,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:h})}}).observe({type:"long-animation-frame",buffered:!0})}function DO(){oa("event",({entries:t})=>{const e=qt();if(e){for(const r of t)if(r.name==="click"){const a=ot(rn()+r.startTime),o=ot(r.duration),c={name:tn(r.target),op:`ui.interaction.${r.name}`,startTime:a,attributes:{[wt]:"auto.ui.browser.metrics"}},u=GS(r.target);u&&(c.attributes["ui.component_name"]=u),gs(e,a,a+o,c)}}})}function LO(){return Im(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(qn.cls={value:t.value,unit:""},Du=e)},!0)}function UO(){return Dm(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(qn.lcp={value:t.value,unit:"millisecond"},Qt=e)},!0)}function BO(){return yO(({metric:t})=>{t.entries[t.entries.length-1]&&(qn.ttfb={value:t.value,unit:"millisecond"})})}function zO(t,e){const r=wl(),a=rn();if(!r?.getEntries||!a)return;const o=ot(a),c=r.getEntries(),{op:u,start_timestamp:f}=Be(t);c.slice(i0).forEach(h=>{const m=ot(h.startTime),y=ot(Math.max(0,h.duration));if(!(u==="navigation"&&f&&o+m<f))switch(h.entryType){case"navigation":{PO(t,h,o);break}case"mark":case"paint":case"measure":{qO(t,h,m,y,o,e.ignorePerformanceApiSpans);const v=vl(),_=h.startTime<v.firstHiddenTime;h.name==="first-paint"&&_&&(qn.fp={value:h.startTime,unit:"millisecond"}),h.name==="first-contentful-paint"&&_&&(qn.fcp={value:h.startTime,unit:"millisecond"});break}case"resource":{VO(t,h,h.name,m,y,o,e.ignoreResourceSpans);break}}}),i0=Math.max(c.length-1,0),YO(t),u==="pageload"&&(XO(qn),e.recordClsOnPageloadSpan||delete qn.cls,e.recordLcpOnPageloadSpan||delete qn.lcp,Object.entries(qn).forEach(([h,m])=>{kC(h,m.value,m.unit)}),t.setAttribute("performance.timeOrigin",o),t.setAttribute("performance.activationStart",Di()),KO(t,e)),Qt=void 0,Du=void 0,qn={}}function HO(t){if(t?.entryType==="measure")try{return t.detail.devtools.track==="Components "}catch{return}}function qO(t,e,r,a,o,c){if(HO(e)||["mark","measure"].includes(e.entryType)&&Er(e.name,c))return;const u=bl(!1),f=ot(u?u.requestStart:0),h=o+Math.max(r,f),m=o+r,y=m+a,v={[wt]:"auto.resource.browser.metrics"};h!==m&&(v["sentry.browser.measure_happened_before_request"]=!0,v["sentry.browser.measure_start_time"]=h),$O(v,e),h<=y&&gs(t,h,y,{name:e.name,op:e.entryType,attributes:v})}function $O(t,e){try{const r=e.detail;if(!r)return;if(typeof r=="object"){for(const[a,o]of Object.entries(r))if(o&&bi(o))t[`sentry.browser.measure.detail.${a}`]=o;else if(o!==void 0)try{t[`sentry.browser.measure.detail.${a}`]=JSON.stringify(o)}catch{}return}if(bi(r)){t["sentry.browser.measure.detail"]=r;return}try{t["sentry.browser.measure.detail"]=JSON.stringify(r)}catch{}}catch{}}function PO(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(a=>{Xc(t,e,a,r)}),Xc(t,e,"secureConnection",r,"TLS/SSL"),Xc(t,e,"fetch",r,"cache"),Xc(t,e,"domainLookup",r,"DNS"),GO(t,e,r)}function Xc(t,e,r,a,o=r){const c=FO(r),u=e[c],f=e[`${r}Start`];!f||!u||gs(t,a+ot(f),a+ot(u),{op:`browser.${o}`,name:e.name,attributes:{[wt]:"auto.ui.browser.metrics",...r==="redirect"&&e.redirectCount!=null?{"http.redirect_count":e.redirectCount}:{}}})}function FO(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function GO(t,e,r){const a=r+ot(e.requestStart),o=r+ot(e.responseEnd),c=r+ot(e.responseStart);e.responseEnd&&(gs(t,a,o,{op:"browser.request",name:e.name,attributes:{[wt]:"auto.ui.browser.metrics"}}),gs(t,c,o,{op:"browser.response",name:e.name,attributes:{[wt]:"auto.ui.browser.metrics"}}))}function VO(t,e,r,a,o,c,u){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const f=e.initiatorType?`resource.${e.initiatorType}`:"resource.other";if(u?.includes(f))return;const h={[wt]:"auto.resource.browser.metrics"},m=ra(r);m.protocol&&(h["url.scheme"]=m.protocol.split(":").pop()),m.host&&(h["server.address"]=m.host),h["url.same_origin"]=r.includes(_e.location.origin),WO(e,h,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const y={...h,...lx(e)},v=c+a,_=v+o;gs(t,v,_,{name:r.replace(_e.location.origin,""),op:f,attributes:y})}function YO(t){const e=_e.navigator;if(!e)return;const r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),Ph(r.rtt)&&(qn["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Ph(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),Ph(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function KO(t,e){Qt&&e.recordLcpOnPageloadSpan&&(Qt.element&&t.setAttribute("lcp.element",tn(Qt.element)),Qt.id&&t.setAttribute("lcp.id",Qt.id),Qt.url&&t.setAttribute("lcp.url",Qt.url.trim().slice(0,200)),Qt.loadTime!=null&&t.setAttribute("lcp.loadTime",Qt.loadTime),Qt.renderTime!=null&&t.setAttribute("lcp.renderTime",Qt.renderTime),t.setAttribute("lcp.size",Qt.size)),Du?.sources&&e.recordClsOnPageloadSpan&&Du.sources.forEach((r,a)=>t.setAttribute(`cls.source.${a+1}`,tn(r.node)))}function WO(t,e,r){r.forEach(([a,o])=>{const c=t[a];c!=null&&(typeof c=="number"&&c<OO||typeof c=="string")&&(e[o]=c)})}function XO(t){const e=bl(!1);if(!e)return;const{responseStart:r,requestStart:a}=e;a<=r&&(t["ttfb.requestTime"]={value:r-a,unit:"millisecond"})}function JO(){return wl()&&rn()?oa("element",QO):()=>{}}const QO=({entries:t})=>{const e=qt(),r=e?Dt(e):void 0,a=r?Be(r).description:Pe().getScopeData().transactionName;t.forEach(o=>{const c=o;if(!c.identifier)return;const u=c.name,f=c.renderTime,h=c.loadTime,[m,y]=h?[ot(h),"load-time"]:f?[ot(f),"render-time"]:[kt(),"entry-emission"],v=u==="image-paint"?ot(Math.max(0,(f??0)-(h??0))):0,_={[wt]:"auto.ui.browser.elementtiming",[Nr]:"ui.elementtiming",[Pn]:"component","sentry.span_start_time_source":y,"sentry.transaction_name":a,"element.id":c.id,"element.type":c.element?.tagName?.toLowerCase()||"unknown","element.size":c.naturalWidth&&c.naturalHeight?`${c.naturalWidth}x${c.naturalHeight}`:void 0,"element.render_time":f,"element.load_time":h,"element.url":c.url||void 0,"element.identifier":c.identifier,"element.paint_type":u};jC({name:`element[${c.identifier}]`,attributes:_,startTime:m,onlyIfParent:!0},S=>{S.end(m+v)})})},ZO=1e3;let o0,Rp,Np;function cx(t){ys("dom",t),bs("dom",ej)}function ej(){if(!_e.document)return;const t=Nn.bind(null,"dom"),e=l0(t,!0);_e.document.addEventListener("click",e,!1),_e.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const o=_e[r]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(en(o,"addEventListener",function(c){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=m[u]=m[u]||{refCount:0};if(!y.handler){const v=l0(t);y.handler=v,c.call(this,u,v,h)}y.refCount++}catch{}return c.call(this,u,f,h)}}),en(o,"removeEventListener",function(c){return function(u,f,h){if(u==="click"||u=="keypress")try{const m=this.__sentry_instrumentation_handlers__||{},y=m[u];y&&(y.refCount--,y.refCount<=0&&(c.call(this,u,y.handler,h),y.handler=void 0,delete m[u]),Object.keys(m).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return c.call(this,u,f,h)}}))})}function tj(t){if(t.type!==Rp)return!1;try{if(!t.target||t.target._sentryId!==Np)return!1}catch{}return!0}function nj(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function l0(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const a=rj(r);if(nj(r.type,a))return;nn(r,"_sentryCaptured",!0),a&&!a._sentryId&&nn(a,"_sentryId",bn());const o=r.type==="keypress"?"input":r.type;tj(r)||(t({event:r,name:o,global:e}),Rp=r.type,Np=a?a._sentryId:void 0),clearTimeout(o0),o0=_e.setTimeout(()=>{Np=void 0,Rp=void 0},ZO)}}function rj(t){try{return t.target}catch{return null}}let Jc;function rd(t){const e="history";ys(e,t),bs(e,sj)}function sj(){if(_e.addEventListener("popstate",()=>{const e=_e.location.href,r=Jc;if(Jc=e,r===e)return;Nn("history",{from:r,to:e})}),!kN())return;function t(e){return function(...r){const a=r.length>2?r[2]:void 0;if(a){const o=Jc,c=aj(String(a));if(Jc=c,o===c)return e.apply(this,r);Nn("history",{from:o,to:c})}return e.apply(this,r)}}en(_e.history,"pushState",t),en(_e.history,"replaceState",t)}function aj(t){try{return new URL(t,_e.location.origin).toString()}catch{return t}}const wu={};function ux(t){const e=wu[t];if(e)return e;let r=_e[t];if(xp(r))return wu[t]=r.bind(_e);const a=_e.document;if(a&&typeof a.createElement=="function")try{const o=a.createElement("iframe");o.hidden=!0,a.head.appendChild(o);const c=o.contentWindow;c?.[t]&&(r=c[t]),a.head.removeChild(o)}catch(o){ia&&Y.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,o)}return r&&(wu[t]=r.bind(_e))}function ij(t){wu[t]=void 0}function xl(...t){return ux("setTimeout")(...t)}const Js="__sentry_xhr_v3__";function dx(t){ys("xhr",t),bs("xhr",oj)}function oj(){if(!_e.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,a){const o=new Error,c=kt()*1e3,u=xr(a[0])?a[0].toUpperCase():void 0,f=lj(a[1]);if(!u||!f)return e.apply(r,a);r[Js]={method:u,url:f,request_headers:{}},u==="POST"&&f.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const h=()=>{const m=r[Js];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}const y={endTimestamp:kt()*1e3,startTimestamp:c,xhr:r,virtualError:o};Nn("xhr",y)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,y,v){return h(),m.apply(y,v)}}):r.addEventListener("readystatechange",h),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,y,v){const[_,S]=v,x=y[Js];return x&&xr(_)&&xr(S)&&(x.request_headers[_.toLowerCase()]=S),m.apply(y,v)}}),e.apply(r,a)}}),t.send=new Proxy(t.send,{apply(e,r,a){const o=r[Js];if(!o)return e.apply(r,a);a[0]!==void 0&&(o.body=a[0]);const c={startTimestamp:kt()*1e3,xhr:r};return Nn("xhr",c),e.apply(r,a)}})}function lj(t){if(xr(t))return t;try{return t.toString()}catch{}}const cj=Symbol.for("sentry__originalRequestBody");function fx(t){return new URLSearchParams(t).toString()}function hx(t,e=Y){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[fx(t)];if(!t)return[void 0]}catch(r){return ia&&e.error(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return ia&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function px(t=[]){if(t.length>=2&&t[1]&&typeof t[1]=="object"&&"body"in t[1])return t[1].body;if(t.length>=1&&t[0]instanceof Request){const r=t[0][cj];return r!==void 0?r:void 0}}function mx(t){let e;try{e=t.getAllResponseHeaders()}catch(r){return ia&&Y.error(r,"Failed to get xhr response headers",t),{}}return e?e.split(`\r
`).reduce((r,a)=>{const[o,c]=a.split(": ");return c&&(r[o.toLowerCase()]=c),r},{}):{}}const Fh=[],xu=new Map,Xa=new Map,uj=60;function dj(){if(wl()&&rn()){const e=fj();return()=>{e()}}return()=>{}}const Op={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function fj(){return rx(hj)}const hj=({metric:t})=>{if(t.value==null)return;const e=ot(t.value);if(e>uj)return;const r=t.entries.find(x=>x.duration===t.value&&Op[x.name]);if(!r)return;const{interactionId:a}=r,o=Op[r.name],c=ot(rn()+r.startTime),u=qt(),f=u?Dt(u):void 0,h=a!=null?xu.get(a):void 0,m=h?.span||f,y=m?Be(m).description:Pe().getScopeData().transactionName,v=h?.elementName||tn(r.target),_={[wt]:"auto.http.browser.inp",[Nr]:`ui.interaction.${o}`,[ji]:r.duration},S=Lm({name:v,transaction:y,attributes:_,startTime:c});S&&(S.addEvent("inp",{[ml]:"millisecond",[gl]:t.value}),S.end(c+e))};function pj(){const t=Object.keys(Op);Ep()&&t.forEach(o=>{_e.addEventListener(o,e,{capture:!0,passive:!0})});function e(o){const c=o.target;if(!c)return;const u=tn(c),f=Math.round(o.timeStamp);if(Xa.set(f,u),Xa.size>50){const h=Xa.keys().next().value;h!==void 0&&Xa.delete(h)}}function r(o){const c=Math.round(o.startTime);let u=Xa.get(c);if(!u)for(let f=-5;f<=5;f++){const h=Xa.get(c+f);if(h){u=h;break}}return u||"<unknown>"}const a=({entries:o})=>{const c=qt(),u=c&&Dt(c);o.forEach(f=>{if(!xO(f))return;const h=f.interactionId;if(h==null||xu.has(h))return;const m=f.target?tn(f.target):r(f);if(Fh.length>10){const y=Fh.shift();xu.delete(y)}Fh.push(h),xu.set(h,{span:u,elementName:m})})};oa("event",a),oa("first-input",a)}const mj=40;function gj(t,e=ux("fetch")){let r=0,a=0;async function o(c){const u=c.body.length;r+=u,a++;const f={body:c.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&a<15,...t.fetchOptions};try{const h=await e(t.url,f);return{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}}catch(h){throw ij("fetch"),h}finally{r-=u,a--}}return ER(t,o,Tm(t.bufferSize||mj))}const On=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,yj=30,bj=50;function jp(t,e,r,a){const o={filename:t,function:e==="<anonymous>"?sa:e,in_app:!0};return r!==void 0&&(o.lineno=r),a!==void 0&&(o.colno=a),o}const vj=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,_j=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Sj=/\((\S*)(?::(\d+))(?::(\d+))\)/,wj=/at (.+?) ?\(data:(.+?),/,xj=t=>{const e=t.match(wj);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const r=vj.exec(t);if(r){const[,o,c,u]=r;return jp(o,sa,+c,+u)}const a=_j.exec(t);if(a){if(a[2]&&a[2].indexOf("eval")===0){const f=Sj.exec(a[2]);f&&(a[2]=f[1],a[3]=f[2],a[4]=f[3])}const[c,u]=gx(a[1]||sa,a[2]);return jp(u,c,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},Ej=[yj,xj],Tj=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,kj=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Aj=t=>{const e=Tj.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const c=kj.exec(e[3]);c&&(e[1]=e[1]||"eval",e[3]=c[1],e[4]=c[2],e[5]="")}let a=e[3],o=e[1]||sa;return[o,a]=gx(o,a),jp(a,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Cj=[bj,Aj],Rj=[Ej,Cj],Nj=BS(...Rj),gx=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,a=t.indexOf("safari-web-extension")!==-1;return r||a?[t.indexOf("@")!==-1?t.split("@")[0]:sa,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Qc=1024,Oj="Breadcrumbs",jj=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Oj,setup(r){e.console&&cN(Lj(r)),e.dom&&cx(Dj(r,e.dom)),e.xhr&&dx(Uj(r)),e.fetch&&Fw(Bj(r)),e.history&&rd(zj(r)),e.sentry&&r.on("beforeSendEvent",Ij(r))}}}),Mj=jj;function Ij(t){return function(r){Me()===t&&ms({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Ks(r)},{event:r})}}function Dj(t,e){return function(a){if(Me()!==t)return;let o,c,u=typeof e=="object"?e.serializeAttribute:void 0,f=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;f&&f>Qc&&(On&&Y.warn(`\`dom.maxStringLength\` cannot exceed ${Qc}, but a value of ${f} was configured. Sentry will use ${Qc} instead.`),f=Qc),typeof u=="string"&&(u=[u]);try{const m=a.event,y=Hj(m)?m.target:m;o=tn(y,{keyAttrs:u,maxStringLength:f}),c=GS(y)}catch{o="<unknown>"}if(o.length===0)return;const h={category:`ui.${a.name}`,message:o};c&&(h.data={"ui.component_name":c}),ms(h,{event:a.event,name:a.name,global:a.global})}}function Lj(t){return function(r){if(Me()!==t)return;const a={category:"console",data:{arguments:r.args,logger:"console"},level:Hw(r.level),message:b_(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)a.message=`Assertion failed: ${b_(r.args.slice(1)," ")||"console.assert"}`,a.data.arguments=r.args.slice(1);else return;ms(a,{input:r.args,level:r.level})}}function Uj(t){return function(r){if(Me()!==t)return;const{startTimestamp:a,endTimestamp:o}=r,c=r.xhr[Js];if(!a||!o||!c)return;const{method:u,url:f,status_code:h,body:m}=c,y={method:u,url:f,status_code:h},v={xhr:r.xhr,input:m,startTimestamp:a,endTimestamp:o},_={category:"xhr",data:y,type:"http",level:Pw(h)};t.emit("beforeOutgoingRequestBreadcrumb",_,v),ms(_,v)}}function Bj(t){return function(r){if(Me()!==t)return;const{startTimestamp:a,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const c=r.fetchData,u={data:r.error,input:r.args,startTimestamp:a,endTimestamp:o},f={category:"fetch",data:c,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",f,u),ms(f,u)}else{const c=r.response,u={...r.fetchData,status_code:c?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,c?.status;const f={input:r.args,response:c,startTimestamp:a,endTimestamp:o},h={category:"fetch",data:u,type:"http",level:Pw(u.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",h,f),ms(h,f)}}}function zj(t){return function(r){if(Me()!==t)return;let a=r.from,o=r.to;const c=ra(ze.location.href);let u=a?ra(a):void 0;const f=ra(o);u?.path||(u=c),c.protocol===f.protocol&&c.host===f.host&&(o=f.relative),c.protocol===u.protocol&&c.host===u.host&&(a=u.relative),ms({category:"navigation",data:{from:a,to:o}})}}function Hj(t){return!!t&&!!t.target}const qj=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],$j="BrowserApiErrors",Pj=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:$j,setupOnce(){e.setTimeout&&en(ze,"setTimeout",c0),e.setInterval&&en(ze,"setInterval",c0),e.requestAnimationFrame&&en(ze,"requestAnimationFrame",Gj),e.XMLHttpRequest&&"XMLHttpRequest"in ze&&en(XMLHttpRequest.prototype,"send",Vj);const r=e.eventTarget;r&&(Array.isArray(r)?r:qj).forEach(o=>Yj(o,e))}}}),Fj=Pj;function c0(t){return function(...e){const r=e[0];return e[0]=xi(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Ar(t)}`}}),t.apply(this,e)}}function Gj(t){return function(e){return t.apply(this,[xi(e,{mechanism:{data:{handler:Ar(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Vj(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&en(r,o,function(c){const u={mechanism:{data:{handler:Ar(c)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},f=fm(c);return f&&(u.mechanism.data.handler=Ar(f)),xi(c,u)})}),t.apply(this,e)}}function Yj(t,e){const a=ze[t]?.prototype;a?.hasOwnProperty?.("addEventListener")&&(en(a,"addEventListener",function(o){return function(c,u,f){try{Kj(u)&&(u.handleEvent=xi(u.handleEvent,{mechanism:{data:{handler:Ar(u),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&Wj(this,c,u),o.apply(this,[c,xi(u,{mechanism:{data:{handler:Ar(u),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),f])}}),en(a,"removeEventListener",function(o){return function(c,u,f){try{const h=u.__sentry_wrapped__;h&&o.call(this,c,h,f)}catch{}return o.call(this,c,u,f)}}))}function Kj(t){return typeof t.handleEvent=="function"}function Wj(t,e,r){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,r)}const Xj=()=>({name:"BrowserSession",setupOnce(){if(typeof ze.document>"u"){On&&Y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}z_({ignoreDuration:!0}),H_(),rd(({from:t,to:e})=>{t!==void 0&&t!==e&&(z_({ignoreDuration:!0}),H_())})}}),Jj="GlobalHandlers",Qj=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:Jj,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(eM(r),u0("onerror")),e.onunhandledrejection&&(tM(r),u0("onunhandledrejection"))}}}),Zj=Qj;function eM(t){HS(e=>{const{stackParser:r,attachStacktrace:a}=yx();if(Me()!==t||Vw())return;const{msg:o,url:c,line:u,column:f,error:h}=e,m=sM(Om(r,h||o,void 0,a,!1),c,u,f);m.level="error",_w(m,{originalException:h,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function tM(t){qS(e=>{const{stackParser:r,attachStacktrace:a}=yx();if(Me()!==t||Vw())return;const o=nM(e),c=bi(o)?rM(o):Om(r,o,void 0,a,!0);c.level="error",_w(c,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function nM(t){if(bi(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function rM(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function sM(t,e,r,a){const o=t.exception=t.exception||{},c=o.values=o.values||[],u=c[0]=c[0]||{},f=u.stacktrace=u.stacktrace||{},h=f.frames=f.frames||[],m=a,y=r,v=aM(e)??Ni();return h.length===0&&h.push({colno:m,filename:v,function:sa,in_app:!0,lineno:y}),t}function u0(t){On&&Y.log(`Global Handler attached: ${t}`)}function yx(){return Me()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function aM(t){if(!(!xr(t)||t.length===0))return t.startsWith("data:")?`<${ds(t,!1)}>`:t}const iM=()=>({name:"HttpContext",preprocessEvent(t){if(!ze.navigator&&!ze.location&&!ze.document)return;const e=Cm(),r={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:r}}}),oM="cause",lM=5,cM="LinkedErrors",uM=((t={})=>{const e=t.limit||lM,r=t.key||oM;return{name:cM,preprocessEvent(a,o,c){const u=c.getOptions();lN(Rm,u.stackParser,r,e,a,o)}}}),dM=uM;function fM(){return hM()?(On&&ca(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function hM(){if(typeof ze.window>"u")return!1;const t=ze;if(t.nw||!(t.chrome||t.browser)?.runtime?.id)return!1;const r=Ni(),a=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(ze===ze.top&&a.some(c=>r.startsWith(`${c}://`)))}function pM(t){return[eN(),XR(),vN(),Fj(),Mj(),Zj(),dM(),hN(),iM(),Xj()]}function mM(t={}){const e=!t.skipBrowserExtensionCheck&&fM();let r=t.defaultIntegrations==null?pM():t.defaultIntegrations;const a={...t,enabled:e?!1:t.enabled,stackParser:tA(t.stackParser||Nj),integrations:hR({integrations:t.integrations,defaultIntegrations:r}),transport:t.transport||gj};return DR(XN,a)}const Ze=je,Um="sentryReplaySession",gM="replay_event",Bm="Unable to send Replay",yM=3e5,bM=9e5,vM=5e3,_M=5500,SM=6e4,wM=5e3,xM=3,d0=15e4,Zc=5e3,EM=3e3,TM=300,zm=2e7,kM=4999,AM=5e4,f0=36e5;var CM=Object.defineProperty,RM=(t,e,r)=>e in t?CM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,h0=(t,e,r)=>RM(t,typeof e!="symbol"?e+"":e,r),mt=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(mt||{});function NM(t){return t.nodeType===t.ELEMENT_NODE}function Po(t){return t?.host?.shadowRoot===t}function Fo(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function OM(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function jM(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const r=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}function Lu(t){try{const e=t.rules||t.cssRules;return e?OM(Array.from(e,bx).join("")):null}catch{return null}}function MM(t){let e="";for(let r=0;r<t.style.length;r++){const a=t.style,o=a[r],c=a.getPropertyPriority(o);e+=`${o}:${a.getPropertyValue(o)}${c?" !important":""};`}return`${t.selectorText} { ${e} }`}function bx(t){let e;if(DM(t))try{e=Lu(t.styleSheet)||jM(t)}catch{}else if(LM(t)){let r=t.cssText;const a=t.selectorText.includes(":"),o=typeof t.style.all=="string"&&t.style.all;if(o&&(r=MM(t)),a&&(r=IM(r)),a||o)return r}return e||t.cssText}function IM(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function DM(t){return"styleSheet"in t}function LM(t){return"selectorText"in t}class vx{constructor(){h0(this,"idNodeMap",new Map),h0(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach(a=>this.removeNodeFromMap(a))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,r){const a=r.id;this.idNodeMap.set(a,e),this.nodeMetaMap.set(e,r)}replace(e,r){const a=this.getNode(e);if(a){const o=this.nodeMetaMap.get(a);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(e,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function UM(){return new vx}function sd({maskInputOptions:t,tagName:e,type:r}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||r&&t[r]||r==="password"||e==="INPUT"&&!r&&t.text)}function Zo({isMasked:t,element:e,value:r,maskInputFn:a}){let o=r||"";return t?(a&&(o=a(o,e)),"*".repeat(o.length)):o}function Ei(t){return t.toLowerCase()}function Mp(t){return t.toUpperCase()}const p0="__rrweb_original__";function BM(t){const e=t.getContext("2d");if(!e)return!0;const r=50;for(let a=0;a<t.width;a+=r)for(let o=0;o<t.height;o+=r){const c=e.getImageData,u=p0 in c?c[p0]:c;if(new Uint32Array(u.call(e,a,o,Math.min(r,t.width-a),Math.min(r,t.height-o)).data.buffer).some(h=>h!==0))return!1}return!0}function Hm(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Ei(e):null}function Uu(t,e,r){return e==="INPUT"&&(r==="radio"||r==="checkbox")?t.getAttribute("value")||"":t.value}function _x(t,e){let r;try{r=new URL(t,e??window.location.href)}catch{return null}const a=/\.([0-9a-z]+)(?:$)/i;return r.pathname.match(a)?.[1]??null}const m0={};function Sx(t){const e=m0[t];if(e)return e;const r=window.document;let a=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const c=o.contentWindow;c&&c[t]&&(a=c[t]),r.head.removeChild(o)}catch{}return m0[t]=a.bind(window)}function Ip(...t){return Sx("setTimeout")(...t)}function wx(...t){return Sx("clearTimeout")(...t)}function xx(t){try{return t.contentDocument}catch{}}let zM=1;const HM=new RegExp("[^a-z0-9-_:]"),el=-2;function qm(){return zM++}function qM(t){if(t instanceof HTMLFormElement)return"form";const e=Ei(t.tagName);return HM.test(e)?"div":e}function $M(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let Ja,g0;const PM=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,FM=/^(?:[a-z+]+:)?\/\//i,GM=/^www\..*/i,VM=/^(data:)([^,]*),(.*)/i;function YM(t,e){if(!t||e.size===0)return t;try{const r=t.split(";"),a=[];for(let o of r){if(o=o.trim(),!o)continue;const c=o.indexOf(":");if(c===-1){a.push(o);continue}const u=o.slice(0,c).trim();e.has(u)||a.push(o)}return a.join("; ")+(a.length>0&&t.endsWith(";")?";":"")}catch(r){return console.warn("Error filtering CSS properties:",r),t}}function Bu(t,e){return(t||"").replace(PM,(r,a,o,c,u,f)=>{const h=o||u||f,m=a||c||"";if(!h)return r;if(FM.test(h)||GM.test(h))return`url(${m}${h}${m})`;if(VM.test(h))return`url(${m}${h}${m})`;if(h[0]==="/")return`url(${m}${$M(e)+h}${m})`;const y=e.split("/"),v=h.split("/");y.pop();for(const _ of v)_!=="."&&(_===".."?y.pop():y.push(_));return`url(${m}${y.join("/")}${m})`})}const KM=/^[^ \t\n\r\u000c]+/,WM=/^[, \t\n\r\u000c]+/;function XM(t,e){if(e.trim()==="")return e;let r=0;function a(c){let u;const f=c.exec(e.substring(r));return f?(u=f[0],r+=u.length,u):""}const o=[];for(;a(WM),!(r>=e.length);){let c=a(KM);if(c.slice(-1)===",")c=ui(t,c.substring(0,c.length-1)),o.push(c);else{let u="";c=ui(t,c);let f=!1;for(;;){const h=e.charAt(r);if(h===""){o.push((c+u).trim());break}else if(f)h===")"&&(f=!1);else if(h===","){r+=1,o.push((c+u).trim());break}else h==="("&&(f=!0);u+=h,r+=1}}}return o.join(", ")}const y0=new WeakMap;function ui(t,e){return!e||e.trim()===""?e:ad(t,e)}function JM(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function ad(t,e){let r=y0.get(t);if(r||(r=t.createElement("a"),y0.set(t,r)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return r.setAttribute("href",e),r.href}function Ex(t,e,r,a,o,c,u){if(!a)return a;if(r==="src"||r==="href"&&!(e==="use"&&a[0]==="#"))return ui(t,a);if(r==="xlink:href"&&a[0]!=="#")return ui(t,a);if(r==="background"&&(e==="table"||e==="td"||e==="th"))return ui(t,a);if(r==="srcset")return XM(t,a);if(r==="style"){let f=Bu(a,ad(t));return u&&u.size>0&&(f=YM(f,u)),f}else if(e==="object"&&r==="data")return ui(t,a);return typeof c=="function"?c(r,a,o):a}function Tx(t,e,r){return(t==="video"||t==="audio")&&e==="autoplay"}function QM(t,e,r,a){try{if(a&&t.matches(a))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let o=t.classList.length;o--;){const c=t.classList[o];if(e.test(c))return!0}if(r)return t.matches(r)}catch{}return!1}function ZM(t,e){for(let r=t.classList.length;r--;){const a=t.classList[r];if(e.test(a))return!0}return!1}function Qs(t,e,r=1/0,a=0){return!t||t.nodeType!==t.ELEMENT_NODE||a>r?-1:e(t)?a:Qs(t.parentNode,e,r,a+1)}function di(t,e){return r=>{const a=r;if(a===null)return!1;try{if(t){if(typeof t=="string"){if(a.matches(`.${t}`))return!0}else if(ZM(a,t))return!0}return!!(e&&a.matches(e))}catch{return!1}}}function Ti(t,e,r,a,o,c){try{const u=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(u===null)return!1;if(u.tagName==="INPUT"){const m=u.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(m))return!0}let f=-1,h=-1;if(c){if(h=Qs(u,di(a,o)),h<0)return!0;f=Qs(u,di(e,r),h>=0?h:1/0)}else{if(f=Qs(u,di(e,r)),f<0)return!1;h=Qs(u,di(a,o),f>=0?f:1/0)}return f>=0?h>=0?f<=h:!0:h>=0?!1:!!c}catch{}return!!c}function eI(t,e,r){const a=t.contentWindow;if(!a)return;let o=!1,c;try{c=a.document.readyState}catch{return}if(c!=="complete"){const f=Ip(()=>{o||(e(),o=!0)},r);t.addEventListener("load",()=>{wx(f),o=!0,e()});return}const u="about:blank";if(a.location.href!==u||t.src===u||t.src==="")return Ip(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function tI(t,e,r){let a=!1,o;try{o=t.sheet}catch{return}if(o)return;const c=Ip(()=>{a||(e(),a=!0)},r);t.addEventListener("load",()=>{wx(c),a=!0,e()})}function nI(t,e){const{doc:r,mirror:a,blockClass:o,blockSelector:c,unblockSelector:u,maskAllText:f,maskAttributeFn:h,maskTextClass:m,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:_,inlineStylesheet:S,maskInputOptions:x={},maskTextFn:k,maskInputFn:E,dataURLOptions:N={},inlineImages:B,recordCanvas:R,keepIframeSrcFn:P,newlyAddedElement:K=!1,ignoreCSSAttributes:G}=e,U=rI(r,a);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:mt.Document,childNodes:[],compatMode:t.compatMode}:{type:mt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:mt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:U};case t.ELEMENT_NODE:return aI(t,{doc:r,blockClass:o,blockSelector:c,unblockSelector:u,inlineStylesheet:S,maskAttributeFn:h,maskInputOptions:x,maskInputFn:E,dataURLOptions:N,inlineImages:B,recordCanvas:R,keepIframeSrcFn:P,newlyAddedElement:K,rootId:U,maskTextClass:m,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:_,ignoreCSSAttributes:G});case t.TEXT_NODE:return sI(t,{doc:r,maskAllText:f,maskTextClass:m,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:_,maskTextFn:k,maskInputOptions:x,maskInputFn:E,rootId:U});case t.CDATA_SECTION_NODE:return{type:mt.CDATA,textContent:"",rootId:U};case t.COMMENT_NODE:return{type:mt.Comment,textContent:t.textContent||"",rootId:U};default:return!1}}function rI(t,e){if(!e.hasNode(t))return;const r=e.getId(t);return r===1?void 0:r}function sI(t,e){const{maskAllText:r,maskTextClass:a,unmaskTextClass:o,maskTextSelector:c,unmaskTextSelector:u,maskTextFn:f,maskInputOptions:h,maskInputFn:m,rootId:y}=e,v=t.parentNode&&t.parentNode.tagName;let _=t.textContent;const S=v==="STYLE"?!0:void 0,x=v==="SCRIPT"?!0:void 0,k=v==="TEXTAREA"?!0:void 0;if(S&&_){try{t.nextSibling||t.previousSibling||t.parentNode.sheet?.cssRules&&(_=Lu(t.parentNode.sheet))}catch(N){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${N}`,t)}_=Bu(_,ad(e.doc))}x&&(_="SCRIPT_PLACEHOLDER");const E=Ti(t,a,c,o,u,r);if(!S&&!x&&!k&&_&&E&&(_=f?f(_,t.parentElement):_.replace(/[\S]/g,"*")),k&&_&&(h.textarea||E)&&(_=m?m(_,t.parentNode):_.replace(/[\S]/g,"*")),v==="OPTION"&&_){const N=sd({type:null,tagName:v,maskInputOptions:h});_=Zo({isMasked:Ti(t,a,c,o,u,N),element:t,value:_,maskInputFn:m})}return{type:mt.Text,textContent:_||"",isStyle:S,rootId:y}}function aI(t,e){const{doc:r,blockClass:a,blockSelector:o,unblockSelector:c,inlineStylesheet:u,maskInputOptions:f={},maskAttributeFn:h,maskInputFn:m,dataURLOptions:y={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:S,newlyAddedElement:x=!1,rootId:k,maskTextClass:E,unmaskTextClass:N,maskTextSelector:B,unmaskTextSelector:R,ignoreCSSAttributes:P}=e,K=QM(t,a,o,c),G=qM(t);let U={};const q=t.attributes.length;for(let W=0;W<q;W++){const te=t.attributes[W];te.name&&!Tx(G,te.name,te.value)&&(U[te.name]=Ex(r,G,Ei(te.name),te.value,t,h,P))}if(G==="link"&&u){const W=Array.from(r.styleSheets).find(le=>le.href===t.href);let te=null;W&&(te=Lu(W)),te&&(U.rel=null,U.href=null,U.crossorigin=null,U._cssText=Bu(te,W.href))}if(G==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const W=Lu(t.sheet);W&&(U._cssText=Bu(W,ad(r)))}if(G==="input"||G==="textarea"||G==="select"||G==="option"){const W=t,te=Hm(W),le=Uu(W,Mp(G),te),xe=W.checked;if(te!=="submit"&&te!=="button"&&le){const he=Ti(W,E,B,N,R,sd({type:te,tagName:Mp(G),maskInputOptions:f}));U.value=Zo({isMasked:he,element:W,value:le,maskInputFn:m})}xe&&(U.checked=xe)}if(G==="option"&&(t.selected&&!f.select?U.selected=!0:delete U.selected),G==="canvas"&&_){if(t.__context==="2d")BM(t)||(U.rr_dataURL=t.toDataURL(y.type,y.quality));else if(!("__context"in t)){const W=t.toDataURL(y.type,y.quality),te=r.createElement("canvas");te.width=t.width,te.height=t.height;const le=te.toDataURL(y.type,y.quality);W!==le&&(U.rr_dataURL=W)}}if(G==="img"&&v){Ja||(Ja=r.createElement("canvas"),g0=Ja.getContext("2d"));const W=t,te=W.currentSrc||W.getAttribute("src")||"<unknown-src>",le=W.crossOrigin,xe=()=>{W.removeEventListener("load",xe);try{Ja.width=W.naturalWidth,Ja.height=W.naturalHeight,g0.drawImage(W,0,0),U.rr_dataURL=Ja.toDataURL(y.type,y.quality)}catch(he){if(W.crossOrigin!=="anonymous"){W.crossOrigin="anonymous",W.complete&&W.naturalWidth!==0?xe():W.addEventListener("load",xe);return}else console.warn(`Cannot inline img src=${te}! Error: ${he}`)}W.crossOrigin==="anonymous"&&(le?U.crossOrigin=le:W.removeAttribute("crossorigin"))};W.complete&&W.naturalWidth!==0?xe():W.addEventListener("load",xe)}if((G==="audio"||G==="video")&&(U.rr_mediaState=t.paused?"paused":"played",U.rr_mediaCurrentTime=t.currentTime),x||(t.scrollLeft&&(U.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(U.rr_scrollTop=t.scrollTop)),K){const{width:W,height:te}=t.getBoundingClientRect();U={class:U.class,rr_width:`${W}px`,rr_height:`${te}px`}}G==="iframe"&&!S(U.src)&&(!K&&!xx(t)&&(U.rr_src=U.src),delete U.src);let oe;try{customElements.get(G)&&(oe=!0)}catch{}return{type:mt.Element,tagName:G,attributes:U,childNodes:[],isSVG:JM(t)||void 0,needBlock:K,rootId:k,isCustom:oe}}function Je(t){return t==null?"":t.toLowerCase()}function iI(t,e){if(e.comment&&t.type===mt.Comment)return!0;if(t.type===mt.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&_x(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Je(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Je(t.attributes.name)==="application-name"||Je(t.attributes.rel)==="icon"||Je(t.attributes.rel)==="apple-touch-icon"||Je(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&Je(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Je(t.attributes.property).match(/^(og|twitter|fb):/)||Je(t.attributes.name).match(/^(og|twitter):/)||Je(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Je(t.attributes.name)==="robots"||Je(t.attributes.name)==="googlebot"||Je(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Je(t.attributes.name)==="author"||Je(t.attributes.name)==="generator"||Je(t.attributes.name)==="framework"||Je(t.attributes.name)==="publisher"||Je(t.attributes.name)==="progid"||Je(t.attributes.property).match(/^article:/)||Je(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Je(t.attributes.name)==="google-site-verification"||Je(t.attributes.name)==="yandex-verification"||Je(t.attributes.name)==="csrf-token"||Je(t.attributes.name)==="p:domain_verify"||Je(t.attributes.name)==="verify-v1"||Je(t.attributes.name)==="verification"||Je(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function fi(t,e){const{doc:r,mirror:a,blockClass:o,blockSelector:c,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:_=!1,inlineStylesheet:S=!0,maskInputOptions:x={},maskAttributeFn:k,maskTextFn:E,maskInputFn:N,slimDOMOptions:B,dataURLOptions:R={},inlineImages:P=!1,recordCanvas:K=!1,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:q=5e3,onBlockedImageLoad:oe,onStylesheetLoad:W,stylesheetLoadTimeout:te=5e3,keepIframeSrcFn:le=()=>!1,newlyAddedElement:xe=!1,ignoreCSSAttributes:he}=e;let{preserveWhiteSpace:Re=!0}=e;const I=nI(t,{doc:r,mirror:a,blockClass:o,blockSelector:c,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:N,dataURLOptions:R,inlineImages:P,recordCanvas:K,keepIframeSrcFn:le,newlyAddedElement:xe,ignoreCSSAttributes:he});if(!I)return console.warn(t,"not serialized"),null;let F;a.hasNode(t)?F=a.getId(t):iI(I,B)||!Re&&I.type===mt.Text&&!I.isStyle&&!I.textContent.replace(/^\s+|\s+$/gm,"").length?F=el:F=qm();const O=Object.assign(I,{id:F});if(a.add(t,O),F===el)return null;G&&G(t);let se=!_;if(O.type===mt.Element){se=se&&!O.needBlock;const V=t.shadowRoot;V&&Fo(V)&&(O.isShadowHost=!0)}if((O.type===mt.Document||O.type===mt.Element)&&se){B.headWhitespace&&O.type===mt.Element&&O.tagName==="head"&&(Re=!1);const V={doc:r,mirror:a,blockClass:o,blockSelector:c,maskAllText:f,unblockSelector:u,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:_,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:N,slimDOMOptions:B,dataURLOptions:R,inlineImages:P,recordCanvas:K,preserveWhiteSpace:Re,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:q,onBlockedImageLoad:oe,onStylesheetLoad:W,stylesheetLoadTimeout:te,keepIframeSrcFn:le,ignoreCSSAttributes:he},ge=t.childNodes?Array.from(t.childNodes):[];for(const ce of ge){const X=fi(ce,V);X&&O.childNodes.push(X)}if(NM(t)&&t.shadowRoot)for(const ce of Array.from(t.shadowRoot.childNodes)){const X=fi(ce,V);X&&(Fo(t.shadowRoot)&&(X.isShadow=!0),O.childNodes.push(X))}}if(t.parentNode&&Po(t.parentNode)&&Fo(t.parentNode)&&(O.isShadow=!0),O.type===mt.Element&&O.tagName==="iframe"&&!O.needBlock&&eI(t,()=>{const V=xx(t);if(V&&U){const ge=fi(V,{doc:V,mirror:a,blockClass:o,blockSelector:c,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:N,slimDOMOptions:B,dataURLOptions:R,inlineImages:P,recordCanvas:K,preserveWhiteSpace:Re,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:q,onStylesheetLoad:W,stylesheetLoadTimeout:te,keepIframeSrcFn:le,ignoreCSSAttributes:he});ge&&U(t,ge)}},q),O.type===mt.Element&&O.tagName==="img"&&!t.complete&&O.needBlock){const V=t,ge=()=>{if(V.isConnected&&!V.complete&&oe)try{const ce=V.getBoundingClientRect();ce.width>0&&ce.height>0&&oe(V,O,ce)}catch{}V.removeEventListener("load",ge)};V.isConnected&&V.addEventListener("load",ge)}return O.type===mt.Element&&O.tagName==="link"&&typeof O.attributes.rel=="string"&&(O.attributes.rel==="stylesheet"||O.attributes.rel==="preload"&&typeof O.attributes.href=="string"&&_x(O.attributes.href)==="css")&&tI(t,()=>{if(W){const V=fi(t,{doc:r,mirror:a,blockClass:o,blockSelector:c,unblockSelector:u,maskAllText:f,maskTextClass:h,unmaskTextClass:m,maskTextSelector:y,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:S,maskInputOptions:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:N,slimDOMOptions:B,dataURLOptions:R,inlineImages:P,recordCanvas:K,preserveWhiteSpace:Re,onSerialize:G,onIframeLoad:U,iframeLoadTimeout:q,onStylesheetLoad:W,stylesheetLoadTimeout:te,keepIframeSrcFn:le,ignoreCSSAttributes:he});V&&W(t,V)}},te),O.type===mt.Element&&delete O.needBlock,O}function oI(t,e){const{mirror:r=new vx,blockClass:a="rr-block",blockSelector:o=null,unblockSelector:c=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:h=null,maskTextSelector:m=null,unmaskTextSelector:y=null,inlineStylesheet:v=!0,inlineImages:_=!1,recordCanvas:S=!1,maskAllInputs:x=!1,maskAttributeFn:k,maskTextFn:E,maskInputFn:N,slimDOM:B=!1,dataURLOptions:R,preserveWhiteSpace:P,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:U,onBlockedImageLoad:q,onStylesheetLoad:oe,stylesheetLoadTimeout:W,keepIframeSrcFn:te=()=>!1,ignoreCSSAttributes:le=new Set([])}=e||{};return fi(t,{doc:t,mirror:r,blockClass:a,blockSelector:o,unblockSelector:c,maskAllText:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:y,skipChild:!1,inlineStylesheet:v,maskInputOptions:x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:x===!1?{}:x,maskAttributeFn:k,maskTextFn:E,maskInputFn:N,slimDOMOptions:B===!0||B==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:B==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:B===!1?{}:B,dataURLOptions:R,inlineImages:_,recordCanvas:S,preserveWhiteSpace:P,onSerialize:K,onIframeLoad:G,iframeLoadTimeout:U,onBlockedImageLoad:q,onStylesheetLoad:oe,stylesheetLoadTimeout:W,keepIframeSrcFn:te,newlyAddedElement:!1,ignoreCSSAttributes:le})}function Ht(t,e,r=document){const a={capture:!0,passive:!0};return r.addEventListener(t,e,a),()=>r.removeEventListener(t,e,a)}const ai=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let b0={map:{},getId(){return console.error(ai),-1},getNode(){return console.error(ai),null},removeNodeFromMap(){console.error(ai)},has(){return console.error(ai),!1},reset(){console.error(ai)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(b0=new Proxy(b0,{get(t,e,r){return e==="map"&&console.error(ai),Reflect.get(t,e,r)}}));function tl(t,e,r={}){let a=null,o=0;return function(...c){const u=Date.now();!o&&r.leading===!1&&(o=u);const f=e-(u-o),h=this;f<=0||f>e?(a&&(pI(a),a=null),o=u,t.apply(h,c)):!a&&r.trailing!==!1&&(a=id(()=>{o=r.leading===!1?0:Date.now(),a=null,t.apply(h,c)},f))}}function kx(t,e,r,a,o=window){const c=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,a?r:{set(u){id(()=>{r.set.call(this,u)},0),c&&c.set&&c.set.call(this,u)}}),()=>kx(t,e,c||{},!0)}function $m(t,e,r){try{if(!(e in t))return()=>{};const a=t[e],o=r(a);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:a}})),t[e]=o,()=>{t[e]=a}}catch{return()=>{}}}let zu=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(zu=()=>new Date().getTime());function Ax(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:e?.documentElement.scrollLeft||e?.body?.parentElement?.scrollLeft||e?.body?.scrollLeft||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:e?.documentElement.scrollTop||e?.body?.parentElement?.scrollTop||e?.body?.scrollTop||0}}function Cx(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Rx(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Nx(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function mn(t,e,r,a,o){if(!t)return!1;const c=Nx(t);if(!c)return!1;const u=di(e,r);if(!o){const m=a&&c.matches(a);return u(c)&&!m}const f=Qs(c,u);let h=-1;return f<0?!1:(a&&(h=Qs(c,di(null,a))),f>-1&&h<0?!0:f<h)}function lI(t,e){return e.getId(t)!==-1}function Gh(t,e){return e.getId(t)===el}function Ox(t,e){if(Po(t))return!1;const r=e.getId(t);return e.has(r)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?Ox(t.parentNode,e):!0:!0}function Dp(t){return!!t.changedTouches}function cI(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let r=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function jx(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function Mx(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Lp(t){return!!t?.shadowRoot}class uI{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,r){if(this.has(e))return this.getId(e);let a;return r===void 0?a=this.id++:a=r,this.styleIDMap.set(e,a),this.idStyleMap.set(a,e),a}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ix(t){let e=null;return t.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function dI(t){let e=t,r;for(;r=Ix(e);)e=r;return e}function fI(t){const e=t.ownerDocument;if(!e)return!1;const r=dI(t);return e.contains(r)}function Dx(t){const e=t.ownerDocument;return e?e.contains(t)||fI(t):!1}const v0={};function Pm(t){const e=v0[t];if(e)return e;const r=window.document;let a=window[t];if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const c=o.contentWindow;c&&c[t]&&(a=c[t]),r.head.removeChild(o)}catch{}return v0[t]=a.bind(window)}function hI(...t){return Pm("requestAnimationFrame")(...t)}function id(...t){return Pm("setTimeout")(...t)}function pI(...t){return Pm("clearTimeout")(...t)}var Te=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Te||{}),ve=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(ve||{}),zt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(zt||{}),Sr=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Sr||{}),ii=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(ii||{});function Fm(t){try{return t.contentDocument}catch{}}function mI(t){try{return t.contentWindow}catch{}}function _0(t){return"__ln"in t}class gI{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let a=0;a<e;a++)r=r?.next||null;return r}addNode(e){const r={value:e,previous:null,next:null};if(e.__ln=r,e.previousSibling&&_0(e.previousSibling)){const a=e.previousSibling.__ln.next;r.next=a,r.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=r,a&&(a.previous=r)}else if(e.nextSibling&&_0(e.nextSibling)&&e.nextSibling.__ln.previous){const a=e.nextSibling.__ln.previous;r.previous=a,r.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=r,a&&(a.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(e){const r=e.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const S0=(t,e)=>`${t}@${e}`;class yI{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],r=new Set,a=new gI,o=h=>{let m=h,y=el;for(;y===el;)m=m&&m.nextSibling,y=m&&this.mirror.getId(m);return y},c=h=>{if(!h.parentNode||!Dx(h))return;const m=Po(h.parentNode)?this.mirror.getId(Ix(h)):this.mirror.getId(h.parentNode),y=o(h);if(m===-1||y===-1)return a.addNode(h);const v=fi(h,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:_=>{jx(_,this.mirror)&&!mn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(_),Mx(_,this.mirror)&&this.stylesheetManager.trackLinkElement(_),Lp(h)&&this.shadowDomManager.addShadowRoot(h.shadowRoot,this.doc)},onIframeLoad:(_,S)=>{mn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(_,S),_.contentWindow&&this.canvasManager.addWindow(_.contentWindow),this.shadowDomManager.observeAttachShadow(_))},onStylesheetLoad:(_,S)=>{this.stylesheetManager.attachLinkElement(_,S)},onBlockedImageLoad:(_,S,{width:x,height:k})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:S.id,attributes:{style:{width:`${x}px`,height:`${k}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});v&&(e.push({parentId:m,nextId:y,node:v}),r.add(v.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const h of this.movedSet)w0(this.removes,h,this.mirror)&&!this.movedSet.has(h.parentNode)||c(h);for(const h of this.addedSet)!x0(this.droppedSet,h)&&!w0(this.removes,h,this.mirror)||x0(this.movedSet,h)?c(h):this.droppedSet.add(h);let u=null;for(;a.length;){let h=null;if(u){const m=this.mirror.getId(u.value.parentNode),y=o(u.value);m!==-1&&y!==-1&&(h=u)}if(!h){let m=a.tail;for(;m;){const y=m;if(m=m.previous,y){const v=this.mirror.getId(y.value.parentNode);if(o(y.value)===-1)continue;if(v!==-1){h=y;break}else{const S=y.value;if(S.parentNode&&S.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const x=S.parentNode.host;if(this.mirror.getId(x)!==-1){h=y;break}}}}}}if(!h){for(;a.head;)a.removeNode(a.head.value);break}u=h.previous,a.removeNode(h.value),c(h.value)}const f={texts:this.texts.map(h=>({id:this.mirror.getId(h.node),value:h.value})).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),attributes:this.attributes.map(h=>{const{attributes:m}=h;if(typeof m.style=="string"){const y=JSON.stringify(h.styleDiff),v=JSON.stringify(h._unchangedStyles);y.length<m.style.length&&(y+v).split("var(").length===m.style.split("var(").length&&(m.style=h.styleDiff)}return{id:this.mirror.getId(h.node),attributes:m}}).filter(h=>!r.has(h.id)).filter(h=>this.mirror.has(h.id)),removes:this.removes,adds:e};!f.texts.length&&!f.attributes.length&&!f.removes.length&&!f.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(f))},this.processMutation=e=>{if(!Gh(e.target,this.mirror))switch(e.type){case"characterData":{const r=e.target.textContent;!mn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==e.oldValue&&this.texts.push({value:Ti(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,Nx(e.target)):r.replace(/[\S]/g,"*"):r,node:e.target});break}case"attributes":{const r=e.target;let a=e.attributeName,o=e.target.getAttribute(a);if(a==="value"){const u=Hm(r),f=r.tagName;o=Uu(r,f,u);const h=sd({maskInputOptions:this.maskInputOptions,tagName:f,type:u}),m=Ti(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,h);o=Zo({isMasked:m,element:r,value:o,maskInputFn:this.maskInputFn})}if(mn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let c=this.attributeMap.get(e.target);if(r.tagName==="IFRAME"&&a==="src"&&!this.keepIframeSrcFn(o))if(!Fm(r))a="rr_src";else return;if(c||(c={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(c),this.attributeMap.set(e.target,c)),a==="type"&&r.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Tx(r.tagName,a)&&(c.attributes[a]=Ex(this.doc,Ei(r.tagName),Ei(a),o,r,this.maskAttributeFn),a==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const u=this.unattachedDoc.createElement("span");e.oldValue&&u.setAttribute("style",e.oldValue);for(const f of Array.from(r.style)){const h=r.style.getPropertyValue(f),m=r.style.getPropertyPriority(f);h!==u.style.getPropertyValue(f)||m!==u.style.getPropertyPriority(f)?m===""?c.styleDiff[f]=h:c.styleDiff[f]=[h,m]:c._unchangedStyles[f]=[h,m]}for(const f of Array.from(u.style))r.style.getPropertyValue(f)===""&&(c.styleDiff[f]=!1)}break}case"childList":{if(mn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(r=>this.genAdds(r,e.target)),e.removedNodes.forEach(r=>{const a=this.mirror.getId(r),o=Po(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);mn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Gh(r,this.mirror)||!lI(r,this.mirror)||(this.addedSet.has(r)?(Up(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(e.target)&&a===-1||Ox(e.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[S0(a,o)]?Up(this.movedSet,r):this.removes.push({parentId:o,id:a,isShadow:Po(e.target)&&Fo(e.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(e,r)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Gh(e,this.mirror))return;this.movedSet.add(e);let a=null;r&&this.mirror.hasNode(r)&&(a=this.mirror.getId(r)),a&&a!==-1&&(this.movedMap[S0(this.mirror.getId(e),a)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);mn(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(a=>this.genAdds(a)),Lp(e)&&e.shadowRoot.childNodes.forEach(a=>{this.processedNodeManager.add(a,this),this.genAdds(a,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(r=>{this[r]=e[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Up(t,e){t.delete(e),e.childNodes?.forEach(r=>Up(t,r))}function w0(t,e,r){return t.length===0?!1:bI(t,e,r)}function bI(t,e,r){let a=e.parentNode;for(;a;){const o=r.getId(a);if(t.some(c=>c.id===o))return!0;a=a.parentNode}return!1}function x0(t,e){return t.size===0?!1:Lx(t,e)}function Lx(t,e){const{parentNode:r}=e;return r?t.has(r)?!0:Lx(t,r):!1}let Go;function vI(t){Go=t}function _I(){Go=void 0}const Le=t=>Go?(...r)=>{try{return t(...r)}catch(a){if(Go&&Go(a)===!0)return()=>{};throw a}}:t,hi=[];function El(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function Ux(t,e){const r=new yI;hi.push(r),r.init(t);let a=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(a=window[o]);const c=new a(Le(u=>{t.onMutation&&t.onMutation(u)===!1||r.processMutations.bind(r)(u)}));return c.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),c}function SI({mousemoveCb:t,sampling:e,doc:r,mirror:a}){if(e.mousemove===!1)return()=>{};const o=typeof e.mousemove=="number"?e.mousemove:50,c=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let u=[],f;const h=tl(Le(v=>{const _=Date.now()-f;t(u.map(S=>(S.timeOffset-=_,S)),v),u=[],f=null}),c),m=Le(tl(Le(v=>{const _=El(v),{clientX:S,clientY:x}=Dp(v)?v.changedTouches[0]:v;f||(f=zu()),u.push({x:S,y:x,id:a.getId(_),timeOffset:zu()-f}),h(typeof DragEvent<"u"&&v instanceof DragEvent?ve.Drag:v instanceof MouseEvent?ve.MouseMove:ve.TouchMove)}),o,{trailing:!1})),y=[Ht("mousemove",m,r),Ht("touchmove",m,r),Ht("drag",m,r)];return Le(()=>{y.forEach(v=>v())})}function wI({mouseInteractionCb:t,doc:e,mirror:r,blockClass:a,blockSelector:o,unblockSelector:c,sampling:u}){if(u.mouseInteraction===!1)return()=>{};const f=u.mouseInteraction===!0||u.mouseInteraction===void 0?{}:u.mouseInteraction,h=[];let m=null;const y=v=>_=>{const S=El(_);if(mn(S,a,o,c,!0))return;let x=null,k=v;if("pointerType"in _){switch(_.pointerType){case"mouse":x=Sr.Mouse;break;case"touch":x=Sr.Touch;break;case"pen":x=Sr.Pen;break}x===Sr.Touch?zt[v]===zt.MouseDown?k="TouchStart":zt[v]===zt.MouseUp&&(k="TouchEnd"):Sr.Pen}else Dp(_)&&(x=Sr.Touch);x!==null?(m=x,(k.startsWith("Touch")&&x===Sr.Touch||k.startsWith("Mouse")&&x===Sr.Mouse)&&(x=null)):zt[v]===zt.Click&&(x=m,m=null);const E=Dp(_)?_.changedTouches[0]:_;if(!E)return;const N=r.getId(S),{clientX:B,clientY:R}=E;Le(t)({type:zt[k],id:N,x:B,y:R,...x!==null&&{pointerType:x}})};return Object.keys(zt).filter(v=>Number.isNaN(Number(v))&&!v.endsWith("_Departed")&&f[v]!==!1).forEach(v=>{let _=Ei(v);const S=y(v);if(window.PointerEvent)switch(zt[v]){case zt.MouseDown:case zt.MouseUp:_=_.replace("mouse","pointer");break;case zt.TouchStart:case zt.TouchEnd:return}h.push(Ht(_,S,e))}),Le(()=>{h.forEach(v=>v())})}function Bx({scrollCb:t,doc:e,mirror:r,blockClass:a,blockSelector:o,unblockSelector:c,sampling:u}){const f=Le(tl(Le(h=>{const m=El(h);if(!m||mn(m,a,o,c,!0))return;const y=r.getId(m);if(m===e&&e.defaultView){const v=Ax(e.defaultView);t({id:y,x:v.left,y:v.top})}else t({id:y,x:m.scrollLeft,y:m.scrollTop})}),u.scroll||100));return Ht("scroll",f,e)}function xI({viewportResizeCb:t},{win:e}){let r=-1,a=-1;const o=Le(tl(Le(()=>{const c=Cx(),u=Rx();(r!==c||a!==u)&&(t({width:Number(u),height:Number(c)}),r=c,a=u)}),200));return Ht("resize",o,e)}const EI=["INPUT","TEXTAREA","SELECT"],E0=new WeakMap;function TI({inputCb:t,doc:e,mirror:r,blockClass:a,blockSelector:o,unblockSelector:c,ignoreClass:u,ignoreSelector:f,maskInputOptions:h,maskInputFn:m,sampling:y,userTriggeredOnInput:v,maskTextClass:_,unmaskTextClass:S,maskTextSelector:x,unmaskTextSelector:k}){function E(U){let q=El(U);const oe=U.isTrusted,W=q&&Mp(q.tagName);if(W==="OPTION"&&(q=q.parentElement),!q||!W||EI.indexOf(W)<0||mn(q,a,o,c,!0))return;const te=q;if(te.classList.contains(u)||f&&te.matches(f))return;const le=Hm(q);let xe=Uu(te,W,le),he=!1;const Re=sd({maskInputOptions:h,tagName:W,type:le}),I=Ti(q,_,x,S,k,Re);(le==="radio"||le==="checkbox")&&(he=q.checked),xe=Zo({isMasked:I,element:q,value:xe,maskInputFn:m}),N(q,v?{text:xe,isChecked:he,userTriggered:oe}:{text:xe,isChecked:he});const F=q.name;le==="radio"&&F&&he&&e.querySelectorAll(`input[type="radio"][name="${F}"]`).forEach(O=>{if(O!==q){const se=Zo({isMasked:I,element:O,value:Uu(O,W,le),maskInputFn:m});N(O,v?{text:se,isChecked:!he,userTriggered:!1}:{text:se,isChecked:!he})}})}function N(U,q){const oe=E0.get(U);if(!oe||oe.text!==q.text||oe.isChecked!==q.isChecked){E0.set(U,q);const W=r.getId(U);Le(t)({...q,id:W})}}const R=(y.input==="last"?["change"]:["input","change"]).map(U=>Ht(U,Le(E),e)),P=e.defaultView;if(!P)return()=>{R.forEach(U=>U())};const K=P.Object.getOwnPropertyDescriptor(P.HTMLInputElement.prototype,"value"),G=[[P.HTMLInputElement.prototype,"value"],[P.HTMLInputElement.prototype,"checked"],[P.HTMLSelectElement.prototype,"value"],[P.HTMLTextAreaElement.prototype,"value"],[P.HTMLSelectElement.prototype,"selectedIndex"],[P.HTMLOptionElement.prototype,"selected"]];return K&&K.set&&R.push(...G.map(U=>kx(U[0],U[1],{set(){Le(E)({target:this,isTrusted:!1})}},!1,P))),Le(()=>{R.forEach(U=>U())})}function Hu(t){const e=[];function r(a,o){if(eu("CSSGroupingRule")&&a.parentRule instanceof CSSGroupingRule||eu("CSSMediaRule")&&a.parentRule instanceof CSSMediaRule||eu("CSSSupportsRule")&&a.parentRule instanceof CSSSupportsRule||eu("CSSConditionRule")&&a.parentRule instanceof CSSConditionRule){const u=Array.from(a.parentRule.cssRules).indexOf(a);o.unshift(u)}else if(a.parentStyleSheet){const u=Array.from(a.parentStyleSheet.cssRules).indexOf(a);o.unshift(u)}return o}return r(t,e)}function is(t,e,r){let a,o;return t?(t.ownerNode?a=e.getId(t.ownerNode):o=r.getId(t),{styleId:o,id:a}):{}}function kI({styleSheetRuleCb:t,mirror:e,stylesheetManager:r},{win:a}){if(!a.CSSStyleSheet||!a.CSSStyleSheet.prototype)return()=>{};const o=a.CSSStyleSheet.prototype.insertRule;a.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Le((y,v,_)=>{const[S,x]=_,{id:k,styleId:E}=is(v,e,r.styleMirror);return(k&&k!==-1||E&&E!==-1)&&t({id:k,styleId:E,adds:[{rule:S,index:x}]}),y.apply(v,_)})});const c=a.CSSStyleSheet.prototype.deleteRule;a.CSSStyleSheet.prototype.deleteRule=new Proxy(c,{apply:Le((y,v,_)=>{const[S]=_,{id:x,styleId:k}=is(v,e,r.styleMirror);return(x&&x!==-1||k&&k!==-1)&&t({id:x,styleId:k,removes:[{index:S}]}),y.apply(v,_)})});let u;a.CSSStyleSheet.prototype.replace&&(u=a.CSSStyleSheet.prototype.replace,a.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:Le((y,v,_)=>{const[S]=_,{id:x,styleId:k}=is(v,e,r.styleMirror);return(x&&x!==-1||k&&k!==-1)&&t({id:x,styleId:k,replace:S}),y.apply(v,_)})}));let f;a.CSSStyleSheet.prototype.replaceSync&&(f=a.CSSStyleSheet.prototype.replaceSync,a.CSSStyleSheet.prototype.replaceSync=new Proxy(f,{apply:Le((y,v,_)=>{const[S]=_,{id:x,styleId:k}=is(v,e,r.styleMirror);return(x&&x!==-1||k&&k!==-1)&&t({id:x,styleId:k,replaceSync:S}),y.apply(v,_)})}));const h={};tu("CSSGroupingRule")?h.CSSGroupingRule=a.CSSGroupingRule:(tu("CSSMediaRule")&&(h.CSSMediaRule=a.CSSMediaRule),tu("CSSConditionRule")&&(h.CSSConditionRule=a.CSSConditionRule),tu("CSSSupportsRule")&&(h.CSSSupportsRule=a.CSSSupportsRule));const m={};return Object.entries(h).forEach(([y,v])=>{m[y]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(m[y].insertRule,{apply:Le((_,S,x)=>{const[k,E]=x,{id:N,styleId:B}=is(S.parentStyleSheet,e,r.styleMirror);return(N&&N!==-1||B&&B!==-1)&&t({id:N,styleId:B,adds:[{rule:k,index:[...Hu(S),E||0]}]}),_.apply(S,x)})}),v.prototype.deleteRule=new Proxy(m[y].deleteRule,{apply:Le((_,S,x)=>{const[k]=x,{id:E,styleId:N}=is(S.parentStyleSheet,e,r.styleMirror);return(E&&E!==-1||N&&N!==-1)&&t({id:E,styleId:N,removes:[{index:[...Hu(S),k]}]}),_.apply(S,x)})})}),Le(()=>{a.CSSStyleSheet.prototype.insertRule=o,a.CSSStyleSheet.prototype.deleteRule=c,u&&(a.CSSStyleSheet.prototype.replace=u),f&&(a.CSSStyleSheet.prototype.replaceSync=f),Object.entries(h).forEach(([y,v])=>{v.prototype.insertRule=m[y].insertRule,v.prototype.deleteRule=m[y].deleteRule})})}function zx({mirror:t,stylesheetManager:e},r){let a=null;r.nodeName==="#document"?a=t.getId(r):a=t.getId(r.host);const o=r.nodeName==="#document"?r.defaultView?.Document:r.ownerDocument?.defaultView?.ShadowRoot,c=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return a===null||a===-1||!o||!c?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){return c.get?.call(this)},set(u){const f=c.set?.call(this,u);if(a!==null&&a!==-1)try{e.adoptStyleSheets(u,a)}catch{}return f}}),Le(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function AI({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:r,stylesheetManager:a},{win:o}){const c=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(c,{apply:Le((f,h,m)=>{const[y,v,_]=m;if(r.has(y))return c.apply(h,[y,v,_]);const{id:S,styleId:x}=is(h.parentRule?.parentStyleSheet,e,a.styleMirror);return(S&&S!==-1||x&&x!==-1)&&t({id:S,styleId:x,set:{property:y,value:v,priority:_},index:Hu(h.parentRule)}),f.apply(h,m)})});const u=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:Le((f,h,m)=>{const[y]=m;if(r.has(y))return u.apply(h,[y]);const{id:v,styleId:_}=is(h.parentRule?.parentStyleSheet,e,a.styleMirror);return(v&&v!==-1||_&&_!==-1)&&t({id:v,styleId:_,remove:{property:y},index:Hu(h.parentRule)}),f.apply(h,m)})}),Le(()=>{o.CSSStyleDeclaration.prototype.setProperty=c,o.CSSStyleDeclaration.prototype.removeProperty=u})}function CI({mediaInteractionCb:t,blockClass:e,blockSelector:r,unblockSelector:a,mirror:o,sampling:c,doc:u}){const f=Le(m=>tl(Le(y=>{const v=El(y);if(!v||mn(v,e,r,a,!0))return;const{currentTime:_,volume:S,muted:x,playbackRate:k}=v;t({type:m,id:o.getId(v),currentTime:_,volume:S,muted:x,playbackRate:k})}),c.media||500)),h=[Ht("play",f(ii.Play),u),Ht("pause",f(ii.Pause),u),Ht("seeked",f(ii.Seeked),u),Ht("volumechange",f(ii.VolumeChange),u),Ht("ratechange",f(ii.RateChange),u)];return Le(()=>{h.forEach(m=>m())})}function RI({fontCb:t,doc:e}){const r=e.defaultView;if(!r)return()=>{};const a=[],o=new WeakMap,c=r.FontFace;r.FontFace=function(h,m,y){const v=new c(h,m,y);return o.set(v,{family:h,buffer:typeof m!="string",descriptors:y,fontSource:typeof m=="string"?m:JSON.stringify(Array.from(new Uint8Array(m)))}),v};const u=$m(e.fonts,"add",function(f){return function(h){return id(Le(()=>{const m=o.get(h);m&&(t(m),o.delete(h))}),0),f.apply(this,[h])}});return a.push(()=>{r.FontFace=c}),a.push(u),Le(()=>{a.forEach(f=>f())})}function NI(t){const{doc:e,mirror:r,blockClass:a,blockSelector:o,unblockSelector:c,selectionCb:u}=t;let f=!0;const h=Le(()=>{const m=e.getSelection();if(!m||f&&m?.isCollapsed)return;f=m.isCollapsed||!1;const y=[],v=m.rangeCount||0;for(let _=0;_<v;_++){const S=m.getRangeAt(_),{startContainer:x,startOffset:k,endContainer:E,endOffset:N}=S;mn(x,a,o,c,!0)||mn(E,a,o,c,!0)||y.push({start:r.getId(x),startOffset:k,end:r.getId(E),endOffset:N})}u({ranges:y})});return h(),Ht("selectionchange",h)}function OI({doc:t,customElementCb:e}){const r=t.defaultView;return!r||!r.customElements?()=>{}:$m(r.customElements,"define",function(o){return function(c,u,f){try{e({define:{name:c}})}catch{}return o.apply(this,[c,u,f])}})}function jI(t,e={}){const r=t.doc.defaultView;if(!r)return()=>{};let a;t.recordDOM&&(a=Ux(t,t.doc));const o=SI(t),c=wI(t),u=Bx(t),f=xI(t,{win:r}),h=TI(t),m=CI(t);let y=()=>{},v=()=>{},_=()=>{},S=()=>{};t.recordDOM&&(y=kI(t,{win:r}),v=zx(t,t.doc),_=AI(t,{win:r}),t.collectFonts&&(S=RI(t)));const x=NI(t),k=OI(t),E=[];for(const N of t.plugins)E.push(N.observer(N.callback,r,N.options));return Le(()=>{hi.forEach(N=>N.reset()),a?.disconnect(),o(),c(),u(),f(),h(),m(),y(),v(),_(),S(),x(),k(),E.forEach(N=>N())})}function eu(t){return typeof window[t]<"u"}function tu(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Bp{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,r,a,o){const c=a||this.getIdToRemoteIdMap(e),u=o||this.getRemoteIdToIdMap(e);let f=c.get(r);return f||(f=this.generateIdFn(),c.set(r,f),u.set(f,r)),f}getIds(e,r){const a=this.getIdToRemoteIdMap(e),o=this.getRemoteIdToIdMap(e);return r.map(c=>this.getId(e,c,a,o))}getRemoteId(e,r,a){const o=a||this.getRemoteIdToIdMap(e);if(typeof r!="number")return r;const c=o.get(r);return c||-1}getRemoteIds(e,r){const a=this.getRemoteIdToIdMap(e);return r.map(o=>this.getRemoteId(e,o,a))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let r=this.iframeIdToRemoteIdMap.get(e);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(e,r)),r}getRemoteIdToIdMap(e){let r=this.iframeRemoteIdToIdMap.get(e);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(e,r)),r}}class MI{constructor(){this.crossOriginIframeMirror=new Bp(qm),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class II{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Bp(qm),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Bp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,r){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const a=Fm(e);a&&a.adoptedStyleSheets&&a.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(a.adoptedStyleSheets,this.mirror.getId(a))}handleMessage(e){const r=e;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!e.source)return;const o=this.crossOriginIframeMap.get(e.source);if(!o)return;const c=this.transformCrossOriginEvent(o,r.data.event);c&&this.wrappedEmit(c,r.data.isCheckout)}transformCrossOriginEvent(e,r){switch(r.type){case Te.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(r.data.node,e);const a=r.data.node.id;return this.crossOriginIframeRootIdMap.set(e,a),this.patchRootIdOnNode(r.data.node,a),{timestamp:r.timestamp,type:Te.IncrementalSnapshot,data:{source:ve.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Te.Meta:case Te.Load:case Te.DomContentLoaded:return!1;case Te.Plugin:return r;case Te.Custom:return this.replaceIds(r.data.payload,e,["id","parentId","previousId","nextId"]),r;case Te.IncrementalSnapshot:switch(r.data.source){case ve.Mutation:return r.data.adds.forEach(a=>{this.replaceIds(a,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(a.node,e);const o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(a.node,o)}),r.data.removes.forEach(a=>{this.replaceIds(a,e,["parentId","id"])}),r.data.attributes.forEach(a=>{this.replaceIds(a,e,["id"])}),r.data.texts.forEach(a=>{this.replaceIds(a,e,["id"])}),r;case ve.Drag:case ve.TouchMove:case ve.MouseMove:return r.data.positions.forEach(a=>{this.replaceIds(a,e,["id"])}),r;case ve.ViewportResize:return!1;case ve.MediaInteraction:case ve.MouseInteraction:case ve.Scroll:case ve.CanvasMutation:case ve.Input:return this.replaceIds(r.data,e,["id"]),r;case ve.StyleSheetRule:case ve.StyleDeclaration:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleId"]),r;case ve.Font:return r;case ve.Selection:return r.data.ranges.forEach(a=>{this.replaceIds(a,e,["start","end"])}),r;case ve.AdoptedStyleSheet:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleIds"]),r.data.styles?.forEach(a=>{this.replaceStyleIds(a,e,["styleId"])}),r}}return!1}replace(e,r,a,o){for(const c of o)!Array.isArray(r[c])&&typeof r[c]!="number"||(Array.isArray(r[c])?r[c]=e.getIds(a,r[c]):r[c]=e.getId(a,r[c]));return r}replaceIds(e,r,a){return this.replace(this.crossOriginIframeMirror,e,r,a)}replaceStyleIds(e,r,a){return this.replace(this.crossOriginIframeStyleMirror,e,r,a)}replaceIdOnNode(e,r){this.replaceIds(e,r,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(a=>{this.replaceIdOnNode(a,r)})}patchRootIdOnNode(e,r){e.type!==mt.Document&&!e.rootId&&(e.rootId=r),"childNodes"in e&&e.childNodes.forEach(a=>{this.patchRootIdOnNode(a,r)})}}class DI{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class LI{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,r){if(!Fo(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const a=Ux({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>a.disconnect()),this.restoreHandlers.push(Bx({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),id(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(zx({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const r=Fm(e),a=mI(e);!r||!a||this.patchAttachShadow(a.Element,r)}patchAttachShadow(e,r){const a=this;this.restoreHandlers.push($m(e.prototype,"attachShadow",function(o){return function(c){const u=o.call(this,c);return this.shadowRoot&&Dx(this)&&a.addShadowRoot(this.shadowRoot,r),u}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var T0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nu=0;nu<T0.length;nu++)UI[T0.charCodeAt(nu)]=nu;class k0{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class BI{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new uI,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,r){if(e.length===0)return;const a={id:r,styleIds:[]},o=[];for(const c of e){let u;this.styleMirror.has(c)?u=this.styleMirror.getId(c):(u=this.styleMirror.add(c),o.push({styleId:u,rules:Array.from(c.rules||CSSRule,(f,h)=>({rule:bx(f),index:h}))})),a.styleIds.push(u)}o.length>0&&(a.styles=o),this.adoptedStyleSheetCb(a)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class zI{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,r){const a=this.nodeMap.get(e);return a&&Array.from(a).some(o=>o!==r)}add(e,r){this.active||(this.active=!0,hI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(r))}destroy(){}}let at,qu;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=t.contentWindow?.Array.from||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const Un=UM();function kr(t={}){const{emit:e,checkoutEveryNms:r,checkoutEveryNth:a,blockClass:o="rr-block",blockSelector:c=null,unblockSelector:u=null,ignoreClass:f="rr-ignore",ignoreSelector:h=null,maskAllText:m=!1,maskTextClass:y="rr-mask",unmaskTextClass:v=null,maskTextSelector:_=null,unmaskTextSelector:S=null,inlineStylesheet:x=!0,maskAllInputs:k,maskInputOptions:E,slimDOMOptions:N,maskAttributeFn:B,maskInputFn:R,maskTextFn:P,maxCanvasSize:K=null,packFn:G,sampling:U={},dataURLOptions:q={},mousemoveWait:oe,recordDOM:W=!0,recordCanvas:te=!1,recordCrossOriginIframes:le=!1,recordAfter:xe=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:he=!1,collectFonts:Re=!1,inlineImages:I=!1,plugins:F,keepIframeSrcFn:O=()=>!1,ignoreCSSAttributes:se=new Set([]),errorHandler:V,onMutation:ge,getCanvasManager:ce}=t;vI(V);const X=le?window.parent===window:!0;let ye=!1;if(!X)try{window.parent.document&&(ye=!1)}catch{ye=!0}if(X&&!e)throw new Error("emit function is required");if(!X&&!ye)return()=>{};oe!==void 0&&U.mousemove===void 0&&(U.mousemove=oe),Un.reset();const Fe=k===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:E!==void 0?E:{},xt=N===!0||N==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:N==="all",headMetaDescKeywords:N==="all"}:N||{};cI();let Ue,$t=0;const It=Ie=>{for(const Ut of F||[])Ut.eventProcessor&&(Ie=Ut.eventProcessor(Ie));return G&&!ye&&(Ie=G(Ie)),Ie};at=(Ie,Ut)=>{const ke=Ie;if(ke.timestamp=zu(),hi[0]?.isFrozen()&&ke.type!==Te.FullSnapshot&&!(ke.type===Te.IncrementalSnapshot&&ke.data.source===ve.Mutation)&&hi.forEach(gt=>gt.unfreeze()),X)e?.(It(ke),Ut);else if(ye){const gt={type:"rrweb",event:It(ke),origin:window.location.origin,isCheckout:Ut};window.parent.postMessage(gt,"*")}if(ke.type===Te.FullSnapshot)Ue=ke,$t=0;else if(ke.type===Te.IncrementalSnapshot){if(ke.data.source===ve.Mutation&&ke.data.isAttachIframe)return;$t++;const gt=a&&$t>=a,be=r&&Ue&&ke.timestamp-Ue.timestamp>r;(gt||be)&&xs(!0)}};const Pt=Ie=>{at({type:Te.IncrementalSnapshot,data:{source:ve.Mutation,...Ie}})},jn=Ie=>at({type:Te.IncrementalSnapshot,data:{source:ve.Scroll,...Ie}}),Vn=Ie=>at({type:Te.IncrementalSnapshot,data:{source:ve.CanvasMutation,...Ie}}),Rl=Ie=>at({type:Te.IncrementalSnapshot,data:{source:ve.AdoptedStyleSheet,...Ie}}),Lt=new BI({mutationCb:Pt,adoptedStyleSheetCb:Rl}),Mn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new MI:new II({mirror:Un,mutationCb:Pt,stylesheetManager:Lt,recordCrossOriginIframes:le,wrappedEmit:at});for(const Ie of F||[])Ie.getMirror&&Ie.getMirror({nodeMirror:Un,crossOriginIframeMirror:Mn.crossOriginIframeMirror,crossOriginIframeStyleMirror:Mn.crossOriginIframeStyleMirror});const Ss=new zI,qi=qI(ce,{mirror:Un,win:window,mutationCb:Ie=>at({type:Te.IncrementalSnapshot,data:{source:ve.CanvasMutation,...Ie}}),recordCanvas:te,blockClass:o,blockSelector:c,unblockSelector:u,maxCanvasSize:K,sampling:U.canvas,dataURLOptions:q,errorHandler:V}),ws=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new DI:new LI({mutationCb:Pt,scrollCb:jn,bypassOptions:{onMutation:ge,blockClass:o,blockSelector:c,unblockSelector:u,maskAllText:m,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:x,maskInputOptions:Fe,dataURLOptions:q,maskAttributeFn:B,maskTextFn:P,maskInputFn:R,recordCanvas:te,inlineImages:I,sampling:U,slimDOMOptions:xt,iframeManager:Mn,stylesheetManager:Lt,canvasManager:qi,keepIframeSrcFn:O,processedNodeManager:Ss,ignoreCSSAttributes:se},mirror:Un}),xs=(Ie=!1)=>{if(!W)return;at({type:Te.Meta,data:{href:window.location.href,width:Rx(),height:Cx()}},Ie),Lt.reset(),ws.init(),hi.forEach(ke=>ke.lock());const Ut=oI(document,{mirror:Un,blockClass:o,blockSelector:c,unblockSelector:u,maskAllText:m,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,inlineStylesheet:x,maskAllInputs:Fe,maskAttributeFn:B,maskInputFn:R,maskTextFn:P,slimDOM:xt,dataURLOptions:q,recordCanvas:te,inlineImages:I,onSerialize:ke=>{jx(ke,Un)&&Mn.addIframe(ke),Mx(ke,Un)&&Lt.trackLinkElement(ke),Lp(ke)&&ws.addShadowRoot(ke.shadowRoot,document)},onIframeLoad:(ke,gt)=>{Mn.attachIframe(ke,gt),ke.contentWindow&&qi.addWindow(ke.contentWindow),ws.observeAttachShadow(ke)},onStylesheetLoad:(ke,gt)=>{Lt.attachLinkElement(ke,gt)},onBlockedImageLoad:(ke,gt,{width:be,height:Es})=>{Pt({adds:[],removes:[],texts:[],attributes:[{id:gt.id,attributes:{style:{width:`${be}px`,height:`${Es}px`}}}]})},keepIframeSrcFn:O,ignoreCSSAttributes:se});if(!Ut)return console.warn("Failed to snapshot the document");at({type:Te.FullSnapshot,data:{node:Ut,initialOffset:Ax(window)}}),hi.forEach(ke=>ke.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Lt.adoptStyleSheets(document.adoptedStyleSheets,Un.getId(document))};qu=xs;try{const Ie=[],Ut=gt=>Le(jI)({onMutation:ge,mutationCb:Pt,mousemoveCb:(be,Es)=>at({type:Te.IncrementalSnapshot,data:{source:Es,positions:be}}),mouseInteractionCb:be=>at({type:Te.IncrementalSnapshot,data:{source:ve.MouseInteraction,...be}}),scrollCb:jn,viewportResizeCb:be=>at({type:Te.IncrementalSnapshot,data:{source:ve.ViewportResize,...be}}),inputCb:be=>at({type:Te.IncrementalSnapshot,data:{source:ve.Input,...be}}),mediaInteractionCb:be=>at({type:Te.IncrementalSnapshot,data:{source:ve.MediaInteraction,...be}}),styleSheetRuleCb:be=>at({type:Te.IncrementalSnapshot,data:{source:ve.StyleSheetRule,...be}}),styleDeclarationCb:be=>at({type:Te.IncrementalSnapshot,data:{source:ve.StyleDeclaration,...be}}),canvasMutationCb:Vn,fontCb:be=>at({type:Te.IncrementalSnapshot,data:{source:ve.Font,...be}}),selectionCb:be=>{at({type:Te.IncrementalSnapshot,data:{source:ve.Selection,...be}})},customElementCb:be=>{at({type:Te.IncrementalSnapshot,data:{source:ve.CustomElement,...be}})},blockClass:o,ignoreClass:f,ignoreSelector:h,maskAllText:m,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:S,maskInputOptions:Fe,inlineStylesheet:x,sampling:U,recordDOM:W,recordCanvas:te,inlineImages:I,userTriggeredOnInput:he,collectFonts:Re,doc:gt,maskAttributeFn:B,maskInputFn:R,maskTextFn:P,keepIframeSrcFn:O,blockSelector:c,unblockSelector:u,slimDOMOptions:xt,dataURLOptions:q,mirror:Un,iframeManager:Mn,stylesheetManager:Lt,shadowDomManager:ws,processedNodeManager:Ss,canvasManager:qi,ignoreCSSAttributes:se,plugins:F?.filter(be=>be.observer)?.map(be=>({observer:be.observer,options:be.options,callback:Es=>at({type:Te.Plugin,data:{plugin:be.name,payload:Es}})}))||[]},{});Mn.addLoadListener(gt=>{try{Ie.push(Ut(gt.contentDocument))}catch(be){console.warn(be)}});const ke=()=>{xs(),Ie.push(Ut(document))};return document.readyState==="interactive"||document.readyState==="complete"?ke():(Ie.push(Ht("DOMContentLoaded",()=>{at({type:Te.DomContentLoaded,data:{}}),xe==="DOMContentLoaded"&&ke()})),Ie.push(Ht("load",()=>{at({type:Te.Load,data:{}}),xe==="load"&&ke()},window))),()=>{Ie.forEach(gt=>gt()),Ss.destroy(),qu=void 0,_I()}}catch(Ie){console.warn(Ie)}}function HI(t){if(!qu)throw new Error("please take full snapshot after start recording");qu(t)}kr.mirror=Un;kr.takeFullSnapshot=HI;function qI(t,e){try{return t?t(e):new k0}catch{return console.warn("Unable to initialize CanvasManager"),new k0}}var A0;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(A0||(A0={}));const $I=3,PI=5;function Gm(t){return t>9999999999?t:t*1e3}function Vh(t){return t>9999999999?t/1e3:t}function Tl(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Te.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Hn(e,10,1e3)}}),e.category==="console")))}const FI="button,a";function Hx(t){return t.closest(FI)||t}function qx(t){const e=$x(t);return!e||!(e instanceof Element)?e:Hx(e)}function $x(t){return GI(t)?t.target:t}function GI(t){return typeof t=="object"&&!!t&&"target"in t}let os;function VI(t){return os||(os=[],YI()),os.push(t),()=>{const e=os?os.indexOf(t):-1;e>-1&&os.splice(e,1)}}function YI(){en(Ze,"open",function(t){return function(...e){if(os)try{os.forEach(r=>r())}catch{}return t.apply(Ze,e)}})}const KI=new Set([ve.Mutation,ve.StyleSheetRule,ve.StyleDeclaration,ve.AdoptedStyleSheet,ve.CanvasMutation,ve.Selection,ve.MediaInteraction]);function WI(t,e,r){t.handleClick(e,r)}class XI{constructor(e,r,a=Tl){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scrollTimeout=r.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=a}addListeners(){const e=VI(()=>{this._lastMutation=C0()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,r){if(QI(r,this._ignoreSelector)||!ZI(e))return;const a={timestamp:Vh(e.timestamp),clickBreadcrumb:e,clickCount:0,node:r};this._clicks.some(o=>o.node===a.node&&Math.abs(o.timestamp-a.timestamp)<1)||(this._clicks.push(a),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Vh(e)}registerScroll(e=Date.now()){this._lastScroll=Vh(e)}registerClick(e){const r=Hx(e);this._handleMultiClick(r)}_handleMultiClick(e){this._getClicks(e).forEach(r=>{r.clickCount++})}_getClicks(e){return this._clicks.filter(r=>r.node===e)}_checkClicks(){const e=[],r=C0();this._clicks.forEach(a=>{!a.mutationAfter&&this._lastMutation&&(a.mutationAfter=a.timestamp<=this._lastMutation?this._lastMutation-a.timestamp:void 0),!a.scrollAfter&&this._lastScroll&&(a.scrollAfter=a.timestamp<=this._lastScroll?this._lastScroll-a.timestamp:void 0),a.timestamp+this._timeout<=r&&e.push(a)});for(const a of e){const o=this._clicks.indexOf(a);o>-1&&(this._generateBreadcrumbs(a),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const r=this._replay,a=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,o=e.mutationAfter&&e.mutationAfter<=this._threshold,c=!a&&!o,{clickCount:u,clickBreadcrumb:f}=e;if(c){const h=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,m=h<this._timeout*1e3?"mutation":"timeout",y={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.slowClickDetected",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),timeAfterClickMs:h,endReason:m,clickCount:u||1}};this._addBreadcrumbEvent(r,y);return}if(u>1){const h={type:"default",message:f.message,timestamp:f.timestamp,category:"ui.multiClick",data:{...f.data,url:Ze.location.href,route:r.getCurrentRoute(),clickCount:u,metric:!0}};this._addBreadcrumbEvent(r,h)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=xl(()=>this._checkClicks(),1e3)}}const JI=["A","BUTTON","INPUT"];function QI(t,e){return!!(!JI.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function ZI(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function C0(){return Date.now()/1e3}function eD(t,e){try{if(!tD(e))return;const{source:r}=e.data;if(KI.has(r)&&t.registerMutation(e.timestamp),r===ve.Scroll&&t.registerScroll(e.timestamp),nD(e)){const{type:a,id:o}=e.data,c=kr.mirror.getNode(o);c instanceof HTMLElement&&a===zt.Click&&t.registerClick(c)}}catch{}}function tD(t){return t.type===$I}function nD(t){return t.data.source===ve.MouseInteraction}function Qn(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Vm=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Vm||{});const rD=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function sD(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const r in t)if(rD.has(r)){let a=r;(r==="data-testid"||r==="data-test-id")&&(a="testId"),e[a]=t[r]}return e}const aD=t=>e=>{if(!t.isEnabled())return;const r=iD(e);if(!r)return;const a=e.name==="click",o=a?e.event:void 0;a&&t.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&WI(t.clickDetector,r,qx(e.event)),Tl(t,r)};function Px(t,e){const r=kr.mirror.getId(t),a=r&&kr.mirror.getNode(r),o=a&&kr.mirror.getMeta(a),c=o&&lD(o)?o:null;return{message:e,data:c?{nodeId:r,node:{id:r,tagName:c.tagName,textContent:Array.from(c.childNodes).map(u=>u.type===Vm.Text&&u.textContent).filter(Boolean).map(u=>u.trim()).join(""),attributes:sD(c.attributes)}}:{}}}function iD(t){const{target:e,message:r}=oD(t);return Qn({category:`ui.${t.name}`,...Px(e,r)})}function oD(t){const e=t.name==="click";let r,a=null;try{a=e?qx(t.event):$x(t.event),r=tn(a,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:a,message:r}}function lD(t){return t.type===Vm.Element}function cD(t,e){if(!t.isEnabled())return;t.updateUserActivity();const r=uD(e);r&&Tl(t,r)}function uD(t){const{metaKey:e,shiftKey:r,ctrlKey:a,altKey:o,key:c,target:u}=t;if(!u||dD(u)||!c)return null;const f=e||a||o,h=c.length===1;if(!f&&h)return null;const m=tn(u,{maxStringLength:200})||"<unknown>",y=Px(u,m);return Qn({category:"ui.keyDown",message:m,data:{...y.data,metaKey:e,shiftKey:r,ctrlKey:a,altKey:o,key:c}})}function dD(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const fD={resource:yD,paint:mD,navigation:gD};function Yh(t,e){return({metric:r})=>{e.replayPerformanceEntries.push(t(r))}}function hD(t){return t.map(pD).filter(Boolean)}function pD(t){const e=fD[t.entryType];return e?e(t):null}function ki(t){return((rn()||Ze.performance.timeOrigin)+t)/1e3}function mD(t){const{duration:e,entryType:r,name:a,startTime:o}=t,c=ki(o);return{type:r,name:a,start:c,end:c+e,data:void 0}}function gD(t){const{entryType:e,name:r,decodedBodySize:a,duration:o,domComplete:c,encodedBodySize:u,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,domInteractive:m,loadEventStart:y,loadEventEnd:v,redirectCount:_,startTime:S,transferSize:x,type:k}=t;return o===0?null:{type:`${e}.${k}`,start:ki(S),end:ki(c),name:r,data:{size:x,decodedBodySize:a,encodedBodySize:u,duration:o,domInteractive:m,domContentLoadedEventStart:f,domContentLoadedEventEnd:h,loadEventStart:y,loadEventEnd:v,domComplete:c,redirectCount:_}}}function yD(t){const{entryType:e,initiatorType:r,name:a,responseEnd:o,startTime:c,decodedBodySize:u,encodedBodySize:f,responseStatus:h,transferSize:m}=t;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${e}.${r}`,start:ki(c),end:ki(o),name:a,data:{size:m,statusCode:h,decodedBodySize:u,encodedBodySize:f}}}function bD(t){const e=t.entries[t.entries.length-1],r=e?.element?[e.element]:void 0;return Ym(t,"largest-contentful-paint",r)}function vD(t){return t.sources!==void 0}function _D(t){const e=[],r=[];for(const a of t.entries)if(vD(a)){const o=[];for(const c of a.sources)if(c.node){r.push(c.node);const u=kr.mirror.getId(c.node);u&&o.push(u)}e.push({value:a.value,nodeIds:o.length?o:void 0})}return Ym(t,"cumulative-layout-shift",r,e)}function SD(t){const e=t.entries[t.entries.length-1],r=e?.target?[e.target]:void 0;return Ym(t,"interaction-to-next-paint",r)}function Ym(t,e,r,a){const o=t.value,c=t.rating,u=ki(o);return{type:"web-vital",name:e,start:u,end:u,data:{value:o,size:o,rating:c,nodeIds:r?r.map(f=>kr.mirror.getId(f)):void 0,attributions:a}}}function wD(t){function e(o){t.performanceEntries.includes(o)||t.performanceEntries.push(o)}function r({entries:o}){o.forEach(e)}const a=[];return["navigation","paint","resource"].forEach(o=>{a.push(oa(o,r))}),a.push(Dm(Yh(bD,t)),Im(Yh(_D,t)),rx(Yh(SD,t))),()=>{a.forEach(o=>o())}}const pe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,xD='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function ED(){const t=new Blob([xD]);return URL.createObjectURL(t)}const R0=["log","warn","error"],Eu="[Replay] ";function Kh(t,e="info"){ms({category:"console",data:{logger:"replay"},level:e,message:`${Eu}${t}`},{level:e})}function TD(){let t=!1,e=!1;const r={exception:()=>{},infoTick:()=>{},setConfig:a=>{t=!!a.captureExceptions,e=!!a.traceInternals}};return pe?(R0.forEach(a=>{r[a]=(...o)=>{Y[a](Eu,...o),e&&Kh(o.join(""),Hw(a))}}),r.exception=(a,...o)=>{o.length&&r.error&&r.error(...o),Y.error(Eu,a),t?xm(a,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):e&&Kh(a,"error")},r.infoTick=(...a)=>{Y.log(Eu,...a),e&&setTimeout(()=>Kh(a[0]),0)}):R0.forEach(a=>{r[a]=()=>{}}),r}const me=TD();class Km extends Error{constructor(){super(`Event buffer exceeded maximum size of ${zm}.`)}}class Fx{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const r=JSON.stringify(e).length;if(this._totalSize+=r,this._totalSize>zm)throw new Km;this.events.push(e)}finish(){return new Promise(e=>{const r=this.events;this.clear(),e(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(r=>r.timestamp).sort()[0];return e?Gm(e):null}}class kD{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,r)=>{this._worker.addEventListener("message",({data:a})=>{a.success?e():r()},{once:!0}),this._worker.addEventListener("error",a=>{r(a)},{once:!0})}),this._ensureReadyPromise)}destroy(){pe&&me.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,r){const a=this._getAndIncrementId();return new Promise((o,c)=>{const u=({data:f})=>{const h=f;if(h.method===e&&h.id===a){if(this._worker.removeEventListener("message",u),!h.success){pe&&me.error("Error in compression worker: ",h.response),c(new Error("Error in compression worker"));return}o(h.response)}};this._worker.addEventListener("message",u),this._worker.postMessage({id:a,method:e,arg:r})})}_getAndIncrementId(){return this._id++}}class AD{constructor(e){this._worker=new kD(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const r=Gm(e.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);const a=JSON.stringify(e);return this._totalSize+=a.length,this._totalSize>zm?Promise.reject(new Km):this._sendEventToWorker(a)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{pe&&me.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class CD{constructor(e){this._fallback=new Fx,this._compression=new AD(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){pe&&me.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:r,waitForCheckout:a}=this._fallback,o=[];for(const c of e)o.push(this._compression.addEvent(c));this._compression.hasCheckout=r,this._compression.waitForCheckout=a,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(c){pe&&me.exception(c,"Failed to add events when switching buffers.")}}}function RD({useCompression:t,workerUrl:e}){if(t&&window.Worker){const r=ND(e);if(r)return r}return pe&&me.log("Using simple buffer"),new Fx}function ND(t){try{const e=t||OD();if(!e)return;pe&&me.log(`Using compression worker${t?` from ${t}`:""}`);const r=new Worker(e);return new CD(r)}catch(e){pe&&me.exception(e,"Failed to create compression worker")}}function OD(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?ED():""}function Wm(){try{return"sessionStorage"in Ze&&!!Ze.sessionStorage}catch{return!1}}function jD(t){MD(),t.session=void 0}function MD(){if(Wm())try{Ze.sessionStorage.removeItem(Um)}catch{}}function Gx(t){return t===void 0?!1:Math.random()<t}function od(t){if(Wm())try{Ze.sessionStorage.setItem(Um,JSON.stringify(t))}catch{}}function Vx(t){const e=Date.now(),r=t.id||bn(),a=t.started||e,o=t.lastActivity||e,c=t.segmentId||0,u=t.sampled,f=t.previousSessionId,h=t.dirty||!1;return{id:r,started:a,lastActivity:o,segmentId:c,sampled:u,previousSessionId:f,dirty:h}}function ID(t,e){return Gx(t)?"session":e?"buffer":!1}function N0({sessionSampleRate:t,allowBuffering:e,stickySession:r=!1},{previousSessionId:a}={}){const o=ID(t,e),c=Vx({sampled:o,previousSessionId:a});return r&&od(c),c}function DD(){if(!Wm())return null;try{const t=Ze.sessionStorage.getItem(Um);if(!t)return null;const e=JSON.parse(t);return pe&&me.infoTick("Loading existing session"),Vx(e)}catch{return null}}function zp(t,e,r=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=r}function Yx(t,{maxReplayDuration:e,sessionIdleExpire:r,targetTime:a=Date.now()}){return zp(t.started,e,a)||zp(t.lastActivity,r,a)}function Kx(t,{sessionIdleExpire:e,maxReplayDuration:r}){return!(!Yx(t,{sessionIdleExpire:e,maxReplayDuration:r})||t.sampled==="buffer"&&t.segmentId===0)}function Wh({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:r},a){const o=a.stickySession&&DD();return o?Kx(o,{sessionIdleExpire:t,maxReplayDuration:e})?(pe&&me.infoTick("Session in sessionStorage is expired, creating new one..."),N0(a,{previousSessionId:o.id})):o:(pe&&me.infoTick("Creating new session"),N0(a,{previousSessionId:r}))}function LD(t){return t.type===Te.Custom}function Xm(t,e,r){return Xx(t,e)?(Wx(t,e,r),!0):!1}function UD(t,e,r){return Xx(t,e)?Wx(t,e,r):Promise.resolve(null)}async function Wx(t,e,r){const{eventBuffer:a}=t;if(!a||a.waitForCheckout&&!r)return null;const o=t.recordingMode==="buffer";try{r&&o&&a.clear(),r&&(a.hasCheckout=!0,a.waitForCheckout=!1);const c=t.getOptions(),u=BD(e,c.beforeAddRecordingEvent);return u?await a.addEvent(u):void 0}catch(c){const u=c&&c instanceof Km,f=u?"addEventSizeExceeded":"addEvent",h=Me();if(h){const m=u?"buffer_overflow":"internal_sdk_error";h.recordDroppedEvent(m,"replay")}if(u&&o)return a.clear(),a.waitForCheckout=!0,null;t.handleException(c),await t.stop({reason:f})}}function Xx(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const r=Gm(e.timestamp);return r+t.timeouts.sessionIdlePause<Date.now()?!1:r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(pe&&me.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`),!1):!0}function BD(t,e){try{if(typeof e=="function"&&LD(t))return e(t)}catch(r){return pe&&me.exception(r,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}function Jm(t){return!t.type}function Hp(t){return t.type==="transaction"}function zD(t){return t.type==="replay_event"}function O0(t){return t.type==="feedback"}function HD(t){return(e,r)=>{if(!t.isEnabled()||!Jm(e)&&!Hp(e))return;const a=r.statusCode;if(!(!a||a<200||a>=300)){if(Hp(e)){qD(t,e);return}$D(t,e)}}}function qD(t,e){const r=t.getContext();e.contexts?.trace?.trace_id&&r.traceIds.size<100&&r.traceIds.add(e.contexts.trace.trace_id)}function $D(t,e){const r=t.getContext();if(e.event_id&&r.errorIds.size<100&&r.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:a}=t.getOptions();typeof a=="function"&&!a(e)||xl(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(o){t.handleException(o)}})}function PD(t){return e=>{!t.isEnabled()||!Jm(e)||FD(t,e)}}function FD(t,e){const r=e.exception?.values?.[0]?.value;if(typeof r=="string"&&(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const a=Qn({category:"replay.hydrate-error",data:{url:Ni()}});Tl(t,a)}}function GD(t){const e=Me();e&&e.on("beforeAddBreadcrumb",r=>VD(t,r))}function VD(t,e){if(!t.isEnabled()||!Jx(e))return;const r=YD(e);r&&Tl(t,r)}function YD(t){return!Jx(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?KD(t):Qn(t)}function KD(t){const e=t.data?.arguments;if(!Array.isArray(e)||e.length===0)return Qn(t);let r=!1;const a=e.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Zc?(r=!0,`${o.slice(0,Zc)}`):o;if(typeof o=="object")try{const c=Hn(o,7);return JSON.stringify(c).length>Zc?(r=!0,`${JSON.stringify(c,null,2).slice(0,Zc)}`):c}catch{}return o});return Qn({...t,data:{...t.data,arguments:a,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Jx(t){return!!t.category}function WD(t,e){return t.type||!t.exception?.values?.length?!1:!!e.originalException?.__rrweb__}function Qx(){const t=Pe().getPropagationContext().dsc;t&&delete t.replay_id;const e=qt();if(e){const r=Or(e);delete r.replay_id}}function XD(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:Te.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function JD(t,e){return t.recordingMode!=="buffer"||e.message===Bm||!e.exception||e.type?!1:Gx(t.getOptions().errorSampleRate)}function QD(t){return Object.assign((e,r)=>{if(!t.isEnabled()||t.isPaused())return e;if(zD(e))return delete e.breadcrumbs,e;if(!Jm(e)&&!Hp(e)&&!O0(e))return e;if(!t.checkAndHandleExpiredSession())return Qx(),e;if(O0(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),XD(t,e),e;if(WD(e,r)&&!t.getOptions()._experiments.captureExceptions)return pe&&me.log("Ignoring error from rrweb internals",e),null;const o=JD(t,e);if((o||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),o&&t.recordingMode==="buffer"&&t.session?.sampled==="buffer"){const u=t.session;u.dirty=!0,t.getOptions().stickySession&&od(u)}return e},{id:"Replay"})}function ld(t,e){return e.map(({type:r,start:a,end:o,name:c,data:u})=>{const f=t.throttledAddEvent({type:Te.Custom,timestamp:a,data:{tag:"performanceSpan",payload:{op:r,description:c,startTimestamp:a,endTimestamp:o,data:u}}});return typeof f=="string"?Promise.resolve(null):f})}function ZD(t){const{from:e,to:r}=t,a=Date.now()/1e3;return{type:"navigation.push",start:a,end:a,name:r,data:{previous:e}}}function eL(t){return e=>{if(!t.isEnabled())return;const r=ZD(e);r!==null&&(t.getContext().urls.push(r.name),t.triggerUserActivity(),t.addUpdate(()=>(ld(t,[r]),!1)))}}function tL(t,e){return pe&&t.getOptions()._experiments.traceInternals?!1:HR(e,Me())}function Zx(t,e){t.isEnabled()&&e!==null&&(tL(t,e.name)||t.addUpdate(()=>(ld(t,[e]),!0)))}function cd(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const r=fx(t);return e.encode(r).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function eE(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function $u(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const r={...t._meta},a=r.warnings||[];return r.warnings=[...a,e],t._meta=r,t}function tE(t,e){if(!e)return null;const{startTimestamp:r,endTimestamp:a,url:o,method:c,statusCode:u,request:f,response:h}=e;return{type:t,start:r/1e3,end:a/1e3,name:o,data:{method:c,statusCode:u,request:f,response:h}}}function nl(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function hs(t,e,r){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!r)return{headers:t,size:e};const a={headers:t,size:e},{body:o,warnings:c}=nL(r);return a.body=o,c?.length&&(a._meta={warnings:c}),a}function qp(t,e){return Object.entries(t).reduce((r,[a,o])=>{const c=a.toLowerCase();return e.includes(c)&&t[a]&&(r[c]=o),r},{})}function nL(t){if(!t||typeof t!="string")return{body:t};const e=t.length>d0,r=rL(t);if(e){const a=t.slice(0,d0);return r?{body:a,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${a}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function rL(t){const e=t[0],r=t[t.length-1];return e==="["&&r==="]"||e==="{"&&r==="}"}function Pu(t,e){const r=sL(t);return Er(r,e)}function sL(t,e=Ze.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(Ze.location.origin))return t;const r=new URL(t,e);if(r.origin!==new URL(e).origin)return t;const a=r.href;return!t.endsWith("/")&&a.endsWith("/")?a.slice(0,-1):a}async function aL(t,e,r){try{const a=await oL(t,e,r),o=tE("resource.fetch",a);Zx(r.replay,o)}catch(a){pe&&me.exception(a,"Failed to capture fetch breadcrumb")}}function iL(t,e){const{input:r,response:a}=e,o=r?px(r):void 0,c=cd(o),u=a?eE(a.headers.get("content-length")):void 0;c!==void 0&&(t.data.request_body_size=c),u!==void 0&&(t.data.response_body_size=u)}async function oL(t,e,r){const a=Date.now(),{startTimestamp:o=a,endTimestamp:c=a}=e,{url:u,method:f,status_code:h=0,request_body_size:m,response_body_size:y}=t.data,v=Pu(u,r.networkDetailAllowUrls)&&!Pu(u,r.networkDetailDenyUrls),_=v?lL(r,e.input,m):nl(m),S=await cL(v,r,e.response,y);return{startTimestamp:o,endTimestamp:c,url:u,method:f,statusCode:h,request:_,response:S}}function lL({networkCaptureBodies:t,networkRequestHeaders:e},r,a){const o=r?fL(r,e):{};if(!t)return hs(o,a,void 0);const c=px(r),[u,f]=hx(c,me),h=hs(o,a,u);return f?$u(h,f):h}async function cL(t,{networkCaptureBodies:e,networkResponseHeaders:r},a,o){if(!t&&o!==void 0)return nl(o);const c=a?nE(a.headers,r):{};if(!a||!e&&o!==void 0)return hs(c,o,void 0);const[u,f]=await dL(a),h=uL(u,{networkCaptureBodies:e,responseBodySize:o,captureDetails:t,headers:c});return f?$u(h,f):h}function uL(t,{networkCaptureBodies:e,responseBodySize:r,captureDetails:a,headers:o}){try{const c=t?.length&&r===void 0?cd(t):r;return a?e?hs(o,c,t):hs(o,c,void 0):nl(c)}catch(c){return pe&&me.exception(c,"Failed to serialize response body"),hs(o,r,void 0)}}async function dL(t){const e=hL(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await pL(e)]}catch(r){return r instanceof Error&&r.message.indexOf("Timeout")>-1?(pe&&me.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(pe&&me.exception(r,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function nE(t,e){const r={};return e.forEach(a=>{t.get(a)&&(r[a]=t.get(a))}),r}function fL(t,e){return t.length===1&&typeof t[0]!="string"?j0(t[0],e):t.length===2?j0(t[1],e):{}}function j0(t,e){if(!t)return{};const r=t.headers;return r?r instanceof Headers?nE(r,e):Array.isArray(r)?{}:qp(r,e):{}}function hL(t){try{return t.clone()}catch(e){pe&&me.exception(e,"Failed to clone response body")}}function pL(t){return new Promise((e,r)=>{const a=xl(()=>r(new Error("Timeout while trying to read response body")),500);mL(t).then(o=>e(o),o=>r(o)).finally(()=>clearTimeout(a))})}async function mL(t){return await t.text()}async function gL(t,e,r){try{const a=bL(t,e,r),o=tE("resource.xhr",a);Zx(r.replay,o)}catch(a){pe&&me.exception(a,"Failed to capture xhr breadcrumb")}}function yL(t,e){const{xhr:r,input:a}=e;if(!r)return;const o=cd(a),c=r.getResponseHeader("content-length")?eE(r.getResponseHeader("content-length")):SL(r.response,r.responseType);o!==void 0&&(t.data.request_body_size=o),c!==void 0&&(t.data.response_body_size=c)}function bL(t,e,r){const a=Date.now(),{startTimestamp:o=a,endTimestamp:c=a,input:u,xhr:f}=e,{url:h,method:m,status_code:y=0,request_body_size:v,response_body_size:_}=t.data;if(!h)return null;if(!f||!Pu(h,r.networkDetailAllowUrls)||Pu(h,r.networkDetailDenyUrls)){const G=nl(v),U=nl(_);return{startTimestamp:o,endTimestamp:c,url:h,method:m,statusCode:y,request:G,response:U}}const S=f[Js],x=S?qp(S.request_headers,r.networkRequestHeaders):{},k=qp(mx(f),r.networkResponseHeaders),[E,N]=r.networkCaptureBodies?hx(u,me):[void 0],[B,R]=r.networkCaptureBodies?vL(f):[void 0],P=hs(x,v,E),K=hs(k,_,B);return{startTimestamp:o,endTimestamp:c,url:h,method:m,statusCode:y,request:N?$u(P,N):P,response:R?$u(K,R):K}}function vL(t){const e=[];try{return[t.responseText]}catch(r){e.push(r)}try{return _L(t.response,t.responseType)}catch(r){e.push(r)}return pe&&me.warn("Failed to get xhr response body",...e),[void 0]}function _L(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(r){return pe&&me.exception(r,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return pe&&me.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function SL(t,e){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return cd(r)}catch{return}}function wL(t){const e=Me();try{const{networkDetailAllowUrls:r,networkDetailDenyUrls:a,networkCaptureBodies:o,networkRequestHeaders:c,networkResponseHeaders:u}=t.getOptions(),f={replay:t,networkDetailAllowUrls:r,networkDetailDenyUrls:a,networkCaptureBodies:o,networkRequestHeaders:c,networkResponseHeaders:u};e&&e.on("beforeAddBreadcrumb",(h,m)=>xL(f,h,m))}catch{}}function xL(t,e,r){if(e.data)try{EL(e)&&kL(r)&&(yL(e,r),gL(e,r,t)),TL(e)&&AL(r)&&(iL(e,r),aL(e,r,t))}catch(a){pe&&me.exception(a,"Error when enriching network breadcrumb")}}function EL(t){return t.category==="xhr"}function TL(t){return t.category==="fetch"}function kL(t){return t?.xhr}function AL(t){return t?.response}function CL(t){const e=Me();cx(aD(t)),rd(eL(t)),GD(t),wL(t);const r=QD(t);iR(r),e&&(e.on("beforeSendEvent",PD(t)),e.on("afterSendEvent",HD(t)),e.on("createDsc",a=>{const o=t.getSessionId();o&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(a.replay_id=o)}),e.on("spanStart",a=>{t.lastActiveSpan=a}),e.on("spanEnd",a=>{t.lastActiveSpan=a}),e.on("beforeSendFeedback",async(a,o)=>{const c=t.getSessionId();o?.includeReplay&&t.isEnabled()&&c&&a.contexts?.feedback&&(a.contexts.feedback.source==="api"&&await t.sendBufferedReplayOrFlush(),a.contexts.feedback.replay_id=c)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}async function RL(t){try{return Promise.all(ld(t,[NL(Ze.performance.memory)]))}catch{return[]}}function NL(t){const{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:a}=t,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:a}}}}function OL(t,e,r){return VR(t,e,{...r,setTimeoutImpl:xl})}const ru=je.navigator;function jL(){return/iPhone|iPad|iPod/i.test(ru?.userAgent??"")||/Macintosh/i.test(ru?.userAgent??"")&&ru?.maxTouchPoints&&ru?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function ML(t){let e=!1;return(r,a)=>{if(!t.checkAndHandleExpiredSession()){pe&&me.warn("Received replay event after session expired.");return}const o=a||!e;e=!0,t.clickDetector&&eD(t.clickDetector,r),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&o&&t.setInitialState(),!Xm(t,r,o))return!0;if(!o)return!1;const c=t.session;if(DL(t,o),t.recordingMode==="buffer"&&c&&t.eventBuffer&&!c.dirty){const u=t.eventBuffer.getEarliestTimestamp();u&&(pe&&me.log(`Updating session start time to earliest event in buffer to ${new Date(u)}`),c.started=u,t.getOptions().stickySession&&od(c))}return c?.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}function IL(t){const e=t.getOptions();return{type:Te.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function DL(t,e){!e||!t.session||t.session.segmentId!==0||Xm(t,IL(t),!1)}function LL(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function UL(t,e,r,a){return _s(hw(t,vm(t),a,r),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function BL({recordingData:t,headers:e}){let r;const a=`${JSON.stringify(e)}
`;if(typeof t=="string")r=`${a}${t}`;else{const c=new TextEncoder().encode(a);r=new Uint8Array(c.length+t.length),r.set(c),r.set(t,c.length)}return r}async function zL({client:t,scope:e,replayId:r,event:a}){const o=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,c={event_id:r,integrations:o};t.emit("preprocessEvent",a,c);const u=await vw(t.getOptions(),a,c,e,t,Gn());if(!u)return null;t.emit("postprocessEvent",u,c),u.platform=u.platform||"javascript";const f=t.getSdkMetadata(),{name:h,version:m,settings:y}=f?.sdk||{};return u.sdk={...u.sdk,name:h||"sentry.javascript.unknown",version:m||"0.0.0",settings:y},u}async function HL({recordingData:t,replayId:e,segmentId:r,eventContext:a,timestamp:o,session:c}){const u=BL({recordingData:t,headers:{segment_id:r}}),{urls:f,errorIds:h,traceIds:m,initialTimestamp:y}=a,v=Me(),_=Pe(),S=v?.getTransport(),x=v?.getDsn();if(!v||!S||!x||!c.sampled)return Promise.resolve({});const k={type:gM,replay_start_timestamp:y/1e3,timestamp:o/1e3,error_ids:h,trace_ids:m,urls:f,replay_id:e,segment_id:r,replay_type:c.sampled},E=await zL({scope:_,client:v,replayId:e,event:k});if(!E)return v.recordDroppedEvent("event_processor","replay"),pe&&me.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete E.sdkProcessingMetadata;const N=UL(E,u,x,v.getOptions().tunnel);let B;try{B=await S.send(N)}catch(P){const K=new Error(Bm);try{K.cause=P}catch{}throw K}const R=Nw({},B);if(Rw(R,"replay"))throw new Qm(R);if(typeof B.statusCode=="number"&&(B.statusCode<200||B.statusCode>=300))throw new rE(B.statusCode);return B}class rE extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Qm extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}class M0 extends Error{constructor(){super("Session is too long, not sending replay")}}async function sE(t,e={count:0,interval:wM}){const{recordingData:r,onError:a}=t;if(r.length)try{return await HL(t),!0}catch(o){if(o instanceof rE||o instanceof Qm)throw o;if(Sw("Replays",{_retryCount:e.count}),a&&a(o),e.count>=xM){const c=new Error(`${Bm} - max retries exceeded`);try{c.cause=o}catch{}throw c}return e.interval*=++e.count,new Promise((c,u)=>{xl(async()=>{try{await sE(t,e),c(!0)}catch(f){u(f)}},e.interval)})}}const aE="__THROTTLED",qL="__SKIPPED";function $L(t,e,r){const a=new Map,o=f=>{const h=f-r;a.forEach((m,y)=>{y<h&&a.delete(y)})},c=()=>[...a.values()].reduce((f,h)=>f+h,0);let u=!1;return(...f)=>{const h=Math.floor(Date.now()/1e3);if(o(h),c()>=e){const y=u;return u=!0,y?qL:aE}u=!1;const m=a.get(h)||0;return a.set(h,m+1),t(...f)}}class PL{constructor({options:e,recordingOptions:r}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:yM,sessionIdleExpire:bM},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=e,this._debouncedFlush=OL(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=$L((u,f)=>UD(this,u,f),300,5);const{slowClickTimeout:a,slowClickIgnoreSelectors:o}=this.getOptions(),c=a?{threshold:Math.min(EM,a),timeout:a,scrollTimeout:TM,ignoreSelector:o?o.join(","):""}:void 0;if(c&&(this.clickDetector=new XI(this,c)),pe){const u=e._experiments;me.setConfig({captureExceptions:!!u.captureExceptions,traceInternals:!!u.traceInternals})}this._handleVisibilityChange=()=>{Ze.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const u=Qn({category:"ui.blur"});this._doChangeToBackgroundTasks(u)},this._handleWindowFocus=()=>{const u=Qn({category:"ui.focus"});this._doChangeToForegroundTasks(u)},this._handleKeyboardEvent=u=>{cD(this,u)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){pe&&me.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:r,sessionSampleRate:a}=this._options,o=r<=0&&a<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(e),!this.session){pe&&me.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",pe&&me.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){pe&&me.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=Wh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){pe&&me.log("Buffering is in progress, call `flush()` to save the replay");return}pe&&me.infoTick("Starting replay in buffer mode");const e=Wh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=kr({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:SM}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:ML(this),...jL(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{pe&&me.log(`Stopping Replay${r?` triggered by ${r}`:""}`),Qx(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,jD(this)}catch(a){this.handleException(a)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pe&&me.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),pe&&me.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const r=Date.now();pe&&me.log("Converting buffer to session"),await this.flushImmediate();const a=this.stopRecording();!e||!a||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const r=e();this.recordingMode==="buffer"||!this._isEnabled||r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){if(!(e&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&zp(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${Ze.location.pathname}${Ze.location.hash}${Ze.location.search}`,r=`${Ze.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(e,r){const a=this._throttledAddEvent(e,r);if(a===aE){const o=Qn({category:"replay.throttled"});this.addUpdate(()=>!Xm(this,{type:PI,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return a}getCurrentRoute(){const e=this.lastActiveSpan||qt(),r=e&&Dt(e),o=(r&&Be(r).data||{})[Pn];if(!(!r||!o||!["route","custom"].includes(o)))return Be(r).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=RD({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const r=this._options.errorSampleRate>0,a=Wh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=a}_checkSession(){if(!this.session)return!1;const e=this.session;return Kx(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Ze.document.addEventListener("visibilitychange",this._handleVisibilityChange),Ze.addEventListener("blur",this._handleWindowBlur),Ze.addEventListener("focus",this._handleWindowFocus),Ze.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(CL(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=wD(this)}_removeListeners(){try{Ze.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Ze.removeEventListener("blur",this._handleWindowBlur),Ze.removeEventListener("focus",this._handleWindowFocus),Ze.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||Yx(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){pe&&me.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Te.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=hD(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const r=this._context.initialTimestamp/1e3;e=e.filter(a=>a.start>=r)}return Promise.all(ld(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:r}=this;if(!e||!r||this._requiresManualStart||e.segmentId)return;const a=r.getEarliestTimestamp();a&&a<this._context.initialTimestamp&&(this._context.initialTimestamp=a)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){pe&&me.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await RL(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new M0;const a=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const c=await this.eventBuffer.finish();await sE({replayId:e,recordingData:c,segmentId:o,eventContext:a,session:this.session,timestamp:r,onError:u=>this.handleException(u)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const a=Me();if(a){let o;r instanceof Qm?o="ratelimit_backoff":r instanceof M0?o="invalid":o="send_error",a.recordDroppedEvent(o,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){pe&&me.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,o=Date.now()-r;this._debouncedFlush.cancel();const c=o<this._options.minReplayDuration,u=o>this._options.maxReplayDuration+5e3;if(c||u){pe&&me.log(`Session duration (${Math.floor(o/1e3)}s) is too ${c?"short":"long"}, not sending replay.`),c&&this._debouncedFlush();return}const f=this.eventBuffer;f&&this.session.segmentId===0&&!f.hasCheckout&&pe&&me.log("Flushing initial segment without checkout.");const h=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(m){this.handleException(m)}finally{this._flushLock=void 0,h&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&od(this.session)}_onMutationHandler(e){const{ignoreMutations:r}=this._options._experiments;if(r?.length&&e.some(f=>{const h=LL(f.target),m=r.join(",");return h?.matches(m)}))return!1;const a=e.length,o=this._options.mutationLimit,c=this._options.mutationBreadcrumbLimit,u=o&&a>o;if(a>c||u){const f=Qn({category:"replay.mutations",data:{count:a,limit:u}});this._createCustomBreadcrumb(f)}return u?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Uo(t,e){return[...t,...e].join(",")}function FL({mask:t,unmask:e,block:r,unblock:a,ignore:o}){const c=["base","iframe[srcdoc]:not([src])"],u=Uo(t,[".sentry-mask","[data-sentry-mask]"]),f=Uo(e,[]);return{maskTextSelector:u,unmaskTextSelector:f,blockSelector:Uo(r,[".sentry-block","[data-sentry-block]",...c]),unblockSelector:Uo(a,[]),ignoreSelector:Uo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function GL({el:t,key:e,maskAttributes:r,maskAllText:a,privacyOptions:o,value:c}){return!a||o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)?c:r.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?c.replace(/[\S]/g,"*"):c}const I0='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',VL=["content-length","content-type","accept"],YL=Symbol.for("sentry__originalRequestBody");let D0=!1,L0=!1;function KL(){if(typeof Request>"u"||L0)return;const t=Request;try{const e=function(r,a){const o=new t(r,a);return a?.body!=null&&(o[YL]=a.body),o};e.prototype=t.prototype,je.Request=e,L0=!0}catch{}}const WL=(t=>new XL(t));class XL{constructor({flushMinDelay:e=vM,flushMaxDelay:r=_M,minReplayDuration:a=kM,maxReplayDuration:o=f0,stickySession:c=!0,useCompression:u=!0,workerUrl:f,_experiments:h={},maskAllText:m=!0,maskAllInputs:y=!0,blockAllMedia:v=!0,mutationBreadcrumbLimit:_=750,mutationLimit:S=1e4,slowClickTimeout:x=7e3,slowClickIgnoreSelectors:k=[],networkDetailAllowUrls:E=[],networkDetailDenyUrls:N=[],networkCaptureBodies:B=!0,networkRequestHeaders:R=[],networkResponseHeaders:P=[],mask:K=[],maskAttributes:G=["title","placeholder","aria-label"],unmask:U=[],block:q=[],unblock:oe=[],ignore:W=[],maskFn:te,beforeAddRecordingEvent:le,beforeErrorSampling:xe,onError:he,attachRawBodyFromRequest:Re=!1}={}){this.name="Replay";const I=FL({mask:K,unmask:U,block:q,unblock:oe,ignore:W});if(this._recordingOptions={maskAllInputs:y,maskAllText:m,maskInputOptions:{password:!0},maskTextFn:te,maskInputFn:te,maskAttributeFn:(F,O,se)=>GL({maskAttributes:G,maskAllText:m,privacyOptions:I,key:F,value:O,el:se}),...I,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:F=>{try{F.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!h.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:r,minReplayDuration:Math.min(a,AM),maxReplayDuration:Math.min(o,f0),stickySession:c,useCompression:u,workerUrl:f,blockAllMedia:v,maskAllInputs:y,maskAllText:m,mutationBreadcrumbLimit:_,mutationLimit:S,slowClickTimeout:x,slowClickIgnoreSelectors:k,networkDetailAllowUrls:E,networkDetailDenyUrls:N,networkCaptureBodies:B,networkRequestHeaders:U0(R),networkResponseHeaders:U0(P),beforeAddRecordingEvent:le,beforeErrorSampling:xe,onError:he,attachRawBodyFromRequest:Re,_experiments:h},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${I0}`:I0,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&Ep())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return D0}set _isInitialized(e){D0=e}afterAllSetup(e){!Ep()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&KL(),this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){if(this._replay?.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const r=JL(this._initialOptions,e);this._replay=new PL({options:r,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const r=e.getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}}function JL(t,e){const r=e.getOptions(),a={sessionSampleRate:0,errorSampleRate:0,...t},o=aa(r.replaysSessionSampleRate),c=aa(r.replaysOnErrorSampleRate);return o==null&&c==null&&ca(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(a.sessionSampleRate=o),c!=null&&(a.errorSampleRate=c),a}function U0(t){return[...VL,...t.map(e=>e.toLowerCase())]}function QL(t){return t.split(",").some(e=>e.trim().startsWith("sentry-"))}function iE(t){try{return new URL(t,ze.location.origin).href}catch{return}}function ZL(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function oE(t){try{return new Headers(t)}catch{return}}const B0=new WeakMap,Xh=new Map,lE={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function e2(t,e){const{traceFetch:r,traceXHR:a,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:c,enableHTTPTimings:u,tracePropagationTargets:f,onRequestSpanStart:h,onRequestSpanEnd:m}={...lE,...e},y=typeof c=="function"?c:x=>!0,v=x=>t2(x,f),_={},S=t.getOptions().propagateTraceparent;r&&(t.addEventProcessor(x=>(x.type==="transaction"&&x.spans&&x.spans.forEach(k=>{if(k.op==="http.client"){const E=Xh.get(k.span_id);E&&(k.timestamp=E/1e3,Xh.delete(k.span_id))}}),x)),o&&RN(x=>{if(x.response){const k=B0.get(x.response);k&&x.endTimestamp&&Xh.set(k,x.endTimestamp)}}),Fw(x=>{const k=_N(x,y,v,_,{propagateTraceparent:S,onRequestSpanEnd:m});if(x.response&&x.fetchData.__span&&B0.set(x.response,x.fetchData.__span),k){const E=iE(x.fetchData.url),N=E?ra(E).host:void 0;k.setAttributes({"http.url":E?ds(E):void 0,"server.address":N}),u&&z0(k),h?.(k,{headers:x.headers})}})),a&&dx(x=>{const k=n2(x,y,v,_,S,m);k&&(u&&z0(k),h?.(k,{headers:oE(x.xhr.__sentry_xhr_v3__?.request_headers)}))})}function z0(t){const{url:e}=Be(t).data;if(!e||typeof e!="string")return;const r=oa("resource",({entries:a})=>{a.forEach(o=>{ZL(o)&&o.name.endsWith(e)&&(t.setAttributes(lx(o)),setTimeout(r))})})}function t2(t,e){const r=Ni();if(r){let a,o;try{a=new URL(t,r),o=new URL(r).origin}catch{return!1}const c=a.origin===o;return e?Er(a.toString(),e)||c&&Er(a.pathname,e):c}else{const a=!!t.match(/^\/(?!\/)/);return e?Er(t,e):a}}function n2(t,e,r,a,o,c){const u=t.xhr,f=u?.[Js];if(!u||u.__sentry_own_request__||!f)return;const{url:h,method:m}=f,y=Fn()&&e(h);if(t.endTimestamp&&y){const N=u.__sentry_xhr_span_id__;if(!N)return;const B=a[N];B&&f.status_code!==void 0&&(JS(B,f.status_code),B.end(),c?.(B,{headers:oE(mx(u)),error:t.error}),delete a[N]);return}const v=iE(h),_=ra(v||h),S=ds(zR(h)),x=!!qt(),k=y&&x?Ii({name:`${m} ${S}`,attributes:{url:ds(h),type:"xhr","http.method":m,"http.url":v?ds(v):void 0,"server.address":_?.host,[wt]:"auto.http.browser",[Nr]:"http.client",..._?.search&&{"http.query":_?.search},..._?.hash&&{"http.fragment":_?.hash}}}):new ps;u.__sentry_xhr_span_id__=k.spanContext().spanId,a[u.__sentry_xhr_span_id__]=k,r(h)&&r2(u,Fn()&&x?k:void 0,o);const E=Me();return E&&E.emit("beforeOutgoingRequestSpan",k,t),k}function r2(t,e,r){const{"sentry-trace":a,baggage:o,traceparent:c}=Bw({span:e,propagateTraceparent:r});a&&s2(t,a,o,c)}function s2(t,e,r,a){const o=t.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!t.setRequestHeader))try{if(t.setRequestHeader("sentry-trace",e),a&&!o?.traceparent&&t.setRequestHeader("traceparent",a),r){const c=o?.baggage;(!c||!QL(c))&&t.setRequestHeader("baggage",r)}}catch{}}function a2(){ze.document?ze.document.addEventListener("visibilitychange",()=>{const t=qt();if(!t)return;const e=Dt(t);if(ze.document.hidden&&e){const r="cancelled",{op:a,status:o}=Be(e);On&&Y.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${a}`),o||e.setStatus({code:_t,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):On&&Y.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const i2=3600,cE="sentry_previous_trace",o2="sentry.previous_trace";function l2(t,{linkPreviousTrace:e,consistentTraceSampling:r}){const a=e==="session-storage";let o=a?d2():void 0;t.on("spanStart",u=>{if(Dt(u)!==u)return;const f=Pe().getPropagationContext();o=c2(o,u,f),a&&u2(o)});let c=!0;r&&t.on("beforeSampling",u=>{if(!o)return;const f=Pe(),h=f.getPropagationContext();if(c&&h.parentSpanId){c=!1;return}f.setPropagationContext({...h,dsc:{...h.dsc,sample_rate:String(o.sampleRate),sampled:String($p(o.spanContext))},sampleRand:o.sampleRand}),u.parentSampled=$p(o.spanContext),u.parentSampleRate=o.sampleRate,u.spanAttributes={...u.spanAttributes,[XS]:o.sampleRate}})}function c2(t,e,r){const a=Be(e);function o(){try{return Number(r.dsc?.sample_rate)??Number(a.data?.[hm])}catch{return 0}}const c={spanContext:e.spanContext(),startTimestamp:a.start_timestamp,sampleRate:o(),sampleRand:r.sampleRand};if(!t)return c;const u=t.spanContext;return u.traceId===a.trace_id?t:(Date.now()/1e3-t.startTimestamp<=i2&&(On&&Y.log(`Adding previous_trace \`${JSON.stringify(u)}\` link to span \`${JSON.stringify({op:a.op,...e.spanContext()})}\``),e.addLink({context:u,attributes:{[RA]:"previous_trace"}}),e.setAttribute(o2,`${u.traceId}-${u.spanId}-${$p(u)?1:0}`)),c)}function u2(t){try{ze.sessionStorage.setItem(cE,JSON.stringify(t))}catch(e){On&&Y.warn("Could not store previous trace in sessionStorage",e)}}function d2(){try{const t=ze.sessionStorage?.getItem(cE);return JSON.parse(t)}catch{return}}function $p(t){return t.traceFlags===1}const f2="BrowserTracing",h2={...bu,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...lE},p2=((t={})=>{const e={name:void 0,source:void 0},r=ze.document,{enableInp:a,enableElementTiming:o,enableLongTask:c,enableLongAnimationFrame:u,_experiments:{enableInteractions:f,enableStandaloneClsSpans:h,enableStandaloneLcpSpans:m},beforeStartSpan:y,idleTimeout:v,finalTimeout:_,childSpanTimeout:S,markBackgroundSpan:x,traceFetch:k,traceXHR:E,trackFetchStreamPerformance:N,shouldCreateSpanForRequest:B,enableHTTPTimings:R,ignoreResourceSpans:P,ignorePerformanceApiSpans:K,instrumentPageLoad:G,instrumentNavigation:U,detectRedirects:q,linkPreviousTrace:oe,consistentTraceSampling:W,enableReportPageLoaded:te,onRequestSpanStart:le,onRequestSpanEnd:xe}={...h2,...t};let he,Re,I;function F(O,se,V=!0){const ge=se.op==="pageload",ce=se.name,X=y?y(se):se,ye=X.attributes||{};if(ce!==X.name&&(ye[Pn]="custom",X.attributes=ye),!V){const Ue=ua();Ii({...X,startTime:Ue}).end(Ue);return}e.name=X.name,e.source=ye[Pn];const Fe=bw(X,{idleTimeout:v,finalTimeout:_,childSpanTimeout:S,disableAutoFinish:ge,beforeSpanEnd:Ue=>{he?.(),zO(Ue,{recordClsOnPageloadSpan:!h,recordLcpOnPageloadSpan:!m,ignoreResourceSpans:P,ignorePerformanceApiSpans:K}),q0(O,void 0);const $t=Pe(),It=$t.getPropagationContext();$t.setPropagationContext({...It,traceId:Fe.spanContext().traceId,sampled:vs(Fe),dsc:Or(Ue)}),ge&&(I=void 0)},trimIdleSpanEndTimestamp:!te});ge&&te&&(I=Fe),q0(O,Fe);function xt(){r&&["interactive","complete"].includes(r.readyState)&&O.emit("idleSpanEnableAutoFinish",Fe)}ge&&!te&&r&&(r.addEventListener("readystatechange",()=>{xt()}),xt())}return{name:f2,setup(O){if(aC(),he=jO({recordClsStandaloneSpans:h||!1,recordLcpStandaloneSpans:m||!1,client:O}),a&&dj(),o&&JO(),u&&je.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?IO():c&&MO(),f&&DO(),q&&r){const V=()=>{Re=kt()};addEventListener("click",V,{capture:!0}),addEventListener("keydown",V,{capture:!0,passive:!0})}function se(){const V=rl(O);V&&!Be(V).timestamp&&(On&&Y.log(`[Tracing] Finishing current active span with op: ${Be(V).op}`),V.setAttribute(Xo,"cancelled"),V.end())}O.on("startNavigationSpan",(V,ge)=>{if(Me()!==O)return;if(ge?.isRedirect){On&&Y.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),F(O,{op:"navigation.redirect",...V},!1);return}Re=void 0,se(),Gn().setPropagationContext({traceId:Rr(),sampleRand:Math.random(),propagationSpanId:Fn()?void 0:Tr()});const ce=Pe();ce.setPropagationContext({traceId:Rr(),sampleRand:Math.random(),propagationSpanId:Fn()?void 0:Tr()}),ce.setSDKProcessingMetadata({normalizedRequest:void 0}),F(O,{op:"navigation",...V,parentSpan:null,forceTransaction:!0})}),O.on("startPageLoadSpan",(V,ge={})=>{if(Me()!==O)return;se();const ce=ge.sentryTrace||H0("sentry-trace"),X=ge.baggage||H0("baggage"),ye=XA(ce,X),Fe=Pe();Fe.setPropagationContext(ye),Fn()||(Fe.getPropagationContext().propagationSpanId=Tr()),Fe.setSDKProcessingMetadata({normalizedRequest:Cm()}),F(O,{op:"pageload",...V})}),O.on("endPageloadSpan",()=>{te&&I&&(I.setAttribute(Xo,"reportPageLoaded"),I.end())})},afterAllSetup(O){let se=Ni();if(oe!=="off"&&l2(O,{linkPreviousTrace:oe,consistentTraceSampling:W}),ze.location){if(G){const V=rn();m2(O,{name:ze.location.pathname,startTime:V?V/1e3:void 0,attributes:{[Pn]:"url",[wt]:"auto.pageload.browser"}})}U&&rd(({to:V,from:ge})=>{if(ge===void 0&&se?.indexOf(V)!==-1){se=void 0;return}se=void 0;const ce=Am(V),X=rl(O),ye=X&&q&&b2(X,Re);g2(O,{name:ce?.pathname||ze.location.pathname,attributes:{[Pn]:"url",[wt]:"auto.navigation.browser"}},{url:V,isRedirect:ye})})}x&&a2(),f&&y2(O,v,_,S,e),a&&pj(),e2(O,{traceFetch:k,traceXHR:E,trackFetchStreamPerformance:N,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:B,enableHTTPTimings:R,onRequestSpanStart:le,onRequestSpanEnd:xe})}}});function m2(t,e,r){t.emit("startPageLoadSpan",e,r),Pe().setTransactionName(e.name);const a=rl(t);return a&&t.emit("afterStartPageLoadSpan",a),a}function g2(t,e,r){const{url:a,isRedirect:o}=r||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:o}),t.emit("startNavigationSpan",e,{isRedirect:o});const c=Pe();return c.setTransactionName(e.name),a&&!o&&c.setSDKProcessingMetadata({normalizedRequest:{...Cm(),url:a}}),rl(t)}function H0(t){return ze.document?.querySelector(`meta[name=${t}]`)?.getAttribute("content")||void 0}function y2(t,e,r,a,o){const c=ze.document;let u;const f=()=>{const h="ui.action.click",m=rl(t);if(m){const y=Be(m).op;if(["navigation","pageload"].includes(y)){On&&Y.warn(`[Tracing] Did not create ${h} span because a pageload or navigation span is in progress.`);return}}if(u&&(u.setAttribute(Xo,"interactionInterrupted"),u.end(),u=void 0),!o.name){On&&Y.warn(`[Tracing] Did not create ${h} transaction because _latestRouteName is missing.`);return}u=bw({name:o.name,op:h,attributes:{[Pn]:o.source||"url"}},{idleTimeout:e,finalTimeout:r,childSpanTimeout:a})};c&&addEventListener("click",f,{capture:!0})}const uE="_sentry_idleSpan";function rl(t){return t[uE]}function q0(t,e){nn(t,uE,e)}const $0=1.5;function b2(t,e){const r=Be(t),a=ua(),o=r.start_timestamp;return!(a-o>$0||e&&a-e<=$0)}function v2(t){const e={...t};return Uw(e,"react"),Sw("react",{version:J.version}),mM(e)}const _2="modulepreload",S2=function(t){return"/"+t},P0={},St=function(e,r,a){let o=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");o=h(r.map(m=>{if(m=S2(m),m in P0)return;P0[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":_2,y||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),y)return new Promise((S,x)=>{_.addEventListener("load",S),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return e().catch(c)})},F0="G-6RPDS8PFEB",Pp=()=>{const t=localStorage.getItem("cookieConsent");if(!t){console.log("[Analytics] User has not consented to analytics");return}try{if(!JSON.parse(t).analytics){console.log("[Analytics] Analytics not enabled in user preferences");return}}catch{console.log("[Analytics] Invalid consent data");return}if(typeof window.gtag<"u"){console.log("[Analytics] GA already initialized");return}const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${F0}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(...r){window.dataLayer.push(r)},window.gtag("js",new Date),window.gtag("config",F0,{send_page_view:!1,anonymize_ip:!0}),console.log("[Analytics] Google Analytics initialized")},w2=(t,e)=>{if(typeof window.gtag>"u"){console.log("[Analytics] Page view:",t,e);return}window.gtag("event","page_view",{page_path:t,page_title:e||document.title})};function x2(){const[t,e]=J.useState(!1),r=Wu(),a=sm(),o=()=>{localStorage.removeItem("selectedBase"),localStorage.removeItem("hasVisitedSite"),window.dispatchEvent(new CustomEvent("openBaseSelectionModal")),e(!1)},c=J.useCallback(h=>{if(a.pathname==="/"){const m=document.getElementById(h);if(m){const v=m.offsetTop-64;window.scrollTo({top:v,behavior:"smooth"})}else r("/",{state:{scrollTo:h}})}else r("/",{state:{scrollTo:h}});e(!1)},[a.pathname,r]),u=()=>{a.pathname==="/"?window.scrollTo({top:0,behavior:"smooth"}):r("/"),e(!1)},f=J.useCallback(h=>{h.stopPropagation(),e(!1)},[]);return g.jsxs(g.Fragment,{children:[g.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-[var(--brand-bg-card)]/95 backdrop-blur-md border-b border-[var(--brand-border)] shadow-sm",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsxs("button",{onClick:u,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[g.jsx("img",{src:"/EL_Logo.png",alt:"European Living",className:"h-10 w-10 object-contain"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-lg text-[var(--brand-primary-dark)] leading-tight",children:"European Living"}),g.jsx("span",{className:"text-xs text-[var(--brand-text-muted)]",children:"Your Guide to Europe"})]})]}),g.jsxs("nav",{className:"hidden lg:flex items-center gap-1",children:[g.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg",children:"Home"}),g.jsx("button",{onClick:()=>c("destinations"),className:"px-4 py-2 text-sm font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg",children:"Destinations"}),g.jsx(Zt,{to:"/day-trips",className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"Day Trips"}),g.jsx("button",{onClick:()=>c("travel-tips"),className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"Travel Tips"}),g.jsx("button",{onClick:()=>c("german-phrases"),className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"Travel Phrases"}),g.jsx("button",{onClick:()=>c("english-services"),className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"English Services"}),g.jsx(Zt,{to:"/about",className:"px-4 py-2 text-sm rounded-lg hover:bg-[var(--brand-bg-alt)]",children:"About"})]}),g.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[g.jsx("button",{onClick:()=>c("contact"),className:"px-6 py-2.5 bg-[var(--brand-primary)] text-white text-sm font-semibold rounded-full hover:scale-105 transition",children:"Contact Us"}),g.jsx("button",{onClick:o,className:"text-sm text-red-500 hover:text-red-700 underline",children:"Reset Base"})]}),g.jsx("button",{onClick:()=>e(!t),className:"lg:hidden p-2 rounded-lg hover:bg-[var(--brand-bg-alt)] transition","aria-label":"Toggle menu",children:t?g.jsx(am,{className:"w-6 h-6"}):g.jsx(_1,{className:"w-6 h-6"})})]})})}),t&&g.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:f,role:"button",tabIndex:-1,"aria-label":"Close menu"}),g.jsx("nav",{className:"absolute top-16 left-0 right-0 bg-white border-b border-[var(--brand-border)] shadow-lg max-h-[calc(100vh-4rem)] overflow-y-auto",children:g.jsxs("div",{className:"px-4 py-4 space-y-1",children:[g.jsx("button",{onClick:u,className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Home"}),g.jsx("button",{onClick:()=>c("destinations"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Destinations"}),g.jsx(Zt,{to:"/day-trips",onClick:()=>e(!1),className:"block px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Day Trips"}),g.jsx("button",{onClick:()=>c("travel-tips"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Travel Tips"}),g.jsx("button",{onClick:()=>c("german-phrases"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"Travel Phrases"}),g.jsx("button",{onClick:()=>c("english-services"),className:"w-full text-left px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"English Services"}),g.jsx(Zt,{to:"/about",onClick:()=>e(!1),className:"block px-4 py-3 text-base font-medium text-[var(--brand-text)] hover:text-[var(--brand-primary)] hover:bg-[var(--brand-bg-alt)] rounded-lg transition",children:"About"}),g.jsxs("div",{className:"pt-4 border-t border-[var(--brand-border)] mt-4",children:[g.jsx("button",{onClick:()=>c("contact"),className:"w-full px-4 py-3 bg-[var(--brand-primary)] text-white text-base font-semibold rounded-lg hover:bg-[var(--brand-dark)] transition",children:"Contact Us"}),g.jsx("button",{onClick:o,className:"w-full text-center px-4 py-3 text-sm text-red-500 hover:text-red-700 underline mt-2",children:"Reset Base Selection"})]})]})})]})]})}const E2=()=>{const t=()=>{localStorage.removeItem("cookieConsent"),window.dispatchEvent(new Event("openCookieSettings"))};return g.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"European Living"}),g.jsx("p",{className:"text-sm text-gray-400",children:"Your guide to living, working, and exploring Germany and Europe as a U.S. military member or expat."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx(Zt,{to:"/",className:"hover:text-white transition-colors",children:"Home"})}),g.jsx("li",{children:g.jsx(Zt,{to:"/services-directory",className:"hover:text-white transition-colors",children:"Services Directory"})}),g.jsx("li",{children:g.jsx(Zt,{to:"/day-trips",className:"hover:text-white transition-colors",children:"Day Trips"})}),g.jsx("li",{children:g.jsx(Zt,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx(Zt,{to:"/submit-business",className:"hover:text-white transition-colors",children:"Submit Your Business"})}),g.jsx("li",{children:g.jsx("a",{href:"https://www.usedcarguys.net",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Used Car Guys"})}),g.jsx("li",{children:g.jsx("a",{href:"https://framedwithwonder.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Framed With Wonder"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx(Zt,{to:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsxs("button",{onClick:t,className:"hover:text-white transition-colors flex items-center gap-2 text-left",children:[g.jsx(IS,{className:"w-4 h-4"}),"Cookie Settings"]})})]})]})]}),g.jsx("div",{className:"border-t border-[var(--brand-primary)] border-opacity-30 pt-6 mt-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 150+ Businesses"}),g.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Verified English-friendly services"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 10+ Years"}),g.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Serving the military community"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-[var(--brand-gold)] font-bold mb-2",children:" 6 Bases"}),g.jsx("div",{className:"text-sm text-[var(--brand-bg-alt)]",children:"Major US installations covered"})]})]})}),g.jsxs("div",{className:"border-t border-gray-800 pt-8 mt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," European Living. All rights reserved. Serving the American military community in Germany."]}),g.jsx("p",{className:"text-sm text-gray-400",children:"Made with  for U.S. military families in Europe"})]})]})})},T2=()=>{const[t,e]=J.useState(!1),[r,a]=J.useState(!1),[o,c]=J.useState({necessary:!0,analytics:!1,marketing:!1});J.useEffect(()=>{const _=localStorage.getItem("cookieConsent"),S=localStorage.getItem("cookieConsentDate");if(_&&S){const x=Date.now()-new Date(S).getTime(),k=365*24*60*60*1e3;if(x>k)localStorage.removeItem("cookieConsent"),localStorage.removeItem("cookieConsentDate"),setTimeout(()=>e(!0),500);else try{const E=JSON.parse(_);c(E),u(E)}catch(E){console.error("Error parsing cookie preferences",E)}}else{const x=setTimeout(()=>e(!0),500);return()=>clearTimeout(x)}},[]);const u=_=>{if(typeof window.gtag>"u"){console.log("gtag not loaded yet");return}_.analytics?window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag("consent","update",{analytics_storage:"denied"}),_.marketing?window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}):window.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})},f=()=>{y({necessary:!0,analytics:!0,marketing:!0}),Pp(),e(!1),a(!1)},h=()=>{y({necessary:!0,analytics:!1,marketing:!1}),e(!1),a(!1)},m=()=>{y(o),o.analytics&&Pp(),e(!1),a(!1)},y=_=>{localStorage.setItem("cookieConsent",JSON.stringify(_)),localStorage.setItem("cookieConsentDate",new Date().toISOString()),u(_),window.dispatchEvent(new CustomEvent("cookieConsentUpdated",{detail:_}))},v=_=>{_!=="necessary"&&c(S=>({...S,[_]:!S[_]}))};return J.useEffect(()=>{const _=()=>{e(!0),a(!0)};return window.addEventListener("openCookieSettings",_),()=>window.removeEventListener("openCookieSettings",_)},[]),g.jsx(Ko,{children:t&&g.jsxs(g.Fragment,{children:[g.jsx(Jn.div,{className:"fixed inset-0 bg-black/30 z-[100]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!r&&f()}),g.jsx(Ko,{children:r&&g.jsx(Jn.div,{className:"fixed inset-0 z-[102] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsxs(Jn.div,{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:_=>_.stopPropagation(),children:[g.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between flex-shrink-0 bg-white",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(S1,{className:"w-6 h-6 text-blue-600"}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Cookie Settings"})]}),g.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close settings",children:g.jsx(am,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[g.jsx("p",{className:"text-gray-600",children:"We use cookies to improve your experience on our site. You can choose which types of cookies to allow below."}),g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-start justify-between mb-2",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(w1,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Necessary Cookies"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function. These cannot be disabled."})]})]}),g.jsx("div",{className:"ml-4 flex-shrink-0",children:g.jsx("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center justify-end px-1 cursor-not-allowed",children:g.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),g.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[g.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),g.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[g.jsx("li",{children:"Enable core website functionality"}),g.jsx("li",{children:"Remember your base selection"}),g.jsx("li",{children:"Secure authentication and session management"}),g.jsx("li",{children:"Accessibility features"})]})]})]}),g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-start justify-between mb-2",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(x1,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Analytics Cookies"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors use our site to improve user experience."})]})]}),g.jsx("div",{className:"ml-4 flex-shrink-0",children:g.jsx("button",{onClick:()=>v("analytics"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.analytics?"bg-blue-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle analytics cookies ${o.analytics?"off":"on"}`,children:g.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),g.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[g.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),g.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[g.jsx("li",{children:"Anonymous visitor statistics"}),g.jsx("li",{children:"Page view tracking"}),g.jsx("li",{children:"User journey analysis"}),g.jsx("li",{children:"Help us improve navigation and content"})]}),g.jsx("p",{className:"mt-2 text-xs",children:"We use Google Analytics with IP anonymization."})]})]}),g.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-start justify-between mb-2",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(E1,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Marketing Cookies"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements based on your interests."})]})]}),g.jsx("div",{className:"ml-4 flex-shrink-0",children:g.jsx("button",{onClick:()=>v("marketing"),className:`w-12 h-6 rounded-full flex items-center transition-colors ${o.marketing?"bg-purple-600 justify-end":"bg-gray-300 justify-start"} px-1`,"aria-label":`Toggle marketing cookies ${o.marketing?"off":"on"}`,children:g.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})})]}),g.jsxs("details",{className:"text-sm text-gray-500 mt-3",children:[g.jsx("summary",{className:"cursor-pointer hover:text-gray-700 font-medium",children:"What do these do?"}),g.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[g.jsx("li",{children:"Track your browsing across websites"}),g.jsx("li",{children:"Deliver relevant advertisements"}),g.jsx("li",{children:"Measure ad campaign effectiveness"}),g.jsx("li",{children:"Create advertising profiles"})]})]})]}),g.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:g.jsxs("p",{children:["For more information about how we use cookies, please see our"," ",g.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",children:"Privacy Policy"}),". You can change your preferences at any time."]})})]}),g.jsxs("div",{className:"border-t border-gray-200 p-6 flex flex-col sm:flex-row gap-3 flex-shrink-0 bg-white",children:[g.jsx("button",{onClick:h,className:"flex-1 border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50 transition",children:"Reject All"}),g.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Preferences"}),g.jsx("button",{onClick:f,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Accept All"})]})]})})}),!r&&g.jsx(Jn.div,{className:"fixed bottom-0 left-0 right-0 z-[101] bg-white border-t-2 border-gray-200 shadow-2xl",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:_=>_.stopPropagation(),children:g.jsx("div",{className:"max-w-7xl mx-auto p-6",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[g.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[g.jsx(IS,{className:"w-8 h-8 text-blue-600 flex-shrink-0 mt-1"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:" Cookie Settings"}),g.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["We use cookies to provide you with an optimal website experience. Further information and how you can object to the use of cookies at any time can be found in our"," ",g.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",children:"privacy policy"}),"."]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[g.jsx("button",{onClick:h,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition whitespace-nowrap",children:"Reject All"}),g.jsx("button",{onClick:()=>a(!0),className:"px-6 py-3 border-2 border-blue-600 text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition whitespace-nowrap",children:"Settings"}),g.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition whitespace-nowrap shadow-lg",children:"Accept All"})]})]})})})]})})},dE=J.createContext(null);function k2({children:t}){const[e,r]=J.useState("all"),[a,o]=J.useState(!1);J.useEffect(()=>{if(typeof window<"u"){const u=localStorage.getItem("selectedBase");u&&r(u),o(!0)}},[]);const c=u=>{r(u),typeof window<"u"&&localStorage.setItem("selectedBase",u)};return g.jsx(dE.Provider,{value:{selectedBase:e,setSelectedBase:c,isLoaded:a},children:t})}function Zm(){const t=J.useContext(dE);if(!t)throw new Error("useBase must be used within BaseProvider");return t}const G0=[{id:"ramstein",name:"Ramstein Air Base",location:"Ramstein-Miesenbach",region:"Rhineland-Palatinate",icon:"",description:"Largest USAF base in Europe"},{id:"stuttgart",name:"USAG Stuttgart",location:"Stuttgart",region:"Baden-Wrttemberg",icon:"",description:"Home to EUCOM and AFRICOM headquarters"},{id:"kaiserslautern",name:"Kaiserslautern Area",location:"Kaiserslautern",region:"Rhineland-Palatinate",icon:"",description:"Heart of the KMC  Kaiserslautern Military Community"},{id:"wiesbaden",name:"USAG Wiesbaden",location:"Wiesbaden",region:"Hesse",icon:"",description:"Near Frankfurt, Army base and community"},{id:"grafenwoehr",name:"USAG Bavaria",location:"Grafenwhr",region:"Bavaria",icon:"",description:"Training area and large Army garrison"},{id:"spangdahlem",name:"Spangdahlem Air Base",location:"Spangdahlem",region:"Rhineland-Palatinate",icon:"",description:"USAF base near Bitburg"}],A2=()=>{const{selectedBase:t,setSelectedBase:e}=Zm(),[r,a]=J.useState(!1),[o,c]=J.useState(null),[u,f]=J.useState(!1);J.useEffect(()=>{const S=localStorage.getItem("hasVisitedSite");if(t&&t!=="all")f(!0);else if(!S){const x=setTimeout(()=>a(!0),800);return()=>clearTimeout(x)}},[t]),J.useEffect(()=>{const S=()=>{c(null),a(!0)};return window.addEventListener("openBaseSelectionModal",S),()=>{window.removeEventListener("openBaseSelectionModal",S)}},[]);const h=S=>c(S),m=()=>{o&&(e(o),localStorage.setItem("hasVisitedSite","true"),a(!1),f(!0))},y=()=>{localStorage.setItem("hasVisitedSite","true"),e("all"),a(!1),f(!0)},v=()=>{localStorage.removeItem("hasVisitedSite"),c(null),f(!1),a(!0),e("all")},_=S=>{if(S==="all")return"All Locations";const x=G0.find(k=>k.id===S);return x?x.name:"Select Base"};return g.jsxs(g.Fragment,{children:[u&&t&&g.jsxs("div",{className:"fixed top-4 right-4 z-40 bg-white shadow-lg rounded-lg px-4 py-2 border flex items-center gap-2 max-w-[calc(100vw-3rem)] overflow-hidden",children:[g.jsx(im,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),g.jsx("span",{className:"text-sm font-medium truncate min-w-0",children:_(t)}),g.jsx("button",{onClick:v,className:"ml-2 text-xs text-red-500 hover:text-red-700 underline flex-shrink-0",children:"Reset"})]}),g.jsx(Ko,{children:r&&g.jsx(Jn.div,{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsxs(Jn.div,{className:"bg-white rounded-2xl shadow-2xl max-w-md md:max-w-4xl w-full mt-12 overflow-y-auto max-h-[90vh]",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[g.jsxs("div",{className:"bg-blue-600 text-white p-6 flex justify-between items-center border-b border-gray-100",children:[g.jsx("h2",{className:"text-2xl font-extrabold",children:"Welcome to European Living "}),g.jsx("button",{onClick:y,className:"text-white/80 hover:text-white","aria-label":"Skip Base Selection",children:g.jsx(am,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 pb-8",children:[g.jsx("p",{className:"text-gray-700 text-base mb-6",children:"Choose the U.S. military community closest to you to see English-speaking services and local recommendations. You can change this anytime later."}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:G0.map(S=>g.jsx("button",{onClick:()=>h(S.id),className:`p-4 rounded-xl border-2 text-left transition duration-200 shadow-sm ${o===S.id?"border-blue-600 bg-blue-50 ring-2 ring-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300 hover:shadow-md"}`,children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("span",{className:"text-3xl mt-0.5",children:S.icon}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-extrabold text-gray-800",children:S.name}),g.jsxs("p",{className:"text-sm text-gray-600",children:[S.location,", ",S.region]}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S.description})]})]})},S.id))}),g.jsx("button",{onClick:()=>h("all"),className:`w-full p-4 border-2 rounded-lg transition duration-200 ${o==="all"?"border-gray-500 bg-gray-100 shadow-inner":"border-gray-300 hover:border-gray-400"} mb-6`,children:g.jsx("span",{className:"font-semibold text-gray-800",children:" Show All Locations"})}),g.jsx("button",{onClick:m,disabled:!o,className:`w-full py-3 rounded-xl font-semibold text-lg transition duration-300 shadow-lg ${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed shadow-none"} mt-4`,children:"Continue"}),g.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Not near a base?"," ",g.jsx("button",{onClick:y,className:"text-blue-600 font-medium hover:underline",children:"Skip this step"})]})]})]})})})]})};function C2({size:t="md",message:e,fullScreen:r=!1}){const a={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-2",lg:"w-12 h-12 border-3",xl:"w-16 h-16 border-4"},o=g.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[g.jsx("div",{className:`${a[t]} border-blue-600 border-t-transparent rounded-full animate-spin`,role:"status","aria-label":"Loading"}),e&&g.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:e})]});return r?g.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white bg-opacity-90 z-50",children:o}):g.jsx("div",{className:"flex items-center justify-center p-8",children:o})}function R2(){const t=Wu(),e="https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/hero-bg.jpg",r=()=>{document.getElementById("destinations")?.scrollIntoView({behavior:"smooth"})},a=()=>{document.getElementById("email-signup")?.scrollIntoView({behavior:"smooth"})};return g.jsxs("section",{id:"home","aria-label":"Hero",style:{backgroundImage:`url("${e}")`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center 55%"},className:"relative w-full min-h-screen flex items-center justify-center overflow-hidden bg-[var(--brand-bg, #000)]",children:[g.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(90deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.3) 100%)"}}),g.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",style:{background:"linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,0.4) 100%)"}}),g.jsxs("div",{className:"relative z-10 px-6 sm:px-10 text-center text-white max-w-5xl",children:[g.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-6",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(0, 0, 0, 0.6)"},children:["Discover Europe"," ",g.jsx("span",{className:"text-[var(--brand-gold,#F5C04A)]",children:"Beyond"})," the Base"]}),g.jsx("p",{className:"max-w-3xl mx-auto text-lg md:text-xl lg:text-2xl font-medium leading-relaxed mb-8",style:{textShadow:"0 2px 8px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.6)"},children:"Your complete guide to exploring Europe with confidence. From weekend trips to English-friendly services  all in one place."}),g.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mb-10 text-sm md:text-base",style:{textShadow:"0 2px 6px rgba(0, 0, 0, 0.8)"},children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(im,{className:"w-5 h-5 text-[var(--brand-gold)]"}),g.jsx("span",{className:"font-semibold",children:"33 Day Trips"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(T1,{className:"w-5 h-5 text-[var(--brand-gold)]"}),g.jsx("span",{className:"font-semibold",children:"200+ Businesses"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(k1,{className:"w-5 h-5 text-[var(--brand-gold)]"}),g.jsx("span",{className:"font-semibold",children:"1,200+ Phrases"})]})]}),g.jsx("p",{className:"max-w-2xl mx-auto text-base md:text-lg leading-relaxed mb-10 opacity-90",style:{textShadow:"0 2px 6px rgba(0, 0, 0, 0.8)"},children:"Built by Americans who've lived in Germany for 9+ years and helped hundreds of military families. We understand the fear of leaving base  and we're here to help you explore with confidence."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[g.jsx("button",{onClick:r,className:"w-full sm:w-auto bg-[var(--brand-primary,#1E40AF)] hover:bg-[var(--brand-dark,#153A84)] text-white font-bold px-8 py-4 rounded-xl text-lg transition-all shadow-xl hover:shadow-2xl hover:scale-105",children:" Explore Destinations"}),g.jsx("button",{onClick:a,className:"w-full sm:w-auto bg-[var(--brand-gold,#F5C04A)] hover:bg-[var(--brand-button)] text-[#131312] font-bold px-8 py-4 rounded-xl text-lg transition-all shadow-xl hover:shadow-2xl hover:scale-105",children:" Get Free Travel Tips"})]}),g.jsx("p",{className:"mt-6 text-sm md:text-base opacity-80",children:g.jsx("button",{onClick:()=>t("/about"),className:"underline hover:text-[var(--brand-gold)] transition-colors",children:"Read Terry's story "})})]})]})}function ud(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(r[a[o]]=t[a[o]]);return r}function N2(t,e,r,a){function o(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(y){try{m(a.next(y))}catch(v){u(v)}}function h(y){try{m(a.throw(y))}catch(v){u(v)}}function m(y){y.done?c(y.value):o(y.value).then(f,h)}m((a=a.apply(t,e||[])).next())})}const O2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class eg extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}}class j2 extends eg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class V0 extends eg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Y0 extends eg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fp||(Fp={}));class M2{constructor(e,{headers:r={},customFetch:a,region:o=Fp.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=O2(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return N2(this,arguments,void 0,function*(r,a={}){var o;let c,u;try{const{headers:f,method:h,body:m,signal:y,timeout:v}=a;let _={},{region:S}=a;S||(S=this.region);const x=new URL(`${this.url}/${r}`);S&&S!=="any"&&(_["x-region"]=S,x.searchParams.set("forceFunctionRegion",S));let k;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",k=m):typeof m=="string"?(_["Content-Type"]="text/plain",k=m):typeof FormData<"u"&&m instanceof FormData?k=m:(_["Content-Type"]="application/json",k=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?k=JSON.stringify(m):k=m;let E=y;v&&(u=new AbortController,c=setTimeout(()=>u.abort(),v),y?(E=u.signal,y.addEventListener("abort",()=>u.abort())):E=u.signal);const N=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:k,signal:E}).catch(K=>{throw new j2(K)}),B=N.headers.get("x-relay-error");if(B&&B==="true")throw new V0(N);if(!N.ok)throw new Y0(N);let R=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return R==="application/json"?P=yield N.json():R==="application/octet-stream"||R==="application/pdf"?P=yield N.blob():R==="text/event-stream"?P=N:R==="multipart/form-data"?P=yield N.formData():P=yield N.text(),{data:P,error:null,response:N}}catch(f){return{data:null,error:f,response:f instanceof Y0||f instanceof V0?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var I2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},D2=class{constructor(t){var e,r,a;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(a=t.urlLengthLimit)!==null&&a!==void 0?a:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let u=null,f=null,h=null,m=c.status,y=c.statusText;if(c.ok){var v,_;if(r.method!=="HEAD"){var S;const N=await c.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((S=r.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?f=N:f=JSON.parse(N))}const k=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),E=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");k&&E&&E.length>1&&(h=parseInt(E[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var x;const k=await c.text();try{u=JSON.parse(k),Array.isArray(u)&&c.status===404&&(f=[],u=null,m=200,y="OK")}catch{c.status===404&&k===""?(m=204,y="No Content"):u={message:k}}if(u&&r.isMaybeSingle&&(!(u==null||(x=u.details)===null||x===void 0)&&x.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&r.shouldThrowOnError)throw new I2(u)}return{error:u,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(o=o.catch(c=>{var u;let f="",h="",m="";const y=c?.cause;if(y){var v,_,S,x;const N=(v=y?.message)!==null&&v!==void 0?v:"",B=(_=y?.code)!==null&&_!==void 0?_:"";f=`${(S=c?.name)!==null&&S!==void 0?S:"FetchError"}: ${c?.message}`,f+=`

Caused by: ${(x=y?.name)!==null&&x!==void 0?x:"Error"}: ${N}`,B&&(f+=` (${B})`),y?.stack&&(f+=`
${y.stack}`)}else{var k;f=(k=c?.stack)!==null&&k!==void 0?k:""}const E=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(m="",h="Request was aborted (timeout or manual cancellation)",E>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${E} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",h="HTTP headers exceeded server limits (typically 16KB)",E>this.urlLengthLimit&&(h+=`. Your request URL is ${E} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:f,hint:h,code:m},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},L2=class extends D2{select(t){let e=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(c,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:c="text"}={}){var u;const f=[t?"analyze":null,e?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const K0=new RegExp("[,()]");var oi=class extends L2{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(a=>typeof a=="string"&&K0.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(a=>typeof a=="string"&&K0.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${c}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},U2=class{constructor(t,{headers:e={},schema:r,fetch:a,urlLengthLimit:o=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=a,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:a}=e??{},o=r?"HEAD":"GET";let c=!1;const u=(t??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join(""),{url:f,headers:h}=this.cloneRequestState();return f.searchParams.set("select",u),a&&h.append("Prefer",`count=${a}`),new oi({method:o,url:f,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var a;const o="POST",{url:c,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),r||u.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);c.searchParams.set("columns",h.join(","))}}return new oi({method:o,url:c,headers:u,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){var c;const u="POST",{url:f,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),a&&h.append("Prefer",`count=${a}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);f.searchParams.set("columns",y.join(","))}}return new oi({method:u,url:f,headers:h,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const a="PATCH",{url:o,headers:c}=this.cloneRequestState();return e&&c.append("Prefer",`count=${e}`),new oi({method:a,url:o,headers:c,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:a,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new oi({method:r,url:a,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function B2(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(sl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z2(t){var e=B2(t,"string");return sl(e)=="symbol"?e:e+""}function H2(t,e,r){return(e=z2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function su(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W0(Object(r),!0).forEach(function(a){H2(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W0(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}var q2=class fE{constructor(e,{headers:r={},schema:a,fetch:o,timeout:c,urlLengthLimit:u=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=a,this.urlLengthLimit=u;const f=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(h,m)=>{const y=new AbortController,v=setTimeout(()=>y.abort(),c),_=m?.signal;if(_){if(_.aborted)return clearTimeout(v),f(h,m);const S=()=>{clearTimeout(v),y.abort()};return _.addEventListener("abort",S,{once:!0}),f(h,su(su({},m),{},{signal:y.signal})).finally(()=>{clearTimeout(v),_.removeEventListener("abort",S)})}return f(h,su(su({},m),{},{signal:y.signal})).finally(()=>clearTimeout(v))}:this.fetch=f}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new U2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new fE(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:a=!1,get:o=!1,count:c}={}){var u;let f;const h=new URL(`${this.url}/rpc/${e}`);let m;const y=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(y)),v=a&&Object.values(r).some(y);v?(f="POST",m=r):a||o?(f=a?"HEAD":"GET",Object.entries(r).filter(([S,x])=>x!==void 0).map(([S,x])=>[S,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([S,x])=>{h.searchParams.append(S,x)})):(f="POST",m=r);const _=new Headers(this.headers);return v?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new oi({method:f,url:h,headers:_,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class $2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const a=r.versions;if(a&&a.node){const o=a.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const P2="2.95.3",F2=`realtime-js/${P2}`,G2="1.0.0",hE="2.0.0",X0=hE,Gp=1e4,V2=1e3,Y2=100;var ls;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ls||(ls={}));var vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vt||(vt={}));var $n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($n||($n={}));var Vp;(function(t){t.websocket="websocket"})(Vp||(Vp={}));var Ws;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ws||(Ws={}));class K2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,a){var o,c;const u=e.topic,f=(o=e.ref)!==null&&o!==void 0?o:"",h=(c=e.join_ref)!==null&&c!==void 0?c:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+u.length+m.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let x=new DataView(S),k=0;x.setUint8(k++,this.KINDS.userBroadcastPush),x.setUint8(k++,h.length),x.setUint8(k++,f.length),x.setUint8(k++,u.length),x.setUint8(k++,m.length),x.setUint8(k++,v.length),x.setUint8(k++,r),Array.from(h,N=>x.setUint8(k++,N.charCodeAt(0))),Array.from(f,N=>x.setUint8(k++,N.charCodeAt(0))),Array.from(u,N=>x.setUint8(k++,N.charCodeAt(0))),Array.from(m,N=>x.setUint8(k++,N.charCodeAt(0))),Array.from(v,N=>x.setUint8(k++,N.charCodeAt(0)));var E=new Uint8Array(S.byteLength+a.byteLength);return E.set(new Uint8Array(S),0),E.set(new Uint8Array(a),S.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,c,u,f,h]=a;return r({join_ref:o,ref:c,topic:u,event:f,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,o)}_decodeUserBroadcast(e,r,a){const o=r.getUint8(1),c=r.getUint8(2),u=r.getUint8(3),f=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=a.decode(e.slice(h,h+o));h=h+o;const y=a.decode(e.slice(h,h+c));h=h+c;const v=a.decode(e.slice(h,h+u));h=h+u;const _=e.slice(h,e.byteLength),S=f===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,x={type:this.BROADCAST_EVENT,event:y,payload:S};return u>0&&(x.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class pE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const J0=(t,e,r={})=>{var a;const o=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=W2(u,t,e,o),c),{}):{}},W2=(t,e,r,a)=>{const o=e.find(f=>f.name===t),c=o?.type,u=r[t];return c&&!a.includes(c)?mE(c,u):Yp(u)},mE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Z2(e,r)}switch(t){case Qe.bool:return X2(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return J2(e);case Qe.json:case Qe.jsonb:return Q2(e);case Qe.timestamp:return eU(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Yp(e);default:return Yp(e)}},Yp=t=>t,X2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Z2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let c;const u=t.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(f=>mE(e,f))}return t},eU=t=>typeof t=="string"?t.replace(" ","T"):t,gE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Jh{constructor(e,r,a={},o=Gp){this.channel=e,this.event=r,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Q0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Q0||(Q0={}));class Vo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vo.syncState(this.state,o,c,u),this.pendingDiffs.forEach(h=>{this.state=Vo.syncDiff(this.state,h,c,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vo.syncDiff(this.state,o,c,u),f())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,o){const c=this.cloneDeep(e),u=this.transformState(r),f={},h={};return this.map(c,(m,y)=>{u[m]||(h[m]=y)}),this.map(u,(m,y)=>{const v=c[m];if(v){const _=y.map(E=>E.presence_ref),S=v.map(E=>E.presence_ref),x=y.filter(E=>S.indexOf(E.presence_ref)<0),k=v.filter(E=>_.indexOf(E.presence_ref)<0);x.length>0&&(f[m]=x),k.length>0&&(h[m]=k)}else f[m]=y}),this.syncDiff(c,{joins:f,leaves:h},a,o)}static syncDiff(e,r,a,o){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(f,h)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),y.length>0){const v=e[f].map(S=>S.presence_ref),_=y.filter(S=>v.indexOf(S.presence_ref)<0);e[f].unshift(..._)}a(f,y,h)}),this.map(u,(f,h)=>{let m=e[f];if(!m)return;const y=h.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),e[f]=m,o(f,m,h),m.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const o=e[a];return"metas"in o?r[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[a]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Z0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Z0||(Z0={}));var Yo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yo||(Yo={}));var wr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class pi{constructor(e,r={config:{}},a){var o,c;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jh(this,$n.join,this.params,this.timeout),this.rejoinTimer=new pE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Vo(this),this.broadcastEndpointURL=gE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,m=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(S=>S.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Yo.PRESENCE]&&this.bindings[Yo.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(wr.CHANNEL_ERROR,S)),this._onClose(()=>e?.(wr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(wr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(x=k?.length)!==null&&x!==void 0?x:0,N=[];for(let B=0;B<E;B++){const R=k[B],{filter:{event:P,schema:K,table:G,filter:U}}=R,q=S&&S[B];if(q&&q.event===P&&pi.isFilterValueEqual(q.schema,K)&&pi.isFilterValueEqual(q.table,G)&&pi.isFilterValueEqual(q.filter,U))N.push(Object.assign(Object.assign({},R),{id:q.id}));else{this.unsubscribe(),this.state=vt.errored,e?.(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(wr.SUBSCRIBED);return}}).receive("error",S=>{this.state=vt.errored,e?.(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===vt.joined&&e===Yo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,f,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Jh(this,$n.leave,{},e),a.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),u}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Jh(this,e,r,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Y2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var o,c;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:y}=$n;if(a&&[f,h,m,y].indexOf(u)>=0&&a!==this._joinRef())return;let _=this._onMessage(u,r,a);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var x,k,E;return((x=S.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(k=S.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(S=>S.callback(_,a)):(c=this.bindings[u])===null||c===void 0||c.filter(S=>{var x,k,E,N,B,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const P=S.id,K=(x=S.filter)===null||x===void 0?void 0:x.event;return P&&((k=r.ids)===null||k===void 0?void 0:k.includes(P))&&(K==="*"||K?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(B=(N=S?.filter)===null||N===void 0?void 0:N.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return P==="*"||P===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof _=="object"&&"ids"in _){const x=_.data,{schema:k,table:E,commit_timestamp:N,type:B,errors:R}=x;_=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:N,eventType:B,new:{},old:{},errors:R}),this._getPayloadRecords(x))}S.callback(_,a)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const o=e.toLocaleLowerCase(),c={type:o,filter:r,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&pi.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($n.close,{},e)}_onError(e){this._on($n.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=J0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=J0(e.columns,e.old_record)),r}}const Qh=()=>{},au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tU=[1e3,2e3,5e3,1e4],nU=1e4,rU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sU{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gp,this.transport=null,this.heartbeatIntervalMs=au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qh,this.ref=0,this.reconnectTimer=null,this.vsn=X0,this.logger=Qh,this.conn=null,this.sendBuffer=[],this.serializer=new K2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Vp.websocket}`,this.httpEndpoint=gE(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return Ws.Connecting;case ls.open:return Ws.Open;case ls.closing:return Ws.Closing;default:return Ws.Closed}}isConnected(){return this.connectionState()===Ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new pi(`realtime:${e}`,r,this);return this.channels.push(c),c}}push(e){const{topic:r,event:a,payload:o,ref:c}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${a} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(V2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},au.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:c,ref:u}=r,f=u?`(${u})`:"",h=c.status||"";this.log("receive",`${h} ${a} ${o} ${f}`.trim(),c),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,c,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ls.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ls.open||this.conn.readyState===ls.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger($n.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${a}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([rU],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const c={access_token:r,version:F2};r&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push($n.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new pE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},au.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,o,c,u,f,h,m,y,v,_,S;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Gp,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:au.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Qh,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:X0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(x=>tU[x-1]||nU),this.vsn){case G2:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((x,k)=>k(JSON.stringify(x))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((x,k)=>k(JSON.parse(x)));break;case hE:this.encode=(_=e?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var al=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function aU(t,e,r){const a=new URL(e,t);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&a.searchParams.set(o,c);return a.toString()}async function iU(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function oU(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:o,body:c,headers:u}){const f=aU(t.baseUrl,a,o),h=await iU(t.auth),m=await e(f,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...h,...u},body:c?JSON.stringify(c):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),_=v&&y?JSON.parse(y):y;if(!m.ok){const S=v?_:void 0,x=S?.error;throw new al(x?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:x?.type,icebergCode:x?.code,details:S})}return{status:m.status,headers:m.headers,data:_}}}}function iu(t){return t.join("")}var lU=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:iu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${iu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${iu(t.namespace)}`}),!0}catch(e){if(e instanceof al&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof al&&r.status===409)return;throw r}}};function Qa(t){return t.join("")}var cU=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qa(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qa(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qa(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qa(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof al&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof al&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},uU=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=oU({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new lU(this.client,e),this.tableOps=new cU(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},dd=class extends Error{constructor(t,e="storage",r,a){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=a}};function fd(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ou=class extends dd{constructor(t,e,r,a="storage"){super(t,a,e,r),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yE=class extends dd{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const dU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kp=t=>{if(Array.isArray(t))return t.map(r=>Kp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=Kp(a)}),e},hU=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function pU(t,e){if(il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(il(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mU(t){var e=pU(t,"string");return il(e)=="symbol"?e:e+""}function gU(t,e,r){return(e=mU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(r),!0).forEach(function(a){gU(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}const tS=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},yU=async(t,e,r,a)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t,c=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const f=u?.statusCode||u?.code||c+"";e(new ou(tS(u),c,f,a))}).catch(()=>{if(a==="vectors"){const u=c+"";e(new ou(o.statusText||`HTTP ${c} error`,c,u,a))}else{const u=c+"";e(new ou(o.statusText||`HTTP ${c} error`,c,u,a))}});else{const u=c+"";e(new ou(o.statusText||`HTTP ${c} error`,c,u,a))}}else e(new yE(tS(t),t,a))},bU=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!a?fe(fe({},o),r):(fU(a)?(o.headers=fe({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),fe(fe({},o),r))};async function Bo(t,e,r,a,o,c,u){return new Promise((f,h)=>{t(r,bU(e,a,o,c)).then(m=>{if(!m.ok)throw m;if(a?.noResolveJson)return m;if(u==="vectors"){const y=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!y||!y.includes("application/json"))return{}}return m.json()}).then(m=>f(m)).catch(m=>yU(m,h,a,u))})}function bE(t="storage"){return{get:async(e,r,a,o)=>Bo(e,"GET",r,a,o,void 0,t),post:async(e,r,a,o,c)=>Bo(e,"POST",r,o,c,a,t),put:async(e,r,a,o,c)=>Bo(e,"PUT",r,o,c,a,t),head:async(e,r,a,o)=>Bo(e,"HEAD",r,fe(fe({},a),{},{noResolveJson:!0}),o,void 0,t),remove:async(e,r,a,o,c)=>Bo(e,"DELETE",r,o,c,a,t)}}const vU=bE("storage"),{get:ol,post:zn,put:Wp,head:_U,remove:tg}=vU,gn=bE("vectors");var Ui=class{constructor(t,e={},r,a="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=dU(r),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fd(r))return{data:null,error:r};throw r}}},SU=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fd(e))return{data:null,error:e};throw e}}};let vE;vE=Symbol.toStringTag;var wU=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[vE]="BlobDownloadBuilder",this.promise=null}asStream(){return new SU(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fd(e))return{data:null,error:e};throw e}}};const xU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var EU=class extends Ui{constructor(t,e={},r,a){super(t,e,a,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,a){var o=this;return o.handleOperation(async()=>{let c;const u=fe(fe({},nS),a);let f=fe(fe({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),h&&c.append("metadata",o.encodeMetadata(h)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),h&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(h))):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(f=fe(fe({},f),a.headers));const m=o._removeEmptyFolders(e),y=o._getFinalPath(m),v=await(t=="PUT"?Wp:zn)(o.fetch,`${o.url}/object/${y}`,c,fe({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{path:m,id:v.Id,fullPath:v.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,a){var o=this;const c=o._removeEmptyFolders(t),u=o._getFinalPath(c),f=new URL(o.url+`/object/upload/sign/${u}`);return f.searchParams.set("token",e),o.handleOperation(async()=>{let h;const m=fe({upsert:nS.upsert},a),y=fe(fe({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{path:c,fullPath:(await Wp(o.fetch,f.toString(),h,{headers:y})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(t);const o=fe({},r.headers);e?.upsert&&(o["x-upsert"]="true");const c=await zn(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(r.url+c.url),f=u.searchParams.get("token");if(!f)throw new dd("No token returned by API");return{signedUrl:u.toString(),path:t,token:f}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var a=this;return a.handleOperation(async()=>await zn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:a.headers}))}async copy(t,e,r){var a=this;return a.handleOperation(async()=>({path:(await zn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(t,e,r){var a=this;return a.handleOperation(async()=>{let o=a._getFinalPath(t),c=await zn(a.fetch,`${a.url}/object/sign/${o}`,fe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:a.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${a.url}${c.signedURL}${u}`)}})}async createSignedUrls(t,e,r){var a=this;return a.handleOperation(async()=>{const o=await zn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(u=>fe(fe({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${c}`):null}))})}download(t,e,r){const a=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),c=o?`?${o}`:"",u=this._getFinalPath(t),f=()=>ol(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0},r);return new wU(f,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Kp(await ol(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await _U(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(fd(a)&&a instanceof yE){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const r=this._getFinalPath(t),a=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const c=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&a.push(u);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await tg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var a=this;return a.handleOperation(async()=>{const o=fe(fe(fe({},xU),e),{},{prefix:t||""});return await zn(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const a=fe({},t);return await zn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const TU="2.95.3",kl={"X-Client-Info":`storage-js/${TU}`};var kU=class extends Ui{constructor(t,e={},r,a){const o=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),u=fe(fe({},kl),e);super(c,u,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await ol(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ol(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await zn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Wp(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await zn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},AU=class extends Ui{constructor(t,e={},r){const a=t.replace(/\/$/,""),o=fe(fe({},kl),e);super(a,o,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await zn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const a=r.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return await ol(e.fetch,o,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!hU(t))throw new dd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new uU({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(o,c){const u=o[c];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(o,f),error:null}}catch(h){if(a)throw h;return{data:null,error:h}}}}})}},CU=class extends Ui{constructor(t,e={},r){const a=t.replace(/\/$/,""),o=fe(fe({},kl),{},{"Content-Type":"application/json"},e);super(a,o,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await gn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await gn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},RU=class extends Ui{constructor(t,e={},r){const a=t.replace(/\/$/,""),o=fe(fe({},kl),{},{"Content-Type":"application/json"},e);super(a,o,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},NU=class extends Ui{constructor(t,e={},r){const a=t.replace(/\/$/,""),o=fe(fe({},kl),{},{"Content-Type":"application/json"},e);super(a,o,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await gn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},OU=class extends NU{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new jU(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},jU=class extends CU{constructor(t,e,r,a){super(t,e,a),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,fe(fe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,fe(fe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new MU(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},MU=class extends RU{constructor(t,e,r,a,o){super(t,e,o),this.vectorBucketName=r,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,fe(fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,fe(fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,fe(fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,fe(fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,fe(fe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},IU=class extends kU{constructor(t,e={},r,a){super(t,e,r,a)}from(t){return new EU(this.url,this.headers,t,this.fetch)}get vectors(){return new OU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AU(this.url+"/iceberg",this.headers,this.fetch)}};const _E="2.95.3",li=30*1e3,Xp=3,Zh=Xp*li,DU="http://localhost:9999",LU="supabase.auth.token",UU={"X-Client-Info":`gotrue-js/${_E}`},Jp="X-Supabase-Api-Version",SE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zU=600*1e3;class ll extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HU extends ll{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function qU(t){return re(t)&&t.name==="AuthApiError"}class Xs extends ll{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class jr extends ll{constructor(e,r,a,o){super(e,a,o),this.name=r,this.status=a}}class pn extends jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ep(t){return re(t)&&t.name==="AuthSessionMissingError"}class Za extends jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lu extends jr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cu extends jr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $U(t){return re(t)&&t.name==="AuthImplicitGrantRedirectError"}class rS extends jr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PU extends jr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qp extends jr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function tp(t){return re(t)&&t.name==="AuthRetryableFetchError"}class sS extends jr{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class Zp extends jr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aS=` 	
\r=`.split(""),FU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<aS.length;e+=1)t[aS[e].charCodeAt(0)]=-2;for(let e=0;e<Fu.length;e+=1)t[Fu[e].charCodeAt(0)]=e;return t})();function iS(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Fu[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Fu[a]),e.queuedBits-=6}}function wE(t,e,r){const a=FU[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function oS(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{YU(u,a,r)};for(let u=0;u<t.length;u+=1)wE(t.charCodeAt(u),o,c);return e.join("")}function GU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function VU(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}GU(a,e)}}function YU(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function yi(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)wE(t.charCodeAt(o),r,a);return new Uint8Array(e)}function KU(t){const e=[];return VU(t,r=>e.push(r)),new Uint8Array(e)}function Zs(t){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};return t.forEach(o=>iS(o,r,a)),iS(null,r,a),e.join("")}function WU(t){return Math.round(Date.now()/1e3)+t}function XU(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",Fs={tested:!1,writable:!1},xE=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fs.tested)return Fs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fs.tested=!0,Fs.writable=!0}catch{Fs.tested=!0,Fs.writable=!1}return Fs.writable};function JU(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return r.searchParams.forEach((a,o)=>{e[o]=a}),e}const EE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ci=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Gs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(t,e)=>{await t.removeItem(e)};class hd{constructor(){this.promise=new hd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hd.promiseConstructor=Promise;function uu(t){const e=t.split(".");if(e.length!==3)throw new Zp("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!BU.test(e[a]))throw new Zp("JWT not in base64url format");return{header:JSON.parse(oS(e[0])),payload:JSON.parse(oS(e[1])),signature:yi(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function e3(t,e){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await t(c);if(!e(c,null,u)){a(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function t3(t){return("0"+t.toString(16)).substr(-2)}function n3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,t3).join("")}async function r3(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function s3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await r3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ei(t,e,r=!1){const a=n3();let o=a;r&&(o+="/PASSWORD_RECOVERY"),await ci(t,`${e}-code-verifier`,o);const c=await s3(a);return[c,a===c?"plain":"s256"]}const a3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i3(t){const e=t.headers.get(Jp);if(!e||!e.match(a3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function o3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function l3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ti(t){if(!c3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function np(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u3(t,e){return new Proxy(t,{get:(r,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,o)}})}function lS(t){return JSON.parse(JSON.stringify(t))}const Ys=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d3=[502,503,504];async function cS(t){var e;if(!QU(t))throw new Qp(Ys(t),0);if(d3.includes(t.status))throw new Qp(Ys(t),t.status);let r;try{r=await t.json()}catch(c){throw new Xs(Ys(c),c)}let a;const o=i3(t);if(o&&o.getTime()>=SE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new sS(Ys(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new pn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new sS(Ys(r),t.status,r.weak_password.reasons);throw new HU(Ys(r),t.status||500,a)}const f3=(t,e,r,a)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),r))};async function de(t,e,r,a){var o;const c=Object.assign({},a?.headers);c[Jp]||(c[Jp]=SE["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const u=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await h3(t,e,r+f,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function h3(t,e,r,a,o,c){const u=f3(e,a,o,c);let f;try{f=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Qp(Ys(h),0)}if(f.ok||await cS(f),a?.noResolveJson)return f;try{return await f.json()}catch(h){await cS(h)}}function Bn(t){var e;let r=null;g3(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=WU(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function uS(t){const e=Bn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function p3(t){return{data:t,error:null}}function m3(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:c}=t,u=ud(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:c},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function dS(t){return t}function g3(t){return t.access_token&&t.refresh_token&&t.expires_in}const rp=["global","local","others"];class y3{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=EE(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rp[0]){if(rp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rp.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cs})}catch(a){if(re(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=ud(e,["options"]),o=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:m3,redirectTo:r?.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cs})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,o,c,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:dS});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);m[`${E}Page`]=k}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(re(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ti(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cs})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ti(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cs})}catch(a){if(re(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){ti(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cs})}catch(a){if(re(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ti(e.userId);try{const{data:r,error:a}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:a}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ti(e.userId),ti(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,o,c,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:dS});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);m[`${E}Page`]=k}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(re(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(re(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function fS(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ni={debug:!!(globalThis&&xE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class b3 extends TE{}async function v3(t,e,r){ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new b3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ni.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function _3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function S3(t){return parseInt(t,16)}function w3(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function x3(t){var e;const{chainId:r,domain:a,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:f,requestId:h,resources:m,scheme:y,uri:v,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=kE(t.address),x=y?`${y}://${a}`:a,k=t.statement?`${t.statement}
`:"",E=`${x} wants you to sign in with your Ethereum account:
${S}

${k}`;let N=`URI: ${v}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),f&&(N+=`
Not Before: ${f.toISOString()}`),h&&(N+=`
Request ID: ${h}`),m){let B=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);B+=`
- ${R}`}N+=B}return`${E}
${N}`}class pt extends Error{constructor({message:e,code:r,cause:a,name:o}){var c;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=o??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Gu extends pt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function E3({error:t,options:e}){var r,a,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(AE(u)){if(c.rp.id!==u)return new pt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function T3({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(AE(a)){if(r.rpId!==a)return new pt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class k3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const A3=new k3;function C3(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,o=ud(t,["challenge","user","excludeCredentials"]),c=yi(e).buffer,u=Object.assign(Object.assign({},r),{id:yi(r.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:c,user:u});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const m=a[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:yi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function R3(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=ud(t,["challenge","allowCredentials"]),o=yi(e).buffer,c=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.allowCredentials[u]=Object.assign(Object.assign({},f),{id:yi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function N3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function O3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zs(new Uint8Array(o.authenticatorData)),clientDataJSON:Zs(new Uint8Array(o.clientDataJSON)),signature:Zs(new Uint8Array(o.signature)),userHandle:o.userHandle?Zs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function AE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function hS(){var t,e;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function j3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gu("Browser returned unexpected credential type",e)}:{data:null,error:new Gu("Empty credential response",e)}}catch(e){return{data:null,error:E3({error:e,options:t})}}}async function M3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gu("Browser returned unexpected credential type",e)}:{data:null,error:new Gu("Empty credential response",e)}}catch(e){return{data:null,error:T3({error:e,options:t})}}}const I3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},D3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of t)if(o)for(const c in o){const u=o[c];if(u!==void 0)if(Array.isArray(u))a[c]=u;else if(r(u))a[c]=u;else if(e(u)){const f=a[c];e(f)?a[c]=Vu(f,u):a[c]=Vu(u)}else a[c]=u}return a}function L3(t,e){return Vu(I3,t,e||{})}function U3(t,e){return Vu(D3,t,e||{})}class B3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:o},c){var u;try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!f)return{data:null,error:h};const m=o??A3.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;if(!y.name){const v=a;if(v)y.name=`${y.id}:${v}`;else{const S=(await this.client.getUser()).data.user,x=((u=S?.user_metadata)===null||u===void 0?void 0:u.name)||S?.email||S?.id||"User";y.name=`${y.id}:${x}`}}y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=L3(f.webauthn.credential_options.publicKey,c?.create),{data:v,error:_}=await j3({publicKey:y,signal:m});return v?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const y=U3(f.webauthn.credential_options.publicKey,c?.request),{data:v,error:_}=await M3(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:m}));return v?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in challenge",f)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!hS())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:o},{request:c});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:a,credential_response:h.credential_response}})}catch(u){return re(u)?{data:null,error:u}:{data:null,error:new Xs("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!hS())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:o},{create:c});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return re(u)?{data:null,error:u}:{data:null,error:new Xs("Unexpected error in register",u)}}}}_3();const z3={url:DU,storageKey:LU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function pS(t,e,r){return await r()}const ri={};class cl{get jwks(){var e,r;return(r=(e=ri[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ri[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},z3),e);if(this.storageKey=c.storageKey,this.instanceID=(r=cl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,cl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Mt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new y3({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=EE(c.fetch),this.lock=c.lock||pS,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Mt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=v3:this.lock=pS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new B3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:xE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fS(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=fS(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_E}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Mt()&&(r=JU(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Mt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),$U(c)){const h=(e=c.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:u,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?this._returnResult({error:r}):this._returnResult({error:new Xs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,o;try{const c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Bn}),{data:u,error:f}=c;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var r,a,o;try{let c;if("email"in e){const{email:y,password:v,options:_}=e;let S=null,x=null;this.flowType==="pkce"&&([S,x]=await ei(this.storage,this.storageKey)),c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:v,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:x},xform:Bn})}else if("phone"in e){const{phone:y,password:v,options:_}=e;c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(a=_?.data)!==null&&a!==void 0?a:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Bn})}else throw new lu("You must provide either an email or phone number and a password");const{data:u,error:f}=c;if(f||!u)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(c){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let r;if("email"in e){const{email:c,password:u,options:f}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:uS})}else if("phone"in e){const{phone:c,password:u,options:f}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:uS})}else throw new lu("You must provide either an email or phone number and a password");const{data:a,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const c=new Za;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,o,c,u,f,h,m,y,v,_;let S,x;if("message"in e)S=e.message,x=e.signature;else{const{chain:k,wallet:E,statement:N,options:B}=e;let R;if(Mt())if(typeof E=="object")R=E;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")R=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const P=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href),K=await R.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=kE(K[0]);let U=(a=B?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!U){const oe=await R.request({method:"eth_chainId"});U=S3(oe)}const q={domain:P.host,address:G,statement:N,uri:P.href,version:"1",chainId:U,nonce:(o=B?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=B?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=B?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=x3(q),x=await R.request({method:"personal_sign",params:[w3(S),G]})}try{const{data:k,error:E}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:x},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Bn});if(E)throw E;if(!k||!k.session||!k.user){const N=new Za;return this._returnResult({data:{user:null,session:null},error:N})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(re(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var r,a,o,c,u,f,h,m,y,v,_,S;let x,k;if("message"in e)x=e.message,k=e.signature;else{const{chain:E,wallet:N,statement:B,options:R}=e;let P;if(Mt())if(typeof N=="object")P=N;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))P=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const K=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const G=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),B?{statement:B}:null));let U;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")U=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)U=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)x=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),k=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${K.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(a=R?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=R?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const G=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=G}}try{const{data:E,error:N}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Zs(k)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Bn});if(N)throw N;if(!E||!E.session||!E.user){const B=new Za;return this._returnResult({data:{user:null,session:null},error:B})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:N})}catch(E){if(re(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{if(!a&&this.flowType==="pkce")throw new PU;const{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Bn});if(await jt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const f=new Za;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:r,provider:a,token:o,access_token:c,nonce:u}=e,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Bn}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const y=new Za;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,o,c,u;try{if("email"in e){const{email:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ei(this.storage,this.storageKey));const{error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(c=h?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new lu("You must provide either an email or phone number.")}catch(f){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var r,a;try{let o,c;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,c=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Bn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,a,o,c,u;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ei(this.storage,this.storageKey));const m=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:p3});return!((c=m.data)===null||c===void 0)&&c.url&&Mt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new pn;const{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(re(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:c}=e,{error:u}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:c}=e,{data:u,error:f}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new lu("You must provide either an email or phone number and a type")}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Zh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Gs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=np()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=u3(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cs}):await this._useSession(async r=>{var a,o,c;const{data:u,error:f}=r;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:cs})})}catch(r){if(re(r))return ep(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new pn;const u=o.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await ei(this.storage,this.storageKey));const{data:m,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:cs});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pn;const r=Date.now()/1e3;let a=r,o=!0,c=null;const{payload:u}=uu(e.access_token);if(u.exp&&(a=u.exp,o=a<=r),o){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});c={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:u,error:f}=r;if(f)throw f;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new pn;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Mt())throw new cu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rS("No code detected.");const{data:B,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:f,expires_at:h,token_type:m}=e;if(!c||!f||!u||!m)throw new cu("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let _=y+v;h&&(_=parseInt(h));const S=_-y;S*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const x=_-v;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,_,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,_,y);const{data:k,error:E}=await this._getUser(c);if(E)throw E;const N={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:v,expires_at:_,refresh_token:u,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(a){if(re(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:o,error:c}=r;if(c&&!ep(c))return this._returnResult({error:c});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(qU(f)&&(f.status===404||f.status===401||f.status===403)||ep(f)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=XU(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,o;try{const{data:{session:c},error:u}=r;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,r={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await ei(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:o}=await this._useSession(async c=>{var u,f,h,m,y;const{data:v,error:_}=c;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Mt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(re(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:u,provider:f,token:h,access_token:m,nonce:y}=e,v=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Bn}),{data:_,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Za}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,o;const{data:c,error:u}=r;if(u)throw u;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await e3(async o=>(o>0&&await ZU(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bn})),(o,c)=>{const u=200*Math.pow(2,o);return c&&tp(c)&&Date.now()+u-a<li})}catch(a){if(this._debug(r,"error",a),re(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Mt()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Gs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ci(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:np()}else if(o&&!o.user&&!o.user){const u=await Gs(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await jt(this.storage,this.storageKey+"-user"),await ci(this.storage,this.storageKey,o)):o.user=np()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zh;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Zh}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),tp(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(o.access_token);!f&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new hd;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new pn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(o,"error",c),re(c)){const u={data:null,error:c};return tp(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(h){c.push(h)}});if(await Promise.all(u),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await ci(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=lS(o);await ci(this.storage,this.storageKey,c)}else{const o=lS(r);await ci(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${li}ms, refresh threshold is ${Xp} ticks`),o<=Xp&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof TE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,u]=await ei(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(f.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,o;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await de(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?N3(e.webauthn.credential_response):O3(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:C3(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:R3(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,a,o,c;if(e)try{const{payload:S}=uu(e);let x=null;S.aal&&(x=S.aal);let k=x;const{data:{user:E},error:N}=await this.getUser(e);if(N)return this._returnResult({data:null,error:N});((a=(r=E?.factors)===null||r===void 0?void 0:r.filter(P=>P.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(k="aal2");const R=S.amr||[];return{data:{currentLevel:x,nextLevel:k,currentAuthenticationMethods:R},error:null}}catch(S){if(re(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:u},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=uu(u.access_token);let m=null;h.aal&&(m=h.aal);let y=m;((c=(o=u.user.factors)===null||o===void 0?void 0:o.filter(S=>S.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(y="aal2");const _=h.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new pn})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new pn});const u=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Mt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new pn});const u=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Mt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new pn})})}catch(e){if(re(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pn})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(f=>f.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(f=>f.kid===e),a&&this.jwks_cached_at+zU>o)return a;const{data:c,error:u}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,a=c.keys.find(f=>f.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:S,error:x}=await this.getSession();if(x||!S.session)return this._returnResult({data:null,error:x});a=S.session.access_token}const{header:o,payload:c,signature:u,raw:{header:f,payload:h}}=uu(a);r?.allowExpired||o3(c.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(a);if(S)throw S;return{data:{claims:c,header:o,signature:u},error:null}}const y=l3(o.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,KU(`${f}.${h}`)))throw new Zp("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}}cl.nextInstanceID={};const H3=cl,q3="2.95.3";let qo="";typeof Deno<"u"?qo="deno":typeof document<"u"?qo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qo="react-native":qo="node";const $3={"X-Client-Info":`supabase-js-${qo}/${q3}`},P3={headers:$3},F3={schema:"public"},G3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V3={};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Y3(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(ul(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K3(t){var e=Y3(t,"string");return ul(e)=="symbol"?e:e+""}function W3(t,e,r){return(e=K3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(r),!0).forEach(function(a){W3(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}const X3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),J3=()=>Headers,Q3=(t,e,r)=>{const a=X3(r),o=J3();return async(c,u)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:t;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),a(c,it(it({},u),{},{headers:m}))}};function Z3(t){return t.endsWith("/")?t:t+"/"}function e4(t,e){var r,a;const{db:o,auth:c,realtime:u,global:f}=t,{db:h,auth:m,realtime:y,global:v}=e,_={db:it(it({},h),o),auth:it(it({},m),c),realtime:it(it({},y),u),storage:{},global:it(it(it({},v),f),{},{headers:it(it({},(r=v?.headers)!==null&&r!==void 0?r:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function t4(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Z3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var n4=class extends H3{constructor(t){super(t)}},r4=class{constructor(t,e,r){var a,o;this.supabaseUrl=t,this.supabaseKey=e;const c=t4(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:F3,realtime:V3,auth:it(it({},G3),{},{storageKey:u}),global:P3},h=e4(r??{},f);if(this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=Q3(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(it({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new q2(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new IU(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new M2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:a,userStorage:o,storageKey:c,flowType:u,lock:f,debug:h,throwOnError:m},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n4({url:this.authUrl.href,headers:it(it({},_),y),storageKey:c,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:a,userStorage:o,flowType:u,lock:f,debug:h,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sU(this.realtimeUrl.href,it(it({},t),{},{params:it(it({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const s4=(t,e,r)=>new r4(t,e,r);function a4(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}a4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const i4="https://pkacbcohrygpyapgtzpq.supabase.co",o4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBrYWNiY29ocnlncHlhcGd0enBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzc5NzEsImV4cCI6MjA3NTg1Mzk3MX0.BJZulmGejOPa5mv4jLUKqDamBdLyjDEBP2RVTswga8c",yn=s4(i4,o4);async function l4(t="all"){try{const e=yn.from("featured_content").select("*").eq("active",!0).order("display_order",{ascending:!0}),{data:r,error:a}=await e;if(a)return console.error("Error fetching featured content:",a),[];if(!r)return[];console.log("Raw featured content from DB:",r);const o=r.filter(f=>{console.log("Checking item:",f.title,"bases_served:",f.bases_served);let h=[];if(Array.isArray(f.bases_served))h=f.bases_served;else if(typeof f.bases_served=="string")try{h=JSON.parse(f.bases_served)}catch{h=[f.bases_served]}return console.log("   basesArray:",h),h.includes("all")?(console.log('   Included (has "all")'),!0):t!=="all"&&h.includes(t)?(console.log("   Included (matches base)"),!0):t==="all"?(console.log("   Included (showing all)"),!0):(console.log("   Excluded"),!1)});console.log("Filtered featured content count:",o.length);const c=new Date,u=o.filter(f=>{const h=f.start_date?new Date(f.start_date):null,m=f.end_date?new Date(f.end_date):null;return console.log("Date check for:",f.title,{startDate:h?.toISOString(),endDate:m?.toISOString(),now:c.toISOString()}),h&&h>c?(console.log("   Excluded (not started yet)"),!1):m&&m<c?(console.log("   Excluded (already ended)"),!1):(console.log("   Included (date valid)"),!0)});return console.log("After date filter:",u.length),u.slice(0,3)}catch(e){return console.error("Unexpected error fetching featured content:",e),[]}}async function YB(){try{const{data:t,error:e}=await yn.from("featured_content").select("*").order("display_order",{ascending:!0});return e?(console.error("Error fetching all featured content:",e),[]):t||[]}catch(t){return console.error("Unexpected error:",t),[]}}async function KB(t){try{const{data:e,error:r}=await yn.from("featured_content").insert([t]).select().single();return r?(console.error("Error creating featured content:",r),null):e}catch(e){return console.error("Unexpected error:",e),null}}async function WB(t,e){try{const{data:r,error:a}=await yn.from("featured_content").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();return a?(console.error("Error updating featured content:",a),null):r}catch(r){return console.error("Unexpected error:",r),null}}async function XB(t){try{const{error:e}=await yn.from("featured_content").delete().eq("id",t);return e?(console.error("Error deleting featured content:",e),!1):!0}catch(e){return console.error("Unexpected error:",e),!1}}function c4(){const{selectedBase:t}=Zm(),[e,r]=J.useState([]),[a,o]=J.useState(!0),c=async()=>{o(!0);const u=await l4(t);console.log("Loaded featured items:",u),r(u),o(!1)};return J.useEffect(()=>{c()},[t]),!a&&e.length===0?null:g.jsx("section",{className:"py-16 bg-gradient-to-b from-[var(--brand-bg)] to-[var(--brand-bg-alt)]",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--brand-dark)] mb-4",children:" Featured This Week"}),g.jsx("p",{className:"text-lg text-[var(--muted-foreground)] max-w-2xl mx-auto",children:"Don't miss these timely recommendations and special content curated for you"})]}),a?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(u=>g.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg animate-pulse",children:[g.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),g.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),g.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),g.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},u))}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>g.jsxs("a",{href:u.link_url||"#",target:u.link_url?.startsWith("http")?"_blank":"_self",rel:u.link_url?.startsWith("http")?"noopener noreferrer":"",className:"group bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-[var(--border)] hover:border-[var(--brand-primary)] transform hover:-translate-y-1",children:[u.image_url?g.jsx("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)]",children:g.jsx("img",{src:u.image_url,alt:u.title,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-300"})}):g.jsx("div",{className:"h-48 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-dark)] flex items-center justify-center",children:g.jsx(i_,{className:"w-16 h-16 text-[var(--brand-light)] opacity-50"})}),g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-[var(--brand-dark)] mb-3 group-hover:text-[var(--brand-primary)] transition-colors line-clamp-2",children:u.title}),g.jsx("p",{className:"text-[var(--muted-foreground)] text-sm mb-4 line-clamp-3",children:u.description}),g.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[var(--muted-foreground)] mb-4",children:[(u.start_date||u.end_date)&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(A1,{size:14,className:"text-[var(--brand-primary)]"}),g.jsxs("span",{children:[u.start_date&&new Date(u.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),u.start_date&&u.end_date&&" - ",u.end_date&&new Date(u.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),u.type&&g.jsx("div",{className:"px-2 py-1 bg-[var(--muted)] rounded text-xs capitalize",children:u.type}),u.is_sponsored&&u.sponsor_name&&g.jsxs("div",{className:"text-xs text-[var(--muted-foreground)]",children:["Sponsored by ",u.sponsor_name]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-[var(--brand-primary)] font-semibold text-sm group-hover:text-[var(--brand-dark)] transition-colors",children:u.cta_text||"Learn More"}),g.jsx(i_,{size:16,className:"text-[var(--brand-primary)] group-hover:translate-x-1 transition-transform"})]})]})]},u.id))})]})})}function u4(){const[t,e]=J.useState([]),[r,a]=J.useState(0),[o,c]=J.useState(!0),u=Wu();J.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:E,error:N}=await yn.from("articles").select("*").eq("category","City Guides").order("created_at",{ascending:!1});if(N)throw console.error("Destinations Supabase error:",N),N;console.log(" DESTINATIONS - City Guides from articles:",E),e(E||[]),c(!1)}catch(E){console.error("Error fetching destinations:",E),c(!1)}},h=()=>{t.length!==0&&a(E=>{const N=E-3;return N<0?Math.max(0,t.length-3):N})},m=()=>{t.length!==0&&a(E=>{const N=E+3;return N>=t.length?0:N})},y=t.slice(r,r+3);for(;y.length<3&&t.length>y.length;)y.push(t[y.length]);const v=E=>E.title||E.name||E.destination||E.city||"Unnamed Destination",_=E=>E.location?E.location:E.city&&E.country?`${E.city}, ${E.country}`:E.country?E.country:"",S=E=>E.distance?E.distance:E.distance_km?`${E.distance_km} km`:"",x=E=>E.image_url||E.featured_image_url||E.hero_image_url,k=E=>E.category||E.type;return o?g.jsx("section",{className:"py-16 bg-[#F5F5F5]",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#2C5282]"}),g.jsx("p",{className:"mt-4 text-[#1A202C]",children:"Loading destinations..."})]})})}):t.length===0?g.jsx("section",{id:"destinations",className:"py-16 bg-[#F5F5F5]",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Explore Destinations"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Discover amazing places within driving distance from your base"})]}),g.jsx("div",{className:"text-center p-12 bg-white rounded-2xl",children:g.jsx("p",{className:"text-[#1A202C] mb-4",children:"No destinations available yet. Check back soon!"})})]})}):g.jsx("section",{className:"py-16 bg-[#F5F5F5]",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Explore Destinations"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Discover amazing places within driving distance from your base"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:y.map(E=>{const N=v(E),B=_(E),R=S(E),P=x(E),K=k(E);return g.jsxs("div",{onClick:()=>u(`/articles/${E.slug}`),className:"group bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 border border-[#E2E8F0]",children:[g.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-200",children:[P?g.jsx("img",{src:P,alt:N,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:G=>{const U=G.target;U.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?q=80&w=800"}}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#2C5282] to-[#4A90C5]",children:g.jsx("span",{className:"text-white text-lg font-semibold px-4 text-center",children:N})}),K&&g.jsx("div",{}),E.rating&&g.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 px-3 py-1 bg-white/95 backdrop-blur-sm rounded-full border border-[#E2E8F0]",children:[g.jsx(C1,{className:"w-4 h-4 fill-[#D69E2E] text-[#D69E2E]"}),g.jsx("span",{className:"text-xs font-semibold text-[#1A202C]",children:E.rating})]})]}),g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-[#1A202C] mb-2 group-hover:text-[#2C5282] transition-colors",children:N}),B&&g.jsx("p",{className:"text-sm text-[#718096] mb-4",children:B}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#718096]",children:[R&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(im,{className:"w-4 h-4"}),g.jsx("span",{children:R})]}),E.duration&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(R1,{className:"w-4 h-4"}),g.jsx("span",{children:E.duration})]})]}),g.jsx("div",{className:"mt-4 pt-4 border-t border-[#E2E8F0]",children:g.jsxs("div",{className:"flex items-center justify-between text-[#2C5282] font-semibold group-hover:text-[#4A90C5]",children:[g.jsx("span",{children:"View Details"}),g.jsx(Tu,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]},E.id)})}),t.length>3&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:h,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Previous destinations",children:g.jsx(DS,{className:"w-6 h-6 text-[#1A202C]"})}),g.jsx("button",{onClick:m,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Next destinations",children:g.jsx(Tu,{className:"w-6 h-6 text-[#1A202C]"})})]}),t.length>3&&g.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:Math.ceil(t.length/3)}).map((E,N)=>g.jsx("button",{onClick:()=>a(N*3),className:`h-2 rounded-full transition-all ${Math.floor(r/3)===N?"w-8 bg-[#2C5282]":"w-2 bg-[#CBD5E0]"}`,"aria-label":`Go to page ${N+1}`},N))})]}),g.jsxs("div",{className:"mt-12 p-6 bg-[#2C5282] rounded-2xl text-center",children:[g.jsx("p",{className:"text-white text-lg mb-4",children:"Don't see your favorite destination? Let us know!"}),g.jsx("button",{onClick:()=>u("/about"),className:"px-6 py-3 bg-white text-[#2C5282] font-semibold rounded-full hover:bg-[#F5F5F5] transition-colors",children:"Request a Destination"})]})]})})}function d4(){const[t,e]=J.useState([]),[r,a]=J.useState(0),[o,c]=J.useState(!0),u=Wu();J.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:v,error:_}=await yn.from("articles").select("*").neq("category","City Guides").order("created_at",{ascending:!1});if(_)throw console.error("Travel Tips Supabase error:",_),_;console.log(" TRAVEL TIPS - Fetched from articles (excluding City Guides):",v),e(v||[]),c(!1)}catch(v){console.error("Error fetching travel tips:",v),c(!1)}},h=()=>{t.length!==0&&a(v=>{const _=v-3;return _<0?Math.max(0,t.length-3):_})},m=()=>{t.length!==0&&a(v=>{const _=v+3;return _>=t.length?0:_})},y=t.slice(r,r+3);for(;y.length<3&&t.length>y.length;)y.push(t[y.length]);return o?g.jsx("section",{id:"travel-tips",className:"py-16 bg-white",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#2C5282]"}),g.jsx("p",{className:"mt-4 text-[#1A202C]",children:"Loading travel tips..."})]})})}):t.length===0?g.jsx("section",{className:"py-16 bg-white",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Travel Tips & Essentials"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Expert guidance for living and traveling in Europe"})]}),g.jsx("div",{className:"text-center p-12 bg-[#F5F5F5] rounded-2xl",children:g.jsx("p",{className:"text-[#1A202C] mb-4",children:"No articles available yet. Check back soon!"})})]})}):g.jsx("section",{className:"py-16 bg-white",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-[#1A202C] mb-4",children:"Travel Tips & Essentials"}),g.jsx("p",{className:"text-xl text-[#718096]",children:"Expert guidance for living and traveling in Europe"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:y.map(v=>g.jsxs("div",{onClick:()=>u(`/articles/${v.slug}`),className:"group bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 border border-[#E2E8F0]",children:[g.jsxs("div",{className:"relative h-56 overflow-hidden bg-gray-200",children:[v.image_url||v.featured_image_url?g.jsx("img",{src:v.image_url||v.featured_image_url,alt:v.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:_=>{const S=_.target;S.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?q=80&w=800"}}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#2C5282] to-[#4A90C5]",children:g.jsx("span",{className:"text-white text-lg font-semibold px-4 text-center",children:v.title})}),v.category&&g.jsx("div",{})]}),g.jsxs("div",{className:"p-6 bg-[#FAFAFA]",children:[g.jsx("h3",{className:"text-xl font-bold text-[#1A202C] mb-2 group-hover:text-[#2C5282] transition-colors line-clamp-2",children:v.title}),(v.description||v.excerpt)&&g.jsx("p",{className:"text-sm text-[#718096] line-clamp-2",children:v.description||v.excerpt}),g.jsx("div",{className:"mt-4 pt-4 border-t border-[#E2E8F0]",children:g.jsxs("div",{className:"flex items-center justify-between text-[#2C5282] font-semibold group-hover:text-[#4A90C5]",children:[g.jsx("span",{children:"Read More"}),g.jsx(Tu,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]},v.id))}),t.length>3&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:h,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Previous articles",children:g.jsx(DS,{className:"w-6 h-6 text-[#1A202C]"})}),g.jsx("button",{onClick:m,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-[#F5F5F5] transition-all z-10 hover:scale-110 border border-[#E2E8F0]","aria-label":"Next articles",children:g.jsx(Tu,{className:"w-6 h-6 text-[#1A202C]"})})]}),t.length>3&&g.jsx("div",{className:"flex justify-center gap-2 mt-6",children:Array.from({length:Math.ceil(t.length/3)}).map((v,_)=>g.jsx("button",{onClick:()=>a(_*3),className:`h-2 rounded-full transition-all ${Math.floor(r/3)===_?"w-8 bg-[#2C5282]":"w-2 bg-[#CBD5E0]"}`,"aria-label":`Go to page ${_+1}`},_))})]}),g.jsxs("div",{className:"mt-12 p-6 bg-[#2C5282] rounded-2xl text-center",children:[g.jsx("p",{className:"text-white text-lg mb-4",children:"Have a topic you'd like us to cover?"}),g.jsx("button",{onClick:()=>u("/about"),className:"px-6 py-3 bg-white text-[#2C5282] font-semibold rounded-full hover:bg-[#F5F5F5] transition-colors",children:"Suggest a Topic"})]})]})})}function CE(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=CE(t[e]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function f4(){for(var t,e,r=0,a="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=CE(t))&&(a&&(a+=" "),a+=e);return a}const h4=(t,e)=>{const r=new Array(t.length+e.length);for(let a=0;a<t.length;a++)r[a]=t[a];for(let a=0;a<e.length;a++)r[t.length+a]=e[a];return r},p4=(t,e)=>({classGroupId:t,validator:e}),RE=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Yu="-",gS=[],m4="arbitrary..",g4=t=>{const e=b4(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return y4(u);const f=u.split(Yu),h=f[0]===""&&f.length>1?1:0;return NE(f,h,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const h=a[u],m=r[u];return h?m?h4(m,h):h:m||gS}return r[u]||gS}}},NE=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const o=t[e],c=r.nextPart.get(o);if(c){const m=NE(t,e+1,c);if(m)return m}const u=r.validators;if(u===null)return;const f=e===0?t.join(Yu):t.slice(e).join(Yu),h=u.length;for(let m=0;m<h;m++){const y=u[m];if(y.validator(f))return y.classGroupId}},y4=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),a=e.slice(0,r);return a?m4+a:void 0})(),b4=t=>{const{theme:e,classGroups:r}=t;return v4(r,e)},v4=(t,e)=>{const r=RE();for(const a in t){const o=t[a];ng(o,r,a,e)}return r},ng=(t,e,r,a)=>{const o=t.length;for(let c=0;c<o;c++){const u=t[c];_4(u,e,r,a)}},_4=(t,e,r,a)=>{if(typeof t=="string"){S4(t,e,r);return}if(typeof t=="function"){w4(t,e,r,a);return}x4(t,e,r,a)},S4=(t,e,r)=>{const a=t===""?e:OE(e,t);a.classGroupId=r},w4=(t,e,r,a)=>{if(E4(t)){ng(t(a),e,r,a);return}e.validators===null&&(e.validators=[]),e.validators.push(p4(r,t))},x4=(t,e,r,a)=>{const o=Object.entries(t),c=o.length;for(let u=0;u<c;u++){const[f,h]=o[u];ng(h,OE(e,f),r,a)}},OE=(t,e)=>{let r=t;const a=e.split(Yu),o=a.length;for(let c=0;c<o;c++){const u=a[c];let f=r.nextPart.get(u);f||(f=RE(),r.nextPart.set(u,f)),r=f}return r},E4=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,T4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),a=Object.create(null);const o=(c,u)=>{r[c]=u,e++,e>t&&(e=0,a=r,r=Object.create(null))};return{get(c){let u=r[c];if(u!==void 0)return u;if((u=a[c])!==void 0)return o(c,u),u},set(c,u){c in r?r[c]=u:o(c,u)}}},em="!",yS=":",k4=[],bS=(t,e,r,a,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:a,isExternal:o}),A4=t=>{const{prefix:e,experimentalParseClassName:r}=t;let a=o=>{const c=[];let u=0,f=0,h=0,m;const y=o.length;for(let k=0;k<y;k++){const E=o[k];if(u===0&&f===0){if(E===yS){c.push(o.slice(h,k)),h=k+1;continue}if(E==="/"){m=k;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const v=c.length===0?o:o.slice(h);let _=v,S=!1;v.endsWith(em)?(_=v.slice(0,-1),S=!0):v.startsWith(em)&&(_=v.slice(1),S=!0);const x=m&&m>h?m-h:void 0;return bS(c,S,_,x)};if(e){const o=e+yS,c=a;a=u=>u.startsWith(o)?c(u.slice(o.length)):bS(k4,!1,u,void 0,!0)}if(r){const o=a;a=c=>r({className:c,parseClassName:o})}return a},C4=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,a)=>{e.set(r,1e6+a)}),r=>{const a=[];let o=[];for(let c=0;c<r.length;c++){const u=r[c],f=u[0]==="[",h=e.has(u);f||h?(o.length>0&&(o.sort(),a.push(...o),o=[]),a.push(u)):o.push(u)}return o.length>0&&(o.sort(),a.push(...o)),a}},R4=t=>({cache:T4(t.cacheSize),parseClassName:A4(t),sortModifiers:C4(t),...g4(t)}),N4=/\s+/,O4=(t,e)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],f=t.trim().split(N4);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:v,modifiers:_,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:k}=r(y);if(v){h=y+(h.length>0?" "+h:h);continue}let E=!!k,N=a(E?x.substring(0,k):x);if(!N){if(!E){h=y+(h.length>0?" "+h:h);continue}if(N=a(x),!N){h=y+(h.length>0?" "+h:h);continue}E=!1}const B=_.length===0?"":_.length===1?_[0]:c(_).join(":"),R=S?B+em:B,P=R+N;if(u.indexOf(P)>-1)continue;u.push(P);const K=o(N,E);for(let G=0;G<K.length;++G){const U=K[G];u.push(R+U)}h=y+(h.length>0?" "+h:h)}return h},j4=(...t)=>{let e=0,r,a,o="";for(;e<t.length;)(r=t[e++])&&(a=jE(r))&&(o&&(o+=" "),o+=a);return o},jE=t=>{if(typeof t=="string")return t;let e,r="";for(let a=0;a<t.length;a++)t[a]&&(e=jE(t[a]))&&(r&&(r+=" "),r+=e);return r},M4=(t,...e)=>{let r,a,o,c;const u=h=>{const m=e.reduce((y,v)=>v(y),t());return r=R4(m),a=r.cache.get,o=r.cache.set,c=f,f(h)},f=h=>{const m=a(h);if(m)return m;const y=O4(h,r);return o(h,y),y};return c=u,(...h)=>c(j4(...h))},I4=[],bt=t=>{const e=r=>r[t]||I4;return e.isThemeGetter=!0,e},ME=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,IE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,D4=/^\d+\/\d+$/,L4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,z4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=t=>D4.test(t),Ee=t=>!!t&&!Number.isNaN(Number(t)),as=t=>!!t&&Number.isInteger(Number(t)),sp=t=>t.endsWith("%")&&Ee(t.slice(0,-1)),_r=t=>L4.test(t),q4=()=>!0,$4=t=>U4.test(t)&&!B4.test(t),DE=()=>!1,P4=t=>z4.test(t),F4=t=>H4.test(t),G4=t=>!Z(t)&&!ee(t),V4=t=>Bi(t,BE,DE),Z=t=>ME.test(t),Vs=t=>Bi(t,zE,$4),ap=t=>Bi(t,J4,Ee),vS=t=>Bi(t,LE,DE),Y4=t=>Bi(t,UE,F4),du=t=>Bi(t,HE,P4),ee=t=>IE.test(t),zo=t=>zi(t,zE),K4=t=>zi(t,Q4),_S=t=>zi(t,LE),W4=t=>zi(t,BE),X4=t=>zi(t,UE),fu=t=>zi(t,HE,!0),Bi=(t,e,r)=>{const a=ME.exec(t);return a?a[1]?e(a[1]):r(a[2]):!1},zi=(t,e,r=!1)=>{const a=IE.exec(t);return a?a[1]?e(a[1]):r:!1},LE=t=>t==="position"||t==="percentage",UE=t=>t==="image"||t==="url",BE=t=>t==="length"||t==="size"||t==="bg-size",zE=t=>t==="length",J4=t=>t==="number",Q4=t=>t==="family-name",HE=t=>t==="shadow",Z4=()=>{const t=bt("color"),e=bt("font"),r=bt("text"),a=bt("font-weight"),o=bt("tracking"),c=bt("leading"),u=bt("breakpoint"),f=bt("container"),h=bt("spacing"),m=bt("radius"),y=bt("shadow"),v=bt("inset-shadow"),_=bt("text-shadow"),S=bt("drop-shadow"),x=bt("blur"),k=bt("perspective"),E=bt("aspect"),N=bt("ease"),B=bt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...P(),ee,Z],G=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],q=()=>[ee,Z,h],oe=()=>[si,"full","auto",...q()],W=()=>[as,"none","subgrid",ee,Z],te=()=>["auto",{span:["full",as,ee,Z]},as,ee,Z],le=()=>[as,"auto",ee,Z],xe=()=>["auto","min","max","fr",ee,Z],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Re=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...q()],F=()=>[si,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...q()],O=()=>[t,ee,Z],se=()=>[...P(),_S,vS,{position:[ee,Z]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ge=()=>["auto","cover","contain",W4,V4,{size:[ee,Z]}],ce=()=>[sp,zo,Vs],X=()=>["","none","full",m,ee,Z],ye=()=>["",Ee,zo,Vs],Fe=()=>["solid","dashed","dotted","double"],xt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[Ee,sp,_S,vS],$t=()=>["","none",x,ee,Z],It=()=>["none",Ee,ee,Z],Pt=()=>["none",Ee,ee,Z],jn=()=>[Ee,ee,Z],Vn=()=>[si,"full",...q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_r],breakpoint:[_r],color:[q4],container:[_r],"drop-shadow":[_r],ease:["in","out","in-out"],font:[G4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_r],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_r],shadow:[_r],spacing:["px",Ee],text:[_r],"text-shadow":[_r],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",si,Z,ee,E]}],container:["container"],columns:[{columns:[Ee,Z,ee,f]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:oe()}],"inset-x":[{"inset-x":oe()}],"inset-y":[{"inset-y":oe()}],start:[{start:oe()}],end:[{end:oe()}],top:[{top:oe()}],right:[{right:oe()}],bottom:[{bottom:oe()}],left:[{left:oe()}],visibility:["visible","invisible","collapse"],z:[{z:[as,"auto",ee,Z]}],basis:[{basis:[si,"full","auto",f,...q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,si,"auto","initial","none",Z]}],grow:[{grow:["",Ee,ee,Z]}],shrink:[{shrink:["",Ee,ee,Z]}],order:[{order:[as,"first","last","none",ee,Z]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":xe()}],"auto-rows":[{"auto-rows":xe()}],gap:[{gap:q()}],"gap-x":[{"gap-x":q()}],"gap-y":[{"gap-y":q()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...Re(),"normal"]}],"justify-self":[{"justify-self":["auto",...Re()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...Re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Re(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...Re(),"baseline"]}],"place-self":[{"place-self":["auto",...Re()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":q()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[f,"screen",...F()]}],"min-w":[{"min-w":[f,"screen","none",...F()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",r,zo,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ee,ap]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sp,Z]}],"font-family":[{font:[K4,Z,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ee,Z]}],"line-clamp":[{"line-clamp":[Ee,"none",ee,ap]}],leading:[{leading:[c,...q()]}],"list-image":[{"list-image":["none",ee,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ee,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",ee,Vs]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Ee,"auto",ee,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ge()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},as,ee,Z],radial:["",ee,Z],conic:[as,ee,Z]},X4,Y4]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Fe(),"hidden","none"]}],"divide-style":[{divide:[...Fe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...Fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,ee,Z]}],"outline-w":[{outline:["",Ee,zo,Vs]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",y,fu,du]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",v,fu,du]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Ee,Vs]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",_,fu,du]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Ee,ee,Z]}],"mix-blend":[{"mix-blend":[...xt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ee,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ge()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ee,Z]}],filter:[{filter:["","none",ee,Z]}],blur:[{blur:$t()}],brightness:[{brightness:[Ee,ee,Z]}],contrast:[{contrast:[Ee,ee,Z]}],"drop-shadow":[{"drop-shadow":["","none",S,fu,du]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Ee,ee,Z]}],"hue-rotate":[{"hue-rotate":[Ee,ee,Z]}],invert:[{invert:["",Ee,ee,Z]}],saturate:[{saturate:[Ee,ee,Z]}],sepia:[{sepia:["",Ee,ee,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",ee,Z]}],"backdrop-blur":[{"backdrop-blur":$t()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,ee,Z]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,ee,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,ee,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,ee,Z]}],"backdrop-invert":[{"backdrop-invert":["",Ee,ee,Z]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,ee,Z]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,ee,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,ee,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":q()}],"border-spacing-x":[{"border-spacing-x":q()}],"border-spacing-y":[{"border-spacing-y":q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ee,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",ee,Z]}],ease:[{ease:["linear","initial",N,ee,Z]}],delay:[{delay:[Ee,ee,Z]}],animate:[{animate:["none",B,ee,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ee,Z]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:It()}],"rotate-x":[{"rotate-x":It()}],"rotate-y":[{"rotate-y":It()}],"rotate-z":[{"rotate-z":It()}],scale:[{scale:Pt()}],"scale-x":[{"scale-x":Pt()}],"scale-y":[{"scale-y":Pt()}],"scale-z":[{"scale-z":Pt()}],"scale-3d":["scale-3d"],skew:[{skew:jn()}],"skew-x":[{"skew-x":jn()}],"skew-y":[{"skew-y":jn()}],transform:[{transform:[ee,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vn()}],"translate-x":[{"translate-x":Vn()}],"translate-y":[{"translate-y":Vn()}],"translate-z":[{"translate-z":Vn()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee,Z]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Ee,zo,Vs,ap]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eB=M4(Z4);function qE(...t){return eB(f4(t))}function JB(t){return t?t.replace(/[-_]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function SS({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:qE("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}const tB="inline-flex items-center justify-center px-4 py-2 rounded-xl font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",nB={default:"bg-brand-green text-brand-black hover:bg-brand-black hover:text-brand-green focus:ring-brand-green",outline:"border border-brand-green text-brand-green hover:bg-brand-green hover:text-brand-black focus:ring-brand-green",ghost:"text-brand-green hover:text-brand-black hover:bg-brand-green/10 focus:ring-brand-green"},$E=J.forwardRef((t,e)=>{const{variant:r="default",className:a,children:o,as:c="button",...u}=t,f=qE(tB,nB[r],a);return c==="link"?g.jsx(Zt,{ref:e,className:f,...u,children:o}):g.jsx("button",{ref:e,className:f,...u,children:o})});$E.displayName="Button";const ip=[{code:"de",name:"German",flag:""},{code:"fr",name:"French",flag:""},{code:"it",name:"Italian",flag:""},{code:"es",name:"Spanish",flag:""},{code:"nl",name:"Dutch",flag:""},{code:"cs",name:"Czech",flag:""}];class rB{async getCategories(){const{data:e,error:r}=await yn.from("phrase_categories").select("*").order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching categories:",r),r;return e||[]}async getPhrasesByCategory(e){console.log(" Querying Supabase for category:",e);const{data:r,error:a}=await yn.from("phrases").select("*").eq("category_id",e).order("sort_order",{ascending:!0});if(console.log(" Raw data from Supabase:",r),console.log(" Error (if any):",a),a)throw console.error("Error fetching phrases:",a),a;const o=this.groupPhrases(r||[]);return console.log(" Grouped phrases:",o),o}async getAllPhrases(){const{data:e,error:r}=await yn.from("phrases").select("*").order("category_id",{ascending:!0}).order("sort_order",{ascending:!0});if(r)throw console.error("Error fetching all phrases:",r),r;const a={},o=e||[];return new Set(o.map(u=>u.category_id)).forEach(u=>{const f=o.filter(h=>h.category_id===u);a[u]=this.groupPhrases(f)}),a}async searchPhrases(e,r){let a=yn.from("phrases").select("*");r&&(a=a.eq("language_code",r)),a=a.or(`english.ilike.%${e}%,translation.ilike.%${e}%`);const{data:o,error:c}=await a;if(c)throw console.error("Error searching phrases:",c),c;return this.groupPhrases(o||[])}groupPhrases(e){const r=new Map;return e.forEach(a=>{r.has(a.english)||r.set(a.english,{english:a.english,icon:a.icon,sort_order:a.sort_order,translations:{}});const o=r.get(a.english);o.translations[a.language_code]={text:a.translation,pronunciation:a.pronunciation}}),Array.from(r.values()).sort((a,o)=>a.sort_order-o.sort_order)}async getPhraseByEnglish(e){const{data:r,error:a}=await yn.from("phrases").select("*").eq("english",e);if(a)throw console.error("Error fetching phrase:",a),a;return!r||r.length===0?null:this.groupPhrases(r)[0]||null}}const op=new rB;function sB(){const[t,e]=J.useState(ip[0].code),[r,a]=J.useState(null),[o,c]=J.useState([]),[u,f]=J.useState([]),[h,m]=J.useState(!0),[y,v]=J.useState(null),[_,S]=J.useState("");J.useEffect(()=>{x()},[]),J.useEffect(()=>{r&&k(r)},[r]);const x=async()=>{try{m(!0);const R=await op.getCategories();c(R),R.length>0&&a(R[0].id)}catch(R){console.error("Error loading categories:",R),v(`Failed to load categories: ${R instanceof Error?R.message:"Unknown error"}`)}finally{m(!1)}},k=async R=>{try{m(!0);const P=await op.getPhrasesByCategory(R);f(P),v(null)}catch(P){console.error("Error loading phrases:",P),v(`Failed to load phrases: ${P instanceof Error?P.message:"Unknown error"}`)}finally{m(!1)}},E=async()=>{if(!_.trim()){r&&k(r);return}try{m(!0);const R=await op.searchPhrases(_,t);f(R),v(null)}catch(R){v("Search failed"),console.error(R)}finally{m(!1)}},N=(R,P)=>{if("speechSynthesis"in window){const K=new SpeechSynthesisUtterance(R),G={de:"de-DE",fr:"fr-FR",it:"it-IT",es:"es-ES",nl:"nl-NL",cs:"cs-CZ"};K.lang=G[P]||P,K.rate=.8,window.speechSynthesis.speak(K)}},B=ip.find(R=>R.code===t);return h&&o.length===0?g.jsx("section",{id:"german-phrases",className:"py-16 bg-[var(--brand-bg-alt)]",children:g.jsx("div",{className:"container mx-auto px-4",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}}),g.jsx("p",{className:"mt-4 text-[var(--brand-text-muted)]",children:"Loading phrases..."})]})})}):y?g.jsx("section",{className:"py-16 bg-[var(--brand-bg-alt)]",children:g.jsx("div",{className:"container mx-auto px-4",children:g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs(SS,{className:"p-8 bg-[var(--brand-bg-card)] border border-[var(--brand-border)]",children:[g.jsx("h3",{className:"text-xl font-bold mb-4 text-[var(--brand-text)]",children:"Error Loading Phrases"}),g.jsx("p",{className:"mb-4 text-[var(--brand-text-muted)]",children:y}),g.jsx($E,{onClick:x,className:"bg-[var(--brand-primary)] text-white hover:bg-[var(--brand-primary-light)]",children:"Retry Loading"})]})})})}):g.jsx("section",{className:"py-16 bg-[var(--brand-bg-alt)]",children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl font-bold mb-4 text-[var(--brand-text)]",children:"Essential Travel Phrases"}),g.jsx("p",{className:"text-xl text-[var(--brand-text-muted)] max-w-2xl mx-auto",children:"Master key phrases in multiple European languages for your travels"})]}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:ip.map(R=>g.jsxs("button",{onClick:()=>e(R.code),className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base border-2",style:{background:t===R.code?"var(--brand-primary)":"var(--brand-bg-card)",color:t===R.code?"white":"var(--brand-text)",borderColor:t===R.code?"var(--brand-primary)":"var(--brand-border)"},children:[g.jsx("span",{className:"mr-1 sm:mr-2 text-base sm:text-lg",children:R.flag}),R.name]},R.code))}),g.jsx("div",{className:"max-w-2xl mx-auto mb-8 px-2",children:g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx("input",{type:"text",placeholder:"Search phrases...",value:_,onChange:R=>S(R.target.value),onKeyDown:R=>R.key==="Enter"&&E(),className:"flex-1 px-4 py-3 border-2 rounded-lg focus:outline-none text-base bg-[var(--brand-bg-card)]",style:{borderColor:"var(--brand-border)",color:"var(--brand-text)"}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:E,className:"flex-1 sm:flex-none px-6 py-3 rounded-lg font-semibold transition-all hover:opacity-90 bg-[var(--brand-primary)] text-white",children:"Search"}),_&&g.jsx("button",{onClick:()=>{S(""),r&&k(r)},className:"flex-1 sm:flex-none px-4 py-3 rounded-lg font-semibold transition-all hover:opacity-90 bg-[var(--brand-bg-card)] text-[var(--brand-text)] border border-[var(--brand-border)]",children:"Clear"})]})]})}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-2",children:o.map(R=>g.jsxs("button",{onClick:()=>{a(R.id),S("")},className:"px-3 sm:px-5 py-2 rounded-full font-medium transition-all hover:opacity-90 text-sm sm:text-base whitespace-nowrap border-2",style:{background:r===R.id?"var(--brand-primary)":"var(--brand-bg-card)",color:r===R.id?"white":"var(--brand-text)",borderColor:r===R.id?"var(--brand-primary)":"var(--brand-border)"},children:[g.jsx("span",{className:"mr-1 sm:mr-2",children:R.icon}),g.jsx("span",{className:"hidden sm:inline",children:R.name}),g.jsx("span",{className:"sm:hidden",children:R.name.split(" ")[0]})]},R.id))}),h?g.jsx("div",{className:"text-center py-12",children:g.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-r-transparent",style:{borderColor:"var(--brand-primary)",borderRightColor:"transparent"}})}):g.jsx("div",{className:"max-w-4xl mx-auto px-2",children:u.length===0?g.jsx(SS,{className:"p-8 text-center bg-[var(--brand-bg-card)] border border-[var(--brand-border)]",children:g.jsx("p",{className:"text-[var(--brand-text-muted)]",children:_?"No phrases found matching your search.":"No phrases available for this category."})}):g.jsx("div",{className:"overflow-y-auto space-y-3 sm:space-y-4 pr-1 sm:pr-2",style:{maxHeight:"400px",scrollbarWidth:"thin",scrollbarColor:"var(--brand-primary) var(--brand-bg-alt)"},children:u.map((R,P)=>{const K=R.translations[t];return K?g.jsx("div",{className:"p-4 sm:p-6 rounded-xl transition-shadow hover:shadow-lg bg-[var(--brand-bg-card)] border border-[var(--brand-border)]",children:g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[g.jsxs("div",{className:"flex items-start gap-3 w-full sm:hidden",children:[R.icon&&g.jsx("span",{className:"text-2xl flex-shrink-0",children:R.icon}),g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-base font-semibold text-[var(--brand-text)]",children:R.english}),g.jsx("p",{className:"text-xs text-[var(--brand-text-muted)]",children:"English"})]}),g.jsxs("div",{className:"pt-3 border-t-2",style:{borderColor:"var(--brand-primary)"},children:[g.jsx("p",{className:"text-lg font-bold mb-1 text-[var(--brand-primary)]",children:K.text}),g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)] italic",children:K.pronunciation}),g.jsx("p",{className:"text-xs text-[var(--brand-text-muted)] mt-1",children:B?.name})]})]}),g.jsx("button",{onClick:()=>N(K.text,t),className:"shrink-0 w-10 h-10 rounded-lg transition-all hover:opacity-90 flex items-center justify-center bg-[var(--brand-secondary)] text-[var(--brand-text)]",title:"Listen to pronunciation",children:g.jsx("span",{className:"text-lg",children:""})})]}),g.jsxs("div",{className:"hidden sm:flex items-center gap-4 w-full",children:[R.icon&&g.jsx("span",{className:"text-3xl flex-shrink-0",children:R.icon}),g.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"flex flex-col justify-center",children:[g.jsx("p",{className:"text-lg font-semibold text-[var(--brand-text)]",children:R.english}),g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)] mt-1",children:"English"})]}),g.jsxs("div",{className:"flex flex-col justify-center pl-4",style:{borderLeft:"4px solid var(--brand-primary)"},children:[g.jsx("p",{className:"text-xl font-bold mb-1 text-[var(--brand-primary)]",children:K.text}),g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)] italic",children:K.pronunciation}),g.jsx("p",{className:"text-xs text-[var(--brand-text-muted)] mt-1",children:B?.name})]})]}),g.jsx("button",{onClick:()=>N(K.text,t),className:"shrink-0 w-12 h-12 rounded-lg transition-all hover:opacity-90 flex items-center justify-center bg-[var(--brand-secondary)] text-[var(--brand-text)]",title:"Listen to pronunciation",children:g.jsx("span",{className:"text-xl",children:""})})]})]})},P):null})})}),g.jsx("div",{className:"mt-12 text-center",children:g.jsx("p",{className:"text-sm text-[var(--brand-text-muted)]",children:" Tip: Click the speaker icon to hear the native pronunciation"})})]})})}function aB(t){return{id:t.id,name:t.name,category:t.category,subcategory:t.subcategory,description:t.description,location:t.location,address:t.address,city:t.city,latitude:t.latitude,longitude:t.longitude,basesServed:t.bases_served,baseDistance:t.base_distance,googleMapsUrl:t.google_maps_url,phone:t.phone,email:t.email,website:t.website,englishFluency:t.english_fluency,sofaFamiliar:t.sofa_familiar,militaryDiscount:t.military_discount,discountPercent:t.discount_percent,verified:t.verified,featured:t.featured,featuredTier:t.featured_tier,status:t.status,priceRange:t.price_range,rating:t.rating,reviewCount:t.review_count,imageUrl:t.image_url,images:t.images,notes:t.notes,tags:t.tags,isOnBase:t.is_on_base,createdAt:t.created_at,updatedAt:t.updated_at}}function QB(t){return{id:t.id,businessId:t.business_id,authorName:t.author_name,rating:t.rating,comment:t.comment,createdAt:t.created_at}}function iB(){return h1({queryKey:["businesses"],queryFn:async()=>{const{data:t,error:e}=await yn.from("businesses").select("*").eq("status","active").order("featured",{ascending:!1}).order("name",{ascending:!0});if(e)throw console.error("Error fetching businesses:",e),e;return(t||[]).map(aB)},staleTime:300*1e3})}const oB=[{id:"automotive",title:"Automotive Services",icon:N1,description:"Car dealers, mechanics, and auto services that work with Americans"},{id:"healthcare",title:"Healthcare",icon:O1,description:"English-speaking doctors, dentists, and specialists near European US Bases"},{id:"restaurants",title:"Restaurants & Dining",icon:j1,description:"English-friendly restaurants throughout Europe serving American living abroad"},{id:"shopping",title:"Shopping",icon:M1,description:"Stores and shops with English-speaking staff"},{id:"home-services",title:"Home Services",icon:I1,description:"Plumbers, electricians, and handymen who work with American families"},{id:"real-estate",title:"Real Estate",icon:D1,description:"Housing agents familiar with American military housing needs"},{id:"legal",title:"Legal Services",icon:L1,description:"Lawyers who understand SOFA status and military regulations"},{id:"education",title:"Education",icon:U1,description:"International schools and tutors for military families"},{id:"business",title:"Business Services",icon:B1,description:"Tax advisors and accountants familiar with US/German requirements"}],lB="default-app-id";function cB({selectedBase:t}){const e=t&&t!==lB,{data:r=[],isLoading:a}=iB(),o=J.useMemo(()=>{const c={};return r.forEach(u=>{u.category&&(c[u.category]=(c[u.category]||0)+1)}),c},[r]);return a?g.jsx("section",{className:"relative bg-[var(--brand-bg-card)] py-20",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:g.jsxs("p",{className:"text-[var(--brand-text)]",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[var(--brand-gold)] mx-auto mb-4"}),"Loading trusted services and business counts..."]})})}):e?g.jsxs("section",{id:"english-services",className:"relative bg-[var(--brand-bg-card)] py-20",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/services.jpg')] bg-cover bg-center"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),g.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Trusted English-Speaking Services Helping Americans Feel at Home in Europe"}),g.jsx("p",{className:"text-lg text-white/90 font-medium max-w-3xl mx-auto",children:"Find personally verified, English-speaking businesses across Europe that understand U.S. military, civilian, and contractors, and their families  offering trusted local support and peace of mind wherever you're stationed."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:oB.map(c=>{const u=c.icon,f=o[c.id]||0;return g.jsxs(Zt,{to:f>0?`/services/${c.id}?base=${t}`:"#",className:`bg-[var(--brand-bg-card)] rounded-xl p-6 border border-[var(--brand-border)] transition-all ${f>0?"hover:shadow-xl hover:-translate-y-1 cursor-pointer":"opacity-60 cursor-not-allowed pointer-events-none"}`,children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:`p-3 rounded-lg ${f>0?"bg-[var(--brand-primary)]":"bg-[var(--brand-gray)]/50"}`,children:g.jsx(u,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-[var(--brand-text)]",children:c.title}),g.jsxs("p",{className:"text-sm text-[var(--brand-text-muted)]",children:[f," ",f===1?"business":"businesses"]})]})]}),g.jsx("p",{className:"text-[var(--brand-text-muted)] mb-4",children:c.description}),f>0?g.jsxs("div",{className:"w-full bg-[var(--brand-primary)] text-white py-2 px-4 rounded-lg hover:bg-[var(--brand-primary-light)] transition font-medium text-center",children:["View ",f," ",f===1?"Business":"Businesses"]}):g.jsx("div",{className:"w-full bg-[var(--brand-bg-alt)] text-[var(--brand-text-muted)] py-2 px-4 rounded-lg font-medium text-center border border-[var(--brand-border)]",children:"Coming Soon"})]},c.id)})}),g.jsx("div",{className:"bg-[var(--brand-primary-dark)] rounded-xl p-8 mb-8 shadow-xl",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Do You Own a Business Near a US Military Base?"}),g.jsx("p",{className:"text-white/80 mb-6 max-w-2xl mx-auto",children:"If your business serves American military families and you speak English, we'd love to feature you in our directory."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx(Zt,{to:"/submit-business",className:"inline-block bg-[var(--brand-secondary)] text-[var(--brand-text)] px-8 py-3 rounded-lg hover:bg-[var(--brand-secondary-light)] transition font-semibold",children:"List Your Business"}),g.jsx("a",{href:"mailto:info@european-living.live.com?subject=Business Listing Inquiry",className:"inline-block bg-white text-[var(--brand-text)] px-8 py-3 rounded-lg hover:bg-[var(--brand-bg-alt)] transition font-semibold",children:"Email Us"})]})]})}),g.jsxs("div",{className:"text-center bg-[var(--brand-bg-card)] rounded-xl p-8 shadow-lg border border-[var(--brand-border)]",children:[g.jsx("h3",{className:"text-2xl font-bold text-[var(--brand-text)] mb-4",children:"Need More Help Finding Services?"}),g.jsx("p",{className:"text-[var(--brand-text-muted)] mb-6 max-w-2xl mx-auto",children:"Check out our comprehensive guide with tips for finding English-speaking professionals throughout Germany."}),g.jsx(Zt,{to:"/articles/services",className:"inline-block bg-[var(--brand-primary)] text-white px-8 py-3 rounded-lg hover:bg-[var(--brand-primary-light)] transition font-semibold",children:"Read Full Services Guide "})]})]})]}):g.jsxs("section",{id:"english-services",className:"relative bg-[var(--brand-bg-card)] py-20",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://pkacbcohrygpyapgtzpq.supabase.co/storage/v1/object/public/images/services.jpg')] bg-cover bg-center"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),g.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center py-16 rounded-xl bg-black/40 shadow-2xl",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Services Awaiting Base Selection"}),g.jsx("p",{className:"text-lg text-white/90 font-medium max-w-3xl mx-auto mb-8",children:"Please select your primary military base to view locally verified, English-speaking businesses tailored to your area."}),g.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openBaseSelectionModal")),className:"inline-block bg-[var(--brand-secondary)] text-[var(--brand-text)] px-8 py-3 rounded-lg hover:bg-[var(--brand-secondary-light)] transition font-semibold text-lg",children:"Select Your Base"})]})]})}function uB(){const[t,e]=J.useState(!1);return g.jsx("section",{id:"contact",className:"bg-[var(--brand-bg)] py-16 px-6 text-[#131312]",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl font-semibold mb-4 tracking-tight",children:"Get in Touch"}),g.jsx("p",{className:"text-lg text-[#131312]/80 mb-8",children:"Whether youre an American relocating to Europe, already living here, or simply exploring, were here to make your experience smoother."}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6 mb-10",children:[g.jsxs("a",{href:"mailto:info@european-living.live.com",className:"flex items-center gap-2 bg-[var(--brand-button)] text-[#f7f7ec] px-5 py-3 rounded-xl hover:bg-[#131312] transition",children:[g.jsx(dp,{size:20}),"info@european-living.live.com"]}),g.jsxs("a",{href:"https://wa.me/4915165227520",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[var(--brand-dark)] text-[#f4f5f0] px-5 py-3 rounded-xl hover:bg-[#9da586] transition",children:[g.jsx(z1,{size:20}),"Chat on WhatsApp"]})]}),g.jsx("button",{onClick:()=>e(!t),className:"bg-[var(--brand-button)] text-[#f7f7ec] px-6 py-3 rounded-xl font-medium hover:bg-[#131312] hover:text-[#f4f5f0] transition",children:t?"Close Form":"Ask a Question"}),g.jsx(Ko,{children:t&&g.jsx(Jn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:g.jsxs("form",{action:"https://formspree.io/f/mnngzrdn",method:"POST",className:"mt-8 bg-[#f4f5f0] p-8 rounded-2xl shadow-sm border border-[#9da586]/30 text-left",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Name"}),g.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Email"}),g.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-[#131312]",children:"Message"}),g.jsx("textarea",{name:"message",rows:4,required:!0,className:"w-full px-4 py-3 rounded-lg border border-[#9da586]/40 focus:outline-none focus:ring-2 focus:ring-[#9da586]"})]}),g.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#131312] text-[#f7f7ec] px-6 py-3 rounded-xl hover:bg-[#9da586] transition",children:[g.jsx(H1,{size:18}),"Send Message"]})]})})})]})})}function dB({variant:t="homepage",title:e,description:r}){const[a,o]=J.useState(""),[c,u]=J.useState(!1),[f,h]=J.useState(!1),[m,y]=J.useState(""),v=async x=>{x.preventDefault(),u(!0),y("");try{if((await fetch("https://formspree.io/f/xeeloovy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,_subject:"New European Living - Stay Updated Signup",signup_source:t,message:`New signup from ${t} section - Stay Updated list`})})).ok)h(!0),o("");else throw new Error("Failed to subscribe")}catch(k){console.error("Signup error:",k),y("Something went wrong. Please try again.")}finally{u(!1)}};f&&setTimeout(()=>h(!1),5e3);const S=(()=>{switch(t){case"homepage":return{container:"bg-gradient-to-r from-[var(--brand-primary)] to-[var(--brand-dark)] text-[#f7f7ec] rounded-2xl p-8 shadow-xl",input:"bg-white/10 border-white/20 text-white placeholder:text-white/60 focus:bg-white/20 focus:border-white/40",button:"bg-[var(--brand-gold)] text-[#131312] hover:bg-[var(--brand-button)] font-bold"};case"article":return{container:"bg-[#f4f5f0] border border-[#9da586]/30 rounded-xl p-6",input:"bg-white border-[#9da586]/40 focus:border-[var(--brand-primary)] text-[#131312]",button:"bg-[var(--brand-primary)] text-white hover:bg-[var(--brand-dark)] font-medium"};case"footer":return{container:"bg-[#131312] text-[#f4f5f0] rounded-lg p-6",input:"bg-white/10 border-white/20 text-white placeholder:text-white/60 focus:border-white/40",button:"bg-[var(--brand-button)] text-[#f7f7ec] hover:bg-[#9da586] font-medium"}}})();return g.jsx("div",{className:S.container,children:g.jsx(Ko,{mode:"wait",children:f?g.jsxs(Jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-center py-4",children:[g.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(q1,{className:"w-8 h-8 text-green-500"})}),g.jsx("h3",{className:"text-2xl font-bold mb-2",children:" You're In!"}),g.jsx("p",{className:"opacity-90",children:"We'll keep you posted when we add new destinations and guides. Thanks for joining us!"})]}):g.jsxs(Jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[g.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${t==="homepage"?"bg-white/10":t==="article"?"bg-[var(--brand-primary)]/10":"bg-white/10"}`,children:g.jsx(dp,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-2xl font-bold mb-2",children:e||" Stay in the Loop"}),g.jsx("p",{className:"text-lg opacity-90",children:r||"Get updates when we add new destinations, travel guides, and tips. No spam - just the good stuff when we have something worth sharing."})]})]}),g.jsxs("form",{onSubmit:v,className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[g.jsx("input",{type:"email",value:a,onChange:x=>o(x.target.value),placeholder:"your@email.com",required:!0,disabled:c,className:`flex-1 px-4 py-3 rounded-lg border focus:ring-2 focus:ring-offset-2 focus:outline-none transition-all disabled:opacity-50 ${S.input}`}),g.jsx("button",{type:"submit",disabled:c,className:`px-8 py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 flex items-center justify-center gap-2 whitespace-nowrap ${S.button}`,children:c?g.jsxs(g.Fragment,{children:[g.jsx($1,{className:"w-5 h-5 animate-spin"}),"Joining..."]}):g.jsxs(g.Fragment,{children:["Stay Updated",g.jsx(dp,{className:"w-5 h-5"})]})})]}),m&&g.jsx("p",{className:"text-red-400 text-sm",children:m}),g.jsxs("div",{className:"text-xs flex flex-wrap items-center gap-x-4 gap-y-1 opacity-70",children:[g.jsx("span",{className:"flex items-center gap-1",children:" No spam, ever"}),g.jsx("span",{className:"flex items-center gap-1",children:" Unsubscribe anytime"}),g.jsx("span",{className:"flex items-center gap-1",children:" Updates only when we have something new"})]})]})]})})})}function fB(){return g.jsx("section",{className:"py-16 px-6 bg-[var(--brand-bg)]",children:g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsx(dB,{variant:"homepage"})})})}const wS=t=>{const e=document.getElementById(t);if(e){const a=e.offsetTop-64;window.scrollTo({top:a,behavior:"smooth"}),console.log(`[HOMEPAGE DEBUG]  Scroll successful to ID: ${t}. Element found.`)}else console.error(`[HOMEPAGE DEBUG]  Scroll failed! Target ID='${t}' element was NOT found in the DOM.`)};function hB(){const{selectedBase:t}=Zm(),e=sm();return J.useEffect(()=>{if(!(e.state?.scrollTo||e.hash)){window.scrollTo(0,0);return}let a=null,o=!1;if(e.state?.scrollTo?(a=e.state.scrollTo,o=!0,console.log(`[HOMEPAGE DEBUG]  State received! Scroll target is: ${a}`),window.history.replaceState({},document.title)):e.hash&&(a=e.hash.substring(1),console.log(`[HOMEPAGE DEBUG]  Hash received! Scroll target is: ${a}`)),a)if(o){const c=setTimeout(()=>{wS(a)},300);return()=>clearTimeout(c)}else wS(a)},[e.state,e.hash]),g.jsxs("main",{className:"pt-16",children:[g.jsx("div",{id:"home",children:g.jsx(R2,{})}),g.jsx("div",{id:"destinations",children:g.jsx(u4,{})}),g.jsx("div",{id:"featured-content",children:g.jsx(c4,{})}),g.jsx("div",{id:"email-signup",children:g.jsx(fB,{})}),g.jsx("div",{id:"travel-tips",children:g.jsx(d4,{})}),g.jsx("div",{id:"german-phrases",children:g.jsx(sB,{})}),g.jsx("div",{id:"english-services",children:g.jsx(cB,{selectedBase:t})}),g.jsx("div",{id:"contact",children:g.jsx(uB,{})})]})}const pB=J.lazy(()=>St(()=>import("./ArticlePage-CZWNpGk-.js"),__vite__mapDeps([0,1,2,3,4,5]))),mB=J.lazy(()=>St(()=>import("./DestinationPage-D5_81cqW.js"),__vite__mapDeps([6,1,2,3,5,4]))),gB=J.lazy(()=>St(()=>import("./BusinessDetailPage-B7VImDIM.js"),__vite__mapDeps([7,1,2,8,9,10,4]))),xS=J.lazy(()=>St(()=>import("./ServiceCategoryPage-D38z33sH.js"),__vite__mapDeps([11,1,2,12,4,8,9,10]))),yB=J.lazy(()=>St(()=>import("./ServicesDirectory--_W9vPG_.js"),__vite__mapDeps([13,1,2,12,4]))),bB=J.lazy(()=>St(()=>import("./BusinessSubmissionForm-CkKJjuUX.js"),__vite__mapDeps([14,1,2,4]))),vB=J.lazy(()=>St(()=>import("./BusinessDataEntry-CsUPGEaL.js"),__vite__mapDeps([15,1,2,4]))),_B=J.lazy(()=>St(()=>import("./PrivacyPolicy-BbJa0tl9.js"),__vite__mapDeps([16,1,2]))),SB=J.lazy(()=>St(()=>import("./DayTripsPage-C0aRGrrf.js"),__vite__mapDeps([17,1,2,18,19,4]))),wB=J.lazy(()=>St(()=>import("./AboutPage-C2D91FPn.js"),__vite__mapDeps([20,1,2,19,4]))),xB=J.lazy(()=>St(()=>import("./FeaturedContentAdmin-B6BNYQSt.js"),__vite__mapDeps([21,1,2,19,4]))),EB=J.lazy(()=>St(()=>import("./DayTripDetailPage-B9bA6izZ.js"),__vite__mapDeps([22,1,2,18,19,4]))),TB=()=>{const[t,e]=J.useState(0);return J.useEffect(()=>{const r=()=>{const a=window.scrollY,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,c=a/o*100;e(c)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),g.jsx(Jn.div,{className:"fixed top-0 left-0 h-1 bg-blue-600 z-[9999]",style:{width:`${t}%`},initial:{width:0},animate:{width:t},transition:{ease:"easeOut",duration:.1}})},kB=()=>g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--brand-bg)]",children:g.jsx(C2,{size:"lg",message:"Loading page..."})});function AB(){const t=sm();return J.useEffect(()=>{w2(t.pathname+t.search,document.title)},[t]),J.useEffect(()=>{t.pathname!=="/"&&window.scrollTo(0,0)},[t.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(T2,{}),g.jsx(A2,{}),g.jsx(TB,{}),g.jsx(x2,{}),g.jsx(J.Suspense,{fallback:g.jsx(kB,{}),children:g.jsxs(b1,{children:[g.jsx(Jt,{path:"/",element:g.jsx(hB,{})}),g.jsx(Jt,{path:"/day-trips",element:g.jsx("div",{className:"pt-16",children:g.jsx(SB,{})})}),g.jsx(Jt,{path:"/day-trips/:id",element:g.jsx("div",{className:"pt-16",children:g.jsx(EB,{})})}),g.jsx(Jt,{path:"/admin/data-entry",element:g.jsx("div",{className:"pt-16",children:g.jsx(vB,{})})}),g.jsx(Jt,{path:"/admin/featured-content",element:g.jsx("div",{className:"pt-16",children:g.jsx(xB,{})})}),g.jsx(Jt,{path:"/services-directory",element:g.jsx("div",{className:"pt-16",children:g.jsx(yB,{})})}),g.jsx(Jt,{path:"/services/:category",element:g.jsx(xS,{})}),g.jsx(Jt,{path:"/services/:category/:subcategory",element:g.jsx(xS,{})}),g.jsx(Jt,{path:"/submit-business",element:g.jsx("div",{className:"pt-16",children:g.jsx(bB,{})})}),g.jsx(Jt,{path:"/articles/:slug",element:g.jsx(pB,{})}),g.jsx(Jt,{path:"/destinations/:id",element:g.jsx(mB,{})}),g.jsx(Jt,{path:"/businesses/:id",element:g.jsx(gB,{})}),g.jsx(Jt,{path:"/privacy-policy",element:g.jsx(_B,{})}),g.jsx(Jt,{path:"/about",element:g.jsx("div",{className:"pt-16",children:g.jsx(wB,{})})})]})}),g.jsx(E2,{})]})}class CB extends J.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),pl(a=>{a.setContext("errorInfo",{componentStack:r.componentStack}),xm(e)})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[g.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:g.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Oops! Something went wrong"}),g.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We've been notified and are working on a fix. Please try refreshing the page."}),this.state.error&&!1,g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Refresh Page"}),g.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded transition-colors",children:"Go Home"})]})]})}):this.props.children}}const ES={"/articles":()=>St(()=>import("./ArticlePage-CZWNpGk-.js"),__vite__mapDeps([0,1,2,3,4,5])),"/destinations":()=>St(()=>import("./DestinationPage-D5_81cqW.js"),__vite__mapDeps([6,1,2,3,5,4])),"/businesses":()=>St(()=>import("./BusinessDetailPage-B7VImDIM.js"),__vite__mapDeps([7,1,2,8,9,10,4])),"/services":()=>St(()=>import("./ServiceCategoryPage-D38z33sH.js"),__vite__mapDeps([11,1,2,12,4,8,9,10])),"/services-directory":()=>St(()=>import("./ServicesDirectory--_W9vPG_.js"),__vite__mapDeps([13,1,2,12,4])),"/submit-business":()=>St(()=>import("./BusinessSubmissionForm-CkKJjuUX.js"),__vite__mapDeps([14,1,2,4])),"/privacy-policy":()=>St(()=>import("./PrivacyPolicy-BbJa0tl9.js"),__vite__mapDeps([16,1,2]))},lp=new Set;function Ku(t){const e=Object.keys(ES).find(a=>t.startsWith(a));if(!e||lp.has(e))return;const r=ES[e];lp.add(e),r().catch(a=>{console.error(`Failed to preload route: ${e}`,a),lp.delete(e)})}function RB(){const t=r=>{const o=r.target.closest("a[href]");if(o&&o.href){const c=new URL(o.href);c.origin===window.location.origin&&Ku(c.pathname)}},e=r=>{const a=r.target;if(a.tagName==="A"){const o=a;if(o.href){const c=new URL(o.href);c.origin===window.location.origin&&Ku(c.pathname)}}};return document.addEventListener("mouseover",t,!0),document.addEventListener("focusin",e,!0),()=>{document.removeEventListener("mouseover",t,!0),document.removeEventListener("focusin",e,!0)}}function NB(){document.readyState==="complete"?TS():window.addEventListener("load",TS,{once:!0})}function TS(){setTimeout(()=>{Ku("/services-directory"),setTimeout(()=>{Ku("/services")},2e3)},1e3)}let PE=-1;const Hi=t=>{addEventListener("pageshow",(e=>{e.persisted&&(PE=e.timeStamp,t(e))}),!0)},er=(t,e,r,a)=>{let o,c;return u=>{e.value>=0&&(u||a)&&(c=e.value-(o??0),(c||o===void 0)&&(o=e.value,e.delta=c,e.rating=((f,h)=>f>h[1]?"poor":f>h[0]?"needs-improvement":"good")(e.value,r),t(e)))}},rg=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},sg=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},Al=()=>sg()?.activationStart??0,tr=(t,e=-1)=>{const r=sg();let a="navigate";return PE>=0?a="back-forward-cache":r&&(document.prerendering||Al()>0?a="prerender":document.wasDiscarded?a="restore":r.type&&(a=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:a}},cp=new WeakMap;function ag(t,e){return cp.get(t)||cp.set(t,new e),cp.get(t)}class OB{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const r=this.o[0],a=this.o.at(-1);this.i&&r&&a&&e.startTime-a.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const Cl=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const a=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return a.observe({type:t,buffered:!0,...r}),a}}catch{}},ig=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let mi=-1;const FE=new Set,kS=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,tm=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(const e of FE)e();isFinite(mi)||(mi=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",tm,!0))}},pd=()=>{if(mi<0){const t=Al();mi=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter((r=>r.name==="hidden"&&r.startTime>t))[0]?.startTime)??kS(),addEventListener("visibilitychange",tm,!0),addEventListener("prerenderingchange",tm,!0),Hi((()=>{setTimeout((()=>{mi=kS()}))}))}return{get firstHiddenTime(){return mi},onHidden(t){FE.add(t)}}},md=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},AS=[1800,3e3],GE=(t,e={})=>{md((()=>{const r=pd();let a,o=tr("FCP");const c=Cl("paint",(u=>{for(const f of u)f.name==="first-contentful-paint"&&(c.disconnect(),f.startTime<r.firstHiddenTime&&(o.value=Math.max(f.startTime-Al(),0),o.entries.push(f),a(!0)))}));c&&(a=er(t,o,AS,e.reportAllChanges),Hi((u=>{o=tr("FCP"),a=er(t,o,AS,e.reportAllChanges),rg((()=>{o.value=performance.now()-u.timeStamp,a(!0)}))})))}))},CS=[.1,.25],jB=(t,e={})=>{const r=pd();GE(ig((()=>{let a,o=tr("CLS",0);const c=ag(e,OB),u=h=>{for(const m of h)c.h(m);c.i>o.value&&(o.value=c.i,o.entries=c.o,a())},f=Cl("layout-shift",u);f&&(a=er(t,o,CS,e.reportAllChanges),r.onHidden((()=>{u(f.takeRecords()),a(!0)})),Hi((()=>{c.i=0,o=tr("CLS",0),a=er(t,o,CS,e.reportAllChanges),rg((()=>a()))})),setTimeout(a))})))};let VE=0,up=1/0,hu=0;const MB=t=>{for(const e of t)e.interactionId&&(up=Math.min(up,e.interactionId),hu=Math.max(hu,e.interactionId),VE=hu?(hu-up)/7+1:0)};let nm;const RS=()=>nm?VE:performance.interactionCount??0,IB=()=>{"interactionCount"in performance||nm||(nm=Cl("event",MB,{type:"event",buffered:!0,durationThreshold:0}))};let NS=0;class DB{u=[];l=new Map;m;p;v(){NS=RS(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((RS()-NS)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&e.entryType!=="first-input")return;const r=this.u.at(-1);let a=this.l.get(e.interactionId);if(a||this.u.length<10||e.duration>r.P){if(a?e.duration>a.P?(a.entries=[e],a.P=e.duration):e.duration===a.P&&e.startTime===a.entries[0].startTime&&a.entries.push(e):(a={id:e.interactionId,entries:[e],P:e.duration},this.l.set(a.id,a),this.u.push(a)),this.u.sort(((o,c)=>c.P-o.P)),this.u.length>10){const o=this.u.splice(10);for(const c of o)this.l.delete(c.id)}this.p?.(a)}}}const YE=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=ig(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},OS=[200,500],LB=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=pd();md((()=>{IB();let a,o=tr("INP");const c=ag(e,DB),u=h=>{YE((()=>{for(const y of h)c.h(y);const m=c.L();m&&m.P!==o.value&&(o.value=m.P,o.entries=m.entries,a())}))},f=Cl("event",u,{durationThreshold:e.durationThreshold??40});a=er(t,o,OS,e.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{u(f.takeRecords()),a(!0)})),Hi((()=>{c.v(),o=tr("INP"),a=er(t,o,OS,e.reportAllChanges)})))}))};class UB{m;h(e){this.m?.(e)}}const jS=[2500,4e3],BB=(t,e={})=>{md((()=>{const r=pd();let a,o=tr("LCP");const c=ag(e,UB),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const m of h)c.h(m),m.startTime<r.firstHiddenTime&&(o.value=Math.max(m.startTime-Al(),0),o.entries=[m],a())},f=Cl("largest-contentful-paint",u);if(f){a=er(t,o,jS,e.reportAllChanges);const h=ig((()=>{u(f.takeRecords()),f.disconnect(),a(!0)})),m=y=>{y.isTrusted&&(YE(h),removeEventListener(y.type,m,{capture:!0}))};for(const y of["keydown","click","visibilitychange"])addEventListener(y,m,{capture:!0});Hi((y=>{o=tr("LCP"),a=er(t,o,jS,e.reportAllChanges),rg((()=>{o.value=performance.now()-y.timeStamp,a(!0)}))}))}}))},MS=[800,1800],rm=t=>{document.prerendering?md((()=>rm(t))):document.readyState!=="complete"?addEventListener("load",(()=>rm(t)),!0):setTimeout(t)},zB=(t,e={})=>{let r=tr("TTFB"),a=er(t,r,MS,e.reportAllChanges);rm((()=>{const o=sg();o&&(r.value=Math.max(o.responseStart-Al(),0),r.entries=[o],a(!0),Hi((()=>{r=tr("TTFB",0),a=er(t,r,MS,e.reportAllChanges),a(!0)})))}))},HB=t=>{typeof window.gtag>"u"||window.gtag("event",t.name,{value:Math.round(t.name==="CLS"?t.value*1e3:t.value),event_category:"Web Vitals",event_label:t.id,non_interaction:!0,metric_rating:t.rating})},qB=t=>{if(typeof window.Sentry>"u")return;const e={};e[t.name]={value:t.value,unit:t.name==="CLS"?"ratio":"millisecond"},window.Sentry?.getCurrentScope().setMeasurement(t.name,t.value,t.name==="CLS"?"ratio":"millisecond")},Ho=t=>{HB(t),qB(t)},$B=()=>{jB(Ho),LB(Ho),GE(Ho),BB(Ho),zB(Ho),console.log("[Web Vitals] Performance monitoring initialized")};v2({dsn:"https://30c87b24943cef5dc27e660cf0a960d9@o4510359033085952.ingest.de.sentry.io/4510359035117648",integrations:[p2(),WL({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:"production",sendDefaultPii:!1,enabled:!0,ignoreErrors:["ResizeObserver loop limit exceeded","Non-Error promise rejection captured","Network request failed"]});Pp();$B();const PB=new p1({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}}});RB();NB();Y1.createRoot(document.getElementById("root")).render(g.jsx(J.StrictMode,{children:g.jsx(CB,{children:g.jsx(m1,{client:PB,children:g.jsx(v1,{children:g.jsx(k2,{children:g.jsx(AB,{})})})})})}));export{C2 as L,QB as a,iB as b,WB as c,KB as d,XB as e,JB as f,YB as g,aB as m,yn as s,Zm as u};
