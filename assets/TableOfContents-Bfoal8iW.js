import{j as n}from"./vendor-markdown-BC8sZGMk.js";import{r as a}from"./vendor-react-BDu5rya1.js";function w({content:m}){const d=m??"",[l,u]=a.useState([]),[x,f]=a.useState("");a.useEffect(()=>{const e=/^(#{2,3})\s+(.+)$/gm,s=[],t=new Set;let o;const p=i=>{const c=i.toLowerCase().replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-");let r=c,h=1;for(;t.has(r);)r=`${c}-${h}`,h++;return t.add(r),r};for(;(o=e.exec(d))!==null;){const i=o[1].length,c=o[2].trim(),r=p(c);s.push({id:r,text:c,level:i})}u(s)},[d]),a.useEffect(()=>{const e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&f(o.target.id)})},{rootMargin:"-80px 0px -80% 0px"});return document.querySelectorAll("h2, h3").forEach(t=>{t.id&&e.observe(t)}),()=>e.disconnect()},[l]);const b=e=>{const s=document.getElementById(e);s&&(s.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-100,behavior:"smooth"})},100))};return l.length===0?null:n.jsxs("div",{className:"sticky top-24 bg-white rounded-lg shadow-md p-4 max-h-[calc(100vh-8rem)] overflow-y-auto border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-[var(--brand-dark)] mb-3",children:"Table of Contents"}),n.jsx("nav",{children:n.jsx("ul",{className:"space-y-2",children:l.map(e=>n.jsx("li",{className:e.level===3?"ml-4":"",children:n.jsx("button",{onClick:()=>b(e.id),className:`text-left w-full text-sm hover:text-[var(--brand-primary)] transition-colors ${x===e.id?"text-[var(--brand-primary)] font-semibold":"text-[var(--brand-dark)] opacity-70"}`,children:e.text})},e.id))})})]})}export{w as T};
